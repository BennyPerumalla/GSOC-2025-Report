var DN=Object.defineProperty;var fA=s=>{throw TypeError(s)};var ON=(s,e,t)=>e in s?DN(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var me=(s,e,t)=>ON(s,typeof e!="symbol"?e+"":e,t),fb=(s,e,t)=>e.has(s)||fA("Cannot "+t);var u=(s,e,t)=>(fb(s,e,"read from private field"),t?t.call(s):e.get(s)),k=(s,e,t)=>e.has(s)?fA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),A=(s,e,t,n)=>(fb(s,e,"write to private field"),n?n.call(s,t):e.set(s,t),t),N=(s,e,t)=>(fb(s,e,"access private method"),t);var Sn=(s,e,t,n)=>({set _(r){A(s,e,r,t)},get _(){return u(s,e,n)}});function FN(s,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in s)){const o=Object.getOwnPropertyDescriptor(n,r);o&&Object.defineProperty(s,r,o.get?o:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function bu(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var pb={exports:{}},Sf={},gb={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pA;function jN(){if(pA)return Qe;pA=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(U){return U===null||typeof U!="object"?null:(U=g&&U[g]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function E(U,ne,le){this.props=U,this.context=ne,this.refs=b,this.updater=le||w}E.prototype.isReactComponent={},E.prototype.setState=function(U,ne){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ne,"setState")},E.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function T(){}T.prototype=E.prototype;function I(U,ne,le){this.props=U,this.context=ne,this.refs=b,this.updater=le||w}var L=I.prototype=new T;L.constructor=I,S(L,E.prototype),L.isPureReactComponent=!0;var D=Array.isArray,F=Object.prototype.hasOwnProperty,B={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function V(U,ne,le){var he,ve={},Se=null,oe=null;if(ne!=null)for(he in ne.ref!==void 0&&(oe=ne.ref),ne.key!==void 0&&(Se=""+ne.key),ne)F.call(ne,he)&&!$.hasOwnProperty(he)&&(ve[he]=ne[he]);var ye=arguments.length-2;if(ye===1)ve.children=le;else if(1<ye){for(var Ie=Array(ye),Ee=0;Ee<ye;Ee++)Ie[Ee]=arguments[Ee+2];ve.children=Ie}if(U&&U.defaultProps)for(he in ye=U.defaultProps,ye)ve[he]===void 0&&(ve[he]=ye[he]);return{$$typeof:s,type:U,key:Se,ref:oe,props:ve,_owner:B.current}}function q(U,ne){return{$$typeof:s,type:U.type,key:ne,ref:U.ref,props:U.props,_owner:U._owner}}function te(U){return typeof U=="object"&&U!==null&&U.$$typeof===s}function re(U){var ne={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(le){return ne[le]})}var be=/\/+/g;function pe(U,ne){return typeof U=="object"&&U!==null&&U.key!=null?re(""+U.key):ne.toString(36)}function ae(U,ne,le,he,ve){var Se=typeof U;(Se==="undefined"||Se==="boolean")&&(U=null);var oe=!1;if(U===null)oe=!0;else switch(Se){case"string":case"number":oe=!0;break;case"object":switch(U.$$typeof){case s:case e:oe=!0}}if(oe)return oe=U,ve=ve(oe),U=he===""?"."+pe(oe,0):he,D(ve)?(le="",U!=null&&(le=U.replace(be,"$&/")+"/"),ae(ve,ne,le,"",function(Ee){return Ee})):ve!=null&&(te(ve)&&(ve=q(ve,le+(!ve.key||oe&&oe.key===ve.key?"":(""+ve.key).replace(be,"$&/")+"/")+U)),ne.push(ve)),1;if(oe=0,he=he===""?".":he+":",D(U))for(var ye=0;ye<U.length;ye++){Se=U[ye];var Ie=he+pe(Se,ye);oe+=ae(Se,ne,le,Ie,ve)}else if(Ie=y(U),typeof Ie=="function")for(U=Ie.call(U),ye=0;!(Se=U.next()).done;)Se=Se.value,Ie=he+pe(Se,ye++),oe+=ae(Se,ne,le,Ie,ve);else if(Se==="object")throw ne=String(U),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return oe}function _e(U,ne,le){if(U==null)return U;var he=[],ve=0;return ae(U,he,"","",function(Se){return ne.call(le,Se,ve++)}),he}function Y(U){if(U._status===-1){var ne=U._result;ne=ne(),ne.then(function(le){(U._status===0||U._status===-1)&&(U._status=1,U._result=le)},function(le){(U._status===0||U._status===-1)&&(U._status=2,U._result=le)}),U._status===-1&&(U._status=0,U._result=ne)}if(U._status===1)return U._result.default;throw U._result}var J={current:null},Q={transition:null},ue={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:Q,ReactCurrentOwner:B};function ce(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:_e,forEach:function(U,ne,le){_e(U,function(){ne.apply(this,arguments)},le)},count:function(U){var ne=0;return _e(U,function(){ne++}),ne},toArray:function(U){return _e(U,function(ne){return ne})||[]},only:function(U){if(!te(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Qe.Component=E,Qe.Fragment=t,Qe.Profiler=r,Qe.PureComponent=I,Qe.StrictMode=n,Qe.Suspense=d,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Qe.act=ce,Qe.cloneElement=function(U,ne,le){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var he=S({},U.props),ve=U.key,Se=U.ref,oe=U._owner;if(ne!=null){if(ne.ref!==void 0&&(Se=ne.ref,oe=B.current),ne.key!==void 0&&(ve=""+ne.key),U.type&&U.type.defaultProps)var ye=U.type.defaultProps;for(Ie in ne)F.call(ne,Ie)&&!$.hasOwnProperty(Ie)&&(he[Ie]=ne[Ie]===void 0&&ye!==void 0?ye[Ie]:ne[Ie])}var Ie=arguments.length-2;if(Ie===1)he.children=le;else if(1<Ie){ye=Array(Ie);for(var Ee=0;Ee<Ie;Ee++)ye[Ee]=arguments[Ee+2];he.children=ye}return{$$typeof:s,type:U.type,key:ve,ref:Se,props:he,_owner:oe}},Qe.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:o,_context:U},U.Consumer=U},Qe.createElement=V,Qe.createFactory=function(U){var ne=V.bind(null,U);return ne.type=U,ne},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(U){return{$$typeof:c,render:U}},Qe.isValidElement=te,Qe.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:Y}},Qe.memo=function(U,ne){return{$$typeof:f,type:U,compare:ne===void 0?null:ne}},Qe.startTransition=function(U){var ne=Q.transition;Q.transition={};try{U()}finally{Q.transition=ne}},Qe.unstable_act=ce,Qe.useCallback=function(U,ne){return J.current.useCallback(U,ne)},Qe.useContext=function(U){return J.current.useContext(U)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(U){return J.current.useDeferredValue(U)},Qe.useEffect=function(U,ne){return J.current.useEffect(U,ne)},Qe.useId=function(){return J.current.useId()},Qe.useImperativeHandle=function(U,ne,le){return J.current.useImperativeHandle(U,ne,le)},Qe.useInsertionEffect=function(U,ne){return J.current.useInsertionEffect(U,ne)},Qe.useLayoutEffect=function(U,ne){return J.current.useLayoutEffect(U,ne)},Qe.useMemo=function(U,ne){return J.current.useMemo(U,ne)},Qe.useReducer=function(U,ne,le){return J.current.useReducer(U,ne,le)},Qe.useRef=function(U){return J.current.useRef(U)},Qe.useState=function(U){return J.current.useState(U)},Qe.useSyncExternalStore=function(U,ne,le){return J.current.useSyncExternalStore(U,ne,le)},Qe.useTransition=function(){return J.current.useTransition()},Qe.version="18.3.1",Qe}var gA;function e0(){return gA||(gA=1,gb.exports=jN()),gb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mA;function BN(){if(mA)return Sf;mA=1;var s=e0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var p,g={},y=null,w=null;f!==void 0&&(y=""+f),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(w=d.ref);for(p in d)n.call(d,p)&&!o.hasOwnProperty(p)&&(g[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:e,type:c,key:y,ref:w,props:g,_owner:r.current}}return Sf.Fragment=t,Sf.jsx=l,Sf.jsxs=l,Sf}var yA;function $N(){return yA||(yA=1,pb.exports=BN()),pb.exports}var P=$N(),fy={},mb={exports:{}},Rr={},yb={exports:{}},vb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vA;function zN(){return vA||(vA=1,(function(s){function e(Q,ue){var ce=Q.length;Q.push(ue);e:for(;0<ce;){var U=ce-1>>>1,ne=Q[U];if(0<r(ne,ue))Q[U]=ue,Q[ce]=ne,ce=U;else break e}}function t(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ue=Q[0],ce=Q.pop();if(ce!==ue){Q[0]=ce;e:for(var U=0,ne=Q.length,le=ne>>>1;U<le;){var he=2*(U+1)-1,ve=Q[he],Se=he+1,oe=Q[Se];if(0>r(ve,ce))Se<ne&&0>r(oe,ve)?(Q[U]=oe,Q[Se]=ce,U=Se):(Q[U]=ve,Q[he]=ce,U=he);else if(Se<ne&&0>r(oe,ce))Q[U]=oe,Q[Se]=ce,U=Se;else break e}}return ue}function r(Q,ue){var ce=Q.sortIndex-ue.sortIndex;return ce!==0?ce:Q.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();s.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,g=null,y=3,w=!1,S=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(Q){for(var ue=t(f);ue!==null;){if(ue.callback===null)n(f);else if(ue.startTime<=Q)n(f),ue.sortIndex=ue.expirationTime,e(d,ue);else break;ue=t(f)}}function D(Q){if(b=!1,L(Q),!S)if(t(d)!==null)S=!0,Y(F);else{var ue=t(f);ue!==null&&J(D,ue.startTime-Q)}}function F(Q,ue){S=!1,b&&(b=!1,T(V),V=-1),w=!0;var ce=y;try{for(L(ue),g=t(d);g!==null&&(!(g.expirationTime>ue)||Q&&!re());){var U=g.callback;if(typeof U=="function"){g.callback=null,y=g.priorityLevel;var ne=U(g.expirationTime<=ue);ue=s.unstable_now(),typeof ne=="function"?g.callback=ne:g===t(d)&&n(d),L(ue)}else n(d);g=t(d)}if(g!==null)var le=!0;else{var he=t(f);he!==null&&J(D,he.startTime-ue),le=!1}return le}finally{g=null,y=ce,w=!1}}var B=!1,$=null,V=-1,q=5,te=-1;function re(){return!(s.unstable_now()-te<q)}function be(){if($!==null){var Q=s.unstable_now();te=Q;var ue=!0;try{ue=$(!0,Q)}finally{ue?pe():(B=!1,$=null)}}else B=!1}var pe;if(typeof I=="function")pe=function(){I(be)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,_e=ae.port2;ae.port1.onmessage=be,pe=function(){_e.postMessage(null)}}else pe=function(){E(be,0)};function Y(Q){$=Q,B||(B=!0,pe())}function J(Q,ue){V=E(function(){Q(s.unstable_now())},ue)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_continueExecution=function(){S||w||(S=!0,Y(F))},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return y},s.unstable_getFirstCallbackNode=function(){return t(d)},s.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var ue=3;break;default:ue=y}var ce=y;y=ue;try{return Q()}finally{y=ce}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Q,ue){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ce=y;y=Q;try{return ue()}finally{y=ce}},s.unstable_scheduleCallback=function(Q,ue,ce){var U=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?U+ce:U):ce=U,Q){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ce+ne,Q={id:p++,callback:ue,priorityLevel:Q,startTime:ce,expirationTime:ne,sortIndex:-1},ce>U?(Q.sortIndex=ce,e(f,Q),t(d)===null&&Q===t(f)&&(b?(T(V),V=-1):b=!0,J(D,ce-U))):(Q.sortIndex=ne,e(d,Q),S||w||(S=!0,Y(F))),Q},s.unstable_shouldYield=re,s.unstable_wrapCallback=function(Q){var ue=y;return function(){var ce=y;y=ue;try{return Q.apply(this,arguments)}finally{y=ce}}}})(vb)),vb}var wA;function HN(){return wA||(wA=1,yb.exports=zN()),yb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bA;function UN(){if(bA)return Rr;bA=1;var s=e0(),e=HN();function t(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,r={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(r[i]=a,i=0;i<a.length;i++)n.add(a[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(i){return d.call(g,i)?!0:d.call(p,i)?!1:f.test(i)?g[i]=!0:(p[i]=!0,!1)}function w(i,a,h,m){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:h!==null?!h.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,a,h,m){if(a===null||typeof a>"u"||w(i,a,h,m))return!0;if(m)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(i,a,h,m,v,x,M){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=v,this.mustUseProperty=h,this.propertyName=i,this.type=a,this.sanitizeURL=x,this.removeEmptyString=M}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){E[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];E[a]=new b(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){E[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){E[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){E[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){E[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){E[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){E[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){E[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function I(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(T,I);E[a]=new b(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(T,I);E[a]=new b(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(T,I);E[a]=new b(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){E[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),E.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){E[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function L(i,a,h,m){var v=E.hasOwnProperty(a)?E[a]:null;(v!==null?v.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,h,v,m)&&(h=null),m||v===null?y(a)&&(h===null?i.removeAttribute(a):i.setAttribute(a,""+h)):v.mustUseProperty?i[v.propertyName]=h===null?v.type===3?!1:"":h:(a=v.attributeName,m=v.attributeNamespace,h===null?i.removeAttribute(a):(v=v.type,h=v===3||v===4&&h===!0?"":""+h,m?i.setAttributeNS(m,a,h):i.setAttribute(a,h))))}var D=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),B=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),re=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ue(i){return i===null||typeof i!="object"?null:(i=Q&&i[Q]||i["@@iterator"],typeof i=="function"?i:null)}var ce=Object.assign,U;function ne(i){if(U===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);U=a&&a[1]||""}return`
`+U+i}var le=!1;function he(i,a){if(!i||le)return"";le=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var m=ee}Reflect.construct(i,[],a)}else{try{a.call()}catch(ee){m=ee}i.call(a.prototype)}else{try{throw Error()}catch(ee){m=ee}i()}}catch(ee){if(ee&&m&&typeof ee.stack=="string"){for(var v=ee.stack.split(`
`),x=m.stack.split(`
`),M=v.length-1,z=x.length-1;1<=M&&0<=z&&v[M]!==x[z];)z--;for(;1<=M&&0<=z;M--,z--)if(v[M]!==x[z]){if(M!==1||z!==1)do if(M--,z--,0>z||v[M]!==x[z]){var H=`
`+v[M].replace(" at new "," at ");return i.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",i.displayName)),H}while(1<=M&&0<=z);break}}}finally{le=!1,Error.prepareStackTrace=h}return(i=i?i.displayName||i.name:"")?ne(i):""}function ve(i){switch(i.tag){case 5:return ne(i.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return i=he(i.type,!1),i;case 11:return i=he(i.type.render,!1),i;case 1:return i=he(i.type,!0),i;default:return""}}function Se(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case $:return"Fragment";case B:return"Portal";case q:return"Profiler";case V:return"StrictMode";case pe:return"Suspense";case ae:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case re:return(i.displayName||"Context")+".Consumer";case te:return(i._context.displayName||"Context")+".Provider";case be:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case _e:return a=i.displayName||null,a!==null?a:Se(i.type)||"Memo";case Y:a=i._payload,i=i._init;try{return Se(i(a))}catch{}}return null}function oe(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(a);case 8:return a===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ye(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ie(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ee(i){var a=Ie(i)?"checked":"value",h=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),m=""+i[a];if(!i.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,x=h.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return v.call(this)},set:function(M){m=""+M,x.call(this,M)}}),Object.defineProperty(i,a,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(M){m=""+M},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Oe(i){i._valueTracker||(i._valueTracker=Ee(i))}function je(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var h=a.getValue(),m="";return i&&(m=Ie(i)?i.checked?"true":"false":i.value),i=m,i!==h?(a.setValue(i),!0):!1}function Fe(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ue(i,a){var h=a.checked;return ce({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??i._wrapperState.initialChecked})}function ot(i,a){var h=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;h=ye(a.value!=null?a.value:h),i._wrapperState={initialChecked:m,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ze(i,a){a=a.checked,a!=null&&L(i,"checked",a,!1)}function vt(i,a){Ze(i,a);var h=ye(a.value),m=a.type;if(h!=null)m==="number"?(h===0&&i.value===""||i.value!=h)&&(i.value=""+h):i.value!==""+h&&(i.value=""+h);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?kt(i,a.type,h):a.hasOwnProperty("defaultValue")&&kt(i,a.type,ye(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function ar(i,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,h||a===i.value||(i.value=a),i.defaultValue=a}h=i.name,h!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,h!==""&&(i.name=h)}function kt(i,a,h){(a!=="number"||Fe(i.ownerDocument)!==i)&&(h==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+h&&(i.defaultValue=""+h))}var jr=Array.isArray;function lr(i,a,h,m){if(i=i.options,a){a={};for(var v=0;v<h.length;v++)a["$"+h[v]]=!0;for(h=0;h<i.length;h++)v=a.hasOwnProperty("$"+i[h].value),i[h].selected!==v&&(i[h].selected=v),v&&m&&(i[h].defaultSelected=!0)}else{for(h=""+ye(h),a=null,v=0;v<i.length;v++){if(i[v].value===h){i[v].selected=!0,m&&(i[v].defaultSelected=!0);return}a!==null||i[v].disabled||(a=i[v])}a!==null&&(a.selected=!0)}}function Xt(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ce({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Sr(i,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(t(92));if(jr(h)){if(1<h.length)throw Error(t(93));h=h[0]}a=h}a==null&&(a=""),h=a}i._wrapperState={initialValue:ye(h)}}function Di(i,a){var h=ye(a.value),m=ye(a.defaultValue);h!=null&&(h=""+h,h!==i.value&&(i.value=h),a.defaultValue==null&&i.defaultValue!==h&&(i.defaultValue=h)),m!=null&&(i.defaultValue=""+m)}function Dn(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function Br(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yn(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?Br(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var jt,On=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,m,v){MSApp.execUnsafeLocalFunction(function(){return i(a,h,m,v)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(jt=jt||document.createElement("div"),jt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=jt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function O(i,a){if(a){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=a;return}}i.textContent=a}var _={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C=["Webkit","ms","Moz","O"];Object.keys(_).forEach(function(i){C.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),_[a]=_[i]})});function j(i,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||_.hasOwnProperty(i)&&_[i]?(""+a).trim():a+"px"}function G(i,a){i=i.style;for(var h in a)if(a.hasOwnProperty(h)){var m=h.indexOf("--")===0,v=j(h,a[h],m);h==="float"&&(h="cssFloat"),m?i.setProperty(h,v):i[h]=v}}var Z=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ie(i,a){if(a){if(Z[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function qe(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ft=null;function et(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var wt=null,rt=null,to=null;function zh(i){if(i=lf(i)){if(typeof wt!="function")throw Error(t(280));var a=i.stateNode;a&&(a=Pm(a),wt(i.stateNode,i.type,a))}}function We(i){rt?to?to.push(i):to=[i]:rt=i}function Kt(){if(rt){var i=rt,a=to;if(to=rt=null,zh(i),a)for(i=0;i<a.length;i++)zh(a[i])}}function hn(i,a){return i(a)}function Xn(){}var sa=!1;function on(i,a,h){if(sa)return i(a,h);sa=!0;try{return hn(i,a,h)}finally{sa=!1,(rt!==null||to!==null)&&(Xn(),Kt())}}function wn(i,a){var h=i.stateNode;if(h===null)return null;var m=Pm(h);if(m===null)return null;h=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(t(231,a,typeof h));return h}var oa=!1;if(c)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){oa=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{oa=!1}function $r(i,a,h,m,v,x,M,z,H){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(h,ee)}catch(fe){this.onError(fe)}}var aa=!1,fi=null,Hh=!1,L0=null,H2={onError:function(i){aa=!0,fi=i}};function U2(i,a,h,m,v,x,M,z,H){aa=!1,fi=null,$r.apply(H2,arguments)}function V2(i,a,h,m,v,x,M,z,H){if(U2.apply(this,arguments),aa){if(aa){var ee=fi;aa=!1,fi=null}else throw Error(t(198));Hh||(Hh=!0,L0=ee)}}function Ml(i){var a=i,h=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(h=a.return),i=a.return;while(i)}return a.tag===3?h:null}function O1(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function F1(i){if(Ml(i)!==i)throw Error(t(188))}function W2(i){var a=i.alternate;if(!a){if(a=Ml(i),a===null)throw Error(t(188));return a!==i?null:i}for(var h=i,m=a;;){var v=h.return;if(v===null)break;var x=v.alternate;if(x===null){if(m=v.return,m!==null){h=m;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===h)return F1(v),i;if(x===m)return F1(v),a;x=x.sibling}throw Error(t(188))}if(h.return!==m.return)h=v,m=x;else{for(var M=!1,z=v.child;z;){if(z===h){M=!0,h=v,m=x;break}if(z===m){M=!0,m=v,h=x;break}z=z.sibling}if(!M){for(z=x.child;z;){if(z===h){M=!0,h=x,m=v;break}if(z===m){M=!0,m=x,h=v;break}z=z.sibling}if(!M)throw Error(t(189))}}if(h.alternate!==m)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?i:a}function j1(i){return i=W2(i),i!==null?B1(i):null}function B1(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=B1(i);if(a!==null)return a;i=i.sibling}return null}var $1=e.unstable_scheduleCallback,z1=e.unstable_cancelCallback,G2=e.unstable_shouldYield,q2=e.unstable_requestPaint,Qt=e.unstable_now,Y2=e.unstable_getCurrentPriorityLevel,N0=e.unstable_ImmediatePriority,H1=e.unstable_UserBlockingPriority,lm=e.unstable_NormalPriority,X2=e.unstable_LowPriority,U1=e.unstable_IdlePriority,cm=null,gs=null;function K2(i){if(gs&&typeof gs.onCommitFiberRoot=="function")try{gs.onCommitFiberRoot(cm,i,void 0,(i.current.flags&128)===128)}catch{}}var Oi=Math.clz32?Math.clz32:Z2,Q2=Math.log,J2=Math.LN2;function Z2(i){return i>>>=0,i===0?32:31-(Q2(i)/J2|0)|0}var um=64,dm=4194304;function Uh(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function hm(i,a){var h=i.pendingLanes;if(h===0)return 0;var m=0,v=i.suspendedLanes,x=i.pingedLanes,M=h&268435455;if(M!==0){var z=M&~v;z!==0?m=Uh(z):(x&=M,x!==0&&(m=Uh(x)))}else M=h&~v,M!==0?m=Uh(M):x!==0&&(m=Uh(x));if(m===0)return 0;if(a!==0&&a!==m&&(a&v)===0&&(v=m&-m,x=a&-a,v>=x||v===16&&(x&4194240)!==0))return a;if((m&4)!==0&&(m|=h&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=m;0<a;)h=31-Oi(a),v=1<<h,m|=i[h],a&=~v;return m}function eL(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tL(i,a){for(var h=i.suspendedLanes,m=i.pingedLanes,v=i.expirationTimes,x=i.pendingLanes;0<x;){var M=31-Oi(x),z=1<<M,H=v[M];H===-1?((z&h)===0||(z&m)!==0)&&(v[M]=eL(z,a)):H<=a&&(i.expiredLanes|=z),x&=~z}}function M0(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function V1(){var i=um;return um<<=1,(um&4194240)===0&&(um=64),i}function D0(i){for(var a=[],h=0;31>h;h++)a.push(i);return a}function Vh(i,a,h){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Oi(a),i[a]=h}function nL(i,a){var h=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<h;){var v=31-Oi(h),x=1<<v;a[v]=0,m[v]=-1,i[v]=-1,h&=~x}}function O0(i,a){var h=i.entangledLanes|=a;for(i=i.entanglements;h;){var m=31-Oi(h),v=1<<m;v&a|i[m]&a&&(i[m]|=a),h&=~v}}var mt=0;function W1(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var G1,F0,q1,Y1,X1,j0=!1,fm=[],la=null,ca=null,ua=null,Wh=new Map,Gh=new Map,da=[],rL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function K1(i,a){switch(i){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":Wh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gh.delete(a.pointerId)}}function qh(i,a,h,m,v,x){return i===null||i.nativeEvent!==x?(i={blockedOn:a,domEventName:h,eventSystemFlags:m,nativeEvent:x,targetContainers:[v]},a!==null&&(a=lf(a),a!==null&&F0(a)),i):(i.eventSystemFlags|=m,a=i.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),i)}function iL(i,a,h,m,v){switch(a){case"focusin":return la=qh(la,i,a,h,m,v),!0;case"dragenter":return ca=qh(ca,i,a,h,m,v),!0;case"mouseover":return ua=qh(ua,i,a,h,m,v),!0;case"pointerover":var x=v.pointerId;return Wh.set(x,qh(Wh.get(x)||null,i,a,h,m,v)),!0;case"gotpointercapture":return x=v.pointerId,Gh.set(x,qh(Gh.get(x)||null,i,a,h,m,v)),!0}return!1}function Q1(i){var a=Dl(i.target);if(a!==null){var h=Ml(a);if(h!==null){if(a=h.tag,a===13){if(a=O1(h),a!==null){i.blockedOn=a,X1(i.priority,function(){q1(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function pm(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var h=$0(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(h===null){h=i.nativeEvent;var m=new h.constructor(h.type,h);ft=m,h.target.dispatchEvent(m),ft=null}else return a=lf(h),a!==null&&F0(a),i.blockedOn=h,!1;a.shift()}return!0}function J1(i,a,h){pm(i)&&h.delete(a)}function sL(){j0=!1,la!==null&&pm(la)&&(la=null),ca!==null&&pm(ca)&&(ca=null),ua!==null&&pm(ua)&&(ua=null),Wh.forEach(J1),Gh.forEach(J1)}function Yh(i,a){i.blockedOn===a&&(i.blockedOn=null,j0||(j0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sL)))}function Xh(i){function a(v){return Yh(v,i)}if(0<fm.length){Yh(fm[0],i);for(var h=1;h<fm.length;h++){var m=fm[h];m.blockedOn===i&&(m.blockedOn=null)}}for(la!==null&&Yh(la,i),ca!==null&&Yh(ca,i),ua!==null&&Yh(ua,i),Wh.forEach(a),Gh.forEach(a),h=0;h<da.length;h++)m=da[h],m.blockedOn===i&&(m.blockedOn=null);for(;0<da.length&&(h=da[0],h.blockedOn===null);)Q1(h),h.blockedOn===null&&da.shift()}var Eu=D.ReactCurrentBatchConfig,gm=!0;function oL(i,a,h,m){var v=mt,x=Eu.transition;Eu.transition=null;try{mt=1,B0(i,a,h,m)}finally{mt=v,Eu.transition=x}}function aL(i,a,h,m){var v=mt,x=Eu.transition;Eu.transition=null;try{mt=4,B0(i,a,h,m)}finally{mt=v,Eu.transition=x}}function B0(i,a,h,m){if(gm){var v=$0(i,a,h,m);if(v===null)rw(i,a,m,mm,h),K1(i,m);else if(iL(v,i,a,h,m))m.stopPropagation();else if(K1(i,m),a&4&&-1<rL.indexOf(i)){for(;v!==null;){var x=lf(v);if(x!==null&&G1(x),x=$0(i,a,h,m),x===null&&rw(i,a,m,mm,h),x===v)break;v=x}v!==null&&m.stopPropagation()}else rw(i,a,m,null,h)}}var mm=null;function $0(i,a,h,m){if(mm=null,i=et(m),i=Dl(i),i!==null)if(a=Ml(i),a===null)i=null;else if(h=a.tag,h===13){if(i=O1(a),i!==null)return i;i=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return mm=i,null}function Z1(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y2()){case N0:return 1;case H1:return 4;case lm:case X2:return 16;case U1:return 536870912;default:return 16}default:return 16}}var ha=null,z0=null,ym=null;function eS(){if(ym)return ym;var i,a=z0,h=a.length,m,v="value"in ha?ha.value:ha.textContent,x=v.length;for(i=0;i<h&&a[i]===v[i];i++);var M=h-i;for(m=1;m<=M&&a[h-m]===v[x-m];m++);return ym=v.slice(i,1<m?1-m:void 0)}function vm(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function wm(){return!0}function tS(){return!1}function zr(i){function a(h,m,v,x,M){this._reactName=h,this._targetInst=v,this.type=m,this.nativeEvent=x,this.target=M,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(h=i[z],this[z]=h?h(x):x[z]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?wm:tS,this.isPropagationStopped=tS,this}return ce(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=wm)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=wm)},persist:function(){},isPersistent:wm}),a}var Au={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},H0=zr(Au),Kh=ce({},Au,{view:0,detail:0}),lL=zr(Kh),U0,V0,Qh,bm=ce({},Kh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:G0,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Qh&&(Qh&&i.type==="mousemove"?(U0=i.screenX-Qh.screenX,V0=i.screenY-Qh.screenY):V0=U0=0,Qh=i),U0)},movementY:function(i){return"movementY"in i?i.movementY:V0}}),nS=zr(bm),cL=ce({},bm,{dataTransfer:0}),uL=zr(cL),dL=ce({},Kh,{relatedTarget:0}),W0=zr(dL),hL=ce({},Au,{animationName:0,elapsedTime:0,pseudoElement:0}),fL=zr(hL),pL=ce({},Au,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),gL=zr(pL),mL=ce({},Au,{data:0}),rS=zr(mL),yL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bL(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=wL[i])?!!a[i]:!1}function G0(){return bL}var xL=ce({},Kh,{key:function(i){if(i.key){var a=yL[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=vm(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?vL[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:G0,charCode:function(i){return i.type==="keypress"?vm(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?vm(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_L=zr(xL),SL=ce({},bm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iS=zr(SL),EL=ce({},Kh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:G0}),AL=zr(EL),CL=ce({},Au,{propertyName:0,elapsedTime:0,pseudoElement:0}),TL=zr(CL),PL=ce({},bm,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),RL=zr(PL),kL=[9,13,27,32],q0=c&&"CompositionEvent"in window,Jh=null;c&&"documentMode"in document&&(Jh=document.documentMode);var IL=c&&"TextEvent"in window&&!Jh,sS=c&&(!q0||Jh&&8<Jh&&11>=Jh),oS=" ",aS=!1;function lS(i,a){switch(i){case"keyup":return kL.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cS(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Cu=!1;function LL(i,a){switch(i){case"compositionend":return cS(a);case"keypress":return a.which!==32?null:(aS=!0,oS);case"textInput":return i=a.data,i===oS&&aS?null:i;default:return null}}function NL(i,a){if(Cu)return i==="compositionend"||!q0&&lS(i,a)?(i=eS(),ym=z0=ha=null,Cu=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return sS&&a.locale!=="ko"?null:a.data;default:return null}}var ML={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uS(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!ML[i.type]:a==="textarea"}function dS(i,a,h,m){We(m),a=Am(a,"onChange"),0<a.length&&(h=new H0("onChange","change",null,h,m),i.push({event:h,listeners:a}))}var Zh=null,ef=null;function DL(i){RS(i,0)}function xm(i){var a=Iu(i);if(je(a))return i}function OL(i,a){if(i==="change")return a}var hS=!1;if(c){var Y0;if(c){var X0="oninput"in document;if(!X0){var fS=document.createElement("div");fS.setAttribute("oninput","return;"),X0=typeof fS.oninput=="function"}Y0=X0}else Y0=!1;hS=Y0&&(!document.documentMode||9<document.documentMode)}function pS(){Zh&&(Zh.detachEvent("onpropertychange",gS),ef=Zh=null)}function gS(i){if(i.propertyName==="value"&&xm(ef)){var a=[];dS(a,ef,i,et(i)),on(DL,a)}}function FL(i,a,h){i==="focusin"?(pS(),Zh=a,ef=h,Zh.attachEvent("onpropertychange",gS)):i==="focusout"&&pS()}function jL(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return xm(ef)}function BL(i,a){if(i==="click")return xm(a)}function $L(i,a){if(i==="input"||i==="change")return xm(a)}function zL(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Fi=typeof Object.is=="function"?Object.is:zL;function tf(i,a){if(Fi(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var h=Object.keys(i),m=Object.keys(a);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var v=h[m];if(!d.call(a,v)||!Fi(i[v],a[v]))return!1}return!0}function mS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function yS(i,a){var h=mS(i);i=0;for(var m;h;){if(h.nodeType===3){if(m=i+h.textContent.length,i<=a&&m>=a)return{node:h,offset:a-i};i=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=mS(h)}}function vS(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?vS(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function wS(){for(var i=window,a=Fe();a instanceof i.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)i=a.contentWindow;else break;a=Fe(i.document)}return a}function K0(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function HL(i){var a=wS(),h=i.focusedElem,m=i.selectionRange;if(a!==h&&h&&h.ownerDocument&&vS(h.ownerDocument.documentElement,h)){if(m!==null&&K0(h)){if(a=m.start,i=m.end,i===void 0&&(i=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(i,h.value.length);else if(i=(a=h.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var v=h.textContent.length,x=Math.min(m.start,v);m=m.end===void 0?x:Math.min(m.end,v),!i.extend&&x>m&&(v=m,m=x,x=v),v=yS(h,x);var M=yS(h,m);v&&M&&(i.rangeCount!==1||i.anchorNode!==v.node||i.anchorOffset!==v.offset||i.focusNode!==M.node||i.focusOffset!==M.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),i.removeAllRanges(),x>m?(i.addRange(a),i.extend(M.node,M.offset)):(a.setEnd(M.node,M.offset),i.addRange(a)))}}for(a=[],i=h;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)i=a[h],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var UL=c&&"documentMode"in document&&11>=document.documentMode,Tu=null,Q0=null,nf=null,J0=!1;function bS(i,a,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;J0||Tu==null||Tu!==Fe(m)||(m=Tu,"selectionStart"in m&&K0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),nf&&tf(nf,m)||(nf=m,m=Am(Q0,"onSelect"),0<m.length&&(a=new H0("onSelect","select",null,a,h),i.push({event:a,listeners:m}),a.target=Tu)))}function _m(i,a){var h={};return h[i.toLowerCase()]=a.toLowerCase(),h["Webkit"+i]="webkit"+a,h["Moz"+i]="moz"+a,h}var Pu={animationend:_m("Animation","AnimationEnd"),animationiteration:_m("Animation","AnimationIteration"),animationstart:_m("Animation","AnimationStart"),transitionend:_m("Transition","TransitionEnd")},Z0={},xS={};c&&(xS=document.createElement("div").style,"AnimationEvent"in window||(delete Pu.animationend.animation,delete Pu.animationiteration.animation,delete Pu.animationstart.animation),"TransitionEvent"in window||delete Pu.transitionend.transition);function Sm(i){if(Z0[i])return Z0[i];if(!Pu[i])return i;var a=Pu[i],h;for(h in a)if(a.hasOwnProperty(h)&&h in xS)return Z0[i]=a[h];return i}var _S=Sm("animationend"),SS=Sm("animationiteration"),ES=Sm("animationstart"),AS=Sm("transitionend"),CS=new Map,TS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fa(i,a){CS.set(i,a),o(a,[i])}for(var ew=0;ew<TS.length;ew++){var tw=TS[ew],VL=tw.toLowerCase(),WL=tw[0].toUpperCase()+tw.slice(1);fa(VL,"on"+WL)}fa(_S,"onAnimationEnd"),fa(SS,"onAnimationIteration"),fa(ES,"onAnimationStart"),fa("dblclick","onDoubleClick"),fa("focusin","onFocus"),fa("focusout","onBlur"),fa(AS,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GL=new Set("cancel close invalid load scroll toggle".split(" ").concat(rf));function PS(i,a,h){var m=i.type||"unknown-event";i.currentTarget=h,V2(m,a,void 0,i),i.currentTarget=null}function RS(i,a){a=(a&4)!==0;for(var h=0;h<i.length;h++){var m=i[h],v=m.event;m=m.listeners;e:{var x=void 0;if(a)for(var M=m.length-1;0<=M;M--){var z=m[M],H=z.instance,ee=z.currentTarget;if(z=z.listener,H!==x&&v.isPropagationStopped())break e;PS(v,z,ee),x=H}else for(M=0;M<m.length;M++){if(z=m[M],H=z.instance,ee=z.currentTarget,z=z.listener,H!==x&&v.isPropagationStopped())break e;PS(v,z,ee),x=H}}}if(Hh)throw i=L0,Hh=!1,L0=null,i}function Pt(i,a){var h=a[cw];h===void 0&&(h=a[cw]=new Set);var m=i+"__bubble";h.has(m)||(kS(a,i,2,!1),h.add(m))}function nw(i,a,h){var m=0;a&&(m|=4),kS(h,i,m,a)}var Em="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[Em]){i[Em]=!0,n.forEach(function(h){h!=="selectionchange"&&(GL.has(h)||nw(h,!1,i),nw(h,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Em]||(a[Em]=!0,nw("selectionchange",!1,a))}}function kS(i,a,h,m){switch(Z1(a)){case 1:var v=oL;break;case 4:v=aL;break;default:v=B0}h=v.bind(null,a,h,i),v=void 0,!oa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),m?v!==void 0?i.addEventListener(a,h,{capture:!0,passive:v}):i.addEventListener(a,h,!0):v!==void 0?i.addEventListener(a,h,{passive:v}):i.addEventListener(a,h,!1)}function rw(i,a,h,m,v){var x=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var M=m.tag;if(M===3||M===4){var z=m.stateNode.containerInfo;if(z===v||z.nodeType===8&&z.parentNode===v)break;if(M===4)for(M=m.return;M!==null;){var H=M.tag;if((H===3||H===4)&&(H=M.stateNode.containerInfo,H===v||H.nodeType===8&&H.parentNode===v))return;M=M.return}for(;z!==null;){if(M=Dl(z),M===null)return;if(H=M.tag,H===5||H===6){m=x=M;continue e}z=z.parentNode}}m=m.return}on(function(){var ee=x,fe=et(h),ge=[];e:{var de=CS.get(i);if(de!==void 0){var Ae=H0,ke=i;switch(i){case"keypress":if(vm(h)===0)break e;case"keydown":case"keyup":Ae=_L;break;case"focusin":ke="focus",Ae=W0;break;case"focusout":ke="blur",Ae=W0;break;case"beforeblur":case"afterblur":Ae=W0;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=nS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=uL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=AL;break;case _S:case SS:case ES:Ae=fL;break;case AS:Ae=TL;break;case"scroll":Ae=lL;break;case"wheel":Ae=RL;break;case"copy":case"cut":case"paste":Ae=gL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=iS}var Le=(a&4)!==0,Jt=!Le&&i==="scroll",X=Le?de!==null?de+"Capture":null:de;Le=[];for(var W=ee,K;W!==null;){K=W;var we=K.stateNode;if(K.tag===5&&we!==null&&(K=we,X!==null&&(we=wn(W,X),we!=null&&Le.push(of(W,we,K)))),Jt)break;W=W.return}0<Le.length&&(de=new Ae(de,ke,null,h,fe),ge.push({event:de,listeners:Le}))}}if((a&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",Ae=i==="mouseout"||i==="pointerout",de&&h!==ft&&(ke=h.relatedTarget||h.fromElement)&&(Dl(ke)||ke[no]))break e;if((Ae||de)&&(de=fe.window===fe?fe:(de=fe.ownerDocument)?de.defaultView||de.parentWindow:window,Ae?(ke=h.relatedTarget||h.toElement,Ae=ee,ke=ke?Dl(ke):null,ke!==null&&(Jt=Ml(ke),ke!==Jt||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(Ae=null,ke=ee),Ae!==ke)){if(Le=nS,we="onMouseLeave",X="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(Le=iS,we="onPointerLeave",X="onPointerEnter",W="pointer"),Jt=Ae==null?de:Iu(Ae),K=ke==null?de:Iu(ke),de=new Le(we,W+"leave",Ae,h,fe),de.target=Jt,de.relatedTarget=K,we=null,Dl(fe)===ee&&(Le=new Le(X,W+"enter",ke,h,fe),Le.target=K,Le.relatedTarget=Jt,we=Le),Jt=we,Ae&&ke)t:{for(Le=Ae,X=ke,W=0,K=Le;K;K=Ru(K))W++;for(K=0,we=X;we;we=Ru(we))K++;for(;0<W-K;)Le=Ru(Le),W--;for(;0<K-W;)X=Ru(X),K--;for(;W--;){if(Le===X||X!==null&&Le===X.alternate)break t;Le=Ru(Le),X=Ru(X)}Le=null}else Le=null;Ae!==null&&IS(ge,de,Ae,Le,!1),ke!==null&&Jt!==null&&IS(ge,Jt,ke,Le,!0)}}e:{if(de=ee?Iu(ee):window,Ae=de.nodeName&&de.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&de.type==="file")var Ne=OL;else if(uS(de))if(hS)Ne=$L;else{Ne=jL;var Be=FL}else(Ae=de.nodeName)&&Ae.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Ne=BL);if(Ne&&(Ne=Ne(i,ee))){dS(ge,Ne,h,fe);break e}Be&&Be(i,de,ee),i==="focusout"&&(Be=de._wrapperState)&&Be.controlled&&de.type==="number"&&kt(de,"number",de.value)}switch(Be=ee?Iu(ee):window,i){case"focusin":(uS(Be)||Be.contentEditable==="true")&&(Tu=Be,Q0=ee,nf=null);break;case"focusout":nf=Q0=Tu=null;break;case"mousedown":J0=!0;break;case"contextmenu":case"mouseup":case"dragend":J0=!1,bS(ge,h,fe);break;case"selectionchange":if(UL)break;case"keydown":case"keyup":bS(ge,h,fe)}var $e;if(q0)e:{switch(i){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Cu?lS(i,h)&&(He="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(He="onCompositionStart");He&&(sS&&h.locale!=="ko"&&(Cu||He!=="onCompositionStart"?He==="onCompositionEnd"&&Cu&&($e=eS()):(ha=fe,z0="value"in ha?ha.value:ha.textContent,Cu=!0)),Be=Am(ee,He),0<Be.length&&(He=new rS(He,i,null,h,fe),ge.push({event:He,listeners:Be}),$e?He.data=$e:($e=cS(h),$e!==null&&(He.data=$e)))),($e=IL?LL(i,h):NL(i,h))&&(ee=Am(ee,"onBeforeInput"),0<ee.length&&(fe=new rS("onBeforeInput","beforeinput",null,h,fe),ge.push({event:fe,listeners:ee}),fe.data=$e))}RS(ge,a)})}function of(i,a,h){return{instance:i,listener:a,currentTarget:h}}function Am(i,a){for(var h=a+"Capture",m=[];i!==null;){var v=i,x=v.stateNode;v.tag===5&&x!==null&&(v=x,x=wn(i,h),x!=null&&m.unshift(of(i,x,v)),x=wn(i,a),x!=null&&m.push(of(i,x,v))),i=i.return}return m}function Ru(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function IS(i,a,h,m,v){for(var x=a._reactName,M=[];h!==null&&h!==m;){var z=h,H=z.alternate,ee=z.stateNode;if(H!==null&&H===m)break;z.tag===5&&ee!==null&&(z=ee,v?(H=wn(h,x),H!=null&&M.unshift(of(h,H,z))):v||(H=wn(h,x),H!=null&&M.push(of(h,H,z)))),h=h.return}M.length!==0&&i.push({event:a,listeners:M})}var qL=/\r\n?/g,YL=/\u0000|\uFFFD/g;function LS(i){return(typeof i=="string"?i:""+i).replace(qL,`
`).replace(YL,"")}function Cm(i,a,h){if(a=LS(a),LS(i)!==a&&h)throw Error(t(425))}function Tm(){}var iw=null,sw=null;function ow(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var aw=typeof setTimeout=="function"?setTimeout:void 0,XL=typeof clearTimeout=="function"?clearTimeout:void 0,NS=typeof Promise=="function"?Promise:void 0,KL=typeof queueMicrotask=="function"?queueMicrotask:typeof NS<"u"?function(i){return NS.resolve(null).then(i).catch(QL)}:aw;function QL(i){setTimeout(function(){throw i})}function lw(i,a){var h=a,m=0;do{var v=h.nextSibling;if(i.removeChild(h),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(m===0){i.removeChild(v),Xh(a);return}m--}else h!=="$"&&h!=="$?"&&h!=="$!"||m++;h=v}while(h);Xh(a)}function pa(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function MS(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return i;a--}else h==="/$"&&a++}i=i.previousSibling}return null}var ku=Math.random().toString(36).slice(2),ms="__reactFiber$"+ku,af="__reactProps$"+ku,no="__reactContainer$"+ku,cw="__reactEvents$"+ku,JL="__reactListeners$"+ku,ZL="__reactHandles$"+ku;function Dl(i){var a=i[ms];if(a)return a;for(var h=i.parentNode;h;){if(a=h[no]||h[ms]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(i=MS(i);i!==null;){if(h=i[ms])return h;i=MS(i)}return a}i=h,h=i.parentNode}return null}function lf(i){return i=i[ms]||i[no],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Iu(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Pm(i){return i[af]||null}var uw=[],Lu=-1;function ga(i){return{current:i}}function Rt(i){0>Lu||(i.current=uw[Lu],uw[Lu]=null,Lu--)}function At(i,a){Lu++,uw[Lu]=i.current,i.current=a}var ma={},Kn=ga(ma),Er=ga(!1),Ol=ma;function Nu(i,a){var h=i.type.contextTypes;if(!h)return ma;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var v={},x;for(x in h)v[x]=a[x];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=v),v}function Ar(i){return i=i.childContextTypes,i!=null}function Rm(){Rt(Er),Rt(Kn)}function DS(i,a,h){if(Kn.current!==ma)throw Error(t(168));At(Kn,a),At(Er,h)}function OS(i,a,h){var m=i.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return h;m=m.getChildContext();for(var v in m)if(!(v in a))throw Error(t(108,oe(i)||"Unknown",v));return ce({},h,m)}function km(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ma,Ol=Kn.current,At(Kn,i),At(Er,Er.current),!0}function FS(i,a,h){var m=i.stateNode;if(!m)throw Error(t(169));h?(i=OS(i,a,Ol),m.__reactInternalMemoizedMergedChildContext=i,Rt(Er),Rt(Kn),At(Kn,i)):Rt(Er),At(Er,h)}var ro=null,Im=!1,dw=!1;function jS(i){ro===null?ro=[i]:ro.push(i)}function eN(i){Im=!0,jS(i)}function ya(){if(!dw&&ro!==null){dw=!0;var i=0,a=mt;try{var h=ro;for(mt=1;i<h.length;i++){var m=h[i];do m=m(!0);while(m!==null)}ro=null,Im=!1}catch(v){throw ro!==null&&(ro=ro.slice(i+1)),$1(N0,ya),v}finally{mt=a,dw=!1}}return null}var Mu=[],Du=0,Lm=null,Nm=0,pi=[],gi=0,Fl=null,io=1,so="";function jl(i,a){Mu[Du++]=Nm,Mu[Du++]=Lm,Lm=i,Nm=a}function BS(i,a,h){pi[gi++]=io,pi[gi++]=so,pi[gi++]=Fl,Fl=i;var m=io;i=so;var v=32-Oi(m)-1;m&=~(1<<v),h+=1;var x=32-Oi(a)+v;if(30<x){var M=v-v%5;x=(m&(1<<M)-1).toString(32),m>>=M,v-=M,io=1<<32-Oi(a)+v|h<<v|m,so=x+i}else io=1<<x|h<<v|m,so=i}function hw(i){i.return!==null&&(jl(i,1),BS(i,1,0))}function fw(i){for(;i===Lm;)Lm=Mu[--Du],Mu[Du]=null,Nm=Mu[--Du],Mu[Du]=null;for(;i===Fl;)Fl=pi[--gi],pi[gi]=null,so=pi[--gi],pi[gi]=null,io=pi[--gi],pi[gi]=null}var Hr=null,Ur=null,It=!1,ji=null;function $S(i,a){var h=wi(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=i,a=i.deletions,a===null?(i.deletions=[h],i.flags|=16):a.push(h)}function zS(i,a){switch(i.tag){case 5:var h=i.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Hr=i,Ur=pa(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Hr=i,Ur=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=Fl!==null?{id:io,overflow:so}:null,i.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=wi(18,null,null,0),h.stateNode=a,h.return=i,i.child=h,Hr=i,Ur=null,!0):!1;default:return!1}}function pw(i){return(i.mode&1)!==0&&(i.flags&128)===0}function gw(i){if(It){var a=Ur;if(a){var h=a;if(!zS(i,a)){if(pw(i))throw Error(t(418));a=pa(h.nextSibling);var m=Hr;a&&zS(i,a)?$S(m,h):(i.flags=i.flags&-4097|2,It=!1,Hr=i)}}else{if(pw(i))throw Error(t(418));i.flags=i.flags&-4097|2,It=!1,Hr=i}}}function HS(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Hr=i}function Mm(i){if(i!==Hr)return!1;if(!It)return HS(i),It=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!ow(i.type,i.memoizedProps)),a&&(a=Ur)){if(pw(i))throw US(),Error(t(418));for(;a;)$S(i,a),a=pa(a.nextSibling)}if(HS(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"){if(a===0){Ur=pa(i.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}i=i.nextSibling}Ur=null}}else Ur=Hr?pa(i.stateNode.nextSibling):null;return!0}function US(){for(var i=Ur;i;)i=pa(i.nextSibling)}function Ou(){Ur=Hr=null,It=!1}function mw(i){ji===null?ji=[i]:ji.push(i)}var tN=D.ReactCurrentBatchConfig;function cf(i,a,h){if(i=h.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var m=h.stateNode}if(!m)throw Error(t(147,i));var v=m,x=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===x?a.ref:(a=function(M){var z=v.refs;M===null?delete z[x]:z[x]=M},a._stringRef=x,a)}if(typeof i!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,i))}return i}function Dm(i,a){throw i=Object.prototype.toString.call(a),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function VS(i){var a=i._init;return a(i._payload)}function WS(i){function a(X,W){if(i){var K=X.deletions;K===null?(X.deletions=[W],X.flags|=16):K.push(W)}}function h(X,W){if(!i)return null;for(;W!==null;)a(X,W),W=W.sibling;return null}function m(X,W){for(X=new Map;W!==null;)W.key!==null?X.set(W.key,W):X.set(W.index,W),W=W.sibling;return X}function v(X,W){return X=Aa(X,W),X.index=0,X.sibling=null,X}function x(X,W,K){return X.index=K,i?(K=X.alternate,K!==null?(K=K.index,K<W?(X.flags|=2,W):K):(X.flags|=2,W)):(X.flags|=1048576,W)}function M(X){return i&&X.alternate===null&&(X.flags|=2),X}function z(X,W,K,we){return W===null||W.tag!==6?(W=ab(K,X.mode,we),W.return=X,W):(W=v(W,K),W.return=X,W)}function H(X,W,K,we){var Ne=K.type;return Ne===$?fe(X,W,K.props.children,we,K.key):W!==null&&(W.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===Y&&VS(Ne)===W.type)?(we=v(W,K.props),we.ref=cf(X,W,K),we.return=X,we):(we=sy(K.type,K.key,K.props,null,X.mode,we),we.ref=cf(X,W,K),we.return=X,we)}function ee(X,W,K,we){return W===null||W.tag!==4||W.stateNode.containerInfo!==K.containerInfo||W.stateNode.implementation!==K.implementation?(W=lb(K,X.mode,we),W.return=X,W):(W=v(W,K.children||[]),W.return=X,W)}function fe(X,W,K,we,Ne){return W===null||W.tag!==7?(W=Gl(K,X.mode,we,Ne),W.return=X,W):(W=v(W,K),W.return=X,W)}function ge(X,W,K){if(typeof W=="string"&&W!==""||typeof W=="number")return W=ab(""+W,X.mode,K),W.return=X,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case F:return K=sy(W.type,W.key,W.props,null,X.mode,K),K.ref=cf(X,null,W),K.return=X,K;case B:return W=lb(W,X.mode,K),W.return=X,W;case Y:var we=W._init;return ge(X,we(W._payload),K)}if(jr(W)||ue(W))return W=Gl(W,X.mode,K,null),W.return=X,W;Dm(X,W)}return null}function de(X,W,K,we){var Ne=W!==null?W.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Ne!==null?null:z(X,W,""+K,we);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return K.key===Ne?H(X,W,K,we):null;case B:return K.key===Ne?ee(X,W,K,we):null;case Y:return Ne=K._init,de(X,W,Ne(K._payload),we)}if(jr(K)||ue(K))return Ne!==null?null:fe(X,W,K,we,null);Dm(X,K)}return null}function Ae(X,W,K,we,Ne){if(typeof we=="string"&&we!==""||typeof we=="number")return X=X.get(K)||null,z(W,X,""+we,Ne);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case F:return X=X.get(we.key===null?K:we.key)||null,H(W,X,we,Ne);case B:return X=X.get(we.key===null?K:we.key)||null,ee(W,X,we,Ne);case Y:var Be=we._init;return Ae(X,W,K,Be(we._payload),Ne)}if(jr(we)||ue(we))return X=X.get(K)||null,fe(W,X,we,Ne,null);Dm(W,we)}return null}function ke(X,W,K,we){for(var Ne=null,Be=null,$e=W,He=W=0,_n=null;$e!==null&&He<K.length;He++){$e.index>He?(_n=$e,$e=null):_n=$e.sibling;var dt=de(X,$e,K[He],we);if(dt===null){$e===null&&($e=_n);break}i&&$e&&dt.alternate===null&&a(X,$e),W=x(dt,W,He),Be===null?Ne=dt:Be.sibling=dt,Be=dt,$e=_n}if(He===K.length)return h(X,$e),It&&jl(X,He),Ne;if($e===null){for(;He<K.length;He++)$e=ge(X,K[He],we),$e!==null&&(W=x($e,W,He),Be===null?Ne=$e:Be.sibling=$e,Be=$e);return It&&jl(X,He),Ne}for($e=m(X,$e);He<K.length;He++)_n=Ae($e,X,He,K[He],we),_n!==null&&(i&&_n.alternate!==null&&$e.delete(_n.key===null?He:_n.key),W=x(_n,W,He),Be===null?Ne=_n:Be.sibling=_n,Be=_n);return i&&$e.forEach(function(Ca){return a(X,Ca)}),It&&jl(X,He),Ne}function Le(X,W,K,we){var Ne=ue(K);if(typeof Ne!="function")throw Error(t(150));if(K=Ne.call(K),K==null)throw Error(t(151));for(var Be=Ne=null,$e=W,He=W=0,_n=null,dt=K.next();$e!==null&&!dt.done;He++,dt=K.next()){$e.index>He?(_n=$e,$e=null):_n=$e.sibling;var Ca=de(X,$e,dt.value,we);if(Ca===null){$e===null&&($e=_n);break}i&&$e&&Ca.alternate===null&&a(X,$e),W=x(Ca,W,He),Be===null?Ne=Ca:Be.sibling=Ca,Be=Ca,$e=_n}if(dt.done)return h(X,$e),It&&jl(X,He),Ne;if($e===null){for(;!dt.done;He++,dt=K.next())dt=ge(X,dt.value,we),dt!==null&&(W=x(dt,W,He),Be===null?Ne=dt:Be.sibling=dt,Be=dt);return It&&jl(X,He),Ne}for($e=m(X,$e);!dt.done;He++,dt=K.next())dt=Ae($e,X,He,dt.value,we),dt!==null&&(i&&dt.alternate!==null&&$e.delete(dt.key===null?He:dt.key),W=x(dt,W,He),Be===null?Ne=dt:Be.sibling=dt,Be=dt);return i&&$e.forEach(function(MN){return a(X,MN)}),It&&jl(X,He),Ne}function Jt(X,W,K,we){if(typeof K=="object"&&K!==null&&K.type===$&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case F:e:{for(var Ne=K.key,Be=W;Be!==null;){if(Be.key===Ne){if(Ne=K.type,Ne===$){if(Be.tag===7){h(X,Be.sibling),W=v(Be,K.props.children),W.return=X,X=W;break e}}else if(Be.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===Y&&VS(Ne)===Be.type){h(X,Be.sibling),W=v(Be,K.props),W.ref=cf(X,Be,K),W.return=X,X=W;break e}h(X,Be);break}else a(X,Be);Be=Be.sibling}K.type===$?(W=Gl(K.props.children,X.mode,we,K.key),W.return=X,X=W):(we=sy(K.type,K.key,K.props,null,X.mode,we),we.ref=cf(X,W,K),we.return=X,X=we)}return M(X);case B:e:{for(Be=K.key;W!==null;){if(W.key===Be)if(W.tag===4&&W.stateNode.containerInfo===K.containerInfo&&W.stateNode.implementation===K.implementation){h(X,W.sibling),W=v(W,K.children||[]),W.return=X,X=W;break e}else{h(X,W);break}else a(X,W);W=W.sibling}W=lb(K,X.mode,we),W.return=X,X=W}return M(X);case Y:return Be=K._init,Jt(X,W,Be(K._payload),we)}if(jr(K))return ke(X,W,K,we);if(ue(K))return Le(X,W,K,we);Dm(X,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,W!==null&&W.tag===6?(h(X,W.sibling),W=v(W,K),W.return=X,X=W):(h(X,W),W=ab(K,X.mode,we),W.return=X,X=W),M(X)):h(X,W)}return Jt}var Fu=WS(!0),GS=WS(!1),Om=ga(null),Fm=null,ju=null,yw=null;function vw(){yw=ju=Fm=null}function ww(i){var a=Om.current;Rt(Om),i._currentValue=a}function bw(i,a,h){for(;i!==null;){var m=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),i===h)break;i=i.return}}function Bu(i,a){Fm=i,yw=ju=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(Cr=!0),i.firstContext=null)}function mi(i){var a=i._currentValue;if(yw!==i)if(i={context:i,memoizedValue:a,next:null},ju===null){if(Fm===null)throw Error(t(308));ju=i,Fm.dependencies={lanes:0,firstContext:i}}else ju=ju.next=i;return a}var Bl=null;function xw(i){Bl===null?Bl=[i]:Bl.push(i)}function qS(i,a,h,m){var v=a.interleaved;return v===null?(h.next=h,xw(a)):(h.next=v.next,v.next=h),a.interleaved=h,oo(i,m)}function oo(i,a){i.lanes|=a;var h=i.alternate;for(h!==null&&(h.lanes|=a),h=i,i=i.return;i!==null;)i.childLanes|=a,h=i.alternate,h!==null&&(h.childLanes|=a),h=i,i=i.return;return h.tag===3?h.stateNode:null}var va=!1;function _w(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YS(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ao(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function wa(i,a,h){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(at&2)!==0){var v=m.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),m.pending=a,oo(i,h)}return v=m.interleaved,v===null?(a.next=a,xw(m)):(a.next=v.next,v.next=a),m.interleaved=a,oo(i,h)}function jm(i,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var m=a.lanes;m&=i.pendingLanes,h|=m,a.lanes=h,O0(i,h)}}function XS(i,a){var h=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var v=null,x=null;if(h=h.firstBaseUpdate,h!==null){do{var M={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};x===null?v=x=M:x=x.next=M,h=h.next}while(h!==null);x===null?v=x=a:x=x.next=a}else v=x=a;h={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:m.shared,effects:m.effects},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=a:i.next=a,h.lastBaseUpdate=a}function Bm(i,a,h,m){var v=i.updateQueue;va=!1;var x=v.firstBaseUpdate,M=v.lastBaseUpdate,z=v.shared.pending;if(z!==null){v.shared.pending=null;var H=z,ee=H.next;H.next=null,M===null?x=ee:M.next=ee,M=H;var fe=i.alternate;fe!==null&&(fe=fe.updateQueue,z=fe.lastBaseUpdate,z!==M&&(z===null?fe.firstBaseUpdate=ee:z.next=ee,fe.lastBaseUpdate=H))}if(x!==null){var ge=v.baseState;M=0,fe=ee=H=null,z=x;do{var de=z.lane,Ae=z.eventTime;if((m&de)===de){fe!==null&&(fe=fe.next={eventTime:Ae,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var ke=i,Le=z;switch(de=a,Ae=h,Le.tag){case 1:if(ke=Le.payload,typeof ke=="function"){ge=ke.call(Ae,ge,de);break e}ge=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Le.payload,de=typeof ke=="function"?ke.call(Ae,ge,de):ke,de==null)break e;ge=ce({},ge,de);break e;case 2:va=!0}}z.callback!==null&&z.lane!==0&&(i.flags|=64,de=v.effects,de===null?v.effects=[z]:de.push(z))}else Ae={eventTime:Ae,lane:de,tag:z.tag,payload:z.payload,callback:z.callback,next:null},fe===null?(ee=fe=Ae,H=ge):fe=fe.next=Ae,M|=de;if(z=z.next,z===null){if(z=v.shared.pending,z===null)break;de=z,z=de.next,de.next=null,v.lastBaseUpdate=de,v.shared.pending=null}}while(!0);if(fe===null&&(H=ge),v.baseState=H,v.firstBaseUpdate=ee,v.lastBaseUpdate=fe,a=v.shared.interleaved,a!==null){v=a;do M|=v.lane,v=v.next;while(v!==a)}else x===null&&(v.shared.lanes=0);Hl|=M,i.lanes=M,i.memoizedState=ge}}function KS(i,a,h){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var m=i[a],v=m.callback;if(v!==null){if(m.callback=null,m=h,typeof v!="function")throw Error(t(191,v));v.call(m)}}}var uf={},ys=ga(uf),df=ga(uf),hf=ga(uf);function $l(i){if(i===uf)throw Error(t(174));return i}function Sw(i,a){switch(At(hf,a),At(df,i),At(ys,uf),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Yn(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=Yn(a,i)}Rt(ys),At(ys,a)}function $u(){Rt(ys),Rt(df),Rt(hf)}function QS(i){$l(hf.current);var a=$l(ys.current),h=Yn(a,i.type);a!==h&&(At(df,i),At(ys,h))}function Ew(i){df.current===i&&(Rt(ys),Rt(df))}var Bt=ga(0);function $m(i){for(var a=i;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Aw=[];function Cw(){for(var i=0;i<Aw.length;i++)Aw[i]._workInProgressVersionPrimary=null;Aw.length=0}var zm=D.ReactCurrentDispatcher,Tw=D.ReactCurrentBatchConfig,zl=0,$t=null,fn=null,bn=null,Hm=!1,ff=!1,pf=0,nN=0;function Qn(){throw Error(t(321))}function Pw(i,a){if(a===null)return!1;for(var h=0;h<a.length&&h<i.length;h++)if(!Fi(i[h],a[h]))return!1;return!0}function Rw(i,a,h,m,v,x){if(zl=x,$t=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,zm.current=i===null||i.memoizedState===null?oN:aN,i=h(m,v),ff){x=0;do{if(ff=!1,pf=0,25<=x)throw Error(t(301));x+=1,bn=fn=null,a.updateQueue=null,zm.current=lN,i=h(m,v)}while(ff)}if(zm.current=Wm,a=fn!==null&&fn.next!==null,zl=0,bn=fn=$t=null,Hm=!1,a)throw Error(t(300));return i}function kw(){var i=pf!==0;return pf=0,i}function vs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?$t.memoizedState=bn=i:bn=bn.next=i,bn}function yi(){if(fn===null){var i=$t.alternate;i=i!==null?i.memoizedState:null}else i=fn.next;var a=bn===null?$t.memoizedState:bn.next;if(a!==null)bn=a,fn=i;else{if(i===null)throw Error(t(310));fn=i,i={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},bn===null?$t.memoizedState=bn=i:bn=bn.next=i}return bn}function gf(i,a){return typeof a=="function"?a(i):a}function Iw(i){var a=yi(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var m=fn,v=m.baseQueue,x=h.pending;if(x!==null){if(v!==null){var M=v.next;v.next=x.next,x.next=M}m.baseQueue=v=x,h.pending=null}if(v!==null){x=v.next,m=m.baseState;var z=M=null,H=null,ee=x;do{var fe=ee.lane;if((zl&fe)===fe)H!==null&&(H=H.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),m=ee.hasEagerState?ee.eagerState:i(m,ee.action);else{var ge={lane:fe,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};H===null?(z=H=ge,M=m):H=H.next=ge,$t.lanes|=fe,Hl|=fe}ee=ee.next}while(ee!==null&&ee!==x);H===null?M=m:H.next=z,Fi(m,a.memoizedState)||(Cr=!0),a.memoizedState=m,a.baseState=M,a.baseQueue=H,h.lastRenderedState=m}if(i=h.interleaved,i!==null){v=i;do x=v.lane,$t.lanes|=x,Hl|=x,v=v.next;while(v!==i)}else v===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function Lw(i){var a=yi(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var m=h.dispatch,v=h.pending,x=a.memoizedState;if(v!==null){h.pending=null;var M=v=v.next;do x=i(x,M.action),M=M.next;while(M!==v);Fi(x,a.memoizedState)||(Cr=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),h.lastRenderedState=x}return[x,m]}function JS(){}function ZS(i,a){var h=$t,m=yi(),v=a(),x=!Fi(m.memoizedState,v);if(x&&(m.memoizedState=v,Cr=!0),m=m.queue,Nw(nE.bind(null,h,m,i),[i]),m.getSnapshot!==a||x||bn!==null&&bn.memoizedState.tag&1){if(h.flags|=2048,mf(9,tE.bind(null,h,m,v,a),void 0,null),xn===null)throw Error(t(349));(zl&30)!==0||eE(h,a,v)}return v}function eE(i,a,h){i.flags|=16384,i={getSnapshot:a,value:h},a=$t.updateQueue,a===null?(a={lastEffect:null,stores:null},$t.updateQueue=a,a.stores=[i]):(h=a.stores,h===null?a.stores=[i]:h.push(i))}function tE(i,a,h,m){a.value=h,a.getSnapshot=m,rE(a)&&iE(i)}function nE(i,a,h){return h(function(){rE(a)&&iE(i)})}function rE(i){var a=i.getSnapshot;i=i.value;try{var h=a();return!Fi(i,h)}catch{return!0}}function iE(i){var a=oo(i,1);a!==null&&Hi(a,i,1,-1)}function sE(i){var a=vs();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gf,lastRenderedState:i},a.queue=i,i=i.dispatch=sN.bind(null,$t,i),[a.memoizedState,i]}function mf(i,a,h,m){return i={tag:i,create:a,destroy:h,deps:m,next:null},a=$t.updateQueue,a===null?(a={lastEffect:null,stores:null},$t.updateQueue=a,a.lastEffect=i.next=i):(h=a.lastEffect,h===null?a.lastEffect=i.next=i:(m=h.next,h.next=i,i.next=m,a.lastEffect=i)),i}function oE(){return yi().memoizedState}function Um(i,a,h,m){var v=vs();$t.flags|=i,v.memoizedState=mf(1|a,h,void 0,m===void 0?null:m)}function Vm(i,a,h,m){var v=yi();m=m===void 0?null:m;var x=void 0;if(fn!==null){var M=fn.memoizedState;if(x=M.destroy,m!==null&&Pw(m,M.deps)){v.memoizedState=mf(a,h,x,m);return}}$t.flags|=i,v.memoizedState=mf(1|a,h,x,m)}function aE(i,a){return Um(8390656,8,i,a)}function Nw(i,a){return Vm(2048,8,i,a)}function lE(i,a){return Vm(4,2,i,a)}function cE(i,a){return Vm(4,4,i,a)}function uE(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function dE(i,a,h){return h=h!=null?h.concat([i]):null,Vm(4,4,uE.bind(null,a,i),h)}function Mw(){}function hE(i,a){var h=yi();a=a===void 0?null:a;var m=h.memoizedState;return m!==null&&a!==null&&Pw(a,m[1])?m[0]:(h.memoizedState=[i,a],i)}function fE(i,a){var h=yi();a=a===void 0?null:a;var m=h.memoizedState;return m!==null&&a!==null&&Pw(a,m[1])?m[0]:(i=i(),h.memoizedState=[i,a],i)}function pE(i,a,h){return(zl&21)===0?(i.baseState&&(i.baseState=!1,Cr=!0),i.memoizedState=h):(Fi(h,a)||(h=V1(),$t.lanes|=h,Hl|=h,i.baseState=!0),a)}function rN(i,a){var h=mt;mt=h!==0&&4>h?h:4,i(!0);var m=Tw.transition;Tw.transition={};try{i(!1),a()}finally{mt=h,Tw.transition=m}}function gE(){return yi().memoizedState}function iN(i,a,h){var m=Sa(i);if(h={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null},mE(i))yE(a,h);else if(h=qS(i,a,h,m),h!==null){var v=ur();Hi(h,i,m,v),vE(h,a,m)}}function sN(i,a,h){var m=Sa(i),v={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null};if(mE(i))yE(a,v);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var M=a.lastRenderedState,z=x(M,h);if(v.hasEagerState=!0,v.eagerState=z,Fi(z,M)){var H=a.interleaved;H===null?(v.next=v,xw(a)):(v.next=H.next,H.next=v),a.interleaved=v;return}}catch{}finally{}h=qS(i,a,v,m),h!==null&&(v=ur(),Hi(h,i,m,v),vE(h,a,m))}}function mE(i){var a=i.alternate;return i===$t||a!==null&&a===$t}function yE(i,a){ff=Hm=!0;var h=i.pending;h===null?a.next=a:(a.next=h.next,h.next=a),i.pending=a}function vE(i,a,h){if((h&4194240)!==0){var m=a.lanes;m&=i.pendingLanes,h|=m,a.lanes=h,O0(i,h)}}var Wm={readContext:mi,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},oN={readContext:mi,useCallback:function(i,a){return vs().memoizedState=[i,a===void 0?null:a],i},useContext:mi,useEffect:aE,useImperativeHandle:function(i,a,h){return h=h!=null?h.concat([i]):null,Um(4194308,4,uE.bind(null,a,i),h)},useLayoutEffect:function(i,a){return Um(4194308,4,i,a)},useInsertionEffect:function(i,a){return Um(4,2,i,a)},useMemo:function(i,a){var h=vs();return a=a===void 0?null:a,i=i(),h.memoizedState=[i,a],i},useReducer:function(i,a,h){var m=vs();return a=h!==void 0?h(a):a,m.memoizedState=m.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},m.queue=i,i=i.dispatch=iN.bind(null,$t,i),[m.memoizedState,i]},useRef:function(i){var a=vs();return i={current:i},a.memoizedState=i},useState:sE,useDebugValue:Mw,useDeferredValue:function(i){return vs().memoizedState=i},useTransition:function(){var i=sE(!1),a=i[0];return i=rN.bind(null,i[1]),vs().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,h){var m=$t,v=vs();if(It){if(h===void 0)throw Error(t(407));h=h()}else{if(h=a(),xn===null)throw Error(t(349));(zl&30)!==0||eE(m,a,h)}v.memoizedState=h;var x={value:h,getSnapshot:a};return v.queue=x,aE(nE.bind(null,m,x,i),[i]),m.flags|=2048,mf(9,tE.bind(null,m,x,h,a),void 0,null),h},useId:function(){var i=vs(),a=xn.identifierPrefix;if(It){var h=so,m=io;h=(m&~(1<<32-Oi(m)-1)).toString(32)+h,a=":"+a+"R"+h,h=pf++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=nN++,a=":"+a+"r"+h.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},aN={readContext:mi,useCallback:hE,useContext:mi,useEffect:Nw,useImperativeHandle:dE,useInsertionEffect:lE,useLayoutEffect:cE,useMemo:fE,useReducer:Iw,useRef:oE,useState:function(){return Iw(gf)},useDebugValue:Mw,useDeferredValue:function(i){var a=yi();return pE(a,fn.memoizedState,i)},useTransition:function(){var i=Iw(gf)[0],a=yi().memoizedState;return[i,a]},useMutableSource:JS,useSyncExternalStore:ZS,useId:gE,unstable_isNewReconciler:!1},lN={readContext:mi,useCallback:hE,useContext:mi,useEffect:Nw,useImperativeHandle:dE,useInsertionEffect:lE,useLayoutEffect:cE,useMemo:fE,useReducer:Lw,useRef:oE,useState:function(){return Lw(gf)},useDebugValue:Mw,useDeferredValue:function(i){var a=yi();return fn===null?a.memoizedState=i:pE(a,fn.memoizedState,i)},useTransition:function(){var i=Lw(gf)[0],a=yi().memoizedState;return[i,a]},useMutableSource:JS,useSyncExternalStore:ZS,useId:gE,unstable_isNewReconciler:!1};function Bi(i,a){if(i&&i.defaultProps){a=ce({},a),i=i.defaultProps;for(var h in i)a[h]===void 0&&(a[h]=i[h]);return a}return a}function Dw(i,a,h,m){a=i.memoizedState,h=h(m,a),h=h==null?a:ce({},a,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var Gm={isMounted:function(i){return(i=i._reactInternals)?Ml(i)===i:!1},enqueueSetState:function(i,a,h){i=i._reactInternals;var m=ur(),v=Sa(i),x=ao(m,v);x.payload=a,h!=null&&(x.callback=h),a=wa(i,x,v),a!==null&&(Hi(a,i,v,m),jm(a,i,v))},enqueueReplaceState:function(i,a,h){i=i._reactInternals;var m=ur(),v=Sa(i),x=ao(m,v);x.tag=1,x.payload=a,h!=null&&(x.callback=h),a=wa(i,x,v),a!==null&&(Hi(a,i,v,m),jm(a,i,v))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var h=ur(),m=Sa(i),v=ao(h,m);v.tag=2,a!=null&&(v.callback=a),a=wa(i,v,m),a!==null&&(Hi(a,i,m,h),jm(a,i,m))}};function wE(i,a,h,m,v,x,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,x,M):a.prototype&&a.prototype.isPureReactComponent?!tf(h,m)||!tf(v,x):!0}function bE(i,a,h){var m=!1,v=ma,x=a.contextType;return typeof x=="object"&&x!==null?x=mi(x):(v=Ar(a)?Ol:Kn.current,m=a.contextTypes,x=(m=m!=null)?Nu(i,v):ma),a=new a(h,x),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Gm,i.stateNode=a,a._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=v,i.__reactInternalMemoizedMaskedChildContext=x),a}function xE(i,a,h,m){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,m),a.state!==i&&Gm.enqueueReplaceState(a,a.state,null)}function Ow(i,a,h,m){var v=i.stateNode;v.props=h,v.state=i.memoizedState,v.refs={},_w(i);var x=a.contextType;typeof x=="object"&&x!==null?v.context=mi(x):(x=Ar(a)?Ol:Kn.current,v.context=Nu(i,x)),v.state=i.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Dw(i,a,x,h),v.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&Gm.enqueueReplaceState(v,v.state,null),Bm(i,h,v,m),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308)}function zu(i,a){try{var h="",m=a;do h+=ve(m),m=m.return;while(m);var v=h}catch(x){v=`
Error generating stack: `+x.message+`
`+x.stack}return{value:i,source:a,stack:v,digest:null}}function Fw(i,a,h){return{value:i,source:null,stack:h??null,digest:a??null}}function jw(i,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var cN=typeof WeakMap=="function"?WeakMap:Map;function _E(i,a,h){h=ao(-1,h),h.tag=3,h.payload={element:null};var m=a.value;return h.callback=function(){Zm||(Zm=!0,Zw=m),jw(i,a)},h}function SE(i,a,h){h=ao(-1,h),h.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var v=a.value;h.payload=function(){return m(v)},h.callback=function(){jw(i,a)}}var x=i.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(h.callback=function(){jw(i,a),typeof m!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var M=a.stack;this.componentDidCatch(a.value,{componentStack:M!==null?M:""})}),h}function EE(i,a,h){var m=i.pingCache;if(m===null){m=i.pingCache=new cN;var v=new Set;m.set(a,v)}else v=m.get(a),v===void 0&&(v=new Set,m.set(a,v));v.has(h)||(v.add(h),i=SN.bind(null,i,a,h),a.then(i,i))}function AE(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function CE(i,a,h,m,v){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=ao(-1,1),a.tag=2,wa(h,a,1))),h.lanes|=1),i):(i.flags|=65536,i.lanes=v,i)}var uN=D.ReactCurrentOwner,Cr=!1;function cr(i,a,h,m){a.child=i===null?GS(a,null,h,m):Fu(a,i.child,h,m)}function TE(i,a,h,m,v){h=h.render;var x=a.ref;return Bu(a,v),m=Rw(i,a,h,m,x,v),h=kw(),i!==null&&!Cr?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,lo(i,a,v)):(It&&h&&hw(a),a.flags|=1,cr(i,a,m,v),a.child)}function PE(i,a,h,m,v){if(i===null){var x=h.type;return typeof x=="function"&&!ob(x)&&x.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=x,RE(i,a,x,m,v)):(i=sy(h.type,null,m,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(x=i.child,(i.lanes&v)===0){var M=x.memoizedProps;if(h=h.compare,h=h!==null?h:tf,h(M,m)&&i.ref===a.ref)return lo(i,a,v)}return a.flags|=1,i=Aa(x,m),i.ref=a.ref,i.return=a,a.child=i}function RE(i,a,h,m,v){if(i!==null){var x=i.memoizedProps;if(tf(x,m)&&i.ref===a.ref)if(Cr=!1,a.pendingProps=m=x,(i.lanes&v)!==0)(i.flags&131072)!==0&&(Cr=!0);else return a.lanes=i.lanes,lo(i,a,v)}return Bw(i,a,h,m,v)}function kE(i,a,h){var m=a.pendingProps,v=m.children,x=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(Uu,Vr),Vr|=h;else{if((h&1073741824)===0)return i=x!==null?x.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,At(Uu,Vr),Vr|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=x!==null?x.baseLanes:h,At(Uu,Vr),Vr|=m}else x!==null?(m=x.baseLanes|h,a.memoizedState=null):m=h,At(Uu,Vr),Vr|=m;return cr(i,a,v,h),a.child}function IE(i,a){var h=a.ref;(i===null&&h!==null||i!==null&&i.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function Bw(i,a,h,m,v){var x=Ar(h)?Ol:Kn.current;return x=Nu(a,x),Bu(a,v),h=Rw(i,a,h,m,x,v),m=kw(),i!==null&&!Cr?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,lo(i,a,v)):(It&&m&&hw(a),a.flags|=1,cr(i,a,h,v),a.child)}function LE(i,a,h,m,v){if(Ar(h)){var x=!0;km(a)}else x=!1;if(Bu(a,v),a.stateNode===null)Ym(i,a),bE(a,h,m),Ow(a,h,m,v),m=!0;else if(i===null){var M=a.stateNode,z=a.memoizedProps;M.props=z;var H=M.context,ee=h.contextType;typeof ee=="object"&&ee!==null?ee=mi(ee):(ee=Ar(h)?Ol:Kn.current,ee=Nu(a,ee));var fe=h.getDerivedStateFromProps,ge=typeof fe=="function"||typeof M.getSnapshotBeforeUpdate=="function";ge||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(z!==m||H!==ee)&&xE(a,M,m,ee),va=!1;var de=a.memoizedState;M.state=de,Bm(a,m,M,v),H=a.memoizedState,z!==m||de!==H||Er.current||va?(typeof fe=="function"&&(Dw(a,h,fe,m),H=a.memoizedState),(z=va||wE(a,h,z,m,de,H,ee))?(ge||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(a.flags|=4194308)):(typeof M.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=H),M.props=m,M.state=H,M.context=ee,m=z):(typeof M.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{M=a.stateNode,YS(i,a),z=a.memoizedProps,ee=a.type===a.elementType?z:Bi(a.type,z),M.props=ee,ge=a.pendingProps,de=M.context,H=h.contextType,typeof H=="object"&&H!==null?H=mi(H):(H=Ar(h)?Ol:Kn.current,H=Nu(a,H));var Ae=h.getDerivedStateFromProps;(fe=typeof Ae=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(z!==ge||de!==H)&&xE(a,M,m,H),va=!1,de=a.memoizedState,M.state=de,Bm(a,m,M,v);var ke=a.memoizedState;z!==ge||de!==ke||Er.current||va?(typeof Ae=="function"&&(Dw(a,h,Ae,m),ke=a.memoizedState),(ee=va||wE(a,h,ee,m,de,ke,H)||!1)?(fe||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(m,ke,H),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(m,ke,H)),typeof M.componentDidUpdate=="function"&&(a.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof M.componentDidUpdate!="function"||z===i.memoizedProps&&de===i.memoizedState||(a.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&de===i.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=ke),M.props=m,M.state=ke,M.context=H,m=ee):(typeof M.componentDidUpdate!="function"||z===i.memoizedProps&&de===i.memoizedState||(a.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&de===i.memoizedState||(a.flags|=1024),m=!1)}return $w(i,a,h,m,x,v)}function $w(i,a,h,m,v,x){IE(i,a);var M=(a.flags&128)!==0;if(!m&&!M)return v&&FS(a,h,!1),lo(i,a,x);m=a.stateNode,uN.current=a;var z=M&&typeof h.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,i!==null&&M?(a.child=Fu(a,i.child,null,x),a.child=Fu(a,null,z,x)):cr(i,a,z,x),a.memoizedState=m.state,v&&FS(a,h,!0),a.child}function NE(i){var a=i.stateNode;a.pendingContext?DS(i,a.pendingContext,a.pendingContext!==a.context):a.context&&DS(i,a.context,!1),Sw(i,a.containerInfo)}function ME(i,a,h,m,v){return Ou(),mw(v),a.flags|=256,cr(i,a,h,m),a.child}var zw={dehydrated:null,treeContext:null,retryLane:0};function Hw(i){return{baseLanes:i,cachePool:null,transitions:null}}function DE(i,a,h){var m=a.pendingProps,v=Bt.current,x=!1,M=(a.flags&128)!==0,z;if((z=M)||(z=i!==null&&i.memoizedState===null?!1:(v&2)!==0),z?(x=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(v|=1),At(Bt,v&1),i===null)return gw(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(M=m.children,i=m.fallback,x?(m=a.mode,x=a.child,M={mode:"hidden",children:M},(m&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=M):x=oy(M,m,0,null),i=Gl(i,m,h,null),x.return=a,i.return=a,x.sibling=i,a.child=x,a.child.memoizedState=Hw(h),a.memoizedState=zw,i):Uw(a,M));if(v=i.memoizedState,v!==null&&(z=v.dehydrated,z!==null))return dN(i,a,M,m,z,v,h);if(x){x=m.fallback,M=a.mode,v=i.child,z=v.sibling;var H={mode:"hidden",children:m.children};return(M&1)===0&&a.child!==v?(m=a.child,m.childLanes=0,m.pendingProps=H,a.deletions=null):(m=Aa(v,H),m.subtreeFlags=v.subtreeFlags&14680064),z!==null?x=Aa(z,x):(x=Gl(x,M,h,null),x.flags|=2),x.return=a,m.return=a,m.sibling=x,a.child=m,m=x,x=a.child,M=i.child.memoizedState,M=M===null?Hw(h):{baseLanes:M.baseLanes|h,cachePool:null,transitions:M.transitions},x.memoizedState=M,x.childLanes=i.childLanes&~h,a.memoizedState=zw,m}return x=i.child,i=x.sibling,m=Aa(x,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=h),m.return=a,m.sibling=null,i!==null&&(h=a.deletions,h===null?(a.deletions=[i],a.flags|=16):h.push(i)),a.child=m,a.memoizedState=null,m}function Uw(i,a){return a=oy({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function qm(i,a,h,m){return m!==null&&mw(m),Fu(a,i.child,null,h),i=Uw(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function dN(i,a,h,m,v,x,M){if(h)return a.flags&256?(a.flags&=-257,m=Fw(Error(t(422))),qm(i,a,M,m)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(x=m.fallback,v=a.mode,m=oy({mode:"visible",children:m.children},v,0,null),x=Gl(x,v,M,null),x.flags|=2,m.return=a,x.return=a,m.sibling=x,a.child=m,(a.mode&1)!==0&&Fu(a,i.child,null,M),a.child.memoizedState=Hw(M),a.memoizedState=zw,x);if((a.mode&1)===0)return qm(i,a,M,null);if(v.data==="$!"){if(m=v.nextSibling&&v.nextSibling.dataset,m)var z=m.dgst;return m=z,x=Error(t(419)),m=Fw(x,m,void 0),qm(i,a,M,m)}if(z=(M&i.childLanes)!==0,Cr||z){if(m=xn,m!==null){switch(M&-M){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(m.suspendedLanes|M))!==0?0:v,v!==0&&v!==x.retryLane&&(x.retryLane=v,oo(i,v),Hi(m,i,v,-1))}return sb(),m=Fw(Error(t(421))),qm(i,a,M,m)}return v.data==="$?"?(a.flags|=128,a.child=i.child,a=EN.bind(null,i),v._reactRetry=a,null):(i=x.treeContext,Ur=pa(v.nextSibling),Hr=a,It=!0,ji=null,i!==null&&(pi[gi++]=io,pi[gi++]=so,pi[gi++]=Fl,io=i.id,so=i.overflow,Fl=a),a=Uw(a,m.children),a.flags|=4096,a)}function OE(i,a,h){i.lanes|=a;var m=i.alternate;m!==null&&(m.lanes|=a),bw(i.return,a,h)}function Vw(i,a,h,m,v){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:v}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=m,x.tail=h,x.tailMode=v)}function FE(i,a,h){var m=a.pendingProps,v=m.revealOrder,x=m.tail;if(cr(i,a,m.children,h),m=Bt.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&OE(i,h,a);else if(i.tag===19)OE(i,h,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(At(Bt,m),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(h=a.child,v=null;h!==null;)i=h.alternate,i!==null&&$m(i)===null&&(v=h),h=h.sibling;h=v,h===null?(v=a.child,a.child=null):(v=h.sibling,h.sibling=null),Vw(a,!1,v,h,x);break;case"backwards":for(h=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&$m(i)===null){a.child=v;break}i=v.sibling,v.sibling=h,h=v,v=i}Vw(a,!0,h,null,x);break;case"together":Vw(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ym(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function lo(i,a,h){if(i!==null&&(a.dependencies=i.dependencies),Hl|=a.lanes,(h&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(t(153));if(a.child!==null){for(i=a.child,h=Aa(i,i.pendingProps),a.child=h,h.return=a;i.sibling!==null;)i=i.sibling,h=h.sibling=Aa(i,i.pendingProps),h.return=a;h.sibling=null}return a.child}function hN(i,a,h){switch(a.tag){case 3:NE(a),Ou();break;case 5:QS(a);break;case 1:Ar(a.type)&&km(a);break;case 4:Sw(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,v=a.memoizedProps.value;At(Om,m._currentValue),m._currentValue=v;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(At(Bt,Bt.current&1),a.flags|=128,null):(h&a.child.childLanes)!==0?DE(i,a,h):(At(Bt,Bt.current&1),i=lo(i,a,h),i!==null?i.sibling:null);At(Bt,Bt.current&1);break;case 19:if(m=(h&a.childLanes)!==0,(i.flags&128)!==0){if(m)return FE(i,a,h);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),At(Bt,Bt.current),m)break;return null;case 22:case 23:return a.lanes=0,kE(i,a,h)}return lo(i,a,h)}var jE,Ww,BE,$E;jE=function(i,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Ww=function(){},BE=function(i,a,h,m){var v=i.memoizedProps;if(v!==m){i=a.stateNode,$l(ys.current);var x=null;switch(h){case"input":v=Ue(i,v),m=Ue(i,m),x=[];break;case"select":v=ce({},v,{value:void 0}),m=ce({},m,{value:void 0}),x=[];break;case"textarea":v=Xt(i,v),m=Xt(i,m),x=[];break;default:typeof v.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=Tm)}ie(h,m);var M;h=null;for(ee in v)if(!m.hasOwnProperty(ee)&&v.hasOwnProperty(ee)&&v[ee]!=null)if(ee==="style"){var z=v[ee];for(M in z)z.hasOwnProperty(M)&&(h||(h={}),h[M]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(r.hasOwnProperty(ee)?x||(x=[]):(x=x||[]).push(ee,null));for(ee in m){var H=m[ee];if(z=v!=null?v[ee]:void 0,m.hasOwnProperty(ee)&&H!==z&&(H!=null||z!=null))if(ee==="style")if(z){for(M in z)!z.hasOwnProperty(M)||H&&H.hasOwnProperty(M)||(h||(h={}),h[M]="");for(M in H)H.hasOwnProperty(M)&&z[M]!==H[M]&&(h||(h={}),h[M]=H[M])}else h||(x||(x=[]),x.push(ee,h)),h=H;else ee==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,z=z?z.__html:void 0,H!=null&&z!==H&&(x=x||[]).push(ee,H)):ee==="children"?typeof H!="string"&&typeof H!="number"||(x=x||[]).push(ee,""+H):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(r.hasOwnProperty(ee)?(H!=null&&ee==="onScroll"&&Pt("scroll",i),x||z===H||(x=[])):(x=x||[]).push(ee,H))}h&&(x=x||[]).push("style",h);var ee=x;(a.updateQueue=ee)&&(a.flags|=4)}},$E=function(i,a,h,m){h!==m&&(a.flags|=4)};function yf(i,a){if(!It)switch(i.tailMode){case"hidden":a=i.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Jn(i){var a=i.alternate!==null&&i.alternate.child===i.child,h=0,m=0;if(a)for(var v=i.child;v!==null;)h|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)h|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=m,i.childLanes=h,a}function fN(i,a,h){var m=a.pendingProps;switch(fw(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(a),null;case 1:return Ar(a.type)&&Rm(),Jn(a),null;case 3:return m=a.stateNode,$u(),Rt(Er),Rt(Kn),Cw(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Mm(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ji!==null&&(nb(ji),ji=null))),Ww(i,a),Jn(a),null;case 5:Ew(a);var v=$l(hf.current);if(h=a.type,i!==null&&a.stateNode!=null)BE(i,a,h,m,v),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(t(166));return Jn(a),null}if(i=$l(ys.current),Mm(a)){m=a.stateNode,h=a.type;var x=a.memoizedProps;switch(m[ms]=a,m[af]=x,i=(a.mode&1)!==0,h){case"dialog":Pt("cancel",m),Pt("close",m);break;case"iframe":case"object":case"embed":Pt("load",m);break;case"video":case"audio":for(v=0;v<rf.length;v++)Pt(rf[v],m);break;case"source":Pt("error",m);break;case"img":case"image":case"link":Pt("error",m),Pt("load",m);break;case"details":Pt("toggle",m);break;case"input":ot(m,x),Pt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!x.multiple},Pt("invalid",m);break;case"textarea":Sr(m,x),Pt("invalid",m)}ie(h,x),v=null;for(var M in x)if(x.hasOwnProperty(M)){var z=x[M];M==="children"?typeof z=="string"?m.textContent!==z&&(x.suppressHydrationWarning!==!0&&Cm(m.textContent,z,i),v=["children",z]):typeof z=="number"&&m.textContent!==""+z&&(x.suppressHydrationWarning!==!0&&Cm(m.textContent,z,i),v=["children",""+z]):r.hasOwnProperty(M)&&z!=null&&M==="onScroll"&&Pt("scroll",m)}switch(h){case"input":Oe(m),ar(m,x,!0);break;case"textarea":Oe(m),Dn(m);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(m.onclick=Tm)}m=v,a.updateQueue=m,m!==null&&(a.flags|=4)}else{M=v.nodeType===9?v:v.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Br(h)),i==="http://www.w3.org/1999/xhtml"?h==="script"?(i=M.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=M.createElement(h,{is:m.is}):(i=M.createElement(h),h==="select"&&(M=i,m.multiple?M.multiple=!0:m.size&&(M.size=m.size))):i=M.createElementNS(i,h),i[ms]=a,i[af]=m,jE(i,a,!1,!1),a.stateNode=i;e:{switch(M=qe(h,m),h){case"dialog":Pt("cancel",i),Pt("close",i),v=m;break;case"iframe":case"object":case"embed":Pt("load",i),v=m;break;case"video":case"audio":for(v=0;v<rf.length;v++)Pt(rf[v],i);v=m;break;case"source":Pt("error",i),v=m;break;case"img":case"image":case"link":Pt("error",i),Pt("load",i),v=m;break;case"details":Pt("toggle",i),v=m;break;case"input":ot(i,m),v=Ue(i,m),Pt("invalid",i);break;case"option":v=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},v=ce({},m,{value:void 0}),Pt("invalid",i);break;case"textarea":Sr(i,m),v=Xt(i,m),Pt("invalid",i);break;default:v=m}ie(h,v),z=v;for(x in z)if(z.hasOwnProperty(x)){var H=z[x];x==="style"?G(i,H):x==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&On(i,H)):x==="children"?typeof H=="string"?(h!=="textarea"||H!=="")&&O(i,H):typeof H=="number"&&O(i,""+H):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(r.hasOwnProperty(x)?H!=null&&x==="onScroll"&&Pt("scroll",i):H!=null&&L(i,x,H,M))}switch(h){case"input":Oe(i),ar(i,m,!1);break;case"textarea":Oe(i),Dn(i);break;case"option":m.value!=null&&i.setAttribute("value",""+ye(m.value));break;case"select":i.multiple=!!m.multiple,x=m.value,x!=null?lr(i,!!m.multiple,x,!1):m.defaultValue!=null&&lr(i,!!m.multiple,m.defaultValue,!0);break;default:typeof v.onClick=="function"&&(i.onclick=Tm)}switch(h){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Jn(a),null;case 6:if(i&&a.stateNode!=null)$E(i,a,i.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(t(166));if(h=$l(hf.current),$l(ys.current),Mm(a)){if(m=a.stateNode,h=a.memoizedProps,m[ms]=a,(x=m.nodeValue!==h)&&(i=Hr,i!==null))switch(i.tag){case 3:Cm(m.nodeValue,h,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Cm(m.nodeValue,h,(i.mode&1)!==0)}x&&(a.flags|=4)}else m=(h.nodeType===9?h:h.ownerDocument).createTextNode(m),m[ms]=a,a.stateNode=m}return Jn(a),null;case 13:if(Rt(Bt),m=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(It&&Ur!==null&&(a.mode&1)!==0&&(a.flags&128)===0)US(),Ou(),a.flags|=98560,x=!1;else if(x=Mm(a),m!==null&&m.dehydrated!==null){if(i===null){if(!x)throw Error(t(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[ms]=a}else Ou(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Jn(a),x=!1}else ji!==null&&(nb(ji),ji=null),x=!0;if(!x)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=h,a):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(Bt.current&1)!==0?pn===0&&(pn=3):sb())),a.updateQueue!==null&&(a.flags|=4),Jn(a),null);case 4:return $u(),Ww(i,a),i===null&&sf(a.stateNode.containerInfo),Jn(a),null;case 10:return ww(a.type._context),Jn(a),null;case 17:return Ar(a.type)&&Rm(),Jn(a),null;case 19:if(Rt(Bt),x=a.memoizedState,x===null)return Jn(a),null;if(m=(a.flags&128)!==0,M=x.rendering,M===null)if(m)yf(x,!1);else{if(pn!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(M=$m(i),M!==null){for(a.flags|=128,yf(x,!1),m=M.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=h,h=a.child;h!==null;)x=h,i=m,x.flags&=14680066,M=x.alternate,M===null?(x.childLanes=0,x.lanes=i,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=M.childLanes,x.lanes=M.lanes,x.child=M.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=M.memoizedProps,x.memoizedState=M.memoizedState,x.updateQueue=M.updateQueue,x.type=M.type,i=M.dependencies,x.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),h=h.sibling;return At(Bt,Bt.current&1|2),a.child}i=i.sibling}x.tail!==null&&Qt()>Vu&&(a.flags|=128,m=!0,yf(x,!1),a.lanes=4194304)}else{if(!m)if(i=$m(M),i!==null){if(a.flags|=128,m=!0,h=i.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),yf(x,!0),x.tail===null&&x.tailMode==="hidden"&&!M.alternate&&!It)return Jn(a),null}else 2*Qt()-x.renderingStartTime>Vu&&h!==1073741824&&(a.flags|=128,m=!0,yf(x,!1),a.lanes=4194304);x.isBackwards?(M.sibling=a.child,a.child=M):(h=x.last,h!==null?h.sibling=M:a.child=M,x.last=M)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=Qt(),a.sibling=null,h=Bt.current,At(Bt,m?h&1|2:h&1),a):(Jn(a),null);case 22:case 23:return ib(),m=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(Vr&1073741824)!==0&&(Jn(a),a.subtreeFlags&6&&(a.flags|=8192)):Jn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function pN(i,a){switch(fw(a),a.tag){case 1:return Ar(a.type)&&Rm(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return $u(),Rt(Er),Rt(Kn),Cw(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Ew(a),null;case 13:if(Rt(Bt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Ou()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Rt(Bt),null;case 4:return $u(),null;case 10:return ww(a.type._context),null;case 22:case 23:return ib(),null;case 24:return null;default:return null}}var Xm=!1,Zn=!1,gN=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Hu(i,a){var h=i.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(m){Vt(i,a,m)}else h.current=null}function Gw(i,a,h){try{h()}catch(m){Vt(i,a,m)}}var zE=!1;function mN(i,a){if(iw=gm,i=wS(),K0(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var v=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{h.nodeType,x.nodeType}catch{h=null;break e}var M=0,z=-1,H=-1,ee=0,fe=0,ge=i,de=null;t:for(;;){for(var Ae;ge!==h||v!==0&&ge.nodeType!==3||(z=M+v),ge!==x||m!==0&&ge.nodeType!==3||(H=M+m),ge.nodeType===3&&(M+=ge.nodeValue.length),(Ae=ge.firstChild)!==null;)de=ge,ge=Ae;for(;;){if(ge===i)break t;if(de===h&&++ee===v&&(z=M),de===x&&++fe===m&&(H=M),(Ae=ge.nextSibling)!==null)break;ge=de,de=ge.parentNode}ge=Ae}h=z===-1||H===-1?null:{start:z,end:H}}else h=null}h=h||{start:0,end:0}}else h=null;for(sw={focusedElem:i,selectionRange:h},gm=!1,Pe=a;Pe!==null;)if(a=Pe,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Pe=i;else for(;Pe!==null;){a=Pe;try{var ke=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Le=ke.memoizedProps,Jt=ke.memoizedState,X=a.stateNode,W=X.getSnapshotBeforeUpdate(a.elementType===a.type?Le:Bi(a.type,Le),Jt);X.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var K=a.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(we){Vt(a,a.return,we)}if(i=a.sibling,i!==null){i.return=a.return,Pe=i;break}Pe=a.return}return ke=zE,zE=!1,ke}function vf(i,a,h){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&i)===i){var x=v.destroy;v.destroy=void 0,x!==void 0&&Gw(a,h,x)}v=v.next}while(v!==m)}}function Km(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&i)===i){var m=h.create;h.destroy=m()}h=h.next}while(h!==a)}}function qw(i){var a=i.ref;if(a!==null){var h=i.stateNode;switch(i.tag){case 5:i=h;break;default:i=h}typeof a=="function"?a(i):a.current=i}}function HE(i){var a=i.alternate;a!==null&&(i.alternate=null,HE(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[ms],delete a[af],delete a[cw],delete a[JL],delete a[ZL])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function UE(i){return i.tag===5||i.tag===3||i.tag===4}function VE(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||UE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Yw(i,a,h){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(i,a):h.insertBefore(i,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(i,h)):(a=h,a.appendChild(i)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=Tm));else if(m!==4&&(i=i.child,i!==null))for(Yw(i,a,h),i=i.sibling;i!==null;)Yw(i,a,h),i=i.sibling}function Xw(i,a,h){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?h.insertBefore(i,a):h.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(Xw(i,a,h),i=i.sibling;i!==null;)Xw(i,a,h),i=i.sibling}var jn=null,$i=!1;function ba(i,a,h){for(h=h.child;h!==null;)WE(i,a,h),h=h.sibling}function WE(i,a,h){if(gs&&typeof gs.onCommitFiberUnmount=="function")try{gs.onCommitFiberUnmount(cm,h)}catch{}switch(h.tag){case 5:Zn||Hu(h,a);case 6:var m=jn,v=$i;jn=null,ba(i,a,h),jn=m,$i=v,jn!==null&&($i?(i=jn,h=h.stateNode,i.nodeType===8?i.parentNode.removeChild(h):i.removeChild(h)):jn.removeChild(h.stateNode));break;case 18:jn!==null&&($i?(i=jn,h=h.stateNode,i.nodeType===8?lw(i.parentNode,h):i.nodeType===1&&lw(i,h),Xh(i)):lw(jn,h.stateNode));break;case 4:m=jn,v=$i,jn=h.stateNode.containerInfo,$i=!0,ba(i,a,h),jn=m,$i=v;break;case 0:case 11:case 14:case 15:if(!Zn&&(m=h.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var x=v,M=x.destroy;x=x.tag,M!==void 0&&((x&2)!==0||(x&4)!==0)&&Gw(h,a,M),v=v.next}while(v!==m)}ba(i,a,h);break;case 1:if(!Zn&&(Hu(h,a),m=h.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=h.memoizedProps,m.state=h.memoizedState,m.componentWillUnmount()}catch(z){Vt(h,a,z)}ba(i,a,h);break;case 21:ba(i,a,h);break;case 22:h.mode&1?(Zn=(m=Zn)||h.memoizedState!==null,ba(i,a,h),Zn=m):ba(i,a,h);break;default:ba(i,a,h)}}function GE(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var h=i.stateNode;h===null&&(h=i.stateNode=new gN),a.forEach(function(m){var v=AN.bind(null,i,m);h.has(m)||(h.add(m),m.then(v,v))})}}function zi(i,a){var h=a.deletions;if(h!==null)for(var m=0;m<h.length;m++){var v=h[m];try{var x=i,M=a,z=M;e:for(;z!==null;){switch(z.tag){case 5:jn=z.stateNode,$i=!1;break e;case 3:jn=z.stateNode.containerInfo,$i=!0;break e;case 4:jn=z.stateNode.containerInfo,$i=!0;break e}z=z.return}if(jn===null)throw Error(t(160));WE(x,M,v),jn=null,$i=!1;var H=v.alternate;H!==null&&(H.return=null),v.return=null}catch(ee){Vt(v,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)qE(a,i),a=a.sibling}function qE(i,a){var h=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(zi(a,i),ws(i),m&4){try{vf(3,i,i.return),Km(3,i)}catch(Le){Vt(i,i.return,Le)}try{vf(5,i,i.return)}catch(Le){Vt(i,i.return,Le)}}break;case 1:zi(a,i),ws(i),m&512&&h!==null&&Hu(h,h.return);break;case 5:if(zi(a,i),ws(i),m&512&&h!==null&&Hu(h,h.return),i.flags&32){var v=i.stateNode;try{O(v,"")}catch(Le){Vt(i,i.return,Le)}}if(m&4&&(v=i.stateNode,v!=null)){var x=i.memoizedProps,M=h!==null?h.memoizedProps:x,z=i.type,H=i.updateQueue;if(i.updateQueue=null,H!==null)try{z==="input"&&x.type==="radio"&&x.name!=null&&Ze(v,x),qe(z,M);var ee=qe(z,x);for(M=0;M<H.length;M+=2){var fe=H[M],ge=H[M+1];fe==="style"?G(v,ge):fe==="dangerouslySetInnerHTML"?On(v,ge):fe==="children"?O(v,ge):L(v,fe,ge,ee)}switch(z){case"input":vt(v,x);break;case"textarea":Di(v,x);break;case"select":var de=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!x.multiple;var Ae=x.value;Ae!=null?lr(v,!!x.multiple,Ae,!1):de!==!!x.multiple&&(x.defaultValue!=null?lr(v,!!x.multiple,x.defaultValue,!0):lr(v,!!x.multiple,x.multiple?[]:"",!1))}v[af]=x}catch(Le){Vt(i,i.return,Le)}}break;case 6:if(zi(a,i),ws(i),m&4){if(i.stateNode===null)throw Error(t(162));v=i.stateNode,x=i.memoizedProps;try{v.nodeValue=x}catch(Le){Vt(i,i.return,Le)}}break;case 3:if(zi(a,i),ws(i),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Xh(a.containerInfo)}catch(Le){Vt(i,i.return,Le)}break;case 4:zi(a,i),ws(i);break;case 13:zi(a,i),ws(i),v=i.child,v.flags&8192&&(x=v.memoizedState!==null,v.stateNode.isHidden=x,!x||v.alternate!==null&&v.alternate.memoizedState!==null||(Jw=Qt())),m&4&&GE(i);break;case 22:if(fe=h!==null&&h.memoizedState!==null,i.mode&1?(Zn=(ee=Zn)||fe,zi(a,i),Zn=ee):zi(a,i),ws(i),m&8192){if(ee=i.memoizedState!==null,(i.stateNode.isHidden=ee)&&!fe&&(i.mode&1)!==0)for(Pe=i,fe=i.child;fe!==null;){for(ge=Pe=fe;Pe!==null;){switch(de=Pe,Ae=de.child,de.tag){case 0:case 11:case 14:case 15:vf(4,de,de.return);break;case 1:Hu(de,de.return);var ke=de.stateNode;if(typeof ke.componentWillUnmount=="function"){m=de,h=de.return;try{a=m,ke.props=a.memoizedProps,ke.state=a.memoizedState,ke.componentWillUnmount()}catch(Le){Vt(m,h,Le)}}break;case 5:Hu(de,de.return);break;case 22:if(de.memoizedState!==null){KE(ge);continue}}Ae!==null?(Ae.return=de,Pe=Ae):KE(ge)}fe=fe.sibling}e:for(fe=null,ge=i;;){if(ge.tag===5){if(fe===null){fe=ge;try{v=ge.stateNode,ee?(x=v.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(z=ge.stateNode,H=ge.memoizedProps.style,M=H!=null&&H.hasOwnProperty("display")?H.display:null,z.style.display=j("display",M))}catch(Le){Vt(i,i.return,Le)}}}else if(ge.tag===6){if(fe===null)try{ge.stateNode.nodeValue=ee?"":ge.memoizedProps}catch(Le){Vt(i,i.return,Le)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===i)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===i)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===i)break e;fe===ge&&(fe=null),ge=ge.return}fe===ge&&(fe=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:zi(a,i),ws(i),m&4&&GE(i);break;case 21:break;default:zi(a,i),ws(i)}}function ws(i){var a=i.flags;if(a&2){try{e:{for(var h=i.return;h!==null;){if(UE(h)){var m=h;break e}h=h.return}throw Error(t(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(O(v,""),m.flags&=-33);var x=VE(i);Xw(i,x,v);break;case 3:case 4:var M=m.stateNode.containerInfo,z=VE(i);Yw(i,z,M);break;default:throw Error(t(161))}}catch(H){Vt(i,i.return,H)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function yN(i,a,h){Pe=i,YE(i)}function YE(i,a,h){for(var m=(i.mode&1)!==0;Pe!==null;){var v=Pe,x=v.child;if(v.tag===22&&m){var M=v.memoizedState!==null||Xm;if(!M){var z=v.alternate,H=z!==null&&z.memoizedState!==null||Zn;z=Xm;var ee=Zn;if(Xm=M,(Zn=H)&&!ee)for(Pe=v;Pe!==null;)M=Pe,H=M.child,M.tag===22&&M.memoizedState!==null?QE(v):H!==null?(H.return=M,Pe=H):QE(v);for(;x!==null;)Pe=x,YE(x),x=x.sibling;Pe=v,Xm=z,Zn=ee}XE(i)}else(v.subtreeFlags&8772)!==0&&x!==null?(x.return=v,Pe=x):XE(i)}}function XE(i){for(;Pe!==null;){var a=Pe;if((a.flags&8772)!==0){var h=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Zn||Km(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Zn)if(h===null)m.componentDidMount();else{var v=a.elementType===a.type?h.memoizedProps:Bi(a.type,h.memoizedProps);m.componentDidUpdate(v,h.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var x=a.updateQueue;x!==null&&KS(a,x,m);break;case 3:var M=a.updateQueue;if(M!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}KS(a,M,h)}break;case 5:var z=a.stateNode;if(h===null&&a.flags&4){h=z;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&h.focus();break;case"img":H.src&&(h.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var fe=ee.memoizedState;if(fe!==null){var ge=fe.dehydrated;ge!==null&&Xh(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Zn||a.flags&512&&qw(a)}catch(de){Vt(a,a.return,de)}}if(a===i){Pe=null;break}if(h=a.sibling,h!==null){h.return=a.return,Pe=h;break}Pe=a.return}}function KE(i){for(;Pe!==null;){var a=Pe;if(a===i){Pe=null;break}var h=a.sibling;if(h!==null){h.return=a.return,Pe=h;break}Pe=a.return}}function QE(i){for(;Pe!==null;){var a=Pe;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{Km(4,a)}catch(H){Vt(a,h,H)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var v=a.return;try{m.componentDidMount()}catch(H){Vt(a,v,H)}}var x=a.return;try{qw(a)}catch(H){Vt(a,x,H)}break;case 5:var M=a.return;try{qw(a)}catch(H){Vt(a,M,H)}}}catch(H){Vt(a,a.return,H)}if(a===i){Pe=null;break}var z=a.sibling;if(z!==null){z.return=a.return,Pe=z;break}Pe=a.return}}var vN=Math.ceil,Qm=D.ReactCurrentDispatcher,Kw=D.ReactCurrentOwner,vi=D.ReactCurrentBatchConfig,at=0,xn=null,an=null,Bn=0,Vr=0,Uu=ga(0),pn=0,wf=null,Hl=0,Jm=0,Qw=0,bf=null,Tr=null,Jw=0,Vu=1/0,co=null,Zm=!1,Zw=null,xa=null,ey=!1,_a=null,ty=0,xf=0,eb=null,ny=-1,ry=0;function ur(){return(at&6)!==0?Qt():ny!==-1?ny:ny=Qt()}function Sa(i){return(i.mode&1)===0?1:(at&2)!==0&&Bn!==0?Bn&-Bn:tN.transition!==null?(ry===0&&(ry=V1()),ry):(i=mt,i!==0||(i=window.event,i=i===void 0?16:Z1(i.type)),i)}function Hi(i,a,h,m){if(50<xf)throw xf=0,eb=null,Error(t(185));Vh(i,h,m),((at&2)===0||i!==xn)&&(i===xn&&((at&2)===0&&(Jm|=h),pn===4&&Ea(i,Bn)),Pr(i,m),h===1&&at===0&&(a.mode&1)===0&&(Vu=Qt()+500,Im&&ya()))}function Pr(i,a){var h=i.callbackNode;tL(i,a);var m=hm(i,i===xn?Bn:0);if(m===0)h!==null&&z1(h),i.callbackNode=null,i.callbackPriority=0;else if(a=m&-m,i.callbackPriority!==a){if(h!=null&&z1(h),a===1)i.tag===0?eN(ZE.bind(null,i)):jS(ZE.bind(null,i)),KL(function(){(at&6)===0&&ya()}),h=null;else{switch(W1(m)){case 1:h=N0;break;case 4:h=H1;break;case 16:h=lm;break;case 536870912:h=U1;break;default:h=lm}h=aA(h,JE.bind(null,i))}i.callbackPriority=a,i.callbackNode=h}}function JE(i,a){if(ny=-1,ry=0,(at&6)!==0)throw Error(t(327));var h=i.callbackNode;if(Wu()&&i.callbackNode!==h)return null;var m=hm(i,i===xn?Bn:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||a)a=iy(i,m);else{a=m;var v=at;at|=2;var x=tA();(xn!==i||Bn!==a)&&(co=null,Vu=Qt()+500,Vl(i,a));do try{xN();break}catch(z){eA(i,z)}while(!0);vw(),Qm.current=x,at=v,an!==null?a=0:(xn=null,Bn=0,a=pn)}if(a!==0){if(a===2&&(v=M0(i),v!==0&&(m=v,a=tb(i,v))),a===1)throw h=wf,Vl(i,0),Ea(i,m),Pr(i,Qt()),h;if(a===6)Ea(i,m);else{if(v=i.current.alternate,(m&30)===0&&!wN(v)&&(a=iy(i,m),a===2&&(x=M0(i),x!==0&&(m=x,a=tb(i,x))),a===1))throw h=wf,Vl(i,0),Ea(i,m),Pr(i,Qt()),h;switch(i.finishedWork=v,i.finishedLanes=m,a){case 0:case 1:throw Error(t(345));case 2:Wl(i,Tr,co);break;case 3:if(Ea(i,m),(m&130023424)===m&&(a=Jw+500-Qt(),10<a)){if(hm(i,0)!==0)break;if(v=i.suspendedLanes,(v&m)!==m){ur(),i.pingedLanes|=i.suspendedLanes&v;break}i.timeoutHandle=aw(Wl.bind(null,i,Tr,co),a);break}Wl(i,Tr,co);break;case 4:if(Ea(i,m),(m&4194240)===m)break;for(a=i.eventTimes,v=-1;0<m;){var M=31-Oi(m);x=1<<M,M=a[M],M>v&&(v=M),m&=~x}if(m=v,m=Qt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*vN(m/1960))-m,10<m){i.timeoutHandle=aw(Wl.bind(null,i,Tr,co),m);break}Wl(i,Tr,co);break;case 5:Wl(i,Tr,co);break;default:throw Error(t(329))}}}return Pr(i,Qt()),i.callbackNode===h?JE.bind(null,i):null}function tb(i,a){var h=bf;return i.current.memoizedState.isDehydrated&&(Vl(i,a).flags|=256),i=iy(i,a),i!==2&&(a=Tr,Tr=h,a!==null&&nb(a)),i}function nb(i){Tr===null?Tr=i:Tr.push.apply(Tr,i)}function wN(i){for(var a=i;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var m=0;m<h.length;m++){var v=h[m],x=v.getSnapshot;v=v.value;try{if(!Fi(x(),v))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ea(i,a){for(a&=~Qw,a&=~Jm,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var h=31-Oi(a),m=1<<h;i[h]=-1,a&=~m}}function ZE(i){if((at&6)!==0)throw Error(t(327));Wu();var a=hm(i,0);if((a&1)===0)return Pr(i,Qt()),null;var h=iy(i,a);if(i.tag!==0&&h===2){var m=M0(i);m!==0&&(a=m,h=tb(i,m))}if(h===1)throw h=wf,Vl(i,0),Ea(i,a),Pr(i,Qt()),h;if(h===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Wl(i,Tr,co),Pr(i,Qt()),null}function rb(i,a){var h=at;at|=1;try{return i(a)}finally{at=h,at===0&&(Vu=Qt()+500,Im&&ya())}}function Ul(i){_a!==null&&_a.tag===0&&(at&6)===0&&Wu();var a=at;at|=1;var h=vi.transition,m=mt;try{if(vi.transition=null,mt=1,i)return i()}finally{mt=m,vi.transition=h,at=a,(at&6)===0&&ya()}}function ib(){Vr=Uu.current,Rt(Uu)}function Vl(i,a){i.finishedWork=null,i.finishedLanes=0;var h=i.timeoutHandle;if(h!==-1&&(i.timeoutHandle=-1,XL(h)),an!==null)for(h=an.return;h!==null;){var m=h;switch(fw(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Rm();break;case 3:$u(),Rt(Er),Rt(Kn),Cw();break;case 5:Ew(m);break;case 4:$u();break;case 13:Rt(Bt);break;case 19:Rt(Bt);break;case 10:ww(m.type._context);break;case 22:case 23:ib()}h=h.return}if(xn=i,an=i=Aa(i.current,null),Bn=Vr=a,pn=0,wf=null,Qw=Jm=Hl=0,Tr=bf=null,Bl!==null){for(a=0;a<Bl.length;a++)if(h=Bl[a],m=h.interleaved,m!==null){h.interleaved=null;var v=m.next,x=h.pending;if(x!==null){var M=x.next;x.next=v,m.next=M}h.pending=m}Bl=null}return i}function eA(i,a){do{var h=an;try{if(vw(),zm.current=Wm,Hm){for(var m=$t.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}Hm=!1}if(zl=0,bn=fn=$t=null,ff=!1,pf=0,Kw.current=null,h===null||h.return===null){pn=1,wf=a,an=null;break}e:{var x=i,M=h.return,z=h,H=a;if(a=Bn,z.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var ee=H,fe=z,ge=fe.tag;if((fe.mode&1)===0&&(ge===0||ge===11||ge===15)){var de=fe.alternate;de?(fe.updateQueue=de.updateQueue,fe.memoizedState=de.memoizedState,fe.lanes=de.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var Ae=AE(M);if(Ae!==null){Ae.flags&=-257,CE(Ae,M,z,x,a),Ae.mode&1&&EE(x,ee,a),a=Ae,H=ee;var ke=a.updateQueue;if(ke===null){var Le=new Set;Le.add(H),a.updateQueue=Le}else ke.add(H);break e}else{if((a&1)===0){EE(x,ee,a),sb();break e}H=Error(t(426))}}else if(It&&z.mode&1){var Jt=AE(M);if(Jt!==null){(Jt.flags&65536)===0&&(Jt.flags|=256),CE(Jt,M,z,x,a),mw(zu(H,z));break e}}x=H=zu(H,z),pn!==4&&(pn=2),bf===null?bf=[x]:bf.push(x),x=M;do{switch(x.tag){case 3:x.flags|=65536,a&=-a,x.lanes|=a;var X=_E(x,H,a);XS(x,X);break e;case 1:z=H;var W=x.type,K=x.stateNode;if((x.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(xa===null||!xa.has(K)))){x.flags|=65536,a&=-a,x.lanes|=a;var we=SE(x,z,a);XS(x,we);break e}}x=x.return}while(x!==null)}rA(h)}catch(Ne){a=Ne,an===h&&h!==null&&(an=h=h.return);continue}break}while(!0)}function tA(){var i=Qm.current;return Qm.current=Wm,i===null?Wm:i}function sb(){(pn===0||pn===3||pn===2)&&(pn=4),xn===null||(Hl&268435455)===0&&(Jm&268435455)===0||Ea(xn,Bn)}function iy(i,a){var h=at;at|=2;var m=tA();(xn!==i||Bn!==a)&&(co=null,Vl(i,a));do try{bN();break}catch(v){eA(i,v)}while(!0);if(vw(),at=h,Qm.current=m,an!==null)throw Error(t(261));return xn=null,Bn=0,pn}function bN(){for(;an!==null;)nA(an)}function xN(){for(;an!==null&&!G2();)nA(an)}function nA(i){var a=oA(i.alternate,i,Vr);i.memoizedProps=i.pendingProps,a===null?rA(i):an=a,Kw.current=null}function rA(i){var a=i;do{var h=a.alternate;if(i=a.return,(a.flags&32768)===0){if(h=fN(h,a,Vr),h!==null){an=h;return}}else{if(h=pN(h,a),h!==null){h.flags&=32767,an=h;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{pn=6,an=null;return}}if(a=a.sibling,a!==null){an=a;return}an=a=i}while(a!==null);pn===0&&(pn=5)}function Wl(i,a,h){var m=mt,v=vi.transition;try{vi.transition=null,mt=1,_N(i,a,h,m)}finally{vi.transition=v,mt=m}return null}function _N(i,a,h,m){do Wu();while(_a!==null);if((at&6)!==0)throw Error(t(327));h=i.finishedWork;var v=i.finishedLanes;if(h===null)return null;if(i.finishedWork=null,i.finishedLanes=0,h===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var x=h.lanes|h.childLanes;if(nL(i,x),i===xn&&(an=xn=null,Bn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||ey||(ey=!0,aA(lm,function(){return Wu(),null})),x=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||x){x=vi.transition,vi.transition=null;var M=mt;mt=1;var z=at;at|=4,Kw.current=null,mN(i,h),qE(h,i),HL(sw),gm=!!iw,sw=iw=null,i.current=h,yN(h),q2(),at=z,mt=M,vi.transition=x}else i.current=h;if(ey&&(ey=!1,_a=i,ty=v),x=i.pendingLanes,x===0&&(xa=null),K2(h.stateNode),Pr(i,Qt()),a!==null)for(m=i.onRecoverableError,h=0;h<a.length;h++)v=a[h],m(v.value,{componentStack:v.stack,digest:v.digest});if(Zm)throw Zm=!1,i=Zw,Zw=null,i;return(ty&1)!==0&&i.tag!==0&&Wu(),x=i.pendingLanes,(x&1)!==0?i===eb?xf++:(xf=0,eb=i):xf=0,ya(),null}function Wu(){if(_a!==null){var i=W1(ty),a=vi.transition,h=mt;try{if(vi.transition=null,mt=16>i?16:i,_a===null)var m=!1;else{if(i=_a,_a=null,ty=0,(at&6)!==0)throw Error(t(331));var v=at;for(at|=4,Pe=i.current;Pe!==null;){var x=Pe,M=x.child;if((Pe.flags&16)!==0){var z=x.deletions;if(z!==null){for(var H=0;H<z.length;H++){var ee=z[H];for(Pe=ee;Pe!==null;){var fe=Pe;switch(fe.tag){case 0:case 11:case 15:vf(8,fe,x)}var ge=fe.child;if(ge!==null)ge.return=fe,Pe=ge;else for(;Pe!==null;){fe=Pe;var de=fe.sibling,Ae=fe.return;if(HE(fe),fe===ee){Pe=null;break}if(de!==null){de.return=Ae,Pe=de;break}Pe=Ae}}}var ke=x.alternate;if(ke!==null){var Le=ke.child;if(Le!==null){ke.child=null;do{var Jt=Le.sibling;Le.sibling=null,Le=Jt}while(Le!==null)}}Pe=x}}if((x.subtreeFlags&2064)!==0&&M!==null)M.return=x,Pe=M;else e:for(;Pe!==null;){if(x=Pe,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:vf(9,x,x.return)}var X=x.sibling;if(X!==null){X.return=x.return,Pe=X;break e}Pe=x.return}}var W=i.current;for(Pe=W;Pe!==null;){M=Pe;var K=M.child;if((M.subtreeFlags&2064)!==0&&K!==null)K.return=M,Pe=K;else e:for(M=W;Pe!==null;){if(z=Pe,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Km(9,z)}}catch(Ne){Vt(z,z.return,Ne)}if(z===M){Pe=null;break e}var we=z.sibling;if(we!==null){we.return=z.return,Pe=we;break e}Pe=z.return}}if(at=v,ya(),gs&&typeof gs.onPostCommitFiberRoot=="function")try{gs.onPostCommitFiberRoot(cm,i)}catch{}m=!0}return m}finally{mt=h,vi.transition=a}}return!1}function iA(i,a,h){a=zu(h,a),a=_E(i,a,1),i=wa(i,a,1),a=ur(),i!==null&&(Vh(i,1,a),Pr(i,a))}function Vt(i,a,h){if(i.tag===3)iA(i,i,h);else for(;a!==null;){if(a.tag===3){iA(a,i,h);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(xa===null||!xa.has(m))){i=zu(h,i),i=SE(a,i,1),a=wa(a,i,1),i=ur(),a!==null&&(Vh(a,1,i),Pr(a,i));break}}a=a.return}}function SN(i,a,h){var m=i.pingCache;m!==null&&m.delete(a),a=ur(),i.pingedLanes|=i.suspendedLanes&h,xn===i&&(Bn&h)===h&&(pn===4||pn===3&&(Bn&130023424)===Bn&&500>Qt()-Jw?Vl(i,0):Qw|=h),Pr(i,a)}function sA(i,a){a===0&&((i.mode&1)===0?a=1:(a=dm,dm<<=1,(dm&130023424)===0&&(dm=4194304)));var h=ur();i=oo(i,a),i!==null&&(Vh(i,a,h),Pr(i,h))}function EN(i){var a=i.memoizedState,h=0;a!==null&&(h=a.retryLane),sA(i,h)}function AN(i,a){var h=0;switch(i.tag){case 13:var m=i.stateNode,v=i.memoizedState;v!==null&&(h=v.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(a),sA(i,h)}var oA;oA=function(i,a,h){if(i!==null)if(i.memoizedProps!==a.pendingProps||Er.current)Cr=!0;else{if((i.lanes&h)===0&&(a.flags&128)===0)return Cr=!1,hN(i,a,h);Cr=(i.flags&131072)!==0}else Cr=!1,It&&(a.flags&1048576)!==0&&BS(a,Nm,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Ym(i,a),i=a.pendingProps;var v=Nu(a,Kn.current);Bu(a,h),v=Rw(null,a,m,i,v,h);var x=kw();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Ar(m)?(x=!0,km(a)):x=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,_w(a),v.updater=Gm,a.stateNode=v,v._reactInternals=a,Ow(a,m,i,h),a=$w(null,a,m,!0,x,h)):(a.tag=0,It&&x&&hw(a),cr(null,a,v,h),a=a.child),a;case 16:m=a.elementType;e:{switch(Ym(i,a),i=a.pendingProps,v=m._init,m=v(m._payload),a.type=m,v=a.tag=TN(m),i=Bi(m,i),v){case 0:a=Bw(null,a,m,i,h);break e;case 1:a=LE(null,a,m,i,h);break e;case 11:a=TE(null,a,m,i,h);break e;case 14:a=PE(null,a,m,Bi(m.type,i),h);break e}throw Error(t(306,m,""))}return a;case 0:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:Bi(m,v),Bw(i,a,m,v,h);case 1:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:Bi(m,v),LE(i,a,m,v,h);case 3:e:{if(NE(a),i===null)throw Error(t(387));m=a.pendingProps,x=a.memoizedState,v=x.element,YS(i,a),Bm(a,m,null,h);var M=a.memoizedState;if(m=M.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){v=zu(Error(t(423)),a),a=ME(i,a,m,h,v);break e}else if(m!==v){v=zu(Error(t(424)),a),a=ME(i,a,m,h,v);break e}else for(Ur=pa(a.stateNode.containerInfo.firstChild),Hr=a,It=!0,ji=null,h=GS(a,null,m,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ou(),m===v){a=lo(i,a,h);break e}cr(i,a,m,h)}a=a.child}return a;case 5:return QS(a),i===null&&gw(a),m=a.type,v=a.pendingProps,x=i!==null?i.memoizedProps:null,M=v.children,ow(m,v)?M=null:x!==null&&ow(m,x)&&(a.flags|=32),IE(i,a),cr(i,a,M,h),a.child;case 6:return i===null&&gw(a),null;case 13:return DE(i,a,h);case 4:return Sw(a,a.stateNode.containerInfo),m=a.pendingProps,i===null?a.child=Fu(a,null,m,h):cr(i,a,m,h),a.child;case 11:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:Bi(m,v),TE(i,a,m,v,h);case 7:return cr(i,a,a.pendingProps,h),a.child;case 8:return cr(i,a,a.pendingProps.children,h),a.child;case 12:return cr(i,a,a.pendingProps.children,h),a.child;case 10:e:{if(m=a.type._context,v=a.pendingProps,x=a.memoizedProps,M=v.value,At(Om,m._currentValue),m._currentValue=M,x!==null)if(Fi(x.value,M)){if(x.children===v.children&&!Er.current){a=lo(i,a,h);break e}}else for(x=a.child,x!==null&&(x.return=a);x!==null;){var z=x.dependencies;if(z!==null){M=x.child;for(var H=z.firstContext;H!==null;){if(H.context===m){if(x.tag===1){H=ao(-1,h&-h),H.tag=2;var ee=x.updateQueue;if(ee!==null){ee=ee.shared;var fe=ee.pending;fe===null?H.next=H:(H.next=fe.next,fe.next=H),ee.pending=H}}x.lanes|=h,H=x.alternate,H!==null&&(H.lanes|=h),bw(x.return,h,a),z.lanes|=h;break}H=H.next}}else if(x.tag===10)M=x.type===a.type?null:x.child;else if(x.tag===18){if(M=x.return,M===null)throw Error(t(341));M.lanes|=h,z=M.alternate,z!==null&&(z.lanes|=h),bw(M,h,a),M=x.sibling}else M=x.child;if(M!==null)M.return=x;else for(M=x;M!==null;){if(M===a){M=null;break}if(x=M.sibling,x!==null){x.return=M.return,M=x;break}M=M.return}x=M}cr(i,a,v.children,h),a=a.child}return a;case 9:return v=a.type,m=a.pendingProps.children,Bu(a,h),v=mi(v),m=m(v),a.flags|=1,cr(i,a,m,h),a.child;case 14:return m=a.type,v=Bi(m,a.pendingProps),v=Bi(m.type,v),PE(i,a,m,v,h);case 15:return RE(i,a,a.type,a.pendingProps,h);case 17:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:Bi(m,v),Ym(i,a),a.tag=1,Ar(m)?(i=!0,km(a)):i=!1,Bu(a,h),bE(a,m,v),Ow(a,m,v,h),$w(null,a,m,!0,i,h);case 19:return FE(i,a,h);case 22:return kE(i,a,h)}throw Error(t(156,a.tag))};function aA(i,a){return $1(i,a)}function CN(i,a,h,m){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(i,a,h,m){return new CN(i,a,h,m)}function ob(i){return i=i.prototype,!(!i||!i.isReactComponent)}function TN(i){if(typeof i=="function")return ob(i)?1:0;if(i!=null){if(i=i.$$typeof,i===be)return 11;if(i===_e)return 14}return 2}function Aa(i,a){var h=i.alternate;return h===null?(h=wi(i.tag,a,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=a,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&14680064,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,a=i.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h}function sy(i,a,h,m,v,x){var M=2;if(m=i,typeof i=="function")ob(i)&&(M=1);else if(typeof i=="string")M=5;else e:switch(i){case $:return Gl(h.children,v,x,a);case V:M=8,v|=8;break;case q:return i=wi(12,h,a,v|2),i.elementType=q,i.lanes=x,i;case pe:return i=wi(13,h,a,v),i.elementType=pe,i.lanes=x,i;case ae:return i=wi(19,h,a,v),i.elementType=ae,i.lanes=x,i;case J:return oy(h,v,x,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case te:M=10;break e;case re:M=9;break e;case be:M=11;break e;case _e:M=14;break e;case Y:M=16,m=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return a=wi(M,h,a,v),a.elementType=i,a.type=m,a.lanes=x,a}function Gl(i,a,h,m){return i=wi(7,i,m,a),i.lanes=h,i}function oy(i,a,h,m){return i=wi(22,i,m,a),i.elementType=J,i.lanes=h,i.stateNode={isHidden:!1},i}function ab(i,a,h){return i=wi(6,i,null,a),i.lanes=h,i}function lb(i,a,h){return a=wi(4,i.children!==null?i.children:[],i.key,a),a.lanes=h,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function PN(i,a,h,m,v){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=D0(0),this.expirationTimes=D0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D0(0),this.identifierPrefix=m,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function cb(i,a,h,m,v,x,M,z,H){return i=new PN(i,a,h,z,H),a===1?(a=1,x===!0&&(a|=8)):a=0,x=wi(3,null,null,a),i.current=x,x.stateNode=i,x.memoizedState={element:m,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},_w(x),i}function RN(i,a,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:m==null?null:""+m,children:i,containerInfo:a,implementation:h}}function lA(i){if(!i)return ma;i=i._reactInternals;e:{if(Ml(i)!==i||i.tag!==1)throw Error(t(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Ar(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(i.tag===1){var h=i.type;if(Ar(h))return OS(i,h,a)}return a}function cA(i,a,h,m,v,x,M,z,H){return i=cb(h,m,!0,i,v,x,M,z,H),i.context=lA(null),h=i.current,m=ur(),v=Sa(h),x=ao(m,v),x.callback=a??null,wa(h,x,v),i.current.lanes=v,Vh(i,v,m),Pr(i,m),i}function ay(i,a,h,m){var v=a.current,x=ur(),M=Sa(v);return h=lA(h),a.context===null?a.context=h:a.pendingContext=h,a=ao(x,M),a.payload={element:i},m=m===void 0?null:m,m!==null&&(a.callback=m),i=wa(v,a,M),i!==null&&(Hi(i,v,M,x),jm(i,v,M)),M}function ly(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function uA(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<a?h:a}}function ub(i,a){uA(i,a),(i=i.alternate)&&uA(i,a)}function kN(){return null}var dA=typeof reportError=="function"?reportError:function(i){console.error(i)};function db(i){this._internalRoot=i}cy.prototype.render=db.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(t(409));ay(i,a,null,null)},cy.prototype.unmount=db.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Ul(function(){ay(null,i,null,null)}),a[no]=null}};function cy(i){this._internalRoot=i}cy.prototype.unstable_scheduleHydration=function(i){if(i){var a=Y1();i={blockedOn:null,target:i,priority:a};for(var h=0;h<da.length&&a!==0&&a<da[h].priority;h++);da.splice(h,0,i),h===0&&Q1(i)}};function hb(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function uy(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function hA(){}function IN(i,a,h,m,v){if(v){if(typeof m=="function"){var x=m;m=function(){var ee=ly(M);x.call(ee)}}var M=cA(a,m,i,0,null,!1,!1,"",hA);return i._reactRootContainer=M,i[no]=M.current,sf(i.nodeType===8?i.parentNode:i),Ul(),M}for(;v=i.lastChild;)i.removeChild(v);if(typeof m=="function"){var z=m;m=function(){var ee=ly(H);z.call(ee)}}var H=cb(i,0,!1,null,null,!1,!1,"",hA);return i._reactRootContainer=H,i[no]=H.current,sf(i.nodeType===8?i.parentNode:i),Ul(function(){ay(a,H,h,m)}),H}function dy(i,a,h,m,v){var x=h._reactRootContainer;if(x){var M=x;if(typeof v=="function"){var z=v;v=function(){var H=ly(M);z.call(H)}}ay(a,M,i,v)}else M=IN(h,a,i,v,m);return ly(M)}G1=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var h=Uh(a.pendingLanes);h!==0&&(O0(a,h|1),Pr(a,Qt()),(at&6)===0&&(Vu=Qt()+500,ya()))}break;case 13:Ul(function(){var m=oo(i,1);if(m!==null){var v=ur();Hi(m,i,1,v)}}),ub(i,1)}},F0=function(i){if(i.tag===13){var a=oo(i,134217728);if(a!==null){var h=ur();Hi(a,i,134217728,h)}ub(i,134217728)}},q1=function(i){if(i.tag===13){var a=Sa(i),h=oo(i,a);if(h!==null){var m=ur();Hi(h,i,a,m)}ub(i,a)}},Y1=function(){return mt},X1=function(i,a){var h=mt;try{return mt=i,a()}finally{mt=h}},wt=function(i,a,h){switch(a){case"input":if(vt(i,h),a=h.name,h.type==="radio"&&a!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var m=h[a];if(m!==i&&m.form===i.form){var v=Pm(m);if(!v)throw Error(t(90));je(m),vt(m,v)}}}break;case"textarea":Di(i,h);break;case"select":a=h.value,a!=null&&lr(i,!!h.multiple,a,!1)}},hn=rb,Xn=Ul;var LN={usingClientEntryPoint:!1,Events:[lf,Iu,Pm,We,Kt,rb]},_f={findFiberByHostInstance:Dl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NN={bundleType:_f.bundleType,version:_f.version,rendererPackageName:_f.rendererPackageName,rendererConfig:_f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=j1(i),i===null?null:i.stateNode},findFiberByHostInstance:_f.findFiberByHostInstance||kN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hy.isDisabled&&hy.supportsFiber)try{cm=hy.inject(NN),gs=hy}catch{}}return Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LN,Rr.createPortal=function(i,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hb(a))throw Error(t(200));return RN(i,a,null,h)},Rr.createRoot=function(i,a){if(!hb(i))throw Error(t(299));var h=!1,m="",v=dA;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=cb(i,1,!1,null,null,h,!1,m,v),i[no]=a.current,sf(i.nodeType===8?i.parentNode:i),new db(a)},Rr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=j1(a),i=i===null?null:i.stateNode,i},Rr.flushSync=function(i){return Ul(i)},Rr.hydrate=function(i,a,h){if(!uy(a))throw Error(t(200));return dy(null,i,a,!0,h)},Rr.hydrateRoot=function(i,a,h){if(!hb(i))throw Error(t(405));var m=h!=null&&h.hydratedSources||null,v=!1,x="",M=dA;if(h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(x=h.identifierPrefix),h.onRecoverableError!==void 0&&(M=h.onRecoverableError)),a=cA(a,null,i,1,h??null,v,!1,x,M),i[no]=a.current,sf(i),m)for(i=0;i<m.length;i++)h=m[i],v=h._getVersion,v=v(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,v]:a.mutableSourceEagerHydrationData.push(h,v);return new cy(a)},Rr.render=function(i,a,h){if(!uy(a))throw Error(t(200));return dy(null,i,a,!1,h)},Rr.unmountComponentAtNode=function(i){if(!uy(i))throw Error(t(40));return i._reactRootContainer?(Ul(function(){dy(null,null,i,!1,function(){i._reactRootContainer=null,i[no]=null})}),!0):!1},Rr.unstable_batchedUpdates=rb,Rr.unstable_renderSubtreeIntoContainer=function(i,a,h,m){if(!uy(h))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return dy(i,a,h,!1,m)},Rr.version="18.3.1-next-f1338f8080-20240426",Rr}var xA;function uT(){if(xA)return mb.exports;xA=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),mb.exports=UN(),mb.exports}var _A;function VN(){if(_A)return fy;_A=1;var s=uT();return fy.createRoot=s.createRoot,fy.hydrateRoot=s.hydrateRoot,fy}var WN=VN(),R=e0();const se=bu(R),$_=FN({__proto__:null,default:se},[R]);var Yg=uT();const dT=bu(Yg);/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tp(){return tp=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},tp.apply(this,arguments)}var vl;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(vl||(vl={}));const SA="popstate";function GN(s){s===void 0&&(s={});function e(n,r){let{pathname:o,search:l,hash:c}=n.location;return Qb("",{pathname:o,search:l,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:pv(r)}return YN(e,t,null,s)}function un(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function hT(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qN(){return Math.random().toString(36).substr(2,8)}function EA(s,e){return{usr:s.state,key:s.key,idx:e}}function Qb(s,e,t,n){return t===void 0&&(t=null),tp({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?Dh(e):e,{state:t,key:e&&e.key||n||qN()})}function pv(s){let{pathname:e="/",search:t="",hash:n=""}=s;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Dh(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substr(t),s=s.substr(0,t));let n=s.indexOf("?");n>=0&&(e.search=s.substr(n),s=s.substr(0,n)),s&&(e.pathname=s)}return e}function YN(s,e,t,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:o=!1}=n,l=r.history,c=vl.Pop,d=null,f=p();f==null&&(f=0,l.replaceState(tp({},l.state,{idx:f}),""));function p(){return(l.state||{idx:null}).idx}function g(){c=vl.Pop;let E=p(),T=E==null?null:E-f;f=E,d&&d({action:c,location:b.location,delta:T})}function y(E,T){c=vl.Push;let I=Qb(b.location,E,T);f=p()+1;let L=EA(I,f),D=b.createHref(I);try{l.pushState(L,"",D)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;r.location.assign(D)}o&&d&&d({action:c,location:b.location,delta:1})}function w(E,T){c=vl.Replace;let I=Qb(b.location,E,T);f=p();let L=EA(I,f),D=b.createHref(I);l.replaceState(L,"",D),o&&d&&d({action:c,location:b.location,delta:0})}function S(E){let T=r.location.origin!=="null"?r.location.origin:r.location.href,I=typeof E=="string"?E:pv(E);return I=I.replace(/ $/,"%20"),un(T,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,T)}let b={get action(){return c},get location(){return s(r,l)},listen(E){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(SA,g),d=E,()=>{r.removeEventListener(SA,g),d=null}},createHref(E){return e(r,E)},createURL:S,encodeLocation(E){let T=S(E);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:w,go(E){return l.go(E)}};return b}var AA;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(AA||(AA={}));function XN(s,e,t){return t===void 0&&(t="/"),KN(s,e,t)}function KN(s,e,t,n){let r=typeof e=="string"?Dh(e):e,o=z_(r.pathname||"/",t);if(o==null)return null;let l=fT(s);QN(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=cM(o);c=oM(l[d],f)}return c}function fT(s,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let r=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(un(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let f=wl([n,d.relativePath]),p=t.concat(d);o.children&&o.children.length>0&&(un(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),fT(o.children,e,p,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:iM(f,o.index),routesMeta:p})};return s.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))r(o,l);else for(let d of pT(o.path))r(o,l,d)}),e}function pT(s){let e=s.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return r?[o,""]:[o];let l=pT(n.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&c.push(...l),c.map(d=>s.startsWith("/")&&d===""?"/":d)}function QN(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:sM(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const JN=/^:[\w-]+$/,ZN=3,eM=2,tM=1,nM=10,rM=-2,CA=s=>s==="*";function iM(s,e){let t=s.split("/"),n=t.length;return t.some(CA)&&(n+=rM),e&&(n+=eM),t.filter(r=>!CA(r)).reduce((r,o)=>r+(JN.test(o)?ZN:o===""?tM:nM),n)}function sM(s,e){return s.length===e.length&&s.slice(0,-1).every((n,r)=>n===e[r])?s[s.length-1]-e[e.length-1]:0}function oM(s,e,t){let{routesMeta:n}=s,r={},o="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],f=c===n.length-1,p=o==="/"?e:e.slice(o.length)||"/",g=aM({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),y=d.route;if(!g)return null;Object.assign(r,g.params),l.push({params:r,pathname:wl([o,g.pathname]),pathnameBase:fM(wl([o,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(o=wl([o,g.pathnameBase]))}return l}function aM(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,n]=lM(s.path,s.caseSensitive,s.end),r=e.match(t);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:n.reduce((f,p,g)=>{let{paramName:y,isOptional:w}=p;if(y==="*"){let b=c[g]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const S=c[g];return w&&!S?f[y]=void 0:f[y]=(S||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:s}}function lM(s,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),hT(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let n=[],r="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(n.push({paramName:"*"}),r+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":s!==""&&s!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function cM(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hT(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),s}}function z_(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=s.charAt(t);return n&&n!=="/"?null:s.slice(t)||"/"}function uM(s,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:r=""}=typeof s=="string"?Dh(s):s;return{pathname:t?t.startsWith("/")?t:dM(t,e):e,search:pM(n),hash:gM(r)}}function dM(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function wb(s,e,t,n){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hM(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function gT(s,e){let t=hM(s);return e?t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function mT(s,e,t,n){n===void 0&&(n=!1);let r;typeof s=="string"?r=Dh(s):(r=tp({},s),un(!r.pathname||!r.pathname.includes("?"),wb("?","pathname","search",r)),un(!r.pathname||!r.pathname.includes("#"),wb("#","pathname","hash",r)),un(!r.search||!r.search.includes("#"),wb("#","search","hash",r)));let o=s===""||r.pathname==="",l=o?"/":r.pathname,c;if(l==null)c=t;else{let g=e.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;r.pathname=y.join("/")}c=g>=0?e[g]:"/"}let d=uM(r,c),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}const wl=s=>s.join("/").replace(/\/\/+/g,"/"),fM=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),pM=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,gM=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function mM(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const yT=["post","put","patch","delete"];new Set(yT);const yM=["get",...yT];new Set(yM);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function np(){return np=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},np.apply(this,arguments)}const H_=R.createContext(null),vM=R.createContext(null),xu=R.createContext(null),t0=R.createContext(null),Rl=R.createContext({outlet:null,matches:[],isDataRoute:!1}),vT=R.createContext(null);function wM(s,e){let{relative:t}=e===void 0?{}:e;Xg()||un(!1);let{basename:n,navigator:r}=R.useContext(xu),{hash:o,pathname:l,search:c}=bT(s,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:wl([n,l])),r.createHref({pathname:d,search:c,hash:o})}function Xg(){return R.useContext(t0)!=null}function Oh(){return Xg()||un(!1),R.useContext(t0).location}function wT(s){R.useContext(xu).static||R.useLayoutEffect(s)}function bM(){let{isDataRoute:s}=R.useContext(Rl);return s?DM():xM()}function xM(){Xg()||un(!1);let s=R.useContext(H_),{basename:e,future:t,navigator:n}=R.useContext(xu),{matches:r}=R.useContext(Rl),{pathname:o}=Oh(),l=JSON.stringify(gT(r,t.v7_relativeSplatPath)),c=R.useRef(!1);return wT(()=>{c.current=!0}),R.useCallback(function(f,p){if(p===void 0&&(p={}),!c.current)return;if(typeof f=="number"){n.go(f);return}let g=mT(f,JSON.parse(l),o,p.relative==="path");s==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:wl([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,l,o,s])}const _M=R.createContext(null);function SM(s){let e=R.useContext(Rl).outlet;return e&&R.createElement(_M.Provider,{value:s},e)}function bT(s,e){let{relative:t}=e===void 0?{}:e,{future:n}=R.useContext(xu),{matches:r}=R.useContext(Rl),{pathname:o}=Oh(),l=JSON.stringify(gT(r,n.v7_relativeSplatPath));return R.useMemo(()=>mT(s,JSON.parse(l),o,t==="path"),[s,l,o,t])}function EM(s,e){return AM(s,e)}function AM(s,e,t,n){Xg()||un(!1);let{navigator:r}=R.useContext(xu),{matches:o}=R.useContext(Rl),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=Oh(),p;if(e){var g;let E=typeof e=="string"?Dh(e):e;d==="/"||(g=E.pathname)!=null&&g.startsWith(d)||un(!1),p=E}else p=f;let y=p.pathname||"/",w=y;if(d!=="/"){let E=d.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=XN(s,{pathname:w}),b=kM(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:wl([d,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:wl([d,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,t,n);return e&&b?R.createElement(t0.Provider,{value:{location:np({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:vl.Pop}},b):b}function CM(){let s=MM(),e=mM(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:r},t):null,null)}const TM=R.createElement(CM,null);class PM extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?R.createElement(Rl.Provider,{value:this.props.routeContext},R.createElement(vT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RM(s){let{routeContext:e,match:t,children:n}=s,r=R.useContext(H_);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(Rl.Provider,{value:e},n)}function kM(s,e,t,n){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),s==null){var o;if(!t)return null;if(t.errors)s=t.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let l=s,c=(r=t)==null?void 0:r.errors;if(c!=null){let p=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);p>=0||un(!1),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,f=-1;if(t&&n&&n.v7_partialHydration)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:y,errors:w}=t,S=g.route.loader&&y[g.route.id]===void 0&&(!w||w[g.route.id]===void 0);if(g.route.lazy||S){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,g,y)=>{let w,S=!1,b=null,E=null;t&&(w=c&&g.route.id?c[g.route.id]:void 0,b=g.route.errorElement||TM,d&&(f<0&&y===0?(OM("route-fallback"),S=!0,E=null):f===y&&(S=!0,E=g.route.hydrateFallbackElement||null)));let T=e.concat(l.slice(0,y+1)),I=()=>{let L;return w?L=b:S?L=E:g.route.Component?L=R.createElement(g.route.Component,null):g.route.element?L=g.route.element:L=p,R.createElement(RM,{match:g,routeContext:{outlet:p,matches:T,isDataRoute:t!=null},children:L})};return t&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?R.createElement(PM,{location:t.location,revalidation:t.revalidation,component:b,error:w,children:I(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):I()},null)}var xT=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(xT||{}),_T=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(_T||{});function IM(s){let e=R.useContext(H_);return e||un(!1),e}function LM(s){let e=R.useContext(vM);return e||un(!1),e}function NM(s){let e=R.useContext(Rl);return e||un(!1),e}function ST(s){let e=NM(),t=e.matches[e.matches.length-1];return t.route.id||un(!1),t.route.id}function MM(){var s;let e=R.useContext(vT),t=LM(_T.UseRouteError),n=ST();return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function DM(){let{router:s}=IM(xT.UseNavigateStable),e=ST(),t=R.useRef(!1);return wT(()=>{t.current=!0}),R.useCallback(function(r,o){o===void 0&&(o={}),t.current&&(typeof r=="number"?s.navigate(r):s.navigate(r,np({fromRouteId:e},o)))},[s,e])}const TA={};function OM(s,e,t){TA[s]||(TA[s]=!0)}function FM(s){return SM(s.context)}function gv(s){un(!1)}function jM(s){let{basename:e="/",children:t=null,location:n,navigationType:r=vl.Pop,navigator:o,static:l=!1,future:c}=s;Xg()&&un(!1);let d=e.replace(/^\/*/,"/"),f=R.useMemo(()=>({basename:d,navigator:o,static:l,future:np({v7_relativeSplatPath:!1},c)}),[d,c,o,l]);typeof n=="string"&&(n=Dh(n));let{pathname:p="/",search:g="",hash:y="",state:w=null,key:S="default"}=n,b=R.useMemo(()=>{let E=z_(p,d);return E==null?null:{location:{pathname:E,search:g,hash:y,state:w,key:S},navigationType:r}},[d,p,g,y,w,S,r]);return b==null?null:R.createElement(xu.Provider,{value:f},R.createElement(t0.Provider,{children:t,value:b}))}function BM(s){let{children:e,location:t}=s;return EM(Jb(e),t)}new Promise(()=>{});function Jb(s,e){e===void 0&&(e=[]);let t=[];return R.Children.forEach(s,(n,r)=>{if(!R.isValidElement(n))return;let o=[...e,r];if(n.type===R.Fragment){t.push.apply(t,Jb(n.props.children,o));return}n.type!==gv&&un(!1),!n.props.index||!n.props.children||un(!1);let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Jb(n.props.children,o)),t.push(l)}),t}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zb(){return Zb=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Zb.apply(this,arguments)}function $M(s,e){if(s==null)return{};var t={},n=Object.keys(s),r,o;for(o=0;o<n.length;o++)r=n[o],!(e.indexOf(r)>=0)&&(t[r]=s[r]);return t}function zM(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function HM(s,e){return s.button===0&&(!e||e==="_self")&&!zM(s)}const UM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],VM="6";try{window.__reactRouterVersion=VM}catch{}const WM="startTransition",PA=$_[WM];function GM(s){let{basename:e,children:t,future:n,window:r}=s,o=R.useRef();o.current==null&&(o.current=GN({window:r,v5Compat:!0}));let l=o.current,[c,d]=R.useState({action:l.action,location:l.location}),{v7_startTransition:f}=n||{},p=R.useCallback(g=>{f&&PA?PA(()=>d(g)):d(g)},[d,f]);return R.useLayoutEffect(()=>l.listen(p),[l,p]),R.createElement(jM,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,future:n})}const qM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ex=R.forwardRef(function(e,t){let{onClick:n,relative:r,reloadDocument:o,replace:l,state:c,target:d,to:f,preventScrollReset:p,unstable_viewTransition:g}=e,y=$M(e,UM),{basename:w}=R.useContext(xu),S,b=!1;if(typeof f=="string"&&YM.test(f)&&(S=f,qM))try{let L=new URL(window.location.href),D=f.startsWith("//")?new URL(L.protocol+f):new URL(f),F=z_(D.pathname,w);D.origin===L.origin&&F!=null?f=F+D.search+D.hash:b=!0}catch{}let E=wM(f,{relative:r}),T=XM(f,{replace:l,state:c,target:d,preventScrollReset:p,relative:r,unstable_viewTransition:g});function I(L){n&&n(L),L.defaultPrevented||T(L)}return R.createElement("a",Zb({},y,{href:S||E,onClick:b||o?n:I,ref:t,target:d}))});var RA;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(RA||(RA={}));var kA;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(kA||(kA={}));function XM(s,e){let{target:t,replace:n,state:r,preventScrollReset:o,relative:l,unstable_viewTransition:c}=e===void 0?{}:e,d=bM(),f=Oh(),p=bT(s,{relative:l});return R.useCallback(g=>{if(HM(g,t)){g.preventDefault();let y=n!==void 0?n:pv(f)===pv(p);d(s,{replace:y,state:r,preventScrollReset:o,relative:l,unstable_viewTransition:c})}},[f,d,p,n,r,t,s,o,l,c])}var n0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},r0=typeof window>"u"||"Deno"in globalThis;function Wi(){}function KM(s,e){return typeof s=="function"?s(e):s}function QM(s){return typeof s=="number"&&s>=0&&s!==1/0}function JM(s,e){return Math.max(s+(e||0)-Date.now(),0)}function tx(s,e){return typeof s=="function"?s(e):s}function ZM(s,e){return typeof s=="function"?s(e):s}function IA(s,e){const{type:t="all",exact:n,fetchStatus:r,predicate:o,queryKey:l,stale:c}=s;if(l){if(n){if(e.queryHash!==U_(l,e.options))return!1}else if(!ip(e.queryKey,l))return!1}if(t!=="all"){const d=e.isActive();if(t==="active"&&!d||t==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||r&&r!==e.state.fetchStatus||o&&!o(e))}function LA(s,e){const{exact:t,status:n,predicate:r,mutationKey:o}=s;if(o){if(!e.options.mutationKey)return!1;if(t){if(rp(e.options.mutationKey)!==rp(o))return!1}else if(!ip(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||r&&!r(e))}function U_(s,e){return((e==null?void 0:e.queryKeyHashFn)||rp)(s)}function rp(s){return JSON.stringify(s,(e,t)=>nx(t)?Object.keys(t).sort().reduce((n,r)=>(n[r]=t[r],n),{}):t)}function ip(s,e){return s===e?!0:typeof s!=typeof e?!1:s&&e&&typeof s=="object"&&typeof e=="object"?Object.keys(e).every(t=>ip(s[t],e[t])):!1}function ET(s,e){if(s===e)return s;const t=NA(s)&&NA(e);if(t||nx(s)&&nx(e)){const n=t?s:Object.keys(s),r=n.length,o=t?e:Object.keys(e),l=o.length,c=t?[]:{},d=new Set(n);let f=0;for(let p=0;p<l;p++){const g=t?p:o[p];(!t&&d.has(g)||t)&&s[g]===void 0&&e[g]===void 0?(c[g]=void 0,f++):(c[g]=ET(s[g],e[g]),c[g]===s[g]&&s[g]!==void 0&&f++)}return r===l&&f===r?s:c}return e}function NA(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function nx(s){if(!MA(s))return!1;const e=s.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!MA(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function MA(s){return Object.prototype.toString.call(s)==="[object Object]"}function eD(s){return new Promise(e=>{setTimeout(e,s)})}function tD(s,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(s,e):t.structuralSharing!==!1?ET(s,e):e}function nD(s,e,t=0){const n=[...s,e];return t&&n.length>t?n.slice(1):n}function rD(s,e,t=0){const n=[e,...s];return t&&n.length>t?n.slice(0,-1):n}var V_=Symbol();function AT(s,e){return!s.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!s.queryFn||s.queryFn===V_?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}var ec,ka,md,eT,iD=(eT=class extends n0{constructor(){super();k(this,ec);k(this,ka);k(this,md);A(this,md,e=>{if(!r0&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){u(this,ka)||this.setEventListener(u(this,md))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,ka))==null||e.call(this),A(this,ka,void 0))}setEventListener(e){var t;A(this,md,e),(t=u(this,ka))==null||t.call(this),A(this,ka,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){u(this,ec)!==e&&(A(this,ec,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof u(this,ec)=="boolean"?u(this,ec):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ec=new WeakMap,ka=new WeakMap,md=new WeakMap,eT),CT=new iD,yd,Ia,vd,tT,sD=(tT=class extends n0{constructor(){super();k(this,yd,!0);k(this,Ia);k(this,vd);A(this,vd,e=>{if(!r0&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){u(this,Ia)||this.setEventListener(u(this,vd))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,Ia))==null||e.call(this),A(this,Ia,void 0))}setEventListener(e){var t;A(this,vd,e),(t=u(this,Ia))==null||t.call(this),A(this,Ia,e(this.setOnline.bind(this)))}setOnline(e){u(this,yd)!==e&&(A(this,yd,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return u(this,yd)}},yd=new WeakMap,Ia=new WeakMap,vd=new WeakMap,tT),mv=new sD;function oD(){let s,e;const t=new Promise((r,o)=>{s=r,e=o});t.status="pending",t.catch(()=>{});function n(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{n({status:"fulfilled",value:r}),s(r)},t.reject=r=>{n({status:"rejected",reason:r}),e(r)},t}function aD(s){return Math.min(1e3*2**s,3e4)}function TT(s){return(s??"online")==="online"?mv.isOnline():!0}var rx=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function PT(s){let e=!1,t=0,n;const r=oD(),o=()=>r.status!=="pending",l=b=>{var E;if(!o()){const T=new rx(b);y(T),(E=s.onCancel)==null||E.call(s,T)}},c=()=>{e=!0},d=()=>{e=!1},f=()=>CT.isFocused()&&(s.networkMode==="always"||mv.isOnline())&&s.canRun(),p=()=>TT(s.networkMode)&&s.canRun(),g=b=>{o()||(n==null||n(),r.resolve(b))},y=b=>{o()||(n==null||n(),r.reject(b))},w=()=>new Promise(b=>{var E;n=T=>{(o()||f())&&b(T)},(E=s.onPause)==null||E.call(s)}).then(()=>{var b;n=void 0,o()||(b=s.onContinue)==null||b.call(s)}),S=()=>{if(o())return;let b;const E=t===0?s.initialPromise:void 0;try{b=E??s.fn()}catch(T){b=Promise.reject(T)}Promise.resolve(b).then(g).catch(T=>{var B;if(o())return;const I=s.retry??(r0?0:3),L=s.retryDelay??aD,D=typeof L=="function"?L(t,T):L,F=I===!0||typeof I=="number"&&t<I||typeof I=="function"&&I(t,T);if(e||!F){y(T);return}t++,(B=s.onFail)==null||B.call(s,t,T),eD(D).then(()=>f()?void 0:w()).then(()=>{e?y(T):S()})})};return{promise:r,status:()=>r.status,cancel:l,continue:()=>(n==null||n(),r),cancelRetry:c,continueRetry:d,canStart:p,start:()=>(p()?S():w().then(S),r)}}var lD=s=>setTimeout(s,0);function cD(){let s=[],e=0,t=c=>{c()},n=c=>{c()},r=lD;const o=c=>{e?s.push(c):r(()=>{t(c)})},l=()=>{const c=s;s=[],c.length&&r(()=>{n(()=>{c.forEach(d=>{t(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||l()}return d},batchCalls:c=>(...d)=>{o(()=>{c(...d)})},schedule:o,setNotifyFunction:c=>{t=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{r=c}}}var wr=cD(),tc,nT,RT=(nT=class{constructor(){k(this,tc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),QM(this.gcTime)&&A(this,tc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(r0?1/0:300*1e3))}clearGcTimeout(){u(this,tc)&&(clearTimeout(u(this,tc)),A(this,tc,void 0))}},tc=new WeakMap,nT),wd,bd,Si,nc,An,vp,rc,Gi,fo,rT,uD=(rT=class extends RT{constructor(e){super();k(this,Gi);k(this,wd);k(this,bd);k(this,Si);k(this,nc);k(this,An);k(this,vp);k(this,rc);A(this,rc,!1),A(this,vp,e.defaultOptions),this.setOptions(e.options),this.observers=[],A(this,nc,e.client),A(this,Si,u(this,nc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,A(this,wd,hD(this.options)),this.state=e.state??u(this,wd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=u(this,An))==null?void 0:e.promise}setOptions(e){this.options={...u(this,vp),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&u(this,Si).remove(this)}setData(e,t){const n=tD(this.state.data,e,this.options);return N(this,Gi,fo).call(this,{data:n,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),n}setState(e,t){N(this,Gi,fo).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var n,r;const t=(n=u(this,An))==null?void 0:n.promise;return(r=u(this,An))==null||r.cancel(e),t?t.then(Wi).catch(Wi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(u(this,wd))}isActive(){return this.observers.some(e=>ZM(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===V_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>tx(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!JM(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=u(this,An))==null||t.continue()}onOnline(){var t;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=u(this,An))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),u(this,Si).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(u(this,An)&&(u(this,rc)?u(this,An).cancel({revert:!0}):u(this,An).cancelRetry()),this.scheduleGc()),u(this,Si).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||N(this,Gi,fo).call(this,{type:"invalidate"})}async fetch(e,t){var d,f,p,g,y,w,S,b,E,T,I,L;if(this.state.fetchStatus!=="idle"&&((d=u(this,An))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(u(this,An))return u(this,An).continueRetry(),u(this,An).promise}if(e&&this.setOptions(e),!this.options.queryFn){const D=this.observers.find(F=>F.options.queryFn);D&&this.setOptions(D.options)}const n=new AbortController,r=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(A(this,rc,!0),n.signal)})},o=()=>{const D=AT(this.options,t),B=(()=>{const $={client:u(this,nc),queryKey:this.queryKey,meta:this.meta};return r($),$})();return A(this,rc,!1),this.options.persister?this.options.persister(D,B,this):D(B)},c=(()=>{const D={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:u(this,nc),state:this.state,fetchFn:o};return r(D),D})();(f=this.options.behavior)==null||f.onFetch(c,this),A(this,bd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&N(this,Gi,fo).call(this,{type:"fetch",meta:(g=c.fetchOptions)==null?void 0:g.meta}),A(this,An,PT({initialPromise:t==null?void 0:t.initialPromise,fn:c.fetchFn,onCancel:D=>{D instanceof rx&&D.revert&&this.setState({...u(this,bd),fetchStatus:"idle"}),n.abort()},onFail:(D,F)=>{N(this,Gi,fo).call(this,{type:"failed",failureCount:D,error:F})},onPause:()=>{N(this,Gi,fo).call(this,{type:"pause"})},onContinue:()=>{N(this,Gi,fo).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const D=await u(this,An).start();if(D===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(D),(w=(y=u(this,Si).config).onSuccess)==null||w.call(y,D,this),(b=(S=u(this,Si).config).onSettled)==null||b.call(S,D,this.state.error,this),D}catch(D){if(D instanceof rx){if(D.silent)return u(this,An).promise;if(D.revert){if(this.state.data===void 0)throw D;return this.state.data}}throw N(this,Gi,fo).call(this,{type:"error",error:D}),(T=(E=u(this,Si).config).onError)==null||T.call(E,D,this),(L=(I=u(this,Si).config).onSettled)==null||L.call(I,this.state.data,D,this),D}finally{this.scheduleGc()}}},wd=new WeakMap,bd=new WeakMap,Si=new WeakMap,nc=new WeakMap,An=new WeakMap,vp=new WeakMap,rc=new WeakMap,Gi=new WeakSet,fo=function(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...dD(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return A(this,bd,e.manual?r:void 0),r;case"error":const o=e.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),wr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),u(this,Si).notify({query:this,type:"updated",action:e})})},rT);function dD(s,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:TT(e.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function hD(s){const e=typeof s.initialData=="function"?s.initialData():s.initialData,t=e!==void 0,n=t?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Cs,iT,fD=(iT=class extends n0{constructor(e={}){super();k(this,Cs);this.config=e,A(this,Cs,new Map)}build(e,t,n){const r=t.queryKey,o=t.queryHash??U_(r,t);let l=this.get(o);return l||(l=new uD({client:e,queryKey:r,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(l)),l}add(e){u(this,Cs).has(e.queryHash)||(u(this,Cs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=u(this,Cs).get(e.queryHash);t&&(e.destroy(),t===e&&u(this,Cs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){wr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return u(this,Cs).get(e)}getAll(){return[...u(this,Cs).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>IA(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>IA(e,n)):t}notify(e){wr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){wr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){wr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Cs=new WeakMap,iT),Ts,pr,ic,Ps,Ta,sT,pD=(sT=class extends RT{constructor(e){super();k(this,Ps);k(this,Ts);k(this,pr);k(this,ic);this.mutationId=e.mutationId,A(this,pr,e.mutationCache),A(this,Ts,[]),this.state=e.state||gD(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){u(this,Ts).includes(e)||(u(this,Ts).push(e),this.clearGcTimeout(),u(this,pr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){A(this,Ts,u(this,Ts).filter(t=>t!==e)),this.scheduleGc(),u(this,pr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){u(this,Ts).length||(this.state.status==="pending"?this.scheduleGc():u(this,pr).remove(this))}continue(){var e;return((e=u(this,ic))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,d,f,p,g,y,w,S,b,E,T,I,L,D,F,B,$,V;const t=()=>{N(this,Ps,Ta).call(this,{type:"continue"})};A(this,ic,PT({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(q,te)=>{N(this,Ps,Ta).call(this,{type:"failed",failureCount:q,error:te})},onPause:()=>{N(this,Ps,Ta).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>u(this,pr).canRun(this)}));const n=this.state.status==="pending",r=!u(this,ic).canStart();try{if(n)t();else{N(this,Ps,Ta).call(this,{type:"pending",variables:e,isPaused:r}),await((l=(o=u(this,pr).config).onMutate)==null?void 0:l.call(o,e,this));const te=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,e));te!==this.state.context&&N(this,Ps,Ta).call(this,{type:"pending",context:te,variables:e,isPaused:r})}const q=await u(this,ic).start();return await((p=(f=u(this,pr).config).onSuccess)==null?void 0:p.call(f,q,e,this.state.context,this)),await((y=(g=this.options).onSuccess)==null?void 0:y.call(g,q,e,this.state.context)),await((S=(w=u(this,pr).config).onSettled)==null?void 0:S.call(w,q,null,this.state.variables,this.state.context,this)),await((E=(b=this.options).onSettled)==null?void 0:E.call(b,q,null,e,this.state.context)),N(this,Ps,Ta).call(this,{type:"success",data:q}),q}catch(q){try{throw await((I=(T=u(this,pr).config).onError)==null?void 0:I.call(T,q,e,this.state.context,this)),await((D=(L=this.options).onError)==null?void 0:D.call(L,q,e,this.state.context)),await((B=(F=u(this,pr).config).onSettled)==null?void 0:B.call(F,void 0,q,this.state.variables,this.state.context,this)),await((V=($=this.options).onSettled)==null?void 0:V.call($,void 0,q,e,this.state.context)),q}finally{N(this,Ps,Ta).call(this,{type:"error",error:q})}}finally{u(this,pr).runNext(this)}}},Ts=new WeakMap,pr=new WeakMap,ic=new WeakMap,Ps=new WeakSet,Ta=function(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),wr.batch(()=>{u(this,Ts).forEach(n=>{n.onMutationUpdate(e)}),u(this,pr).notify({mutation:this,type:"updated",action:e})})},sT);function gD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wo,qi,wp,oT,mD=(oT=class extends n0{constructor(e={}){super();k(this,wo);k(this,qi);k(this,wp);this.config=e,A(this,wo,new Set),A(this,qi,new Map),A(this,wp,0)}build(e,t,n){const r=new pD({mutationCache:this,mutationId:++Sn(this,wp)._,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){u(this,wo).add(e);const t=py(e);if(typeof t=="string"){const n=u(this,qi).get(t);n?n.push(e):u(this,qi).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(u(this,wo).delete(e)){const t=py(e);if(typeof t=="string"){const n=u(this,qi).get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&u(this,qi).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=py(e);if(typeof t=="string"){const n=u(this,qi).get(t),r=n==null?void 0:n.find(o=>o.state.status==="pending");return!r||r===e}else return!0}runNext(e){var n;const t=py(e);if(typeof t=="string"){const r=(n=u(this,qi).get(t))==null?void 0:n.find(o=>o!==e&&o.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){wr.batch(()=>{u(this,wo).forEach(e=>{this.notify({type:"removed",mutation:e})}),u(this,wo).clear(),u(this,qi).clear()})}getAll(){return Array.from(u(this,wo))}find(e){const t={exact:!0,...e};return this.getAll().find(n=>LA(t,n))}findAll(e={}){return this.getAll().filter(t=>LA(e,t))}notify(e){wr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return wr.batch(()=>Promise.all(e.map(t=>t.continue().catch(Wi))))}},wo=new WeakMap,qi=new WeakMap,wp=new WeakMap,oT);function py(s){var e;return(e=s.options.scope)==null?void 0:e.id}function DA(s){return{onFetch:(e,t)=>{var p,g,y,w,S;const n=e.options,r=(y=(g=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,o=((w=e.state.data)==null?void 0:w.pages)||[],l=((S=e.state.data)==null?void 0:S.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const f=async()=>{let b=!1;const E=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},T=AT(e.options,e.fetchOptions),I=async(L,D,F)=>{if(b)return Promise.reject();if(D==null&&L.pages.length)return Promise.resolve(L);const $=(()=>{const re={client:e.client,queryKey:e.queryKey,pageParam:D,direction:F?"backward":"forward",meta:e.options.meta};return E(re),re})(),V=await T($),{maxPages:q}=e.options,te=F?rD:nD;return{pages:te(L.pages,V,q),pageParams:te(L.pageParams,D,q)}};if(r&&o.length){const L=r==="backward",D=L?yD:OA,F={pages:o,pageParams:l},B=D(n,F);c=await I(F,B,L)}else{const L=s??o.length;do{const D=d===0?l[0]??n.initialPageParam:OA(n,c);if(d>0&&D==null)break;c=await I(c,D),d++}while(d<L)}return c};e.options.persister?e.fetchFn=()=>{var b,E;return(E=(b=e.options).persister)==null?void 0:E.call(b,f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=f}}}function OA(s,{pages:e,pageParams:t}){const n=e.length-1;return e.length>0?s.getNextPageParam(e[n],e,t[n],t):void 0}function yD(s,{pages:e,pageParams:t}){var n;return e.length>0?(n=s.getPreviousPageParam)==null?void 0:n.call(s,e[0],e,t[0],t):void 0}var Gt,La,Na,xd,_d,Ma,Sd,Ed,aT,vD=(aT=class{constructor(s={}){k(this,Gt);k(this,La);k(this,Na);k(this,xd);k(this,_d);k(this,Ma);k(this,Sd);k(this,Ed);A(this,Gt,s.queryCache||new fD),A(this,La,s.mutationCache||new mD),A(this,Na,s.defaultOptions||{}),A(this,xd,new Map),A(this,_d,new Map),A(this,Ma,0)}mount(){Sn(this,Ma)._++,u(this,Ma)===1&&(A(this,Sd,CT.subscribe(async s=>{s&&(await this.resumePausedMutations(),u(this,Gt).onFocus())})),A(this,Ed,mv.subscribe(async s=>{s&&(await this.resumePausedMutations(),u(this,Gt).onOnline())})))}unmount(){var s,e;Sn(this,Ma)._--,u(this,Ma)===0&&((s=u(this,Sd))==null||s.call(this),A(this,Sd,void 0),(e=u(this,Ed))==null||e.call(this),A(this,Ed,void 0))}isFetching(s){return u(this,Gt).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return u(this,La).findAll({...s,status:"pending"}).length}getQueryData(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=u(this,Gt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(s){const e=this.defaultQueryOptions(s),t=u(this,Gt).build(this,e),n=t.state.data;return n===void 0?this.fetchQuery(s):(s.revalidateIfStale&&t.isStaleByTime(tx(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(s){return u(this,Gt).findAll(s).map(({queryKey:e,state:t})=>{const n=t.data;return[e,n]})}setQueryData(s,e,t){const n=this.defaultQueryOptions({queryKey:s}),r=u(this,Gt).get(n.queryHash),o=r==null?void 0:r.state.data,l=KM(e,o);if(l!==void 0)return u(this,Gt).build(this,n).setData(l,{...t,manual:!0})}setQueriesData(s,e,t){return wr.batch(()=>u(this,Gt).findAll(s).map(({queryKey:n})=>[n,this.setQueryData(n,e,t)]))}getQueryState(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=u(this,Gt).get(e.queryHash))==null?void 0:t.state}removeQueries(s){const e=u(this,Gt);wr.batch(()=>{e.findAll(s).forEach(t=>{e.remove(t)})})}resetQueries(s,e){const t=u(this,Gt);return wr.batch(()=>(t.findAll(s).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...s},e)))}cancelQueries(s,e={}){const t={revert:!0,...e},n=wr.batch(()=>u(this,Gt).findAll(s).map(r=>r.cancel(t)));return Promise.all(n).then(Wi).catch(Wi)}invalidateQueries(s,e={}){return wr.batch(()=>(u(this,Gt).findAll(s).forEach(t=>{t.invalidate()}),(s==null?void 0:s.refetchType)==="none"?Promise.resolve():this.refetchQueries({...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"},e)))}refetchQueries(s,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},n=wr.batch(()=>u(this,Gt).findAll(s).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let o=r.fetch(void 0,t);return t.throwOnError||(o=o.catch(Wi)),r.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Wi)}fetchQuery(s){const e=this.defaultQueryOptions(s);e.retry===void 0&&(e.retry=!1);const t=u(this,Gt).build(this,e);return t.isStaleByTime(tx(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(Wi).catch(Wi)}fetchInfiniteQuery(s){return s.behavior=DA(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(Wi).catch(Wi)}ensureInfiniteQueryData(s){return s.behavior=DA(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return mv.isOnline()?u(this,La).resumePausedMutations():Promise.resolve()}getQueryCache(){return u(this,Gt)}getMutationCache(){return u(this,La)}getDefaultOptions(){return u(this,Na)}setDefaultOptions(s){A(this,Na,s)}setQueryDefaults(s,e){u(this,xd).set(rp(s),{queryKey:s,defaultOptions:e})}getQueryDefaults(s){const e=[...u(this,xd).values()],t={};return e.forEach(n=>{ip(s,n.queryKey)&&Object.assign(t,n.defaultOptions)}),t}setMutationDefaults(s,e){u(this,_d).set(rp(s),{mutationKey:s,defaultOptions:e})}getMutationDefaults(s){const e=[...u(this,_d).values()],t={};return e.forEach(n=>{ip(s,n.mutationKey)&&Object.assign(t,n.defaultOptions)}),t}defaultQueryOptions(s){if(s._defaulted)return s;const e={...u(this,Na).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return e.queryHash||(e.queryHash=U_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===V_&&(e.enabled=!1),e}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...u(this,Na).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){u(this,Gt).clear(),u(this,La).clear()}},Gt=new WeakMap,La=new WeakMap,Na=new WeakMap,xd=new WeakMap,_d=new WeakMap,Ma=new WeakMap,Sd=new WeakMap,Ed=new WeakMap,aT),wD=R.createContext(void 0),bD=({client:s,children:e})=>(R.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),P.jsx(wD.Provider,{value:s,children:e}));function tt(s,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(s==null||s(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function FA(s,e){if(typeof s=="function")return s(e);s!=null&&(s.current=e)}function kT(...s){return e=>{let t=!1;const n=s.map(r=>{const o=FA(r,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let r=0;r<n.length;r++){const o=n[r];typeof o=="function"?o():FA(s[r],null)}}}}function Ut(...s){return R.useCallback(kT(...s),s)}function kl(s,e=[]){let t=[];function n(o,l){const c=R.createContext(l),d=t.length;t=[...t,l];const f=g=>{var T;const{scope:y,children:w,...S}=g,b=((T=y==null?void 0:y[s])==null?void 0:T[d])||c,E=R.useMemo(()=>S,Object.values(S));return P.jsx(b.Provider,{value:E,children:w})};f.displayName=o+"Provider";function p(g,y){var b;const w=((b=y==null?void 0:y[s])==null?void 0:b[d])||c,S=R.useContext(w);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[f,p]}const r=()=>{const o=t.map(l=>R.createContext(l));return function(c){const d=(c==null?void 0:c[s])||o;return R.useMemo(()=>({[`__scope${s}`]:{...c,[s]:d}}),[c,d])}};return r.scopeName=s,[n,xD(r,...e)]}function xD(...s){const e=s[0];if(s.length===1)return e;const t=()=>{const n=s.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(o){const l=n.reduce((c,{useScope:d,scopeName:f})=>{const g=d(o)[`__scope${f}`];return{...c,...g}},{});return R.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function sp(s){const e=SD(s),t=R.forwardRef((n,r)=>{const{children:o,...l}=n,c=R.Children.toArray(o),d=c.find(AD);if(d){const f=d.props.children,p=c.map(g=>g===d?R.Children.count(f)>1?R.Children.only(null):R.isValidElement(f)?f.props.children:null:g);return P.jsx(e,{...l,ref:r,children:R.isValidElement(f)?R.cloneElement(f,void 0,p):null})}return P.jsx(e,{...l,ref:r,children:o})});return t.displayName=`${s}.Slot`,t}var _D=sp("Slot");function SD(s){const e=R.forwardRef((t,n)=>{const{children:r,...o}=t;if(R.isValidElement(r)){const l=TD(r),c=CD(o,r.props);return r.type!==R.Fragment&&(c.ref=n?kT(n,l):l),R.cloneElement(r,c)}return R.Children.count(r)>1?R.Children.only(null):null});return e.displayName=`${s}.SlotClone`,e}var IT=Symbol("radix.slottable");function ED(s){const e=({children:t})=>P.jsx(P.Fragment,{children:t});return e.displayName=`${s}.Slottable`,e.__radixId=IT,e}function AD(s){return R.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===IT}function CD(s,e){const t={...e};for(const n in e){const r=s[n],o=e[n];/^on[A-Z]/.test(n)?r&&o?t[n]=(...c)=>{const d=o(...c);return r(...c),d}:r&&(t[n]=r):n==="style"?t[n]={...r,...o}:n==="className"&&(t[n]=[r,o].filter(Boolean).join(" "))}return{...s,...t}}function TD(s){var n,r;let e=(n=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?s.ref:(e=(r=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?s.props.ref:s.props.ref||s.ref)}var PD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ut=PD.reduce((s,e)=>{const t=sp(`Primitive.${e}`),n=R.forwardRef((r,o)=>{const{asChild:l,...c}=r,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(d,{...c,ref:o})});return n.displayName=`Primitive.${e}`,{...s,[e]:n}},{});function RD(s,e){s&&Yg.flushSync(()=>s.dispatchEvent(e))}function bl(s){const e=R.useRef(s);return R.useEffect(()=>{e.current=s}),R.useMemo(()=>(...t)=>{var n;return(n=e.current)==null?void 0:n.call(e,...t)},[])}function kD(s,e=globalThis==null?void 0:globalThis.document){const t=bl(s);R.useEffect(()=>{const n=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[t,e])}var ID="DismissableLayer",ix="dismissableLayer.update",LD="dismissableLayer.pointerDownOutside",ND="dismissableLayer.focusOutside",jA,LT=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),W_=R.forwardRef((s,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=s,f=R.useContext(LT),[p,g]=R.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=R.useState({}),S=Ut(e,$=>g($)),b=Array.from(f.layers),[E]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),T=b.indexOf(E),I=p?b.indexOf(p):-1,L=f.layersWithOutsidePointerEventsDisabled.size>0,D=I>=T,F=OD($=>{const V=$.target,q=[...f.branches].some(te=>te.contains(V));!D||q||(r==null||r($),l==null||l($),$.defaultPrevented||c==null||c())},y),B=FD($=>{const V=$.target;[...f.branches].some(te=>te.contains(V))||(o==null||o($),l==null||l($),$.defaultPrevented||c==null||c())},y);return kD($=>{I===f.layers.size-1&&(n==null||n($),!$.defaultPrevented&&c&&($.preventDefault(),c()))},y),R.useEffect(()=>{if(p)return t&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(jA=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),BA(),()=>{t&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=jA)}},[p,y,t,f]),R.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),BA())},[p,f]),R.useEffect(()=>{const $=()=>w({});return document.addEventListener(ix,$),()=>document.removeEventListener(ix,$)},[]),P.jsx(ut.div,{...d,ref:S,style:{pointerEvents:L?D?"auto":"none":void 0,...s.style},onFocusCapture:tt(s.onFocusCapture,B.onFocusCapture),onBlurCapture:tt(s.onBlurCapture,B.onBlurCapture),onPointerDownCapture:tt(s.onPointerDownCapture,F.onPointerDownCapture)})});W_.displayName=ID;var MD="DismissableLayerBranch",DD=R.forwardRef((s,e)=>{const t=R.useContext(LT),n=R.useRef(null),r=Ut(e,n);return R.useEffect(()=>{const o=n.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),P.jsx(ut.div,{...s,ref:r})});DD.displayName=MD;function OD(s,e=globalThis==null?void 0:globalThis.document){const t=bl(s),n=R.useRef(!1),r=R.useRef(()=>{});return R.useEffect(()=>{const o=c=>{if(c.target&&!n.current){let d=function(){NT(LD,t,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=d,e.addEventListener("click",r.current,{once:!0})):d()}else e.removeEventListener("click",r.current);n.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function FD(s,e=globalThis==null?void 0:globalThis.document){const t=bl(s),n=R.useRef(!1);return R.useEffect(()=>{const r=o=>{o.target&&!n.current&&NT(ND,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function BA(){const s=new CustomEvent(ix);document.dispatchEvent(s)}function NT(s,e,t,{discrete:n}){const r=t.originalEvent.target,o=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(s,e,{once:!0}),n?RD(r,o):r.dispatchEvent(o)}var qn=globalThis!=null&&globalThis.document?R.useLayoutEffect:()=>{},jD=$_[" useId ".trim().toString()]||(()=>{}),BD=0;function Il(s){const[e,t]=R.useState(jD());return qn(()=>{t(n=>n??String(BD++))},[s]),e?`radix-${e}`:""}const $D=["top","right","bottom","left"],xl=Math.min,li=Math.max,yv=Math.round,gy=Math.floor,Qs=s=>({x:s,y:s}),zD={left:"right",right:"left",bottom:"top",top:"bottom"},HD={start:"end",end:"start"};function sx(s,e,t){return li(s,xl(e,t))}function Zo(s,e){return typeof s=="function"?s(e):s}function ea(s){return s.split("-")[0]}function Fh(s){return s.split("-")[1]}function G_(s){return s==="x"?"y":"x"}function q_(s){return s==="y"?"height":"width"}const UD=new Set(["top","bottom"]);function Ks(s){return UD.has(ea(s))?"y":"x"}function Y_(s){return G_(Ks(s))}function VD(s,e,t){t===void 0&&(t=!1);const n=Fh(s),r=Y_(s),o=q_(r);let l=r==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=vv(l)),[l,vv(l)]}function WD(s){const e=vv(s);return[ox(s),e,ox(e)]}function ox(s){return s.replace(/start|end/g,e=>HD[e])}const $A=["left","right"],zA=["right","left"],GD=["top","bottom"],qD=["bottom","top"];function YD(s,e,t){switch(s){case"top":case"bottom":return t?e?zA:$A:e?$A:zA;case"left":case"right":return e?GD:qD;default:return[]}}function XD(s,e,t,n){const r=Fh(s);let o=YD(ea(s),t==="start",n);return r&&(o=o.map(l=>l+"-"+r),e&&(o=o.concat(o.map(ox)))),o}function vv(s){return s.replace(/left|right|bottom|top/g,e=>zD[e])}function KD(s){return{top:0,right:0,bottom:0,left:0,...s}}function MT(s){return typeof s!="number"?KD(s):{top:s,right:s,bottom:s,left:s}}function wv(s){const{x:e,y:t,width:n,height:r}=s;return{width:n,height:r,top:t,left:e,right:e+n,bottom:t+r,x:e,y:t}}function HA(s,e,t){let{reference:n,floating:r}=s;const o=Ks(e),l=Y_(e),c=q_(l),d=ea(e),f=o==="y",p=n.x+n.width/2-r.width/2,g=n.y+n.height/2-r.height/2,y=n[c]/2-r[c]/2;let w;switch(d){case"top":w={x:p,y:n.y-r.height};break;case"bottom":w={x:p,y:n.y+n.height};break;case"right":w={x:n.x+n.width,y:g};break;case"left":w={x:n.x-r.width,y:g};break;default:w={x:n.x,y:n.y}}switch(Fh(e)){case"start":w[l]-=y*(t&&f?-1:1);break;case"end":w[l]+=y*(t&&f?-1:1);break}return w}const QD=async(s,e,t)=>{const{placement:n="bottom",strategy:r="absolute",middleware:o=[],platform:l}=t,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:s,floating:e,strategy:r}),{x:p,y:g}=HA(f,n,d),y=n,w={},S=0;for(let b=0;b<c.length;b++){const{name:E,fn:T}=c[b],{x:I,y:L,data:D,reset:F}=await T({x:p,y:g,initialPlacement:n,placement:y,strategy:r,middlewareData:w,rects:f,platform:l,elements:{reference:s,floating:e}});p=I??p,g=L??g,w={...w,[E]:{...w[E],...D}},F&&S<=50&&(S++,typeof F=="object"&&(F.placement&&(y=F.placement),F.rects&&(f=F.rects===!0?await l.getElementRects({reference:s,floating:e,strategy:r}):F.rects),{x:p,y:g}=HA(f,y,d)),b=-1)}return{x:p,y:g,placement:y,strategy:r,middlewareData:w}};async function op(s,e){var t;e===void 0&&(e={});const{x:n,y:r,platform:o,rects:l,elements:c,strategy:d}=s,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:y=!1,padding:w=0}=Zo(e,s),S=MT(w),E=c[y?g==="floating"?"reference":"floating":g],T=wv(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(E)))==null||t?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:d})),I=g==="floating"?{x:n,y:r,width:l.floating.width,height:l.floating.height}:l.reference,L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),D=await(o.isElement==null?void 0:o.isElement(L))?await(o.getScale==null?void 0:o.getScale(L))||{x:1,y:1}:{x:1,y:1},F=wv(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:I,offsetParent:L,strategy:d}):I);return{top:(T.top-F.top+S.top)/D.y,bottom:(F.bottom-T.bottom+S.bottom)/D.y,left:(T.left-F.left+S.left)/D.x,right:(F.right-T.right+S.right)/D.x}}const JD=s=>({name:"arrow",options:s,async fn(e){const{x:t,y:n,placement:r,rects:o,platform:l,elements:c,middlewareData:d}=e,{element:f,padding:p=0}=Zo(s,e)||{};if(f==null)return{};const g=MT(p),y={x:t,y:n},w=Y_(r),S=q_(w),b=await l.getDimensions(f),E=w==="y",T=E?"top":"left",I=E?"bottom":"right",L=E?"clientHeight":"clientWidth",D=o.reference[S]+o.reference[w]-y[w]-o.floating[S],F=y[w]-o.reference[w],B=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let $=B?B[L]:0;(!$||!await(l.isElement==null?void 0:l.isElement(B)))&&($=c.floating[L]||o.floating[S]);const V=D/2-F/2,q=$/2-b[S]/2-1,te=xl(g[T],q),re=xl(g[I],q),be=te,pe=$-b[S]-re,ae=$/2-b[S]/2+V,_e=sx(be,ae,pe),Y=!d.arrow&&Fh(r)!=null&&ae!==_e&&o.reference[S]/2-(ae<be?te:re)-b[S]/2<0,J=Y?ae<be?ae-be:ae-pe:0;return{[w]:y[w]+J,data:{[w]:_e,centerOffset:ae-_e-J,...Y&&{alignmentOffset:J}},reset:Y}}}),ZD=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(e){var t,n;const{placement:r,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:f}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:b=!0,...E}=Zo(s,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const T=ea(r),I=Ks(c),L=ea(c)===c,D=await(d.isRTL==null?void 0:d.isRTL(f.floating)),F=y||(L||!b?[vv(c)]:WD(c)),B=S!=="none";!y&&B&&F.push(...XD(c,b,S,D));const $=[c,...F],V=await op(e,E),q=[];let te=((n=o.flip)==null?void 0:n.overflows)||[];if(p&&q.push(V[T]),g){const ae=VD(r,l,D);q.push(V[ae[0]],V[ae[1]])}if(te=[...te,{placement:r,overflows:q}],!q.every(ae=>ae<=0)){var re,be;const ae=(((re=o.flip)==null?void 0:re.index)||0)+1,_e=$[ae];if(_e&&(!(g==="alignment"?I!==Ks(_e):!1)||te.every(Q=>Ks(Q.placement)===I?Q.overflows[0]>0:!0)))return{data:{index:ae,overflows:te},reset:{placement:_e}};let Y=(be=te.filter(J=>J.overflows[0]<=0).sort((J,Q)=>J.overflows[1]-Q.overflows[1])[0])==null?void 0:be.placement;if(!Y)switch(w){case"bestFit":{var pe;const J=(pe=te.filter(Q=>{if(B){const ue=Ks(Q.placement);return ue===I||ue==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(ue=>ue>0).reduce((ue,ce)=>ue+ce,0)]).sort((Q,ue)=>Q[1]-ue[1])[0])==null?void 0:pe[0];J&&(Y=J);break}case"initialPlacement":Y=c;break}if(r!==Y)return{reset:{placement:Y}}}return{}}}};function UA(s,e){return{top:s.top-e.height,right:s.right-e.width,bottom:s.bottom-e.height,left:s.left-e.width}}function VA(s){return $D.some(e=>s[e]>=0)}const eO=function(s){return s===void 0&&(s={}),{name:"hide",options:s,async fn(e){const{rects:t}=e,{strategy:n="referenceHidden",...r}=Zo(s,e);switch(n){case"referenceHidden":{const o=await op(e,{...r,elementContext:"reference"}),l=UA(o,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:VA(l)}}}case"escaped":{const o=await op(e,{...r,altBoundary:!0}),l=UA(o,t.floating);return{data:{escapedOffsets:l,escaped:VA(l)}}}default:return{}}}}},DT=new Set(["left","top"]);async function tO(s,e){const{placement:t,platform:n,elements:r}=s,o=await(n.isRTL==null?void 0:n.isRTL(r.floating)),l=ea(t),c=Fh(t),d=Ks(t)==="y",f=DT.has(l)?-1:1,p=o&&d?-1:1,g=Zo(e,s);let{mainAxis:y,crossAxis:w,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof S=="number"&&(w=c==="end"?S*-1:S),d?{x:w*p,y:y*f}:{x:y*f,y:w*p}}const nO=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(e){var t,n;const{x:r,y:o,placement:l,middlewareData:c}=e,d=await tO(e,s);return l===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:r+d.x,y:o+d.y,data:{...d,placement:l}}}}},rO=function(s){return s===void 0&&(s={}),{name:"shift",options:s,async fn(e){const{x:t,y:n,placement:r}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:E=>{let{x:T,y:I}=E;return{x:T,y:I}}},...d}=Zo(s,e),f={x:t,y:n},p=await op(e,d),g=Ks(ea(r)),y=G_(g);let w=f[y],S=f[g];if(o){const E=y==="y"?"top":"left",T=y==="y"?"bottom":"right",I=w+p[E],L=w-p[T];w=sx(I,w,L)}if(l){const E=g==="y"?"top":"left",T=g==="y"?"bottom":"right",I=S+p[E],L=S-p[T];S=sx(I,S,L)}const b=c.fn({...e,[y]:w,[g]:S});return{...b,data:{x:b.x-t,y:b.y-n,enabled:{[y]:o,[g]:l}}}}}},iO=function(s){return s===void 0&&(s={}),{options:s,fn(e){const{x:t,y:n,placement:r,rects:o,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=Zo(s,e),p={x:t,y:n},g=Ks(r),y=G_(g);let w=p[y],S=p[g];const b=Zo(c,e),E=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const L=y==="y"?"height":"width",D=o.reference[y]-o.floating[L]+E.mainAxis,F=o.reference[y]+o.reference[L]-E.mainAxis;w<D?w=D:w>F&&(w=F)}if(f){var T,I;const L=y==="y"?"width":"height",D=DT.has(ea(r)),F=o.reference[g]-o.floating[L]+(D&&((T=l.offset)==null?void 0:T[g])||0)+(D?0:E.crossAxis),B=o.reference[g]+o.reference[L]+(D?0:((I=l.offset)==null?void 0:I[g])||0)-(D?E.crossAxis:0);S<F?S=F:S>B&&(S=B)}return{[y]:w,[g]:S}}}},sO=function(s){return s===void 0&&(s={}),{name:"size",options:s,async fn(e){var t,n;const{placement:r,rects:o,platform:l,elements:c}=e,{apply:d=()=>{},...f}=Zo(s,e),p=await op(e,f),g=ea(r),y=Fh(r),w=Ks(r)==="y",{width:S,height:b}=o.floating;let E,T;g==="top"||g==="bottom"?(E=g,T=y===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(T=g,E=y==="end"?"top":"bottom");const I=b-p.top-p.bottom,L=S-p.left-p.right,D=xl(b-p[E],I),F=xl(S-p[T],L),B=!e.middlewareData.shift;let $=D,V=F;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(V=L),(n=e.middlewareData.shift)!=null&&n.enabled.y&&($=I),B&&!y){const te=li(p.left,0),re=li(p.right,0),be=li(p.top,0),pe=li(p.bottom,0);w?V=S-2*(te!==0||re!==0?te+re:li(p.left,p.right)):$=b-2*(be!==0||pe!==0?be+pe:li(p.top,p.bottom))}await d({...e,availableWidth:V,availableHeight:$});const q=await l.getDimensions(c.floating);return S!==q.width||b!==q.height?{reset:{rects:!0}}:{}}}};function i0(){return typeof window<"u"}function jh(s){return OT(s)?(s.nodeName||"").toLowerCase():"#document"}function ui(s){var e;return(s==null||(e=s.ownerDocument)==null?void 0:e.defaultView)||window}function eo(s){var e;return(e=(OT(s)?s.ownerDocument:s.document)||window.document)==null?void 0:e.documentElement}function OT(s){return i0()?s instanceof Node||s instanceof ui(s).Node:!1}function us(s){return i0()?s instanceof Element||s instanceof ui(s).Element:!1}function Js(s){return i0()?s instanceof HTMLElement||s instanceof ui(s).HTMLElement:!1}function WA(s){return!i0()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof ui(s).ShadowRoot}const oO=new Set(["inline","contents"]);function Kg(s){const{overflow:e,overflowX:t,overflowY:n,display:r}=ds(s);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!oO.has(r)}const aO=new Set(["table","td","th"]);function lO(s){return aO.has(jh(s))}const cO=[":popover-open",":modal"];function s0(s){return cO.some(e=>{try{return s.matches(e)}catch{return!1}})}const uO=["transform","translate","scale","rotate","perspective"],dO=["transform","translate","scale","rotate","perspective","filter"],hO=["paint","layout","strict","content"];function X_(s){const e=K_(),t=us(s)?ds(s):s;return uO.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||dO.some(n=>(t.willChange||"").includes(n))||hO.some(n=>(t.contain||"").includes(n))}function fO(s){let e=_l(s);for(;Js(e)&&!Ih(e);){if(X_(e))return e;if(s0(e))return null;e=_l(e)}return null}function K_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pO=new Set(["html","body","#document"]);function Ih(s){return pO.has(jh(s))}function ds(s){return ui(s).getComputedStyle(s)}function o0(s){return us(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function _l(s){if(jh(s)==="html")return s;const e=s.assignedSlot||s.parentNode||WA(s)&&s.host||eo(s);return WA(e)?e.host:e}function FT(s){const e=_l(s);return Ih(e)?s.ownerDocument?s.ownerDocument.body:s.body:Js(e)&&Kg(e)?e:FT(e)}function ap(s,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=FT(s),o=r===((n=s.ownerDocument)==null?void 0:n.body),l=ui(r);if(o){const c=ax(l);return e.concat(l,l.visualViewport||[],Kg(r)?r:[],c&&t?ap(c):[])}return e.concat(r,ap(r,[],t))}function ax(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}function jT(s){const e=ds(s);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=Js(s),o=r?s.offsetWidth:t,l=r?s.offsetHeight:n,c=yv(t)!==o||yv(n)!==l;return c&&(t=o,n=l),{width:t,height:n,$:c}}function Q_(s){return us(s)?s:s.contextElement}function ld(s){const e=Q_(s);if(!Js(e))return Qs(1);const t=e.getBoundingClientRect(),{width:n,height:r,$:o}=jT(e);let l=(o?yv(t.width):t.width)/n,c=(o?yv(t.height):t.height)/r;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const gO=Qs(0);function BT(s){const e=ui(s);return!K_()||!e.visualViewport?gO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mO(s,e,t){return e===void 0&&(e=!1),!t||e&&t!==ui(s)?!1:e}function gu(s,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=s.getBoundingClientRect(),o=Q_(s);let l=Qs(1);e&&(n?us(n)&&(l=ld(n)):l=ld(s));const c=mO(o,t,n)?BT(o):Qs(0);let d=(r.left+c.x)/l.x,f=(r.top+c.y)/l.y,p=r.width/l.x,g=r.height/l.y;if(o){const y=ui(o),w=n&&us(n)?ui(n):n;let S=y,b=ax(S);for(;b&&n&&w!==S;){const E=ld(b),T=b.getBoundingClientRect(),I=ds(b),L=T.left+(b.clientLeft+parseFloat(I.paddingLeft))*E.x,D=T.top+(b.clientTop+parseFloat(I.paddingTop))*E.y;d*=E.x,f*=E.y,p*=E.x,g*=E.y,d+=L,f+=D,S=ui(b),b=ax(S)}}return wv({width:p,height:g,x:d,y:f})}function a0(s,e){const t=o0(s).scrollLeft;return e?e.left+t:gu(eo(s)).left+t}function $T(s,e){const t=s.getBoundingClientRect(),n=t.left+e.scrollLeft-a0(s,t),r=t.top+e.scrollTop;return{x:n,y:r}}function yO(s){let{elements:e,rect:t,offsetParent:n,strategy:r}=s;const o=r==="fixed",l=eo(n),c=e?s0(e.floating):!1;if(n===l||c&&o)return t;let d={scrollLeft:0,scrollTop:0},f=Qs(1);const p=Qs(0),g=Js(n);if((g||!g&&!o)&&((jh(n)!=="body"||Kg(l))&&(d=o0(n)),Js(n))){const w=gu(n);f=ld(n),p.x=w.x+n.clientLeft,p.y=w.y+n.clientTop}const y=l&&!g&&!o?$T(l,d):Qs(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-d.scrollLeft*f.x+p.x+y.x,y:t.y*f.y-d.scrollTop*f.y+p.y+y.y}}function vO(s){return Array.from(s.getClientRects())}function wO(s){const e=eo(s),t=o0(s),n=s.ownerDocument.body,r=li(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=li(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+a0(s);const c=-t.scrollTop;return ds(n).direction==="rtl"&&(l+=li(e.clientWidth,n.clientWidth)-r),{width:r,height:o,x:l,y:c}}const GA=25;function bO(s,e){const t=ui(s),n=eo(s),r=t.visualViewport;let o=n.clientWidth,l=n.clientHeight,c=0,d=0;if(r){o=r.width,l=r.height;const p=K_();(!p||p&&e==="fixed")&&(c=r.offsetLeft,d=r.offsetTop)}const f=a0(n);if(f<=0){const p=n.ownerDocument,g=p.body,y=getComputedStyle(g),w=p.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,S=Math.abs(n.clientWidth-g.clientWidth-w);S<=GA&&(o-=S)}else f<=GA&&(o+=f);return{width:o,height:l,x:c,y:d}}const xO=new Set(["absolute","fixed"]);function _O(s,e){const t=gu(s,!0,e==="fixed"),n=t.top+s.clientTop,r=t.left+s.clientLeft,o=Js(s)?ld(s):Qs(1),l=s.clientWidth*o.x,c=s.clientHeight*o.y,d=r*o.x,f=n*o.y;return{width:l,height:c,x:d,y:f}}function qA(s,e,t){let n;if(e==="viewport")n=bO(s,t);else if(e==="document")n=wO(eo(s));else if(us(e))n=_O(e,t);else{const r=BT(s);n={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return wv(n)}function zT(s,e){const t=_l(s);return t===e||!us(t)||Ih(t)?!1:ds(t).position==="fixed"||zT(t,e)}function SO(s,e){const t=e.get(s);if(t)return t;let n=ap(s,[],!1).filter(c=>us(c)&&jh(c)!=="body"),r=null;const o=ds(s).position==="fixed";let l=o?_l(s):s;for(;us(l)&&!Ih(l);){const c=ds(l),d=X_(l);!d&&c.position==="fixed"&&(r=null),(o?!d&&!r:!d&&c.position==="static"&&!!r&&xO.has(r.position)||Kg(l)&&!d&&zT(s,l))?n=n.filter(p=>p!==l):r=c,l=_l(l)}return e.set(s,n),n}function EO(s){let{element:e,boundary:t,rootBoundary:n,strategy:r}=s;const l=[...t==="clippingAncestors"?s0(e)?[]:SO(e,this._c):[].concat(t),n],c=l[0],d=l.reduce((f,p)=>{const g=qA(e,p,r);return f.top=li(g.top,f.top),f.right=xl(g.right,f.right),f.bottom=xl(g.bottom,f.bottom),f.left=li(g.left,f.left),f},qA(e,c,r));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function AO(s){const{width:e,height:t}=jT(s);return{width:e,height:t}}function CO(s,e,t){const n=Js(e),r=eo(e),o=t==="fixed",l=gu(s,!0,o,e);let c={scrollLeft:0,scrollTop:0};const d=Qs(0);function f(){d.x=a0(r)}if(n||!n&&!o)if((jh(e)!=="body"||Kg(r))&&(c=o0(e)),n){const w=gu(e,!0,o,e);d.x=w.x+e.clientLeft,d.y=w.y+e.clientTop}else r&&f();o&&!n&&r&&f();const p=r&&!n&&!o?$T(r,c):Qs(0),g=l.left+c.scrollLeft-d.x-p.x,y=l.top+c.scrollTop-d.y-p.y;return{x:g,y,width:l.width,height:l.height}}function bb(s){return ds(s).position==="static"}function YA(s,e){if(!Js(s)||ds(s).position==="fixed")return null;if(e)return e(s);let t=s.offsetParent;return eo(s)===t&&(t=t.ownerDocument.body),t}function HT(s,e){const t=ui(s);if(s0(s))return t;if(!Js(s)){let r=_l(s);for(;r&&!Ih(r);){if(us(r)&&!bb(r))return r;r=_l(r)}return t}let n=YA(s,e);for(;n&&lO(n)&&bb(n);)n=YA(n,e);return n&&Ih(n)&&bb(n)&&!X_(n)?t:n||fO(s)||t}const TO=async function(s){const e=this.getOffsetParent||HT,t=this.getDimensions,n=await t(s.floating);return{reference:CO(s.reference,await e(s.floating),s.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function PO(s){return ds(s).direction==="rtl"}const RO={convertOffsetParentRelativeRectToViewportRelativeRect:yO,getDocumentElement:eo,getClippingRect:EO,getOffsetParent:HT,getElementRects:TO,getClientRects:vO,getDimensions:AO,getScale:ld,isElement:us,isRTL:PO};function UT(s,e){return s.x===e.x&&s.y===e.y&&s.width===e.width&&s.height===e.height}function kO(s,e){let t=null,n;const r=eo(s);function o(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const f=s.getBoundingClientRect(),{left:p,top:g,width:y,height:w}=f;if(c||e(),!y||!w)return;const S=gy(g),b=gy(r.clientWidth-(p+y)),E=gy(r.clientHeight-(g+w)),T=gy(p),L={rootMargin:-S+"px "+-b+"px "+-E+"px "+-T+"px",threshold:li(0,xl(1,d))||1};let D=!0;function F(B){const $=B[0].intersectionRatio;if($!==d){if(!D)return l();$?l(!1,$):n=setTimeout(()=>{l(!1,1e-7)},1e3)}$===1&&!UT(f,s.getBoundingClientRect())&&l(),D=!1}try{t=new IntersectionObserver(F,{...L,root:r.ownerDocument})}catch{t=new IntersectionObserver(F,L)}t.observe(s)}return l(!0),o}function IO(s,e,t,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=Q_(s),p=r||o?[...f?ap(f):[],...ap(e)]:[];p.forEach(T=>{r&&T.addEventListener("scroll",t,{passive:!0}),o&&T.addEventListener("resize",t)});const g=f&&c?kO(f,t):null;let y=-1,w=null;l&&(w=new ResizeObserver(T=>{let[I]=T;I&&I.target===f&&w&&(w.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var L;(L=w)==null||L.observe(e)})),t()}),f&&!d&&w.observe(f),w.observe(e));let S,b=d?gu(s):null;d&&E();function E(){const T=gu(s);b&&!UT(b,T)&&t(),b=T,S=requestAnimationFrame(E)}return t(),()=>{var T;p.forEach(I=>{r&&I.removeEventListener("scroll",t),o&&I.removeEventListener("resize",t)}),g==null||g(),(T=w)==null||T.disconnect(),w=null,d&&cancelAnimationFrame(S)}}const LO=nO,NO=rO,MO=ZD,DO=sO,OO=eO,XA=JD,FO=iO,jO=(s,e,t)=>{const n=new Map,r={platform:RO,...t},o={...r.platform,_c:n};return QD(s,e,{...r,platform:o})};var BO=typeof document<"u",$O=function(){},Iy=BO?R.useLayoutEffect:$O;function bv(s,e){if(s===e)return!0;if(typeof s!=typeof e)return!1;if(typeof s=="function"&&s.toString()===e.toString())return!0;let t,n,r;if(s&&e&&typeof s=="object"){if(Array.isArray(s)){if(t=s.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!bv(s[n],e[n]))return!1;return!0}if(r=Object.keys(s),t=r.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,r[n]))return!1;for(n=t;n--!==0;){const o=r[n];if(!(o==="_owner"&&s.$$typeof)&&!bv(s[o],e[o]))return!1}return!0}return s!==s&&e!==e}function VT(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function KA(s,e){const t=VT(s);return Math.round(e*t)/t}function xb(s){const e=R.useRef(s);return Iy(()=>{e.current=s}),e}function zO(s){s===void 0&&(s={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:r,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:f}=s,[p,g]=R.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[y,w]=R.useState(n);bv(y,n)||w(n);const[S,b]=R.useState(null),[E,T]=R.useState(null),I=R.useCallback(Q=>{Q!==B.current&&(B.current=Q,b(Q))},[]),L=R.useCallback(Q=>{Q!==$.current&&($.current=Q,T(Q))},[]),D=o||S,F=l||E,B=R.useRef(null),$=R.useRef(null),V=R.useRef(p),q=d!=null,te=xb(d),re=xb(r),be=xb(f),pe=R.useCallback(()=>{if(!B.current||!$.current)return;const Q={placement:e,strategy:t,middleware:y};re.current&&(Q.platform=re.current),jO(B.current,$.current,Q).then(ue=>{const ce={...ue,isPositioned:be.current!==!1};ae.current&&!bv(V.current,ce)&&(V.current=ce,Yg.flushSync(()=>{g(ce)}))})},[y,e,t,re,be]);Iy(()=>{f===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,g(Q=>({...Q,isPositioned:!1})))},[f]);const ae=R.useRef(!1);Iy(()=>(ae.current=!0,()=>{ae.current=!1}),[]),Iy(()=>{if(D&&(B.current=D),F&&($.current=F),D&&F){if(te.current)return te.current(D,F,pe);pe()}},[D,F,pe,te,q]);const _e=R.useMemo(()=>({reference:B,floating:$,setReference:I,setFloating:L}),[I,L]),Y=R.useMemo(()=>({reference:D,floating:F}),[D,F]),J=R.useMemo(()=>{const Q={position:t,left:0,top:0};if(!Y.floating)return Q;const ue=KA(Y.floating,p.x),ce=KA(Y.floating,p.y);return c?{...Q,transform:"translate("+ue+"px, "+ce+"px)",...VT(Y.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ue,top:ce}},[t,c,Y.floating,p.x,p.y]);return R.useMemo(()=>({...p,update:pe,refs:_e,elements:Y,floatingStyles:J}),[p,pe,_e,Y,J])}const HO=s=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:s,fn(t){const{element:n,padding:r}=typeof s=="function"?s(t):s;return n&&e(n)?n.current!=null?XA({element:n.current,padding:r}).fn(t):{}:n?XA({element:n,padding:r}).fn(t):{}}}},UO=(s,e)=>({...LO(s),options:[s,e]}),VO=(s,e)=>({...NO(s),options:[s,e]}),WO=(s,e)=>({...FO(s),options:[s,e]}),GO=(s,e)=>({...MO(s),options:[s,e]}),qO=(s,e)=>({...DO(s),options:[s,e]}),YO=(s,e)=>({...OO(s),options:[s,e]}),XO=(s,e)=>({...HO(s),options:[s,e]});var KO="Arrow",WT=R.forwardRef((s,e)=>{const{children:t,width:n=10,height:r=5,...o}=s;return P.jsx(ut.svg,{...o,ref:e,width:n,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:s.asChild?t:P.jsx("polygon",{points:"0,0 30,0 15,10"})})});WT.displayName=KO;var QO=WT;function JO(s){const[e,t]=R.useState(void 0);return qn(()=>{if(s){t({width:s.offsetWidth,height:s.offsetHeight});const n=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const o=r[0];let l,c;if("borderBoxSize"in o){const d=o.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,c=f.blockSize}else l=s.offsetWidth,c=s.offsetHeight;t({width:l,height:c})});return n.observe(s,{box:"border-box"}),()=>n.unobserve(s)}else t(void 0)},[s]),e}var J_="Popper",[GT,l0]=kl(J_),[ZO,qT]=GT(J_),YT=s=>{const{__scopePopper:e,children:t}=s,[n,r]=R.useState(null);return P.jsx(ZO,{scope:e,anchor:n,onAnchorChange:r,children:t})};YT.displayName=J_;var XT="PopperAnchor",KT=R.forwardRef((s,e)=>{const{__scopePopper:t,virtualRef:n,...r}=s,o=qT(XT,t),l=R.useRef(null),c=Ut(e,l),d=R.useRef(null);return R.useEffect(()=>{const f=d.current;d.current=(n==null?void 0:n.current)||l.current,f!==d.current&&o.onAnchorChange(d.current)}),n?null:P.jsx(ut.div,{...r,ref:c})});KT.displayName=XT;var Z_="PopperContent",[eF,tF]=GT(Z_),QT=R.forwardRef((s,e)=>{var oe,ye,Ie,Ee,Oe,je;const{__scopePopper:t,side:n="bottom",sideOffset:r=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:w="optimized",onPlaced:S,...b}=s,E=qT(Z_,t),[T,I]=R.useState(null),L=Ut(e,Fe=>I(Fe)),[D,F]=R.useState(null),B=JO(D),$=(B==null?void 0:B.width)??0,V=(B==null?void 0:B.height)??0,q=n+(o!=="center"?"-"+o:""),te=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},re=Array.isArray(f)?f:[f],be=re.length>0,pe={padding:te,boundary:re.filter(rF),altBoundary:be},{refs:ae,floatingStyles:_e,placement:Y,isPositioned:J,middlewareData:Q}=zO({strategy:"fixed",placement:q,whileElementsMounted:(...Fe)=>IO(...Fe,{animationFrame:w==="always"}),elements:{reference:E.anchor},middleware:[UO({mainAxis:r+V,alignmentAxis:l}),d&&VO({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?WO():void 0,...pe}),d&&GO({...pe}),qO({...pe,apply:({elements:Fe,rects:Ue,availableWidth:ot,availableHeight:Ze})=>{const{width:vt,height:ar}=Ue.reference,kt=Fe.floating.style;kt.setProperty("--radix-popper-available-width",`${ot}px`),kt.setProperty("--radix-popper-available-height",`${Ze}px`),kt.setProperty("--radix-popper-anchor-width",`${vt}px`),kt.setProperty("--radix-popper-anchor-height",`${ar}px`)}}),D&&XO({element:D,padding:c}),iF({arrowWidth:$,arrowHeight:V}),y&&YO({strategy:"referenceHidden",...pe})]}),[ue,ce]=eP(Y),U=bl(S);qn(()=>{J&&(U==null||U())},[J,U]);const ne=(oe=Q.arrow)==null?void 0:oe.x,le=(ye=Q.arrow)==null?void 0:ye.y,he=((Ie=Q.arrow)==null?void 0:Ie.centerOffset)!==0,[ve,Se]=R.useState();return qn(()=>{T&&Se(window.getComputedStyle(T).zIndex)},[T]),P.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{..._e,transform:J?_e.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(Ee=Q.transformOrigin)==null?void 0:Ee.x,(Oe=Q.transformOrigin)==null?void 0:Oe.y].join(" "),...((je=Q.hide)==null?void 0:je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:s.dir,children:P.jsx(eF,{scope:t,placedSide:ue,onArrowChange:F,arrowX:ne,arrowY:le,shouldHideArrow:he,children:P.jsx(ut.div,{"data-side":ue,"data-align":ce,...b,ref:L,style:{...b.style,animation:J?void 0:"none"}})})})});QT.displayName=Z_;var JT="PopperArrow",nF={top:"bottom",right:"left",bottom:"top",left:"right"},ZT=R.forwardRef(function(e,t){const{__scopePopper:n,...r}=e,o=tF(JT,n),l=nF[o.placedSide];return P.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:P.jsx(QO,{...r,ref:t,style:{...r.style,display:"block"}})})});ZT.displayName=JT;function rF(s){return s!==null}var iF=s=>({name:"transformOrigin",options:s,fn(e){var E,T,I;const{placement:t,rects:n,middlewareData:r}=e,l=((E=r.arrow)==null?void 0:E.centerOffset)!==0,c=l?0:s.arrowWidth,d=l?0:s.arrowHeight,[f,p]=eP(t),g={start:"0%",center:"50%",end:"100%"}[p],y=(((T=r.arrow)==null?void 0:T.x)??0)+c/2,w=(((I=r.arrow)==null?void 0:I.y)??0)+d/2;let S="",b="";return f==="bottom"?(S=l?g:`${y}px`,b=`${-d}px`):f==="top"?(S=l?g:`${y}px`,b=`${n.floating.height+d}px`):f==="right"?(S=`${-d}px`,b=l?g:`${w}px`):f==="left"&&(S=`${n.floating.width+d}px`,b=l?g:`${w}px`),{data:{x:S,y:b}}}});function eP(s){const[e,t="center"]=s.split("-");return[e,t]}var tP=YT,nP=KT,rP=QT,iP=ZT,sF="Portal",e1=R.forwardRef((s,e)=>{var c;const{container:t,...n}=s,[r,o]=R.useState(!1);qn(()=>o(!0),[]);const l=t||r&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?dT.createPortal(P.jsx(ut.div,{...n,ref:e}),l):null});e1.displayName=sF;function oF(s,e){return R.useReducer((t,n)=>e[t][n]??t,s)}var Qg=s=>{const{present:e,children:t}=s,n=aF(e),r=typeof t=="function"?t({present:n.isPresent}):R.Children.only(t),o=Ut(n.ref,lF(r));return typeof t=="function"||n.isPresent?R.cloneElement(r,{ref:o}):null};Qg.displayName="Presence";function aF(s){const[e,t]=R.useState(),n=R.useRef(null),r=R.useRef(s),o=R.useRef("none"),l=s?"mounted":"unmounted",[c,d]=oF(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const f=my(n.current);o.current=c==="mounted"?f:"none"},[c]),qn(()=>{const f=n.current,p=r.current;if(p!==s){const y=o.current,w=my(f);s?d("MOUNT"):w==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(p&&y!==w?"ANIMATION_OUT":"UNMOUNT"),r.current=s}},[s,d]),qn(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,g=w=>{const b=my(n.current).includes(CSS.escape(w.animationName));if(w.target===e&&b&&(d("ANIMATION_END"),!r.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},y=w=>{w.target===e&&(o.current=my(n.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:R.useCallback(f=>{n.current=f?getComputedStyle(f):null,t(f)},[])}}function my(s){return(s==null?void 0:s.animationName)||"none"}function lF(s){var n,r;let e=(n=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?s.ref:(e=(r=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?s.props.ref:s.props.ref||s.ref)}var cF=$_[" useInsertionEffect ".trim().toString()]||qn;function Sl({prop:s,defaultProp:e,onChange:t=()=>{},caller:n}){const[r,o,l]=uF({defaultProp:e,onChange:t}),c=s!==void 0,d=c?s:r;{const p=R.useRef(s!==void 0);R.useEffect(()=>{const g=p.current;g!==c&&console.warn(`${n} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,n])}const f=R.useCallback(p=>{var g;if(c){const y=dF(p)?p(s):p;y!==s&&((g=l.current)==null||g.call(l,y))}else o(p)},[c,s,o,l]);return[d,f]}function uF({defaultProp:s,onChange:e}){const[t,n]=R.useState(s),r=R.useRef(t),o=R.useRef(e);return cF(()=>{o.current=e},[e]),R.useEffect(()=>{var l;r.current!==t&&((l=o.current)==null||l.call(o,t),r.current=t)},[t,r]),[t,n,o]}function dF(s){return typeof s=="function"}var sP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hF="VisuallyHidden",oP=R.forwardRef((s,e)=>P.jsx(ut.span,{...s,ref:e,style:{...sP,...s.style}}));oP.displayName=hF;var fF=oP,[c0,r8]=kl("Tooltip",[l0]),u0=l0(),aP="TooltipProvider",pF=700,lx="tooltip.open",[gF,t1]=c0(aP),lP=s=>{const{__scopeTooltip:e,delayDuration:t=pF,skipDelayDuration:n=300,disableHoverableContent:r=!1,children:o}=s,l=R.useRef(!0),c=R.useRef(!1),d=R.useRef(0);return R.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),P.jsx(gF,{scope:e,isOpenDelayedRef:l,delayDuration:t,onOpen:R.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:R.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:R.useCallback(f=>{c.current=f},[]),disableHoverableContent:r,children:o})};lP.displayName=aP;var lp="Tooltip",[mF,Jg]=c0(lp),cP=s=>{const{__scopeTooltip:e,children:t,open:n,defaultOpen:r,onOpenChange:o,disableHoverableContent:l,delayDuration:c}=s,d=t1(lp,s.__scopeTooltip),f=u0(e),[p,g]=R.useState(null),y=Il(),w=R.useRef(0),S=l??d.disableHoverableContent,b=c??d.delayDuration,E=R.useRef(!1),[T,I]=Sl({prop:n,defaultProp:r??!1,onChange:$=>{$?(d.onOpen(),document.dispatchEvent(new CustomEvent(lx))):d.onClose(),o==null||o($)},caller:lp}),L=R.useMemo(()=>T?E.current?"delayed-open":"instant-open":"closed",[T]),D=R.useCallback(()=>{window.clearTimeout(w.current),w.current=0,E.current=!1,I(!0)},[I]),F=R.useCallback(()=>{window.clearTimeout(w.current),w.current=0,I(!1)},[I]),B=R.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{E.current=!0,I(!0),w.current=0},b)},[b,I]);return R.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),P.jsx(tP,{...f,children:P.jsx(mF,{scope:e,contentId:y,open:T,stateAttribute:L,trigger:p,onTriggerChange:g,onTriggerEnter:R.useCallback(()=>{d.isOpenDelayedRef.current?B():D()},[d.isOpenDelayedRef,B,D]),onTriggerLeave:R.useCallback(()=>{S?F():(window.clearTimeout(w.current),w.current=0)},[F,S]),onOpen:D,onClose:F,disableHoverableContent:S,children:t})})};cP.displayName=lp;var cx="TooltipTrigger",uP=R.forwardRef((s,e)=>{const{__scopeTooltip:t,...n}=s,r=Jg(cx,t),o=t1(cx,t),l=u0(t),c=R.useRef(null),d=Ut(e,c,r.onTriggerChange),f=R.useRef(!1),p=R.useRef(!1),g=R.useCallback(()=>f.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),P.jsx(nP,{asChild:!0,...l,children:P.jsx(ut.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...n,ref:d,onPointerMove:tt(s.onPointerMove,y=>{y.pointerType!=="touch"&&!p.current&&!o.isPointerInTransitRef.current&&(r.onTriggerEnter(),p.current=!0)}),onPointerLeave:tt(s.onPointerLeave,()=>{r.onTriggerLeave(),p.current=!1}),onPointerDown:tt(s.onPointerDown,()=>{r.open&&r.onClose(),f.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:tt(s.onFocus,()=>{f.current||r.onOpen()}),onBlur:tt(s.onBlur,r.onClose),onClick:tt(s.onClick,r.onClose)})})});uP.displayName=cx;var n1="TooltipPortal",[yF,vF]=c0(n1,{forceMount:void 0}),dP=s=>{const{__scopeTooltip:e,forceMount:t,children:n,container:r}=s,o=Jg(n1,e);return P.jsx(yF,{scope:e,forceMount:t,children:P.jsx(Qg,{present:t||o.open,children:P.jsx(e1,{asChild:!0,container:r,children:n})})})};dP.displayName=n1;var Lh="TooltipContent",hP=R.forwardRef((s,e)=>{const t=vF(Lh,s.__scopeTooltip),{forceMount:n=t.forceMount,side:r="top",...o}=s,l=Jg(Lh,s.__scopeTooltip);return P.jsx(Qg,{present:n||l.open,children:l.disableHoverableContent?P.jsx(fP,{side:r,...o,ref:e}):P.jsx(wF,{side:r,...o,ref:e})})}),wF=R.forwardRef((s,e)=>{const t=Jg(Lh,s.__scopeTooltip),n=t1(Lh,s.__scopeTooltip),r=R.useRef(null),o=Ut(e,r),[l,c]=R.useState(null),{trigger:d,onClose:f}=t,p=r.current,{onPointerInTransitChange:g}=n,y=R.useCallback(()=>{c(null),g(!1)},[g]),w=R.useCallback((S,b)=>{const E=S.currentTarget,T={x:S.clientX,y:S.clientY},I=EF(T,E.getBoundingClientRect()),L=AF(T,I),D=CF(b.getBoundingClientRect()),F=PF([...L,...D]);c(F),g(!0)},[g]);return R.useEffect(()=>()=>y(),[y]),R.useEffect(()=>{if(d&&p){const S=E=>w(E,p),b=E=>w(E,d);return d.addEventListener("pointerleave",S),p.addEventListener("pointerleave",b),()=>{d.removeEventListener("pointerleave",S),p.removeEventListener("pointerleave",b)}}},[d,p,w,y]),R.useEffect(()=>{if(l){const S=b=>{const E=b.target,T={x:b.clientX,y:b.clientY},I=(d==null?void 0:d.contains(E))||(p==null?void 0:p.contains(E)),L=!TF(T,l);I?y():L&&(y(),f())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[d,p,l,f,y]),P.jsx(fP,{...s,ref:o})}),[bF,xF]=c0(lp,{isInside:!1}),_F=ED("TooltipContent"),fP=R.forwardRef((s,e)=>{const{__scopeTooltip:t,children:n,"aria-label":r,onEscapeKeyDown:o,onPointerDownOutside:l,...c}=s,d=Jg(Lh,t),f=u0(t),{onClose:p}=d;return R.useEffect(()=>(document.addEventListener(lx,p),()=>document.removeEventListener(lx,p)),[p]),R.useEffect(()=>{if(d.trigger){const g=y=>{const w=y.target;w!=null&&w.contains(d.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,p]),P.jsx(W_,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:P.jsxs(rP,{"data-state":d.stateAttribute,...f,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[P.jsx(_F,{children:n}),P.jsx(bF,{scope:t,isInside:!0,children:P.jsx(fF,{id:d.contentId,role:"tooltip",children:r||n})})]})})});hP.displayName=Lh;var pP="TooltipArrow",SF=R.forwardRef((s,e)=>{const{__scopeTooltip:t,...n}=s,r=u0(t);return xF(pP,t).isInside?null:P.jsx(iP,{...r,...n,ref:e})});SF.displayName=pP;function EF(s,e){const t=Math.abs(e.top-s.y),n=Math.abs(e.bottom-s.y),r=Math.abs(e.right-s.x),o=Math.abs(e.left-s.x);switch(Math.min(t,n,r,o)){case o:return"left";case r:return"right";case t:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function AF(s,e,t=5){const n=[];switch(e){case"top":n.push({x:s.x-t,y:s.y+t},{x:s.x+t,y:s.y+t});break;case"bottom":n.push({x:s.x-t,y:s.y-t},{x:s.x+t,y:s.y-t});break;case"left":n.push({x:s.x+t,y:s.y-t},{x:s.x+t,y:s.y+t});break;case"right":n.push({x:s.x-t,y:s.y-t},{x:s.x-t,y:s.y+t});break}return n}function CF(s){const{top:e,right:t,bottom:n,left:r}=s;return[{x:r,y:e},{x:t,y:e},{x:t,y:n},{x:r,y:n}]}function TF(s,e){const{x:t,y:n}=s;let r=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const c=e[o],d=e[l],f=c.x,p=c.y,g=d.x,y=d.y;p>n!=y>n&&t<(g-f)*(n-p)/(y-p)+f&&(r=!r)}return r}function PF(s){const e=s.slice();return e.sort((t,n)=>t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0),RF(e)}function RF(s){if(s.length<=1)return s.slice();const e=[];for(let n=0;n<s.length;n++){const r=s[n];for(;e.length>=2;){const o=e[e.length-1],l=e[e.length-2];if((o.x-l.x)*(r.y-l.y)>=(o.y-l.y)*(r.x-l.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let n=s.length-1;n>=0;n--){const r=s[n];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(r.y-l.y)>=(o.y-l.y)*(r.x-l.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var kF=lP,IF=cP,LF=uP,NF=dP,gP=hP;const MF="_content_1hxhe_2",DF={content:MF},OF=kF,FF=IF,jF=LF,mP=R.forwardRef(({className:s,sideOffset:e=4,...t},n)=>P.jsx(NF,{children:P.jsx(gP,{ref:n,sideOffset:e,className:`${DF.content} ${s||""}`,...t})}));mP.displayName=gP.displayName;function BF(s){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}const $F=s=>{switch(s){case"success":return UF;case"info":return WF;case"warning":return VF;case"error":return GF;default:return null}},zF=Array(12).fill(0),HF=({visible:s,className:e})=>se.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":s},se.createElement("div",{className:"sonner-spinner"},zF.map((t,n)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),UF=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),VF=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),WF=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),GF=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),qF=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),YF=()=>{const[s,e]=se.useState(document.hidden);return se.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),s};let ux=1;class XF{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n,...r}=e,o=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ux++,l=this.toasts.find(d=>d.id===o),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(d=>d.id===o?(this.publish({...d,...e,id:o,title:n}),{...d,...e,id:o,dismissible:c,title:n}):d):this.addToast({title:n,...r,dismissible:c,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let o=n!==void 0,l;const c=r.then(async f=>{if(l=["resolve",f],se.isValidElement(f))o=!1,this.create({id:n,type:"default",message:f});else if(QF(f)&&!f.ok){o=!1;const g=typeof t.error=="function"?await t.error(`HTTP error! status: ${f.status}`):t.error,y=typeof t.description=="function"?await t.description(`HTTP error! status: ${f.status}`):t.description,S=typeof g=="object"&&!se.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:y,...S})}else if(f instanceof Error){o=!1;const g=typeof t.error=="function"?await t.error(f):t.error,y=typeof t.description=="function"?await t.description(f):t.description,S=typeof g=="object"&&!se.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:y,...S})}else if(t.success!==void 0){o=!1;const g=typeof t.success=="function"?await t.success(f):t.success,y=typeof t.description=="function"?await t.description(f):t.description,S=typeof g=="object"&&!se.isValidElement(g)?g:{message:g};this.create({id:n,type:"success",description:y,...S})}}).catch(async f=>{if(l=["reject",f],t.error!==void 0){o=!1;const p=typeof t.error=="function"?await t.error(f):t.error,g=typeof t.description=="function"?await t.description(f):t.description,w=typeof p=="object"&&!se.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:g,...w})}}).finally(()=>{o&&(this.dismiss(n),n=void 0),t.finally==null||t.finally.call(t)}),d=()=>new Promise((f,p)=>c.then(()=>l[0]==="reject"?p(l[1]):f(l[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(e,t)=>{const n=(t==null?void 0:t.id)||ux++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Or=new XF,KF=(s,e)=>{const t=(e==null?void 0:e.id)||ux++;return Or.addToast({title:s,...e,id:t}),t},QF=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",JF=KF,ZF=()=>Or.toasts,ej=()=>Or.getActiveToasts();Object.assign(JF,{success:Or.success,info:Or.info,warning:Or.warning,error:Or.error,custom:Or.custom,message:Or.message,promise:Or.promise,dismiss:Or.dismiss,loading:Or.loading},{getHistory:ZF,getToasts:ej});BF("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function yy(s){return s.label!==void 0}const tj=3,nj="24px",rj="16px",QA=4e3,ij=356,sj=14,oj=45,aj=200;function bs(...s){return s.filter(Boolean).join(" ")}function lj(s){const[e,t]=s.split("-"),n=[];return e&&n.push(e),t&&n.push(t),n}const cj=s=>{var e,t,n,r,o,l,c,d,f;const{invert:p,toast:g,unstyled:y,interacting:w,setHeights:S,visibleToasts:b,heights:E,index:T,toasts:I,expanded:L,removeToast:D,defaultRichColors:F,closeButton:B,style:$,cancelButtonStyle:V,actionButtonStyle:q,className:te="",descriptionClassName:re="",duration:be,position:pe,gap:ae,expandByDefault:_e,classNames:Y,icons:J,closeButtonAriaLabel:Q="Close toast"}=s,[ue,ce]=se.useState(null),[U,ne]=se.useState(null),[le,he]=se.useState(!1),[ve,Se]=se.useState(!1),[oe,ye]=se.useState(!1),[Ie,Ee]=se.useState(!1),[Oe,je]=se.useState(!1),[Fe,Ue]=se.useState(0),[ot,Ze]=se.useState(0),vt=se.useRef(g.duration||be||QA),ar=se.useRef(null),kt=se.useRef(null),jr=T===0,lr=T+1<=b,Xt=g.type,Sr=g.dismissible!==!1,Di=g.className||"",Dn=g.descriptionClassName||"",Br=se.useMemo(()=>E.findIndex(We=>We.toastId===g.id)||0,[E,g.id]),Yn=se.useMemo(()=>{var We;return(We=g.closeButton)!=null?We:B},[g.closeButton,B]),jt=se.useMemo(()=>g.duration||be||QA,[g.duration,be]),On=se.useRef(0),O=se.useRef(0),_=se.useRef(0),C=se.useRef(null),[j,G]=pe.split("-"),Z=se.useMemo(()=>E.reduce((We,Kt,hn)=>hn>=Br?We:We+Kt.height,0),[E,Br]),ie=YF(),qe=g.invert||p,ft=Xt==="loading";O.current=se.useMemo(()=>Br*ae+Z,[Br,Z]),se.useEffect(()=>{vt.current=jt},[jt]),se.useEffect(()=>{he(!0)},[]),se.useEffect(()=>{const We=kt.current;if(We){const Kt=We.getBoundingClientRect().height;return Ze(Kt),S(hn=>[{toastId:g.id,height:Kt,position:g.position},...hn]),()=>S(hn=>hn.filter(Xn=>Xn.toastId!==g.id))}},[S,g.id]),se.useLayoutEffect(()=>{if(!le)return;const We=kt.current,Kt=We.style.height;We.style.height="auto";const hn=We.getBoundingClientRect().height;We.style.height=Kt,Ze(hn),S(Xn=>Xn.find(on=>on.toastId===g.id)?Xn.map(on=>on.toastId===g.id?{...on,height:hn}:on):[{toastId:g.id,height:hn,position:g.position},...Xn])},[le,g.title,g.description,S,g.id,g.jsx,g.action,g.cancel]);const et=se.useCallback(()=>{Se(!0),Ue(O.current),S(We=>We.filter(Kt=>Kt.toastId!==g.id)),setTimeout(()=>{D(g)},aj)},[g,D,S,O]);se.useEffect(()=>{if(g.promise&&Xt==="loading"||g.duration===1/0||g.type==="loading")return;let We;return L||w||ie?(()=>{if(_.current<On.current){const Xn=new Date().getTime()-On.current;vt.current=vt.current-Xn}_.current=new Date().getTime()})():(()=>{vt.current!==1/0&&(On.current=new Date().getTime(),We=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),et()},vt.current))})(),()=>clearTimeout(We)},[L,w,g,Xt,ie,et]),se.useEffect(()=>{g.delete&&(et(),g.onDismiss==null||g.onDismiss.call(g,g))},[et,g.delete]);function wt(){var We;if(J!=null&&J.loading){var Kt;return se.createElement("div",{className:bs(Y==null?void 0:Y.loader,g==null||(Kt=g.classNames)==null?void 0:Kt.loader,"sonner-loader"),"data-visible":Xt==="loading"},J.loading)}return se.createElement(HF,{className:bs(Y==null?void 0:Y.loader,g==null||(We=g.classNames)==null?void 0:We.loader),visible:Xt==="loading"})}const rt=g.icon||(J==null?void 0:J[Xt])||$F(Xt);var to,zh;return se.createElement("li",{tabIndex:0,ref:kt,className:bs(te,Di,Y==null?void 0:Y.toast,g==null||(e=g.classNames)==null?void 0:e.toast,Y==null?void 0:Y.default,Y==null?void 0:Y[Xt],g==null||(t=g.classNames)==null?void 0:t[Xt]),"data-sonner-toast":"","data-rich-colors":(to=g.richColors)!=null?to:F,"data-styled":!(g.jsx||g.unstyled||y),"data-mounted":le,"data-promise":!!g.promise,"data-swiped":Oe,"data-removed":ve,"data-visible":lr,"data-y-position":j,"data-x-position":G,"data-index":T,"data-front":jr,"data-swiping":oe,"data-dismissible":Sr,"data-type":Xt,"data-invert":qe,"data-swipe-out":Ie,"data-swipe-direction":U,"data-expanded":!!(L||_e&&le),"data-testid":g.testId,style:{"--index":T,"--toasts-before":T,"--z-index":I.length-T,"--offset":`${ve?Fe:O.current}px`,"--initial-height":_e?"auto":`${ot}px`,...$,...g.style},onDragEnd:()=>{ye(!1),ce(null),C.current=null},onPointerDown:We=>{We.button!==2&&(ft||!Sr||(ar.current=new Date,Ue(O.current),We.target.setPointerCapture(We.pointerId),We.target.tagName!=="BUTTON"&&(ye(!0),C.current={x:We.clientX,y:We.clientY})))},onPointerUp:()=>{var We,Kt,hn;if(Ie||!Sr)return;C.current=null;const Xn=Number(((We=kt.current)==null?void 0:We.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),sa=Number(((Kt=kt.current)==null?void 0:Kt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),on=new Date().getTime()-((hn=ar.current)==null?void 0:hn.getTime()),wn=ue==="x"?Xn:sa,oa=Math.abs(wn)/on;if(Math.abs(wn)>=oj||oa>.11){Ue(O.current),g.onDismiss==null||g.onDismiss.call(g,g),ne(ue==="x"?Xn>0?"right":"left":sa>0?"down":"up"),et(),Ee(!0);return}else{var Fn,$r;(Fn=kt.current)==null||Fn.style.setProperty("--swipe-amount-x","0px"),($r=kt.current)==null||$r.style.setProperty("--swipe-amount-y","0px")}je(!1),ye(!1),ce(null)},onPointerMove:We=>{var Kt,hn,Xn;if(!C.current||!Sr||((Kt=window.getSelection())==null?void 0:Kt.toString().length)>0)return;const on=We.clientY-C.current.y,wn=We.clientX-C.current.x;var oa;const Fn=(oa=s.swipeDirections)!=null?oa:lj(pe);!ue&&(Math.abs(wn)>1||Math.abs(on)>1)&&ce(Math.abs(wn)>Math.abs(on)?"x":"y");let $r={x:0,y:0};const aa=fi=>1/(1.5+Math.abs(fi)/20);if(ue==="y"){if(Fn.includes("top")||Fn.includes("bottom"))if(Fn.includes("top")&&on<0||Fn.includes("bottom")&&on>0)$r.y=on;else{const fi=on*aa(on);$r.y=Math.abs(fi)<Math.abs(on)?fi:on}}else if(ue==="x"&&(Fn.includes("left")||Fn.includes("right")))if(Fn.includes("left")&&wn<0||Fn.includes("right")&&wn>0)$r.x=wn;else{const fi=wn*aa(wn);$r.x=Math.abs(fi)<Math.abs(wn)?fi:wn}(Math.abs($r.x)>0||Math.abs($r.y)>0)&&je(!0),(hn=kt.current)==null||hn.style.setProperty("--swipe-amount-x",`${$r.x}px`),(Xn=kt.current)==null||Xn.style.setProperty("--swipe-amount-y",`${$r.y}px`)}},Yn&&!g.jsx&&Xt!=="loading"?se.createElement("button",{"aria-label":Q,"data-disabled":ft,"data-close-button":!0,onClick:ft||!Sr?()=>{}:()=>{et(),g.onDismiss==null||g.onDismiss.call(g,g)},className:bs(Y==null?void 0:Y.closeButton,g==null||(n=g.classNames)==null?void 0:n.closeButton)},(zh=J==null?void 0:J.close)!=null?zh:qF):null,(Xt||g.icon||g.promise)&&g.icon!==null&&((J==null?void 0:J[Xt])!==null||g.icon)?se.createElement("div",{"data-icon":"",className:bs(Y==null?void 0:Y.icon,g==null||(r=g.classNames)==null?void 0:r.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||wt():null,g.type!=="loading"?rt:null):null,se.createElement("div",{"data-content":"",className:bs(Y==null?void 0:Y.content,g==null||(o=g.classNames)==null?void 0:o.content)},se.createElement("div",{"data-title":"",className:bs(Y==null?void 0:Y.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?se.createElement("div",{"data-description":"",className:bs(re,Dn,Y==null?void 0:Y.description,g==null||(c=g.classNames)==null?void 0:c.description)},typeof g.description=="function"?g.description():g.description):null),se.isValidElement(g.cancel)?g.cancel:g.cancel&&yy(g.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||V,onClick:We=>{yy(g.cancel)&&Sr&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,We),et())},className:bs(Y==null?void 0:Y.cancelButton,g==null||(d=g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,se.isValidElement(g.action)?g.action:g.action&&yy(g.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||q,onClick:We=>{yy(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,We),!We.defaultPrevented&&et())},className:bs(Y==null?void 0:Y.actionButton,g==null||(f=g.classNames)==null?void 0:f.actionButton)},g.action.label):null)};function JA(){if(typeof window>"u"||typeof document>"u")return"ltr";const s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}function uj(s,e){const t={};return[s,e].forEach((n,r)=>{const o=r===1,l=o?"--mobile-offset":"--offset",c=o?rj:nj;function d(f){["top","right","bottom","left"].forEach(p=>{t[`${l}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?t[`${l}-${f}`]=c:t[`${l}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):d(c)}),t}const dj=se.forwardRef(function(e,t){const{id:n,invert:r,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:p,mobileOffset:g,theme:y="light",richColors:w,duration:S,style:b,visibleToasts:E=tj,toastOptions:T,dir:I=JA(),gap:L=sj,icons:D,containerAriaLabel:F="Notifications"}=e,[B,$]=se.useState([]),V=se.useMemo(()=>n?B.filter(le=>le.toasterId===n):B.filter(le=>!le.toasterId),[B,n]),q=se.useMemo(()=>Array.from(new Set([o].concat(V.filter(le=>le.position).map(le=>le.position)))),[V,o]),[te,re]=se.useState([]),[be,pe]=se.useState(!1),[ae,_e]=se.useState(!1),[Y,J]=se.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=se.useRef(null),ue=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),ce=se.useRef(null),U=se.useRef(!1),ne=se.useCallback(le=>{$(he=>{var ve;return(ve=he.find(Se=>Se.id===le.id))!=null&&ve.delete||Or.dismiss(le.id),he.filter(({id:Se})=>Se!==le.id)})},[]);return se.useEffect(()=>Or.subscribe(le=>{if(le.dismiss){requestAnimationFrame(()=>{$(he=>he.map(ve=>ve.id===le.id?{...ve,delete:!0}:ve))});return}setTimeout(()=>{dT.flushSync(()=>{$(he=>{const ve=he.findIndex(Se=>Se.id===le.id);return ve!==-1?[...he.slice(0,ve),{...he[ve],...le},...he.slice(ve+1)]:[le,...he]})})})}),[B]),se.useEffect(()=>{if(y!=="system"){J(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;const le=window.matchMedia("(prefers-color-scheme: dark)");try{le.addEventListener("change",({matches:he})=>{J(he?"dark":"light")})}catch{le.addListener(({matches:ve})=>{try{J(ve?"dark":"light")}catch(Se){console.error(Se)}})}},[y]),se.useEffect(()=>{B.length<=1&&pe(!1)},[B]),se.useEffect(()=>{const le=he=>{var ve;if(l.every(ye=>he[ye]||he.code===ye)){var oe;pe(!0),(oe=Q.current)==null||oe.focus()}he.code==="Escape"&&(document.activeElement===Q.current||(ve=Q.current)!=null&&ve.contains(document.activeElement))&&pe(!1)};return document.addEventListener("keydown",le),()=>document.removeEventListener("keydown",le)},[l]),se.useEffect(()=>{if(Q.current)return()=>{ce.current&&(ce.current.focus({preventScroll:!0}),ce.current=null,U.current=!1)}},[Q.current]),se.createElement("section",{ref:t,"aria-label":`${F} ${ue}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},q.map((le,he)=>{var ve;const[Se,oe]=le.split("-");return V.length?se.createElement("ol",{key:le,dir:I==="auto"?JA():I,tabIndex:-1,ref:Q,className:f,"data-sonner-toaster":!0,"data-sonner-theme":Y,"data-y-position":Se,"data-x-position":oe,style:{"--front-toast-height":`${((ve=te[0])==null?void 0:ve.height)||0}px`,"--width":`${ij}px`,"--gap":`${L}px`,...b,...uj(p,g)},onBlur:ye=>{U.current&&!ye.currentTarget.contains(ye.relatedTarget)&&(U.current=!1,ce.current&&(ce.current.focus({preventScroll:!0}),ce.current=null))},onFocus:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||U.current||(U.current=!0,ce.current=ye.relatedTarget)},onMouseEnter:()=>pe(!0),onMouseMove:()=>pe(!0),onMouseLeave:()=>{ae||pe(!1)},onDragEnd:()=>pe(!1),onPointerDown:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||_e(!0)},onPointerUp:()=>_e(!1)},V.filter(ye=>!ye.position&&he===0||ye.position===le).map((ye,Ie)=>{var Ee,Oe;return se.createElement(cj,{key:ye.id,icons:D,index:Ie,toast:ye,defaultRichColors:w,duration:(Ee=T==null?void 0:T.duration)!=null?Ee:S,className:T==null?void 0:T.className,descriptionClassName:T==null?void 0:T.descriptionClassName,invert:r,visibleToasts:E,closeButton:(Oe=T==null?void 0:T.closeButton)!=null?Oe:d,interacting:ae,position:le,style:T==null?void 0:T.style,unstyled:T==null?void 0:T.unstyled,classNames:T==null?void 0:T.classNames,cancelButtonStyle:T==null?void 0:T.cancelButtonStyle,actionButtonStyle:T==null?void 0:T.actionButtonStyle,closeButtonAriaLabel:T==null?void 0:T.closeButtonAriaLabel,removeToast:ne,toasts:V.filter(je=>je.position==ye.position),heights:te.filter(je=>je.position==ye.position),setHeights:re,expandByDefault:c,gap:L,expanded:be,swipeDirections:e.swipeDirections})})):null}))}),hj="_toaster_uhdob_2",fj="_toast_uhdob_2",pj="_content_uhdob_35",gj="_title_uhdob_43",mj="_description_uhdob_50",yj="_icon_uhdob_56",vj="_actionButton_uhdob_66",wj="_cancelButton_uhdob_93",bj="_closeButton_uhdob_119",uo={toaster:hj,toast:fj,content:pj,title:gj,description:mj,icon:yj,actionButton:vj,cancelButton:wj,closeButton:bj},xj=({className:s,...e})=>P.jsx(dj,{className:`${uo.toaster} ${s??""}`,toastOptions:{unstyled:!0,classNames:{toast:uo.toast,content:uo.content,title:uo.title,actionButton:uo.actionButton,cancelButton:uo.cancelButton,closeButton:uo.closeButton,description:uo.description,icon:uo.icon}},...e}),_j=()=>{let s=Oh(),e=R.useMemo(()=>{let t=s.hash;const n=r=>r.slice(1);return t?document.getElementById(n(t)):null},[s]);return R.useEffect(()=>{e&&e.scrollIntoView({behavior:"smooth",inline:"nearest"})},[e]),null},Sj=new vD({defaultOptions:{queries:{staleTime:60*1e3}}}),Ej=({children:s})=>P.jsxs(bD,{client:Sj,children:[P.jsx(_j,{}),P.jsxs(OF,{children:[s,P.jsx(xj,{})]})]}),yP=globalThis||void 0||self;var _b={exports:{}},Sb,ZA;function Aj(){if(ZA)return Sb;ZA=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Sb=s,Sb}var Eb,eC;function Cj(){if(eC)return Eb;eC=1;var s=Aj();function e(){}function t(){}return t.resetWarningCache=e,Eb=function(){function n(l,c,d,f,p,g){if(g!==s){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function r(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Eb}var tC;function Tj(){return tC||(tC=1,_b.exports=Cj()()),_b.exports}var Pj=Tj();const Lt=bu(Pj);var Ab,nC;function Rj(){if(nC)return Ab;nC=1;function s(c){return c&&typeof c=="object"&&"default"in c?c.default:c}var e=e0(),t=s(e);function n(c,d,f){return d in c?Object.defineProperty(c,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[d]=f,c}function r(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var o=!!(typeof window<"u"&&window.document&&window.document.createElement);function l(c,d,f){if(typeof c!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof d!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof f<"u"&&typeof f!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function p(g){return g.displayName||g.name||"Component"}return function(y){if(typeof y!="function")throw new Error("Expected WrappedComponent to be a React component.");var w=[],S;function b(){S=c(w.map(function(T){return T.props})),E.canUseDOM?d(S):f&&(S=f(S))}var E=(function(T){r(I,T);function I(){return T.apply(this,arguments)||this}I.peek=function(){return S},I.rewind=function(){if(I.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var F=S;return S=void 0,w=[],F};var L=I.prototype;return L.UNSAFE_componentWillMount=function(){w.push(this),b()},L.componentDidUpdate=function(){b()},L.componentWillUnmount=function(){var F=w.indexOf(this);w.splice(F,1),b()},L.render=function(){return t.createElement(y,this.props)},I})(e.PureComponent);return n(E,"displayName","SideEffect("+p(y)+")"),n(E,"canUseDOM",o),E}}return Ab=l,Ab}var kj=Rj();const Ij=bu(kj);var Cb,rC;function Lj(){if(rC)return Cb;rC=1;var s=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function r(o,l){if(o===l)return!0;if(o&&l&&typeof o=="object"&&typeof l=="object"){if(o.constructor!==l.constructor)return!1;var c,d,f;if(Array.isArray(o)){if(c=o.length,c!=l.length)return!1;for(d=c;d--!==0;)if(!r(o[d],l[d]))return!1;return!0}var p;if(e&&o instanceof Map&&l instanceof Map){if(o.size!==l.size)return!1;for(p=o.entries();!(d=p.next()).done;)if(!l.has(d.value[0]))return!1;for(p=o.entries();!(d=p.next()).done;)if(!r(d.value[1],l.get(d.value[0])))return!1;return!0}if(t&&o instanceof Set&&l instanceof Set){if(o.size!==l.size)return!1;for(p=o.entries();!(d=p.next()).done;)if(!l.has(d.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(l)){if(c=o.length,c!=l.length)return!1;for(d=c;d--!==0;)if(o[d]!==l[d])return!1;return!0}if(o.constructor===RegExp)return o.source===l.source&&o.flags===l.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof l.valueOf=="function")return o.valueOf()===l.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof l.toString=="function")return o.toString()===l.toString();if(f=Object.keys(o),c=f.length,c!==Object.keys(l).length)return!1;for(d=c;d--!==0;)if(!Object.prototype.hasOwnProperty.call(l,f[d]))return!1;if(s&&o instanceof Element)return!1;for(d=c;d--!==0;)if(!((f[d]==="_owner"||f[d]==="__v"||f[d]==="__o")&&o.$$typeof)&&!r(o[f[d]],l[f[d]]))return!1;return!0}return o!==o&&l!==l}return Cb=function(l,c){try{return r(l,c)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},Cb}var Nj=Lj();const Mj=bu(Nj);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Tb,iC;function Dj(){if(iC)return Tb;iC=1;var s=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function n(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function r(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var l={},c=0;c<10;c++)l["_"+String.fromCharCode(c)]=c;var d=Object.getOwnPropertyNames(l).map(function(p){return l[p]});if(d.join("")!=="0123456789")return!1;var f={};return"abcdefghijklmnopqrst".split("").forEach(function(p){f[p]=p}),Object.keys(Object.assign({},f)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Tb=r()?Object.assign:function(o,l){for(var c,d=n(o),f,p=1;p<arguments.length;p++){c=Object(arguments[p]);for(var g in c)e.call(c,g)&&(d[g]=c[g]);if(s){f=s(c);for(var y=0;y<f.length;y++)t.call(c,f[y])&&(d[f[y]]=c[f[y]])}}return d},Tb}var Oj=Dj();const Fj=bu(Oj);var pu={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ye={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ye).map(function(s){return Ye[s]});var Ot={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},xv={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},cp={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},jj=Object.keys(xv).reduce(function(s,e){return s[xv[e]]=e,s},{}),Bj=[Ye.NOSCRIPT,Ye.SCRIPT,Ye.STYLE],ls="data-react-helmet",$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},zj=function(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")},Hj=(function(){function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}})(),kr=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Uj=function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):s.__proto__=e)},sC=function(s,e){var t={};for(var n in s)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);return t},Vj=function(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:s},dx=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Wj=function(e){var t=cd(e,Ye.TITLE),n=cd(e,cp.TITLE_TEMPLATE);if(n&&t)return n.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var r=cd(e,cp.DEFAULT_TITLE);return t||r||void 0},Gj=function(e){return cd(e,cp.ON_CHANGE_CLIENT_STATE)||function(){}},Pb=function(e,t){return t.filter(function(n){return typeof n[e]<"u"}).map(function(n){return n[e]}).reduce(function(n,r){return kr({},n,r)},{})},qj=function(e,t){return t.filter(function(n){return typeof n[Ye.BASE]<"u"}).map(function(n){return n[Ye.BASE]}).reverse().reduce(function(n,r){if(!n.length)for(var o=Object.keys(r),l=0;l<o.length;l++){var c=o[l],d=c.toLowerCase();if(e.indexOf(d)!==-1&&r[d])return n.concat(r)}return n},[])},Ef=function(e,t,n){var r={};return n.filter(function(o){return Array.isArray(o[e])?!0:(typeof o[e]<"u"&&Qj("Helmet: "+e+' should be of type "Array". Instead found type "'+$j(o[e])+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,l){var c={};l.filter(function(y){for(var w=void 0,S=Object.keys(y),b=0;b<S.length;b++){var E=S[b],T=E.toLowerCase();t.indexOf(T)!==-1&&!(w===Ot.REL&&y[w].toLowerCase()==="canonical")&&!(T===Ot.REL&&y[T].toLowerCase()==="stylesheet")&&(w=T),t.indexOf(E)!==-1&&(E===Ot.INNER_HTML||E===Ot.CSS_TEXT||E===Ot.ITEM_PROP)&&(w=E)}if(!w||!y[w])return!1;var I=y[w].toLowerCase();return r[w]||(r[w]={}),c[w]||(c[w]={}),r[w][I]?!1:(c[w][I]=!0,!0)}).reverse().forEach(function(y){return o.push(y)});for(var d=Object.keys(c),f=0;f<d.length;f++){var p=d[f],g=Fj({},r[p],c[p]);r[p]=g}return o},[]).reverse()},cd=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},Yj=function(e){return{baseTag:qj([Ot.HREF,Ot.TARGET],e),bodyAttributes:Pb(pu.BODY,e),defer:cd(e,cp.DEFER),encode:cd(e,cp.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Pb(pu.HTML,e),linkTags:Ef(Ye.LINK,[Ot.REL,Ot.HREF],e),metaTags:Ef(Ye.META,[Ot.NAME,Ot.CHARSET,Ot.HTTPEQUIV,Ot.PROPERTY,Ot.ITEM_PROP],e),noscriptTags:Ef(Ye.NOSCRIPT,[Ot.INNER_HTML],e),onChangeClientState:Gj(e),scriptTags:Ef(Ye.SCRIPT,[Ot.SRC,Ot.INNER_HTML],e),styleTags:Ef(Ye.STYLE,[Ot.CSS_TEXT],e),title:Wj(e),titleAttributes:Pb(pu.TITLE,e)}},hx=(function(){var s=Date.now();return function(e){var t=Date.now();t-s>16?(s=t,e(t)):setTimeout(function(){hx(e)},0)}})(),oC=function(e){return clearTimeout(e)},Xj=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||hx:yP.requestAnimationFrame||hx,Kj=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||oC:yP.cancelAnimationFrame||oC,Qj=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Af=null,Jj=function(e){Af&&Kj(Af),e.defer?Af=Xj(function(){aC(e,function(){Af=null})}):(aC(e),Af=null)},aC=function(e,t){var n=e.baseTag,r=e.bodyAttributes,o=e.htmlAttributes,l=e.linkTags,c=e.metaTags,d=e.noscriptTags,f=e.onChangeClientState,p=e.scriptTags,g=e.styleTags,y=e.title,w=e.titleAttributes;fx(Ye.BODY,r),fx(Ye.HTML,o),Zj(y,w);var S={baseTag:Gu(Ye.BASE,n),linkTags:Gu(Ye.LINK,l),metaTags:Gu(Ye.META,c),noscriptTags:Gu(Ye.NOSCRIPT,d),scriptTags:Gu(Ye.SCRIPT,p),styleTags:Gu(Ye.STYLE,g)},b={},E={};Object.keys(S).forEach(function(T){var I=S[T],L=I.newTags,D=I.oldTags;L.length&&(b[T]=L),D.length&&(E[T]=S[T].oldTags)}),t&&t(),f(e,b,E)},vP=function(e){return Array.isArray(e)?e.join(""):e},Zj=function(e,t){typeof e<"u"&&document.title!==e&&(document.title=vP(e)),fx(Ye.TITLE,t)},fx=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(ls),o=r?r.split(","):[],l=[].concat(o),c=Object.keys(t),d=0;d<c.length;d++){var f=c[d],p=t[f]||"";n.getAttribute(f)!==p&&n.setAttribute(f,p),o.indexOf(f)===-1&&o.push(f);var g=l.indexOf(f);g!==-1&&l.splice(g,1)}for(var y=l.length-1;y>=0;y--)n.removeAttribute(l[y]);o.length===l.length?n.removeAttribute(ls):n.getAttribute(ls)!==c.join(",")&&n.setAttribute(ls,c.join(","))}},Gu=function(e,t){var n=document.head||document.querySelector(Ye.HEAD),r=n.querySelectorAll(e+"["+ls+"]"),o=Array.prototype.slice.call(r),l=[],c=void 0;return t&&t.length&&t.forEach(function(d){var f=document.createElement(e);for(var p in d)if(d.hasOwnProperty(p))if(p===Ot.INNER_HTML)f.innerHTML=d.innerHTML;else if(p===Ot.CSS_TEXT)f.styleSheet?f.styleSheet.cssText=d.cssText:f.appendChild(document.createTextNode(d.cssText));else{var g=typeof d[p]>"u"?"":d[p];f.setAttribute(p,g)}f.setAttribute(ls,"true"),o.some(function(y,w){return c=w,f.isEqualNode(y)})?o.splice(c,1):l.push(f)}),o.forEach(function(d){return d.parentNode.removeChild(d)}),l.forEach(function(d){return n.appendChild(d)}),{oldTags:o,newTags:l}},wP=function(e){return Object.keys(e).reduce(function(t,n){var r=typeof e[n]<"u"?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r},"")},eB=function(e,t,n,r){var o=wP(n),l=vP(t);return o?"<"+e+" "+ls+'="true" '+o+">"+dx(l,r)+"</"+e+">":"<"+e+" "+ls+'="true">'+dx(l,r)+"</"+e+">"},tB=function(e,t,n){return t.reduce(function(r,o){var l=Object.keys(o).filter(function(f){return!(f===Ot.INNER_HTML||f===Ot.CSS_TEXT)}).reduce(function(f,p){var g=typeof o[p]>"u"?p:p+'="'+dx(o[p],n)+'"';return f?f+" "+g:g},""),c=o.innerHTML||o.cssText||"",d=Bj.indexOf(e)===-1;return r+"<"+e+" "+ls+'="true" '+l+(d?"/>":">"+c+"</"+e+">")},"")},bP=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,r){return n[xv[r]||r]=e[r],n},t)},nB=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,r){return n[jj[r]||r]=e[r],n},t)},rB=function(e,t,n){var r,o=(r={key:t},r[ls]=!0,r),l=bP(n,o);return[se.createElement(Ye.TITLE,l,t)]},iB=function(e,t){return t.map(function(n,r){var o,l=(o={key:r},o[ls]=!0,o);return Object.keys(n).forEach(function(c){var d=xv[c]||c;if(d===Ot.INNER_HTML||d===Ot.CSS_TEXT){var f=n.innerHTML||n.cssText;l.dangerouslySetInnerHTML={__html:f}}else l[d]=n[c]}),se.createElement(e,l)})},ho=function(e,t,n){switch(e){case Ye.TITLE:return{toComponent:function(){return rB(e,t.title,t.titleAttributes)},toString:function(){return eB(e,t.title,t.titleAttributes,n)}};case pu.BODY:case pu.HTML:return{toComponent:function(){return bP(t)},toString:function(){return wP(t)}};default:return{toComponent:function(){return iB(e,t)},toString:function(){return tB(e,t,n)}}}},xP=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,o=e.htmlAttributes,l=e.linkTags,c=e.metaTags,d=e.noscriptTags,f=e.scriptTags,p=e.styleTags,g=e.title,y=g===void 0?"":g,w=e.titleAttributes;return{base:ho(Ye.BASE,t,r),bodyAttributes:ho(pu.BODY,n,r),htmlAttributes:ho(pu.HTML,o,r),link:ho(Ye.LINK,l,r),meta:ho(Ye.META,c,r),noscript:ho(Ye.NOSCRIPT,d,r),script:ho(Ye.SCRIPT,f,r),style:ho(Ye.STYLE,p,r),title:ho(Ye.TITLE,{title:y,titleAttributes:w},r)}},sB=function(e){var t,n;return n=t=(function(r){Uj(o,r);function o(){return zj(this,o),Vj(this,r.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(c){return!Mj(this.props,c)},o.prototype.mapNestedChildrenToProps=function(c,d){if(!d)return null;switch(c.type){case Ye.SCRIPT:case Ye.NOSCRIPT:return{innerHTML:d};case Ye.STYLE:return{cssText:d}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(c){var d,f=c.child,p=c.arrayTypeChildren,g=c.newChildProps,y=c.nestedChildren;return kr({},p,(d={},d[f.type]=[].concat(p[f.type]||[],[kr({},g,this.mapNestedChildrenToProps(f,y))]),d))},o.prototype.mapObjectTypeChildren=function(c){var d,f,p=c.child,g=c.newProps,y=c.newChildProps,w=c.nestedChildren;switch(p.type){case Ye.TITLE:return kr({},g,(d={},d[p.type]=w,d.titleAttributes=kr({},y),d));case Ye.BODY:return kr({},g,{bodyAttributes:kr({},y)});case Ye.HTML:return kr({},g,{htmlAttributes:kr({},y)})}return kr({},g,(f={},f[p.type]=kr({},y),f))},o.prototype.mapArrayTypeChildrenToProps=function(c,d){var f=kr({},d);return Object.keys(c).forEach(function(p){var g;f=kr({},f,(g={},g[p]=c[p],g))}),f},o.prototype.warnOnInvalidChildren=function(c,d){return!0},o.prototype.mapChildrenToProps=function(c,d){var f=this,p={};return se.Children.forEach(c,function(g){if(!(!g||!g.props)){var y=g.props,w=y.children,S=sC(y,["children"]),b=nB(S);switch(f.warnOnInvalidChildren(g,w),g.type){case Ye.LINK:case Ye.META:case Ye.NOSCRIPT:case Ye.SCRIPT:case Ye.STYLE:p=f.flattenArrayTypeChildren({child:g,arrayTypeChildren:p,newChildProps:b,nestedChildren:w});break;default:d=f.mapObjectTypeChildren({child:g,newProps:d,newChildProps:b,nestedChildren:w});break}}}),d=this.mapArrayTypeChildrenToProps(p,d),d},o.prototype.render=function(){var c=this.props,d=c.children,f=sC(c,["children"]),p=kr({},f);return d&&(p=this.mapChildrenToProps(d,p)),se.createElement(e,p)},Hj(o,null,[{key:"canUseDOM",set:function(c){e.canUseDOM=c}}]),o})(se.Component),t.propTypes={base:Lt.object,bodyAttributes:Lt.object,children:Lt.oneOfType([Lt.arrayOf(Lt.node),Lt.node]),defaultTitle:Lt.string,defer:Lt.bool,encodeSpecialCharacters:Lt.bool,htmlAttributes:Lt.object,link:Lt.arrayOf(Lt.object),meta:Lt.arrayOf(Lt.object),noscript:Lt.arrayOf(Lt.object),onChangeClientState:Lt.func,script:Lt.arrayOf(Lt.object),style:Lt.arrayOf(Lt.object),title:Lt.string,titleAttributes:Lt.object,titleTemplate:Lt.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var r=e.rewind();return r||(r=xP({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),r},n},oB=function(){return null},aB=Ij(Yj,Jj,xP)(oB),_v=sB(aB);_v.renderStatic=_v.rewind;/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_P=(...s)=>s.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=R.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:r="",children:o,iconNode:l,...c},d)=>R.createElement("svg",{ref:d,...cB,width:e,height:e,stroke:s,strokeWidth:n?Number(t)*24/Number(e):t,className:_P("lucide",r),...c},[...l.map(([f,p])=>R.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=(s,e)=>{const t=R.forwardRef(({className:n,...r},o)=>R.createElement(uB,{ref:o,iconNode:e,className:_P(`lucide-${lB(s)}`,n),...r}));return t.displayName=`${s}`,t};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hB=Mn("ArrowRight",dB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],SP=Mn("Check",fB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],r1=Mn("ChevronDown",pB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],mB=Mn("ChevronLeft",gB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vB=Mn("ChevronRight",yB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bB=Mn("ChevronUp",wB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"m20.9 18.55-8-15.98a1 1 0 0 0-1.8 0l-8 15.98",key:"53pte7"}],["ellipse",{cx:"12",cy:"19",rx:"9",ry:"3",key:"1ji25f"}]],_B=Mn("Cone",xB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],EB=Mn("Copy",SB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],EP=Mn("Download",AB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lC=Mn("FileText",CB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],Zf=Mn("GitMerge",TB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],RB=Mn("Github",PB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],IB=Mn("Layers",kB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],NB=Mn("RotateCcw",LB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],DB=Mn("SlidersHorizontal",MB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],FB=Mn("Waves",OB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],BB=Mn("ZoomIn",jB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],zB=Mn("ZoomOut",$B),HB="_button_1jq7i_2",UB="_sm_1jq7i_32",VB="_md_1jq7i_38",WB="_lg_1jq7i_44",GB="_icon_1jq7i_52",qB="_primary_1jq7i_97",YB="_secondary_1jq7i_115",XB="_destructive_1jq7i_131",KB="_outline_1jq7i_155",QB="_ghost_1jq7i_175",JB="_link_1jq7i_192",ZB="_disabled_1jq7i_224",e3="_dark_1jq7i_231",vy={button:HB,sm:UB,md:VB,lg:WB,icon:GB,"icon-md":"_icon-md_1jq7i_53","icon-sm":"_icon-sm_1jq7i_59","icon-lg":"_icon-lg_1jq7i_65",primary:qB,secondary:YB,destructive:XB,outline:KB,ghost:QB,link:JB,disabled:ZB,dark:e3},os=se.forwardRef(({children:s,variant:e="primary",size:t="md",asChild:n=!1,className:r,disabled:o,type:l="button",...c},d)=>{const f=n?_D:"button";return P.jsx(f,{ref:d,type:l,className:`
        ${vy.button} 
        ${vy[e]} 
        ${vy[t]} 
        ${o?vy.disabled:""} 
        ${r||""}
      `,disabled:o,...c,children:s})});os.displayName="Button";function i1(s){const e=s+"CollectionProvider",[t,n]=kl(e),[r,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=b=>{const{scope:E,children:T}=b,I=se.useRef(null),L=se.useRef(new Map).current;return P.jsx(r,{scope:E,itemMap:L,collectionRef:I,children:T})};l.displayName=e;const c=s+"CollectionSlot",d=sp(c),f=se.forwardRef((b,E)=>{const{scope:T,children:I}=b,L=o(c,T),D=Ut(E,L.collectionRef);return P.jsx(d,{ref:D,children:I})});f.displayName=c;const p=s+"CollectionItemSlot",g="data-radix-collection-item",y=sp(p),w=se.forwardRef((b,E)=>{const{scope:T,children:I,...L}=b,D=se.useRef(null),F=Ut(E,D),B=o(p,T);return se.useEffect(()=>(B.itemMap.set(D,{ref:D,...L}),()=>void B.itemMap.delete(D))),P.jsx(y,{[g]:"",ref:F,children:I})});w.displayName=p;function S(b){const E=o(s+"CollectionConsumer",b);return se.useCallback(()=>{const I=E.collectionRef.current;if(!I)return[];const L=Array.from(I.querySelectorAll(`[${g}]`));return Array.from(E.itemMap.values()).sort((B,$)=>L.indexOf(B.ref.current)-L.indexOf($.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:l,Slot:f,ItemSlot:w},S,n]}var t3=R.createContext(void 0);function d0(s){const e=R.useContext(t3);return s||e||"ltr"}var Rb="rovingFocusGroup.onEntryFocus",n3={bubbles:!1,cancelable:!0},Zg="RovingFocusGroup",[px,AP,r3]=i1(Zg),[i3,CP]=kl(Zg,[r3]),[s3,o3]=i3(Zg),TP=R.forwardRef((s,e)=>P.jsx(px.Provider,{scope:s.__scopeRovingFocusGroup,children:P.jsx(px.Slot,{scope:s.__scopeRovingFocusGroup,children:P.jsx(a3,{...s,ref:e})})}));TP.displayName=Zg;var a3=R.forwardRef((s,e)=>{const{__scopeRovingFocusGroup:t,orientation:n,loop:r=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...g}=s,y=R.useRef(null),w=Ut(e,y),S=d0(o),[b,E]=Sl({prop:l,defaultProp:c??null,onChange:d,caller:Zg}),[T,I]=R.useState(!1),L=bl(f),D=AP(t),F=R.useRef(!1),[B,$]=R.useState(0);return R.useEffect(()=>{const V=y.current;if(V)return V.addEventListener(Rb,L),()=>V.removeEventListener(Rb,L)},[L]),P.jsx(s3,{scope:t,orientation:n,dir:S,loop:r,currentTabStopId:b,onItemFocus:R.useCallback(V=>E(V),[E]),onItemShiftTab:R.useCallback(()=>I(!0),[]),onFocusableItemAdd:R.useCallback(()=>$(V=>V+1),[]),onFocusableItemRemove:R.useCallback(()=>$(V=>V-1),[]),children:P.jsx(ut.div,{tabIndex:T||B===0?-1:0,"data-orientation":n,...g,ref:w,style:{outline:"none",...s.style},onMouseDown:tt(s.onMouseDown,()=>{F.current=!0}),onFocus:tt(s.onFocus,V=>{const q=!F.current;if(V.target===V.currentTarget&&q&&!T){const te=new CustomEvent(Rb,n3);if(V.currentTarget.dispatchEvent(te),!te.defaultPrevented){const re=D().filter(Y=>Y.focusable),be=re.find(Y=>Y.active),pe=re.find(Y=>Y.id===b),_e=[be,pe,...re].filter(Boolean).map(Y=>Y.ref.current);kP(_e,p)}}F.current=!1}),onBlur:tt(s.onBlur,()=>I(!1))})})}),PP="RovingFocusGroupItem",RP=R.forwardRef((s,e)=>{const{__scopeRovingFocusGroup:t,focusable:n=!0,active:r=!1,tabStopId:o,children:l,...c}=s,d=Il(),f=o||d,p=o3(PP,t),g=p.currentTabStopId===f,y=AP(t),{onFocusableItemAdd:w,onFocusableItemRemove:S,currentTabStopId:b}=p;return R.useEffect(()=>{if(n)return w(),()=>S()},[n,w,S]),P.jsx(px.ItemSlot,{scope:t,id:f,focusable:n,active:r,children:P.jsx(ut.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...c,ref:e,onMouseDown:tt(s.onMouseDown,E=>{n?p.onItemFocus(f):E.preventDefault()}),onFocus:tt(s.onFocus,()=>p.onItemFocus(f)),onKeyDown:tt(s.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){p.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const T=u3(E,p.orientation,p.dir);if(T!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let L=y().filter(D=>D.focusable).map(D=>D.ref.current);if(T==="last")L.reverse();else if(T==="prev"||T==="next"){T==="prev"&&L.reverse();const D=L.indexOf(E.currentTarget);L=p.loop?d3(L,D+1):L.slice(D+1)}setTimeout(()=>kP(L))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:b!=null}):l})})});RP.displayName=PP;var l3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function c3(s,e){return e!=="rtl"?s:s==="ArrowLeft"?"ArrowRight":s==="ArrowRight"?"ArrowLeft":s}function u3(s,e,t){const n=c3(s.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return l3[n]}function kP(s,e=!1){const t=document.activeElement;for(const n of s)if(n===t||(n.focus({preventScroll:e}),document.activeElement!==t))return}function d3(s,e){return s.map((t,n)=>s[(e+n)%s.length])}var h3=TP,f3=RP,h0="Tabs",[p3,i8]=kl(h0,[CP]),IP=CP(),[g3,s1]=p3(h0),LP=R.forwardRef((s,e)=>{const{__scopeTabs:t,value:n,onValueChange:r,defaultValue:o,orientation:l="horizontal",dir:c,activationMode:d="automatic",...f}=s,p=d0(c),[g,y]=Sl({prop:n,onChange:r,defaultProp:o??"",caller:h0});return P.jsx(g3,{scope:t,baseId:Il(),value:g,onValueChange:y,orientation:l,dir:p,activationMode:d,children:P.jsx(ut.div,{dir:p,"data-orientation":l,...f,ref:e})})});LP.displayName=h0;var NP="TabsList",MP=R.forwardRef((s,e)=>{const{__scopeTabs:t,loop:n=!0,...r}=s,o=s1(NP,t),l=IP(t);return P.jsx(h3,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:n,children:P.jsx(ut.div,{role:"tablist","aria-orientation":o.orientation,...r,ref:e})})});MP.displayName=NP;var DP="TabsTrigger",OP=R.forwardRef((s,e)=>{const{__scopeTabs:t,value:n,disabled:r=!1,...o}=s,l=s1(DP,t),c=IP(t),d=BP(l.baseId,n),f=$P(l.baseId,n),p=n===l.value;return P.jsx(f3,{asChild:!0,...c,focusable:!r,active:p,children:P.jsx(ut.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:d,...o,ref:e,onMouseDown:tt(s.onMouseDown,g=>{!r&&g.button===0&&g.ctrlKey===!1?l.onValueChange(n):g.preventDefault()}),onKeyDown:tt(s.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&l.onValueChange(n)}),onFocus:tt(s.onFocus,()=>{const g=l.activationMode!=="manual";!p&&!r&&g&&l.onValueChange(n)})})})});OP.displayName=DP;var FP="TabsContent",jP=R.forwardRef((s,e)=>{const{__scopeTabs:t,value:n,forceMount:r,children:o,...l}=s,c=s1(FP,t),d=BP(c.baseId,n),f=$P(c.baseId,n),p=n===c.value,g=R.useRef(p);return R.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),P.jsx(Qg,{present:r||p,children:({present:y})=>P.jsx(ut.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!y,id:f,tabIndex:0,...l,ref:e,style:{...s.style,animationDuration:g.current?"0s":void 0},children:y&&o})})});jP.displayName=FP;function BP(s,e){return`${s}-trigger-${e}`}function $P(s,e){return`${s}-content-${e}`}var m3=LP,zP=MP,HP=OP,UP=jP;const y3="_tabsList_22vco_2",v3="_tabsTrigger_22vco_16",w3="_tabsContent_22vco_92",o1={tabsList:y3,tabsTrigger:v3,tabsContent:w3},b3=m3,VP=R.forwardRef(({className:s,...e},t)=>P.jsx(zP,{ref:t,className:`${o1.tabsList} ${s||""}`,...e}));VP.displayName=zP.displayName;const Ly=R.forwardRef(({className:s,...e},t)=>P.jsx(HP,{ref:t,className:`${o1.tabsTrigger} ${s||""}`,...e}));Ly.displayName=HP.displayName;const Ny=R.forwardRef(({className:s,...e},t)=>P.jsx(UP,{ref:t,className:`${o1.tabsContent} ${s||""}`,...e}));Ny.displayName=UP.displayName;const x3="_container_rhvl3_1",_3="_header_rhvl3_10",S3="_language_rhvl3_18",E3="_checkIcon_rhvl3_24",A3="_pre_rhvl3_28",C3="_code_rhvl3_35",qu={container:x3,header:_3,language:S3,checkIcon:E3,pre:A3,code:C3},Sv=({code:s,language:e,className:t})=>{const[n,r]=se.useState(!1),o=()=>{navigator.clipboard.writeText(s.trim()).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)})};return P.jsxs("div",{className:`${qu.container} ${t||""}`,children:[P.jsxs("div",{className:qu.header,children:[P.jsx("span",{className:qu.language,children:e}),P.jsxs(FF,{children:[P.jsx(jF,{asChild:!0,children:P.jsx(os,{variant:"ghost",size:"icon-sm",onClick:o,"aria-label":"Copy code",children:n?P.jsx(SP,{size:14,className:qu.checkIcon}):P.jsx(EB,{size:14})})}),P.jsx(mP,{children:n?"Copied!":"Copy to clipboard"})]})]}),P.jsx("pre",{className:qu.pre,children:P.jsx("code",{className:qu.code,children:s.trim()})})]})},T3="_vlcLogo_17igu_1",P3="_logoImage_17igu_7",R3="_sm_17igu_18",k3="_md_17igu_23",I3="_lg_17igu_28",kb={vlcLogo:T3,logoImage:P3,sm:R3,md:k3,lg:I3},Ev=({size:s="md",className:e})=>P.jsx("div",{className:`${kb.vlcLogo} ${kb[s]} ${e||""}`,children:P.jsx("img",{src:"https://assets.floot.app/10659a76-df27-42f7-82d3-f6600928fb02/c77f672d-462e-4609-b03b-8b70cd76d09c.png",alt:"VLC Media Player Logo",className:kb.logoImage})}),L3="_pageContainer_16d6u_1",N3="_main_16d6u_8",M3="_hero_16d6u_15",D3="_heroContent_16d6u_25",O3="_heroHeader_16d6u_31",F3="_vlcLogo_16d6u_38",j3="_heroTitle_16d6u_42",B3="_heroSubtitle_16d6u_75",$3="_attribution_16d6u_82",z3="_heroActions_16d6u_100",H3="_heroVisual_16d6u_106",U3="_heroIcon_16d6u_113",V3="_featuresSection_16d6u_135",W3="_sectionTitle_16d6u_141",G3="_sectionDescription_16d6u_149",q3="_tabs_16d6u_157",Y3="_tabContent_16d6u_162",X3="_featureGrid_16d6u_172",K3="_featureText_16d6u_180",Q3="_featureVisual_16d6u_239",J3="_reverbParams_16d6u_245",Z3="_contributionsList_16d6u_276",e$="_contributionItem_16d6u_294",t$="_footer_16d6u_328",n$="_footerContent_16d6u_335",r$="_footerBranding_16d6u_349",i$="_footerAttribution_16d6u_356",s$="_codeSnippetFixed_16d6u_379",it={pageContainer:L3,main:N3,hero:M3,heroContent:D3,heroHeader:O3,vlcLogo:F3,heroTitle:j3,heroSubtitle:B3,attribution:$3,heroActions:z3,heroVisual:H3,heroIcon:U3,featuresSection:V3,sectionTitle:W3,sectionDescription:G3,tabs:q3,tabContent:Y3,featureGrid:X3,featureText:K3,featureVisual:Q3,reverbParams:J3,contributionsList:Z3,contributionItem:e$,footer:t$,footerContent:n$,footerBranding:r$,footerAttribution:i$,codeSnippetFixed:s$},o$=`
// A New Preset Callback Implementation in spatializer.cpp
static int PresetCallback( vlc_object_t *p_aout, char const *, vlc_value_t, vlc_value_t newval, void *p_data )
{
    filter_sys_t *p_sys = (filter_sys_t*)p_data;
    const char *psz_preset = newval.psz_string;

    if (!psz_preset || strcmp(psz_preset, "custom") == 0)
        return VLC_SUCCESS;

    int preset_idx = -1;
    for (size_t i = 0; i < g_spatializerPresets.size(); ++i)
    {
        if (strcmp(psz_preset, g_spatializerPresets[i].name) == 0)
        {
            preset_idx = i;
            break;
        }
    }

    if (preset_idx < 0)
        return VLC_EGENERIC;

    const auto& preset = g_spatializerPresets[preset_idx];
    msg_Dbg( p_aout, "Applying preset: %s", preset.name );

    for (const auto& cb : callbacks)
        var_DelCallback(p_aout, cb.psz_name, cb.fp_callback, p_sys);

    {
        vlc_mutex_locker locker( &p_sys->lock );
        p_sys->p_reverbm->setroomsize(preset.roomSize);
        p_sys->p_reverbm->setwidth(preset.width);
        p_sys->p_reverbm->setwet(preset.wet);
        p_sys->p_reverbm->setdry(preset.dry);
        p_sys->p_reverbm->setdamp(preset.damp);
    }

    var_SetFloat(p_aout, "spatializer-roomsize", preset.roomSize);
    var_SetFloat(p_aout, "spatializer-width",    preset.width);
    var_SetFloat(p_aout, "spatializer-wet",      preset.wet);
    var_SetFloat(p_aout, "spatializer-dry",      preset.dry);
    var_SetFloat(p_aout, "spatializer-damp",     preset.damp);

    for (const auto& cb : callbacks)
        var_AddCallback(p_aout, cb.psz_name, cb.fp_callback, p_sys);

    return VLC_SUCCESS;
}
`,a$=`
static block_t *DoWork(filter_t *p_filter, block_t *p_in_buf)
{
    filter_sys_t *p_sys = p_filter->p_sys;
    block_t *p_out_buf = NULL;
    int i_ret;

    /* Prepare input frame */
    AVFrame *p_in_frame = p_sys->p_frame;
    p_in_frame->sample_rate = p_filter->fmt_in.audio.i_rate;
    p_in_frame->nb_samples = p_in_buf->i_nb_samples;
    p_in_frame->format = AV_SAMPLE_FMT_FLT;

    vlc_to_av_channel_layout(&p_in_frame->ch_layout, &p_filter->fmt_in.audio);

    p_in_frame->data[0] = p_in_buf->p_buffer;
    /* CAUTION: For planar float FL32, there is only one data plane. Setting
     * linesize to 0 tells FFmpeg the buffer is contiguous, but setting it to
     * the actual buffer size might be more robust. */
    p_in_frame->linesize[0] = 0;
    p_in_frame->pts = p_in_buf->i_pts;

    i_ret = av_buffersrc_add_frame_flags(p_sys->p_src_ctx, p_in_frame, AV_BUFFERSRC_FLAG_KEEP_REF);
    if (i_ret < 0)
    {
        msg_Warn(p_filter, "Error submitting frame to the filter graph");
        block_Release(p_in_buf);
        av_channel_layout_uninit(&p_in_frame->ch_layout);
        return NULL;
    }

    while (true)
    {
        AVFrame *p_filtered_frame = av_frame_alloc();
        if (!p_filtered_frame)
        {
            msg_Err(p_filter, "Could not allocate filtered frame");
            break;
        }

        i_ret = av_buffersink_get_frame(p_sys->p_sink_ctx, p_filtered_frame);
        if (i_ret == AVERROR(EAGAIN) || i_ret == AVERROR_EOF)
        {
            av_frame_free(&p_filtered_frame);
            break;
        }
        else if (i_ret < 0)
        {
            msg_Warn(p_filter, "Error receiving frame from the filter graph");
            av_frame_free(&p_filtered_frame);
            break;
        }

        const int i_size = p_filtered_frame->nb_samples * p_filter->fmt_out.audio.i_bytes_per_frame;
        p_out_buf = block_Alloc(i_size);
        if (p_out_buf)
        {
            p_out_buf->i_nb_samples = p_filtered_frame->nb_samples;
            p_out_buf->i_dts = p_filtered_frame->pts;
            p_out_buf->i_pts = p_filtered_frame->pts;
            p_out_buf->i_length = vlc_tick_from_samples(p_out_buf->i_nb_samples,
                                                        p_filter->fmt_out.audio.i_rate);
            memcpy(p_out_buf->p_buffer, p_filtered_frame->data[0], i_size);
        }
        av_frame_free(&p_filtered_frame);
    }

    block_Release(p_in_buf);
    av_channel_layout_uninit(&p_in_frame->ch_layout);
    return p_out_buf;
}
`,l$=()=>P.jsxs(P.Fragment,{children:[P.jsxs(_v,{children:[P.jsx("title",{children:"GSOC Report 2025 - Benny Perumalla"}),P.jsx("meta",{name:"description",content:"GSOC 2025 project report by Benny Perumalla documenting advanced audio filters and DSP development for VLC Media Player, including spatializer's configurable presets, Dynaudnorm, and filtering implementations."})]}),P.jsxs("div",{className:it.pageContainer,children:[P.jsxs("main",{className:it.main,children:[P.jsxs("section",{className:it.hero,children:[P.jsxs("div",{className:it.heroContent,children:[P.jsxs("div",{className:it.heroHeader,children:[P.jsx(Ev,{size:"lg",className:it.vlcLogo}),P.jsx("h1",{className:it.heroTitle,children:"GSOC 2025: Advanced Audio Processing for VLC"})]}),P.jsx("p",{className:it.heroSubtitle,children:"A comprehensive Google Summer of Code 2025 project focused on developing advanced audio processing capabilities for VLC Media Player, featuring spatializer's configurable presets, Dynaudnorm, and high-performance filtering."}),P.jsx("div",{className:it.attribution,children:P.jsxs("p",{children:["By ",P.jsx("strong",{children:"Benny Perumalla"})]})}),P.jsxs("div",{className:it.heroActions,children:[P.jsx(os,{asChild:!0,size:"lg",children:P.jsxs(ex,{to:"/documentation",children:["View Documentation ",P.jsx(hB,{size:20})]})}),P.jsx(os,{asChild:!0,variant:"outline",size:"lg",children:P.jsxs("a",{href:"https://code.videolan.org/BY01R/vlc-gsoc-audio",target:"_blank",rel:"noopener noreferrer",children:["Explore Code ",P.jsx(Zf,{size:20})]})})]})]}),P.jsx("div",{className:it.heroVisual,children:P.jsx(FB,{className:it.heroIcon})})]}),P.jsxs("section",{className:it.featuresSection,children:[P.jsx("h2",{className:it.sectionTitle,children:"Core Contributions"}),P.jsx("p",{className:it.sectionDescription,children:"Explore the key features developed to improve the audio experience in VLC."}),P.jsxs(b3,{defaultValue:"spatializer",className:it.tabs,children:[P.jsxs(VP,{children:[P.jsxs(Ly,{value:"spatializer",children:[P.jsx(IB,{size:16})," Spatializer"]}),P.jsxs(Ly,{value:"Dynaudnorm",children:[P.jsx(DB,{size:16})," Dynaudnorm"]}),P.jsxs(Ly,{value:"contributions",children:[P.jsx(Zf,{size:16})," Contributions"]})]}),P.jsx(Ny,{value:"spatializer",className:it.tabContent,children:P.jsxs("div",{className:it.featureGrid,children:[P.jsxs("div",{className:it.featureText,children:[P.jsx("h3",{children:"Spatializer: configurable presets"}),P.jsx("p",{children:`The new preset system has been implemented that adds a dropdown menu to the filter's configuration panel. Users can now select from environments like "Auditorium," "Great Hall," or "Small Room." Selecting a preset automatically configures the underlying parameters.`}),P.jsxs("ul",{children:[P.jsx("li",{children:"New Presets Library (`spatializer_presets.h`)"}),P.jsx("li",{children:"UI and Logic Integration (`spatializer.cpp`)"}),P.jsx("li",{children:"Callback and State Management"})]})]}),P.jsx("div",{className:it.featureVisual,children:P.jsx("div",{className:it.codeSnippetFixed,children:P.jsx(Sv,{code:o$,language:"c"})})})]})}),P.jsx(Ny,{value:"Dynaudnorm",className:it.tabContent,children:P.jsxs("div",{className:it.featureGrid,children:[P.jsxs("div",{className:it.featureText,children:[P.jsx("h3",{children:"FFmpeg Dynaudnorm Audio Filter"}),P.jsx("p",{children:"The filter is designed to solve the common problem of inconsistent audio volume, providing a much smoother and more enjoyable listening experience without requiring constant manual volume adjustments."}),P.jsxs("div",{className:it.reverbParams,children:[P.jsx("h4",{children:"Key Parameters:"}),P.jsx("table",{children:P.jsxs("tbody",{children:[P.jsxs("tr",{children:[P.jsx("td",{children:"framelen"}),P.jsx("td",{children:"0.1 - 1.0"})]}),P.jsxs("tr",{children:[P.jsx("td",{children:"gausssize"}),P.jsx("td",{children:"0.0 - 1.0"})]}),P.jsxs("tr",{children:[P.jsx("td",{children:"peak"}),P.jsx("td",{children:"0.0 - 1.0"})]}),P.jsxs("tr",{children:[P.jsx("td",{children:"max-gain"}),P.jsx("td",{children:"0.0 - 1.0"})]}),P.jsxs("tr",{children:[P.jsx("td",{children:"target-rms"}),P.jsx("td",{children:"0.0 - 1.0"})]})]})})]})]}),P.jsx("div",{className:it.featureVisual,children:P.jsx("div",{className:it.codeSnippetFixed,children:P.jsx(Sv,{code:a$,language:"c"})})})]})}),P.jsx(Ny,{value:"contributions",className:it.tabContent,children:P.jsxs("div",{className:it.contributionsList,children:[P.jsx("h3",{children:"Merge Requests & Code Contributions"}),P.jsx("p",{children:"Our work is contributed directly to the VLC project. Below is a summary of our key merge requests."}),P.jsxs("div",{className:it.contributionItem,children:[P.jsx("h4",{children:P.jsx("a",{href:"https://code.videolan.org/BY01R/vlc-gsoc-audio/-/merge_requests/6",target:"_blank",rel:"noopener noreferrer",children:"feat(audio): Add new spatiafeat(audio): Add FFmpeg Dynaudnorm Audio Filterlizer audio filter"})}),P.jsx("p",{children:"Introduced the core spatializer module with stereo width controls. Merged in VLC 4.0."})]}),P.jsxs("div",{className:it.contributionItem,children:[P.jsx("h4",{children:P.jsx("a",{href:"https://code.videolan.org/BY01R/vlc-gsoc-audio/-/merge_requests/5",target:"_blank",rel:"noopener noreferrer",children:"Spatializer: configurable presets for the reverb settings"})}),P.jsx("p",{children:"enhances the usability of the spatializer filter, making a powerful audio effect more accessible to all VLC users."})]}),P.jsxs("div",{className:it.contributionItem,children:[P.jsx("h4",{children:P.jsx("a",{href:"https://code.videolan.org/BY01R/vlc-gsoc-audio/-/merge_requests/1",target:"_blank",rel:"noopener noreferrer",children:"feat: Implement multiband compressor functionality"})}),P.jsx("p",{children:"Standardized audio buffer management across multiple filters to reduce memory overhead and complexity."})]})]})})]})]})]}),P.jsx("footer",{className:it.footer,children:P.jsxs("div",{className:it.footerContent,children:[P.jsxs("div",{className:it.footerBranding,children:[P.jsx(Ev,{size:"sm"}),P.jsx("span",{children:"GSOC Report 2025 - VLC Audio Processing"})]}),P.jsxs("div",{className:it.footerAttribution,children:[P.jsxs("p",{children:["Created by ",P.jsx("strong",{children:"Benny Perumalla"})]}),P.jsx("p",{children:"© 2025 - Contributing to VLC Media Player"})]})]})})]})]}),c$="_layout_12m42_1",u$="_header_12m42_10",d$="_headerContent_12m42_20",h$="_logo_12m42_30",f$="_logoIcon_12m42_38",p$="_logoText_12m42_44",g$="_nav_12m42_49",m$="_navLink_12m42_54",y$="_active_12m42_68",v$="_githubLink_12m42_89",w$="_main_12m42_98",b$="_footer_12m42_102",x$="_footerContent_12m42_108",_$="_footerWaveform_12m42_119",S$="_bar_12m42_126",Wt={layout:c$,header:u$,headerContent:d$,logo:h$,logoIcon:f$,logoText:p$,nav:g$,navLink:m$,active:y$,githubLink:v$,main:w$,footer:b$,footerContent:x$,footerWaveform:_$,bar:S$},WP=({children:s})=>{const e=Oh(),t=[{href:"/",label:"Home"},{href:"/documentation",label:"Documentation"}];return P.jsxs("div",{className:Wt.layout,children:[P.jsx("header",{className:Wt.header,children:P.jsxs("div",{className:Wt.headerContent,children:[P.jsxs(ex,{to:"/",className:Wt.logo,children:[P.jsx(_B,{className:Wt.logoIcon}),P.jsx("span",{className:Wt.logoText,children:"Benny Perumalla"})]}),P.jsx("nav",{className:Wt.nav,children:t.map(n=>P.jsx(ex,{to:n.href,className:`${Wt.navLink} ${e.pathname===n.href?Wt.active:""}`,children:n.label},n.href))}),P.jsx("a",{href:"https://github.com/BennyPerumalla",target:"_blank",rel:"noopener noreferrer",className:Wt.githubLink,"aria-label":"Benny Perumalla GitHub Repository",children:P.jsx(RB,{size:20})})]})}),P.jsx("main",{className:Wt.main,children:s}),P.jsx("footer",{className:Wt.footer,children:P.jsxs("div",{className:Wt.footerContent,children:[P.jsxs("p",{children:["© ",new Date().getFullYear()," Advanced Audio Processing for VLC. All Rights Reserved."]}),P.jsxs("div",{className:Wt.footerWaveform,children:[P.jsx("div",{className:Wt.bar}),P.jsx("div",{className:Wt.bar}),P.jsx("div",{className:Wt.bar}),P.jsx("div",{className:Wt.bar}),P.jsx("div",{className:Wt.bar}),P.jsx("div",{className:Wt.bar}),P.jsx("div",{className:Wt.bar}),P.jsx("div",{className:Wt.bar})]})]})})]})},E$=[WP];var f0="Collapsible",[A$,GP]=kl(f0),[C$,a1]=A$(f0),qP=R.forwardRef((s,e)=>{const{__scopeCollapsible:t,open:n,defaultOpen:r,disabled:o,onOpenChange:l,...c}=s,[d,f]=Sl({prop:n,defaultProp:r??!1,onChange:l,caller:f0});return P.jsx(C$,{scope:t,disabled:o,contentId:Il(),open:d,onOpenToggle:R.useCallback(()=>f(p=>!p),[f]),children:P.jsx(ut.div,{"data-state":c1(d),"data-disabled":o?"":void 0,...c,ref:e})})});qP.displayName=f0;var YP="CollapsibleTrigger",XP=R.forwardRef((s,e)=>{const{__scopeCollapsible:t,...n}=s,r=a1(YP,t);return P.jsx(ut.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":c1(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...n,ref:e,onClick:tt(s.onClick,r.onOpenToggle)})});XP.displayName=YP;var l1="CollapsibleContent",KP=R.forwardRef((s,e)=>{const{forceMount:t,...n}=s,r=a1(l1,s.__scopeCollapsible);return P.jsx(Qg,{present:t||r.open,children:({present:o})=>P.jsx(T$,{...n,ref:e,present:o})})});KP.displayName=l1;var T$=R.forwardRef((s,e)=>{const{__scopeCollapsible:t,present:n,children:r,...o}=s,l=a1(l1,t),[c,d]=R.useState(n),f=R.useRef(null),p=Ut(e,f),g=R.useRef(0),y=g.current,w=R.useRef(0),S=w.current,b=l.open||c,E=R.useRef(b),T=R.useRef(void 0);return R.useEffect(()=>{const I=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(I)},[]),qn(()=>{const I=f.current;if(I){T.current=T.current||{transitionDuration:I.style.transitionDuration,animationName:I.style.animationName},I.style.transitionDuration="0s",I.style.animationName="none";const L=I.getBoundingClientRect();g.current=L.height,w.current=L.width,E.current||(I.style.transitionDuration=T.current.transitionDuration,I.style.animationName=T.current.animationName),d(n)}},[l.open,n]),P.jsx(ut.div,{"data-state":c1(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!b,...o,ref:p,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...s.style},children:b&&r})});function c1(s){return s?"open":"closed"}var P$=qP,R$=XP,k$=KP,ps="Accordion",I$=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[u1,L$,N$]=i1(ps),[p0,s8]=kl(ps,[N$,GP]),d1=GP(),QP=se.forwardRef((s,e)=>{const{type:t,...n}=s,r=n,o=n;return P.jsx(u1.Provider,{scope:s.__scopeAccordion,children:t==="multiple"?P.jsx(F$,{...o,ref:e}):P.jsx(O$,{...r,ref:e})})});QP.displayName=ps;var[JP,M$]=p0(ps),[ZP,D$]=p0(ps,{collapsible:!1}),O$=se.forwardRef((s,e)=>{const{value:t,defaultValue:n,onValueChange:r=()=>{},collapsible:o=!1,...l}=s,[c,d]=Sl({prop:t,defaultProp:n??"",onChange:r,caller:ps});return P.jsx(JP,{scope:s.__scopeAccordion,value:se.useMemo(()=>c?[c]:[],[c]),onItemOpen:d,onItemClose:se.useCallback(()=>o&&d(""),[o,d]),children:P.jsx(ZP,{scope:s.__scopeAccordion,collapsible:o,children:P.jsx(eR,{...l,ref:e})})})}),F$=se.forwardRef((s,e)=>{const{value:t,defaultValue:n,onValueChange:r=()=>{},...o}=s,[l,c]=Sl({prop:t,defaultProp:n??[],onChange:r,caller:ps}),d=se.useCallback(p=>c((g=[])=>[...g,p]),[c]),f=se.useCallback(p=>c((g=[])=>g.filter(y=>y!==p)),[c]);return P.jsx(JP,{scope:s.__scopeAccordion,value:l,onItemOpen:d,onItemClose:f,children:P.jsx(ZP,{scope:s.__scopeAccordion,collapsible:!0,children:P.jsx(eR,{...o,ref:e})})})}),[j$,g0]=p0(ps),eR=se.forwardRef((s,e)=>{const{__scopeAccordion:t,disabled:n,dir:r,orientation:o="vertical",...l}=s,c=se.useRef(null),d=Ut(c,e),f=L$(t),g=d0(r)==="ltr",y=tt(s.onKeyDown,w=>{var V;if(!I$.includes(w.key))return;const S=w.target,b=f().filter(q=>{var te;return!((te=q.ref.current)!=null&&te.disabled)}),E=b.findIndex(q=>q.ref.current===S),T=b.length;if(E===-1)return;w.preventDefault();let I=E;const L=0,D=T-1,F=()=>{I=E+1,I>D&&(I=L)},B=()=>{I=E-1,I<L&&(I=D)};switch(w.key){case"Home":I=L;break;case"End":I=D;break;case"ArrowRight":o==="horizontal"&&(g?F():B());break;case"ArrowDown":o==="vertical"&&F();break;case"ArrowLeft":o==="horizontal"&&(g?B():F());break;case"ArrowUp":o==="vertical"&&B();break}const $=I%T;(V=b[$].ref.current)==null||V.focus()});return P.jsx(j$,{scope:t,disabled:n,direction:r,orientation:o,children:P.jsx(u1.Slot,{scope:t,children:P.jsx(ut.div,{...l,"data-orientation":o,ref:d,onKeyDown:n?void 0:y})})})}),Av="AccordionItem",[B$,h1]=p0(Av),tR=se.forwardRef((s,e)=>{const{__scopeAccordion:t,value:n,...r}=s,o=g0(Av,t),l=M$(Av,t),c=d1(t),d=Il(),f=n&&l.value.includes(n)||!1,p=o.disabled||s.disabled;return P.jsx(B$,{scope:t,open:f,disabled:p,triggerId:d,children:P.jsx(P$,{"data-orientation":o.orientation,"data-state":aR(f),...c,...r,ref:e,disabled:p,open:f,onOpenChange:g=>{g?l.onItemOpen(n):l.onItemClose(n)}})})});tR.displayName=Av;var nR="AccordionHeader",rR=se.forwardRef((s,e)=>{const{__scopeAccordion:t,...n}=s,r=g0(ps,t),o=h1(nR,t);return P.jsx(ut.h3,{"data-orientation":r.orientation,"data-state":aR(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:e})});rR.displayName=nR;var gx="AccordionTrigger",iR=se.forwardRef((s,e)=>{const{__scopeAccordion:t,...n}=s,r=g0(ps,t),o=h1(gx,t),l=D$(gx,t),c=d1(t);return P.jsx(u1.ItemSlot,{scope:t,children:P.jsx(R$,{"aria-disabled":o.open&&!l.collapsible||void 0,"data-orientation":r.orientation,id:o.triggerId,...c,...n,ref:e})})});iR.displayName=gx;var sR="AccordionContent",oR=se.forwardRef((s,e)=>{const{__scopeAccordion:t,...n}=s,r=g0(ps,t),o=h1(sR,t),l=d1(t);return P.jsx(k$,{role:"region","aria-labelledby":o.triggerId,"data-orientation":r.orientation,...l,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...s.style}})});oR.displayName=sR;function aR(s){return s?"open":"closed"}var $$=QP,z$=tR,H$=rR,lR=iR,cR=oR;const U$="_item_vxjwx_2",V$="_trigger_vxjwx_12",W$="_header_vxjwx_21",G$="_icon_vxjwx_62",q$="_content_vxjwx_80",Y$="_contentInner_vxjwx_93",ud={item:U$,trigger:V$,header:W$,icon:G$,content:q$,contentInner:Y$},X$=$$,kf=R.forwardRef(({className:s,...e},t)=>P.jsx(z$,{ref:t,className:`${ud.item} ${s||""}`,...e}));kf.displayName="AccordionItem";const If=R.forwardRef(({className:s,children:e,...t},n)=>P.jsx(H$,{className:ud.header,children:P.jsxs(lR,{ref:n,className:`${ud.trigger} ${s||""}`,...t,children:[e,P.jsx(r1,{className:ud.icon})]})}));If.displayName=lR.displayName;const Lf=R.forwardRef(({className:s,children:e,...t},n)=>P.jsx(cR,{ref:n,className:`${ud.content} ${s||""}`,...t,children:P.jsx("div",{className:ud.contentInner,children:e})}));Lf.displayName=cR.displayName;function K$(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var uR={exports:{}},sn=uR.exports={},Es,As;function mx(){throw new Error("setTimeout has not been defined")}function yx(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Es=setTimeout:Es=mx}catch{Es=mx}try{typeof clearTimeout=="function"?As=clearTimeout:As=yx}catch{As=yx}})();function dR(s){if(Es===setTimeout)return setTimeout(s,0);if((Es===mx||!Es)&&setTimeout)return Es=setTimeout,setTimeout(s,0);try{return Es(s,0)}catch{try{return Es.call(null,s,0)}catch{return Es.call(this,s,0)}}}function Q$(s){if(As===clearTimeout)return clearTimeout(s);if((As===yx||!As)&&clearTimeout)return As=clearTimeout,clearTimeout(s);try{return As(s)}catch{try{return As.call(null,s)}catch{return As.call(this,s)}}}var Ko=[],dd=!1,Zl,My=-1;function J$(){!dd||!Zl||(dd=!1,Zl.length?Ko=Zl.concat(Ko):My=-1,Ko.length&&hR())}function hR(){if(!dd){var s=dR(J$);dd=!0;for(var e=Ko.length;e;){for(Zl=Ko,Ko=[];++My<e;)Zl&&Zl[My].run();My=-1,e=Ko.length}Zl=null,dd=!1,Q$(s)}}sn.nextTick=function(s){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Ko.push(new fR(s,e)),Ko.length===1&&!dd&&dR(hR)};function fR(s,e){this.fun=s,this.array=e}fR.prototype.run=function(){this.fun.apply(null,this.array)};sn.title="browser";sn.browser=!0;sn.env={};sn.argv=[];sn.version="";sn.versions={};function ia(){}sn.on=ia;sn.addListener=ia;sn.once=ia;sn.off=ia;sn.removeListener=ia;sn.removeAllListeners=ia;sn.emit=ia;sn.prependListener=ia;sn.prependOnceListener=ia;sn.listeners=function(s){return[]};sn.binding=function(s){throw new Error("process.binding is not supported")};sn.cwd=function(){return"/"};sn.chdir=function(s){throw new Error("process.chdir is not supported")};sn.umask=function(){return 0};var Z$=uR.exports;const as=K$(Z$);var pR={},m0={};m0.byteLength=nz;m0.toByteArray=iz;m0.fromByteArray=az;var Gs=[],xi=[],ez=typeof Uint8Array<"u"?Uint8Array:Array,Ib="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Yu=0,tz=Ib.length;Yu<tz;++Yu)Gs[Yu]=Ib[Yu],xi[Ib.charCodeAt(Yu)]=Yu;xi[45]=62;xi[95]=63;function gR(s){var e=s.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=s.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function nz(s){var e=gR(s),t=e[0],n=e[1];return(t+n)*3/4-n}function rz(s,e,t){return(e+t)*3/4-t}function iz(s){var e,t=gR(s),n=t[0],r=t[1],o=new ez(rz(s,n,r)),l=0,c=r>0?n-4:n,d;for(d=0;d<c;d+=4)e=xi[s.charCodeAt(d)]<<18|xi[s.charCodeAt(d+1)]<<12|xi[s.charCodeAt(d+2)]<<6|xi[s.charCodeAt(d+3)],o[l++]=e>>16&255,o[l++]=e>>8&255,o[l++]=e&255;return r===2&&(e=xi[s.charCodeAt(d)]<<2|xi[s.charCodeAt(d+1)]>>4,o[l++]=e&255),r===1&&(e=xi[s.charCodeAt(d)]<<10|xi[s.charCodeAt(d+1)]<<4|xi[s.charCodeAt(d+2)]>>2,o[l++]=e>>8&255,o[l++]=e&255),o}function sz(s){return Gs[s>>18&63]+Gs[s>>12&63]+Gs[s>>6&63]+Gs[s&63]}function oz(s,e,t){for(var n,r=[],o=e;o<t;o+=3)n=(s[o]<<16&16711680)+(s[o+1]<<8&65280)+(s[o+2]&255),r.push(sz(n));return r.join("")}function az(s){for(var e,t=s.length,n=t%3,r=[],o=16383,l=0,c=t-n;l<c;l+=o)r.push(oz(s,l,l+o>c?c:l+o));return n===1?(e=s[t-1],r.push(Gs[e>>2]+Gs[e<<4&63]+"==")):n===2&&(e=(s[t-2]<<8)+s[t-1],r.push(Gs[e>>10]+Gs[e>>4&63]+Gs[e<<2&63]+"=")),r.join("")}var f1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */f1.read=function(s,e,t,n,r){var o,l,c=r*8-n-1,d=(1<<c)-1,f=d>>1,p=-7,g=t?r-1:0,y=t?-1:1,w=s[e+g];for(g+=y,o=w&(1<<-p)-1,w>>=-p,p+=c;p>0;o=o*256+s[e+g],g+=y,p-=8);for(l=o&(1<<-p)-1,o>>=-p,p+=n;p>0;l=l*256+s[e+g],g+=y,p-=8);if(o===0)o=1-f;else{if(o===d)return l?NaN:(w?-1:1)*(1/0);l=l+Math.pow(2,n),o=o-f}return(w?-1:1)*l*Math.pow(2,o-n)};f1.write=function(s,e,t,n,r,o){var l,c,d,f=o*8-r-1,p=(1<<f)-1,g=p>>1,y=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:o-1,S=n?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,l=p):(l=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-l))<1&&(l--,d*=2),l+g>=1?e+=y/d:e+=y*Math.pow(2,1-g),e*d>=2&&(l++,d/=2),l+g>=p?(c=0,l=p):l+g>=1?(c=(e*d-1)*Math.pow(2,r),l=l+g):(c=e*Math.pow(2,g-1)*Math.pow(2,r),l=0));r>=8;s[t+w]=c&255,w+=S,c/=256,r-=8);for(l=l<<r|c,f+=r;f>0;s[t+w]=l&255,w+=S,l/=256,f-=8);s[t+w-S]|=b*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(s){const e=m0,t=f1,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=p,s.SlowBuffer=F,s.INSPECT_MAX_BYTES=50;const r=2147483647;s.kMaxLength=r;const{Uint8Array:o,ArrayBuffer:l,SharedArrayBuffer:c}=globalThis;p.TYPED_ARRAY_SUPPORT=d(),!p.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{const O=new o(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,o.prototype),Object.setPrototypeOf(O,_),O.foo()===42}catch{return!1}}Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}});function f(O){if(O>r)throw new RangeError('The value "'+O+'" is invalid for option "size"');const _=new o(O);return Object.setPrototypeOf(_,p.prototype),_}function p(O,_,C){if(typeof O=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(O)}return g(O,_,C)}p.poolSize=8192;function g(O,_,C){if(typeof O=="string")return b(O,_);if(l.isView(O))return T(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(Dn(O,l)||O&&Dn(O.buffer,l)||typeof c<"u"&&(Dn(O,c)||O&&Dn(O.buffer,c)))return I(O,_,C);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const j=O.valueOf&&O.valueOf();if(j!=null&&j!==O)return p.from(j,_,C);const G=L(O);if(G)return G;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return p.from(O[Symbol.toPrimitive]("string"),_,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}p.from=function(O,_,C){return g(O,_,C)},Object.setPrototypeOf(p.prototype,o.prototype),Object.setPrototypeOf(p,o);function y(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function w(O,_,C){return y(O),O<=0?f(O):_!==void 0?typeof C=="string"?f(O).fill(_,C):f(O).fill(_):f(O)}p.alloc=function(O,_,C){return w(O,_,C)};function S(O){return y(O),f(O<0?0:D(O)|0)}p.allocUnsafe=function(O){return S(O)},p.allocUnsafeSlow=function(O){return S(O)};function b(O,_){if((typeof _!="string"||_==="")&&(_="utf8"),!p.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const C=B(O,_)|0;let j=f(C);const G=j.write(O,_);return G!==C&&(j=j.slice(0,G)),j}function E(O){const _=O.length<0?0:D(O.length)|0,C=f(_);for(let j=0;j<_;j+=1)C[j]=O[j]&255;return C}function T(O){if(Dn(O,o)){const _=new o(O);return I(_.buffer,_.byteOffset,_.byteLength)}return E(O)}function I(O,_,C){if(_<0||O.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<_+(C||0))throw new RangeError('"length" is outside of buffer bounds');let j;return _===void 0&&C===void 0?j=new o(O):C===void 0?j=new o(O,_):j=new o(O,_,C),Object.setPrototypeOf(j,p.prototype),j}function L(O){if(p.isBuffer(O)){const _=D(O.length)|0,C=f(_);return C.length===0||O.copy(C,0,0,_),C}if(O.length!==void 0)return typeof O.length!="number"||Br(O.length)?f(0):E(O);if(O.type==="Buffer"&&Array.isArray(O.data))return E(O.data)}function D(O){if(O>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return O|0}function F(O){return+O!=O&&(O=0),p.alloc(+O)}p.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==p.prototype},p.compare=function(_,C){if(Dn(_,o)&&(_=p.from(_,_.offset,_.byteLength)),Dn(C,o)&&(C=p.from(C,C.offset,C.byteLength)),!p.isBuffer(_)||!p.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===C)return 0;let j=_.length,G=C.length;for(let Z=0,ie=Math.min(j,G);Z<ie;++Z)if(_[Z]!==C[Z]){j=_[Z],G=C[Z];break}return j<G?-1:G<j?1:0},p.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(_,C){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return p.alloc(0);let j;if(C===void 0)for(C=0,j=0;j<_.length;++j)C+=_[j].length;const G=p.allocUnsafe(C);let Z=0;for(j=0;j<_.length;++j){let ie=_[j];if(Dn(ie,o))Z+ie.length>G.length?(p.isBuffer(ie)||(ie=p.from(ie)),ie.copy(G,Z)):o.prototype.set.call(G,ie,Z);else if(p.isBuffer(ie))ie.copy(G,Z);else throw new TypeError('"list" argument must be an Array of Buffers');Z+=ie.length}return G};function B(O,_){if(p.isBuffer(O))return O.length;if(l.isView(O)||Dn(O,l))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);const C=O.length,j=arguments.length>2&&arguments[2]===!0;if(!j&&C===0)return 0;let G=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return jr(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return Sr(O).length;default:if(G)return j?-1:jr(O).length;_=(""+_).toLowerCase(),G=!0}}p.byteLength=B;function $(O,_,C){let j=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,_>>>=0,C<=_))return"";for(O||(O="utf8");;)switch(O){case"hex":return ne(this,_,C);case"utf8":case"utf-8":return J(this,_,C);case"ascii":return ce(this,_,C);case"latin1":case"binary":return U(this,_,C);case"base64":return Y(this,_,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,_,C);default:if(j)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),j=!0}}p.prototype._isBuffer=!0;function V(O,_,C){const j=O[_];O[_]=O[C],O[C]=j}p.prototype.swap16=function(){const _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let C=0;C<_;C+=2)V(this,C,C+1);return this},p.prototype.swap32=function(){const _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let C=0;C<_;C+=4)V(this,C,C+3),V(this,C+1,C+2);return this},p.prototype.swap64=function(){const _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let C=0;C<_;C+=8)V(this,C,C+7),V(this,C+1,C+6),V(this,C+2,C+5),V(this,C+3,C+4);return this},p.prototype.toString=function(){const _=this.length;return _===0?"":arguments.length===0?J(this,0,_):$.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(_){if(!p.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:p.compare(this,_)===0},p.prototype.inspect=function(){let _="";const C=s.INSPECT_MAX_BYTES;return _=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(_+=" ... "),"<Buffer "+_+">"},n&&(p.prototype[n]=p.prototype.inspect),p.prototype.compare=function(_,C,j,G,Z){if(Dn(_,o)&&(_=p.from(_,_.offset,_.byteLength)),!p.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(C===void 0&&(C=0),j===void 0&&(j=_?_.length:0),G===void 0&&(G=0),Z===void 0&&(Z=this.length),C<0||j>_.length||G<0||Z>this.length)throw new RangeError("out of range index");if(G>=Z&&C>=j)return 0;if(G>=Z)return-1;if(C>=j)return 1;if(C>>>=0,j>>>=0,G>>>=0,Z>>>=0,this===_)return 0;let ie=Z-G,qe=j-C;const ft=Math.min(ie,qe),et=this.slice(G,Z),wt=_.slice(C,j);for(let rt=0;rt<ft;++rt)if(et[rt]!==wt[rt]){ie=et[rt],qe=wt[rt];break}return ie<qe?-1:qe<ie?1:0};function q(O,_,C,j,G){if(O.length===0)return-1;if(typeof C=="string"?(j=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,Br(C)&&(C=G?0:O.length-1),C<0&&(C=O.length+C),C>=O.length){if(G)return-1;C=O.length-1}else if(C<0)if(G)C=0;else return-1;if(typeof _=="string"&&(_=p.from(_,j)),p.isBuffer(_))return _.length===0?-1:te(O,_,C,j,G);if(typeof _=="number")return _=_&255,typeof o.prototype.indexOf=="function"?G?o.prototype.indexOf.call(O,_,C):o.prototype.lastIndexOf.call(O,_,C):te(O,[_],C,j,G);throw new TypeError("val must be string, number or Buffer")}function te(O,_,C,j,G){let Z=1,ie=O.length,qe=_.length;if(j!==void 0&&(j=String(j).toLowerCase(),j==="ucs2"||j==="ucs-2"||j==="utf16le"||j==="utf-16le")){if(O.length<2||_.length<2)return-1;Z=2,ie/=2,qe/=2,C/=2}function ft(wt,rt){return Z===1?wt[rt]:wt.readUInt16BE(rt*Z)}let et;if(G){let wt=-1;for(et=C;et<ie;et++)if(ft(O,et)===ft(_,wt===-1?0:et-wt)){if(wt===-1&&(wt=et),et-wt+1===qe)return wt*Z}else wt!==-1&&(et-=et-wt),wt=-1}else for(C+qe>ie&&(C=ie-qe),et=C;et>=0;et--){let wt=!0;for(let rt=0;rt<qe;rt++)if(ft(O,et+rt)!==ft(_,rt)){wt=!1;break}if(wt)return et}return-1}p.prototype.includes=function(_,C,j){return this.indexOf(_,C,j)!==-1},p.prototype.indexOf=function(_,C,j){return q(this,_,C,j,!0)},p.prototype.lastIndexOf=function(_,C,j){return q(this,_,C,j,!1)};function re(O,_,C,j){C=Number(C)||0;const G=O.length-C;j?(j=Number(j),j>G&&(j=G)):j=G;const Z=_.length;j>Z/2&&(j=Z/2);let ie;for(ie=0;ie<j;++ie){const qe=parseInt(_.substr(ie*2,2),16);if(Br(qe))return ie;O[C+ie]=qe}return ie}function be(O,_,C,j){return Di(jr(_,O.length-C),O,C,j)}function pe(O,_,C,j){return Di(lr(_),O,C,j)}function ae(O,_,C,j){return Di(Sr(_),O,C,j)}function _e(O,_,C,j){return Di(Xt(_,O.length-C),O,C,j)}p.prototype.write=function(_,C,j,G){if(C===void 0)G="utf8",j=this.length,C=0;else if(j===void 0&&typeof C=="string")G=C,j=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(j)?(j=j>>>0,G===void 0&&(G="utf8")):(G=j,j=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Z=this.length-C;if((j===void 0||j>Z)&&(j=Z),_.length>0&&(j<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");G||(G="utf8");let ie=!1;for(;;)switch(G){case"hex":return re(this,_,C,j);case"utf8":case"utf-8":return be(this,_,C,j);case"ascii":case"latin1":case"binary":return pe(this,_,C,j);case"base64":return ae(this,_,C,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,_,C,j);default:if(ie)throw new TypeError("Unknown encoding: "+G);G=(""+G).toLowerCase(),ie=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Y(O,_,C){return _===0&&C===O.length?e.fromByteArray(O):e.fromByteArray(O.slice(_,C))}function J(O,_,C){C=Math.min(O.length,C);const j=[];let G=_;for(;G<C;){const Z=O[G];let ie=null,qe=Z>239?4:Z>223?3:Z>191?2:1;if(G+qe<=C){let ft,et,wt,rt;switch(qe){case 1:Z<128&&(ie=Z);break;case 2:ft=O[G+1],(ft&192)===128&&(rt=(Z&31)<<6|ft&63,rt>127&&(ie=rt));break;case 3:ft=O[G+1],et=O[G+2],(ft&192)===128&&(et&192)===128&&(rt=(Z&15)<<12|(ft&63)<<6|et&63,rt>2047&&(rt<55296||rt>57343)&&(ie=rt));break;case 4:ft=O[G+1],et=O[G+2],wt=O[G+3],(ft&192)===128&&(et&192)===128&&(wt&192)===128&&(rt=(Z&15)<<18|(ft&63)<<12|(et&63)<<6|wt&63,rt>65535&&rt<1114112&&(ie=rt))}}ie===null?(ie=65533,qe=1):ie>65535&&(ie-=65536,j.push(ie>>>10&1023|55296),ie=56320|ie&1023),j.push(ie),G+=qe}return ue(j)}const Q=4096;function ue(O){const _=O.length;if(_<=Q)return String.fromCharCode.apply(String,O);let C="",j=0;for(;j<_;)C+=String.fromCharCode.apply(String,O.slice(j,j+=Q));return C}function ce(O,_,C){let j="";C=Math.min(O.length,C);for(let G=_;G<C;++G)j+=String.fromCharCode(O[G]&127);return j}function U(O,_,C){let j="";C=Math.min(O.length,C);for(let G=_;G<C;++G)j+=String.fromCharCode(O[G]);return j}function ne(O,_,C){const j=O.length;(!_||_<0)&&(_=0),(!C||C<0||C>j)&&(C=j);let G="";for(let Z=_;Z<C;++Z)G+=Yn[O[Z]];return G}function le(O,_,C){const j=O.slice(_,C);let G="";for(let Z=0;Z<j.length-1;Z+=2)G+=String.fromCharCode(j[Z]+j[Z+1]*256);return G}p.prototype.slice=function(_,C){const j=this.length;_=~~_,C=C===void 0?j:~~C,_<0?(_+=j,_<0&&(_=0)):_>j&&(_=j),C<0?(C+=j,C<0&&(C=0)):C>j&&(C=j),C<_&&(C=_);const G=this.subarray(_,C);return Object.setPrototypeOf(G,p.prototype),G};function he(O,_,C){if(O%1!==0||O<0)throw new RangeError("offset is not uint");if(O+_>C)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUintLE=p.prototype.readUIntLE=function(_,C,j){_=_>>>0,C=C>>>0,j||he(_,C,this.length);let G=this[_],Z=1,ie=0;for(;++ie<C&&(Z*=256);)G+=this[_+ie]*Z;return G},p.prototype.readUintBE=p.prototype.readUIntBE=function(_,C,j){_=_>>>0,C=C>>>0,j||he(_,C,this.length);let G=this[_+--C],Z=1;for(;C>0&&(Z*=256);)G+=this[_+--C]*Z;return G},p.prototype.readUint8=p.prototype.readUInt8=function(_,C){return _=_>>>0,C||he(_,1,this.length),this[_]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(_,C){return _=_>>>0,C||he(_,2,this.length),this[_]|this[_+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(_,C){return _=_>>>0,C||he(_,2,this.length),this[_]<<8|this[_+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(_,C){return _=_>>>0,C||he(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(_,C){return _=_>>>0,C||he(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},p.prototype.readBigUInt64LE=jt(function(_){_=_>>>0,Ze(_,"offset");const C=this[_],j=this[_+7];(C===void 0||j===void 0)&&vt(_,this.length-8);const G=C+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,Z=this[++_]+this[++_]*2**8+this[++_]*2**16+j*2**24;return BigInt(G)+(BigInt(Z)<<BigInt(32))}),p.prototype.readBigUInt64BE=jt(function(_){_=_>>>0,Ze(_,"offset");const C=this[_],j=this[_+7];(C===void 0||j===void 0)&&vt(_,this.length-8);const G=C*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],Z=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+j;return(BigInt(G)<<BigInt(32))+BigInt(Z)}),p.prototype.readIntLE=function(_,C,j){_=_>>>0,C=C>>>0,j||he(_,C,this.length);let G=this[_],Z=1,ie=0;for(;++ie<C&&(Z*=256);)G+=this[_+ie]*Z;return Z*=128,G>=Z&&(G-=Math.pow(2,8*C)),G},p.prototype.readIntBE=function(_,C,j){_=_>>>0,C=C>>>0,j||he(_,C,this.length);let G=C,Z=1,ie=this[_+--G];for(;G>0&&(Z*=256);)ie+=this[_+--G]*Z;return Z*=128,ie>=Z&&(ie-=Math.pow(2,8*C)),ie},p.prototype.readInt8=function(_,C){return _=_>>>0,C||he(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},p.prototype.readInt16LE=function(_,C){_=_>>>0,C||he(_,2,this.length);const j=this[_]|this[_+1]<<8;return j&32768?j|4294901760:j},p.prototype.readInt16BE=function(_,C){_=_>>>0,C||he(_,2,this.length);const j=this[_+1]|this[_]<<8;return j&32768?j|4294901760:j},p.prototype.readInt32LE=function(_,C){return _=_>>>0,C||he(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},p.prototype.readInt32BE=function(_,C){return _=_>>>0,C||he(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},p.prototype.readBigInt64LE=jt(function(_){_=_>>>0,Ze(_,"offset");const C=this[_],j=this[_+7];(C===void 0||j===void 0)&&vt(_,this.length-8);const G=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(j<<24);return(BigInt(G)<<BigInt(32))+BigInt(C+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)}),p.prototype.readBigInt64BE=jt(function(_){_=_>>>0,Ze(_,"offset");const C=this[_],j=this[_+7];(C===void 0||j===void 0)&&vt(_,this.length-8);const G=(C<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(G)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+j)}),p.prototype.readFloatLE=function(_,C){return _=_>>>0,C||he(_,4,this.length),t.read(this,_,!0,23,4)},p.prototype.readFloatBE=function(_,C){return _=_>>>0,C||he(_,4,this.length),t.read(this,_,!1,23,4)},p.prototype.readDoubleLE=function(_,C){return _=_>>>0,C||he(_,8,this.length),t.read(this,_,!0,52,8)},p.prototype.readDoubleBE=function(_,C){return _=_>>>0,C||he(_,8,this.length),t.read(this,_,!1,52,8)};function ve(O,_,C,j,G,Z){if(!p.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>G||_<Z)throw new RangeError('"value" argument is out of bounds');if(C+j>O.length)throw new RangeError("Index out of range")}p.prototype.writeUintLE=p.prototype.writeUIntLE=function(_,C,j,G){if(_=+_,C=C>>>0,j=j>>>0,!G){const qe=Math.pow(2,8*j)-1;ve(this,_,C,j,qe,0)}let Z=1,ie=0;for(this[C]=_&255;++ie<j&&(Z*=256);)this[C+ie]=_/Z&255;return C+j},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(_,C,j,G){if(_=+_,C=C>>>0,j=j>>>0,!G){const qe=Math.pow(2,8*j)-1;ve(this,_,C,j,qe,0)}let Z=j-1,ie=1;for(this[C+Z]=_&255;--Z>=0&&(ie*=256);)this[C+Z]=_/ie&255;return C+j},p.prototype.writeUint8=p.prototype.writeUInt8=function(_,C,j){return _=+_,C=C>>>0,j||ve(this,_,C,1,255,0),this[C]=_&255,C+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(_,C,j){return _=+_,C=C>>>0,j||ve(this,_,C,2,65535,0),this[C]=_&255,this[C+1]=_>>>8,C+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(_,C,j){return _=+_,C=C>>>0,j||ve(this,_,C,2,65535,0),this[C]=_>>>8,this[C+1]=_&255,C+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(_,C,j){return _=+_,C=C>>>0,j||ve(this,_,C,4,4294967295,0),this[C+3]=_>>>24,this[C+2]=_>>>16,this[C+1]=_>>>8,this[C]=_&255,C+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(_,C,j){return _=+_,C=C>>>0,j||ve(this,_,C,4,4294967295,0),this[C]=_>>>24,this[C+1]=_>>>16,this[C+2]=_>>>8,this[C+3]=_&255,C+4};function Se(O,_,C,j,G){ot(_,j,G,O,C,7);let Z=Number(_&BigInt(4294967295));O[C++]=Z,Z=Z>>8,O[C++]=Z,Z=Z>>8,O[C++]=Z,Z=Z>>8,O[C++]=Z;let ie=Number(_>>BigInt(32)&BigInt(4294967295));return O[C++]=ie,ie=ie>>8,O[C++]=ie,ie=ie>>8,O[C++]=ie,ie=ie>>8,O[C++]=ie,C}function oe(O,_,C,j,G){ot(_,j,G,O,C,7);let Z=Number(_&BigInt(4294967295));O[C+7]=Z,Z=Z>>8,O[C+6]=Z,Z=Z>>8,O[C+5]=Z,Z=Z>>8,O[C+4]=Z;let ie=Number(_>>BigInt(32)&BigInt(4294967295));return O[C+3]=ie,ie=ie>>8,O[C+2]=ie,ie=ie>>8,O[C+1]=ie,ie=ie>>8,O[C]=ie,C+8}p.prototype.writeBigUInt64LE=jt(function(_,C=0){return Se(this,_,C,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=jt(function(_,C=0){return oe(this,_,C,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(_,C,j,G){if(_=+_,C=C>>>0,!G){const ft=Math.pow(2,8*j-1);ve(this,_,C,j,ft-1,-ft)}let Z=0,ie=1,qe=0;for(this[C]=_&255;++Z<j&&(ie*=256);)_<0&&qe===0&&this[C+Z-1]!==0&&(qe=1),this[C+Z]=(_/ie>>0)-qe&255;return C+j},p.prototype.writeIntBE=function(_,C,j,G){if(_=+_,C=C>>>0,!G){const ft=Math.pow(2,8*j-1);ve(this,_,C,j,ft-1,-ft)}let Z=j-1,ie=1,qe=0;for(this[C+Z]=_&255;--Z>=0&&(ie*=256);)_<0&&qe===0&&this[C+Z+1]!==0&&(qe=1),this[C+Z]=(_/ie>>0)-qe&255;return C+j},p.prototype.writeInt8=function(_,C,j){return _=+_,C=C>>>0,j||ve(this,_,C,1,127,-128),_<0&&(_=255+_+1),this[C]=_&255,C+1},p.prototype.writeInt16LE=function(_,C,j){return _=+_,C=C>>>0,j||ve(this,_,C,2,32767,-32768),this[C]=_&255,this[C+1]=_>>>8,C+2},p.prototype.writeInt16BE=function(_,C,j){return _=+_,C=C>>>0,j||ve(this,_,C,2,32767,-32768),this[C]=_>>>8,this[C+1]=_&255,C+2},p.prototype.writeInt32LE=function(_,C,j){return _=+_,C=C>>>0,j||ve(this,_,C,4,2147483647,-2147483648),this[C]=_&255,this[C+1]=_>>>8,this[C+2]=_>>>16,this[C+3]=_>>>24,C+4},p.prototype.writeInt32BE=function(_,C,j){return _=+_,C=C>>>0,j||ve(this,_,C,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[C]=_>>>24,this[C+1]=_>>>16,this[C+2]=_>>>8,this[C+3]=_&255,C+4},p.prototype.writeBigInt64LE=jt(function(_,C=0){return Se(this,_,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=jt(function(_,C=0){return oe(this,_,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ye(O,_,C,j,G,Z){if(C+j>O.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function Ie(O,_,C,j,G){return _=+_,C=C>>>0,G||ye(O,_,C,4),t.write(O,_,C,j,23,4),C+4}p.prototype.writeFloatLE=function(_,C,j){return Ie(this,_,C,!0,j)},p.prototype.writeFloatBE=function(_,C,j){return Ie(this,_,C,!1,j)};function Ee(O,_,C,j,G){return _=+_,C=C>>>0,G||ye(O,_,C,8),t.write(O,_,C,j,52,8),C+8}p.prototype.writeDoubleLE=function(_,C,j){return Ee(this,_,C,!0,j)},p.prototype.writeDoubleBE=function(_,C,j){return Ee(this,_,C,!1,j)},p.prototype.copy=function(_,C,j,G){if(!p.isBuffer(_))throw new TypeError("argument should be a Buffer");if(j||(j=0),!G&&G!==0&&(G=this.length),C>=_.length&&(C=_.length),C||(C=0),G>0&&G<j&&(G=j),G===j||_.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("sourceEnd out of bounds");G>this.length&&(G=this.length),_.length-C<G-j&&(G=_.length-C+j);const Z=G-j;return this===_&&typeof o.prototype.copyWithin=="function"?this.copyWithin(C,j,G):o.prototype.set.call(_,this.subarray(j,G),C),Z},p.prototype.fill=function(_,C,j,G){if(typeof _=="string"){if(typeof C=="string"?(G=C,C=0,j=this.length):typeof j=="string"&&(G=j,j=this.length),G!==void 0&&typeof G!="string")throw new TypeError("encoding must be a string");if(typeof G=="string"&&!p.isEncoding(G))throw new TypeError("Unknown encoding: "+G);if(_.length===1){const ie=_.charCodeAt(0);(G==="utf8"&&ie<128||G==="latin1")&&(_=ie)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(C<0||this.length<C||this.length<j)throw new RangeError("Out of range index");if(j<=C)return this;C=C>>>0,j=j===void 0?this.length:j>>>0,_||(_=0);let Z;if(typeof _=="number")for(Z=C;Z<j;++Z)this[Z]=_;else{const ie=p.isBuffer(_)?_:p.from(_,G),qe=ie.length;if(qe===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(Z=0;Z<j-C;++Z)this[Z+C]=ie[Z%qe]}return this};const Oe={};function je(O,_,C){Oe[O]=class extends C{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${O}]`,this.stack,delete this.name}get code(){return O}set code(G){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:G,writable:!0})}toString(){return`${this.name} [${O}]: ${this.message}`}}}je("ERR_BUFFER_OUT_OF_BOUNDS",function(O){return O?`${O} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),je("ERR_INVALID_ARG_TYPE",function(O,_){return`The "${O}" argument must be of type number. Received type ${typeof _}`},TypeError),je("ERR_OUT_OF_RANGE",function(O,_,C){let j=`The value of "${O}" is out of range.`,G=C;return Number.isInteger(C)&&Math.abs(C)>2**32?G=Fe(String(C)):typeof C=="bigint"&&(G=String(C),(C>BigInt(2)**BigInt(32)||C<-(BigInt(2)**BigInt(32)))&&(G=Fe(G)),G+="n"),j+=` It must be ${_}. Received ${G}`,j},RangeError);function Fe(O){let _="",C=O.length;const j=O[0]==="-"?1:0;for(;C>=j+4;C-=3)_=`_${O.slice(C-3,C)}${_}`;return`${O.slice(0,C)}${_}`}function Ue(O,_,C){Ze(_,"offset"),(O[_]===void 0||O[_+C]===void 0)&&vt(_,O.length-(C+1))}function ot(O,_,C,j,G,Z){if(O>C||O<_){const ie=typeof _=="bigint"?"n":"";let qe;throw _===0||_===BigInt(0)?qe=`>= 0${ie} and < 2${ie} ** ${(Z+1)*8}${ie}`:qe=`>= -(2${ie} ** ${(Z+1)*8-1}${ie}) and < 2 ** ${(Z+1)*8-1}${ie}`,new Oe.ERR_OUT_OF_RANGE("value",qe,O)}Ue(j,G,Z)}function Ze(O,_){if(typeof O!="number")throw new Oe.ERR_INVALID_ARG_TYPE(_,"number",O)}function vt(O,_,C){throw Math.floor(O)!==O?(Ze(O,C),new Oe.ERR_OUT_OF_RANGE("offset","an integer",O)):_<0?new Oe.ERR_BUFFER_OUT_OF_BOUNDS:new Oe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${_}`,O)}const ar=/[^+/0-9A-Za-z-_]/g;function kt(O){if(O=O.split("=")[0],O=O.trim().replace(ar,""),O.length<2)return"";for(;O.length%4!==0;)O=O+"=";return O}function jr(O,_){_=_||1/0;let C;const j=O.length;let G=null;const Z=[];for(let ie=0;ie<j;++ie){if(C=O.charCodeAt(ie),C>55295&&C<57344){if(!G){if(C>56319){(_-=3)>-1&&Z.push(239,191,189);continue}else if(ie+1===j){(_-=3)>-1&&Z.push(239,191,189);continue}G=C;continue}if(C<56320){(_-=3)>-1&&Z.push(239,191,189),G=C;continue}C=(G-55296<<10|C-56320)+65536}else G&&(_-=3)>-1&&Z.push(239,191,189);if(G=null,C<128){if((_-=1)<0)break;Z.push(C)}else if(C<2048){if((_-=2)<0)break;Z.push(C>>6|192,C&63|128)}else if(C<65536){if((_-=3)<0)break;Z.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((_-=4)<0)break;Z.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return Z}function lr(O){const _=[];for(let C=0;C<O.length;++C)_.push(O.charCodeAt(C)&255);return _}function Xt(O,_){let C,j,G;const Z=[];for(let ie=0;ie<O.length&&!((_-=2)<0);++ie)C=O.charCodeAt(ie),j=C>>8,G=C%256,Z.push(G),Z.push(j);return Z}function Sr(O){return e.toByteArray(kt(O))}function Di(O,_,C,j){let G;for(G=0;G<j&&!(G+C>=_.length||G>=O.length);++G)_[G+C]=O[G];return G}function Dn(O,_){return O instanceof _||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===_.name}function Br(O){return O!==O}const Yn=(function(){const O="0123456789abcdef",_=new Array(256);for(let C=0;C<16;++C){const j=C*16;for(let G=0;G<16;++G)_[j+G]=O[C]+O[G]}return _})();function jt(O){return typeof BigInt>"u"?On:O}function On(){throw new Error("BigInt not supported")}})(pR);const cC=pR.Buffer,vr=typeof as=="object"&&as+""=="[object process]"&&!as.versions.nw&&!(as.versions.electron&&as.type&&as.type!=="browser"),vx=[.001,0,0,.001,0,0],Lb=1.35,oi={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},qs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},mR="pdfjs_internal_editor_",Ve={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},st={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},yR={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},er={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ep={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Zt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ju={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},em={ERRORS:0,WARNINGS:1,INFOS:5},up={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},wy={moveTo:0,lineTo:1,curveTo:2,closePath:3},vR={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let y0=em.WARNINGS;function lz(s){Number.isInteger(s)&&(y0=s)}function cz(){return y0}function v0(s){y0>=em.INFOS&&console.log(`Info: ${s}`)}function Ge(s){y0>=em.WARNINGS&&console.log(`Warning: ${s}`)}function _t(s){throw new Error(s)}function cn(s,e){s||_t(e)}function uz(s){switch(s==null?void 0:s.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function p1(s,e=null,t=null){if(!s)return null;if(t&&typeof s=="string"){if(t.addDefaultProtocol&&s.startsWith("www.")){const r=s.match(/\./g);(r==null?void 0:r.length)>=2&&(s=`http://${s}`)}if(t.tryConvertEncoding)try{s=gz(s)}catch{}}const n=e?URL.parse(s,e):URL.parse(s);return uz(n)?n:null}function g1(s,e,t=!1){const n=URL.parse(s);return n?(n.hash=e,n.href):t&&p1(s,"http://example.com")?s.split("#",1)[0]+`${e?`#${e}`:""}`:""}function nt(s,e,t,n=!1){return Object.defineProperty(s,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const _u=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class uC extends _u{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Nb extends _u{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Cv extends _u{constructor(e){super(e,"InvalidPDFException")}}class dp extends _u{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class dz extends _u{constructor(e){super(e,"FormatError")}}class ta extends _u{constructor(e){super(e,"AbortException")}}function wR(s){(typeof s!="object"||(s==null?void 0:s.length)===void 0)&&_t("Invalid argument for bytesToString");const e=s.length,t=8192;if(e<t)return String.fromCharCode.apply(null,s);const n=[];for(let r=0;r<e;r+=t){const o=Math.min(r+t,e),l=s.subarray(r,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function tm(s){typeof s!="string"&&_t("Invalid argument for stringToBytes");const e=s.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=s.charCodeAt(n)&255;return t}function hz(s){return String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255)}function fz(){const s=new Uint8Array(4);return s[0]=1,new Uint32Array(s.buffer,0,1)[0]===1}function pz(){try{return new Function(""),!0}catch{return!1}}class Nn{static get isLittleEndian(){return nt(this,"isLittleEndian",fz())}static get isEvalSupported(){return nt(this,"isEvalSupported",pz())}static get isOffscreenCanvasSupported(){return nt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return nt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return nt(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return nt(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Mb=Array.from(Array(256).keys(),s=>s.toString(16).padStart(2,"0"));var Qo,Dy,wx;class De{static makeHexColor(e,t,n){return`#${Mb[e]}${Mb[t]}${Mb[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,n=0){const r=e[n],o=e[n+1];e[n]=r*t[0]+o*t[2]+t[4],e[n+1]=r*t[1]+o*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const r=t[0],o=t[1],l=t[2],c=t[3],d=t[4],f=t[5];for(let p=0;p<6;p+=2){const g=e[n+p],y=e[n+p+1];e[n+p]=g*r+y*l+d,e[n+p+1]=g*o+y*c+f}}static applyInverseTransform(e,t){const n=e[0],r=e[1],o=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/o,e[1]=(-n*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/o}static axialAlignedBoundingBox(e,t,n){const r=t[0],o=t[1],l=t[2],c=t[3],d=t[4],f=t[5],p=e[0],g=e[1],y=e[2],w=e[3];let S=r*p+d,b=S,E=r*y+d,T=E,I=c*g+f,L=I,D=c*w+f,F=D;if(o!==0||l!==0){const B=o*p,$=o*y,V=l*g,q=l*w;S+=V,T+=V,E+=q,b+=q,I+=B,F+=B,D+=$,L+=$}n[0]=Math.min(n[0],S,E,b,T),n[1]=Math.min(n[1],I,D,L,F),n[2]=Math.max(n[2],S,E,b,T),n[3]=Math.max(n[3],I,D,L,F)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],r=e[1],o=e[2],l=e[3],c=n**2+r**2,d=n*o+r*l,f=o**2+l**2,p=(c+f)/2,g=Math.sqrt(p**2-(c*f-d**2));t[0]=Math.sqrt(p+g||1),t[1]=Math.sqrt(p-g||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>l?null:[n,o,r,l]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,r,o){o[0]=Math.min(o[0],e,n),o[1]=Math.min(o[1],t,r),o[2]=Math.max(o[2],e,n),o[3]=Math.max(o[3],t,r)}static bezierBoundingBox(e,t,n,r,o,l,c,d,f){f[0]=Math.min(f[0],e,c),f[1]=Math.min(f[1],t,d),f[2]=Math.max(f[2],e,c),f[3]=Math.max(f[3],t,d),N(this,Qo,wx).call(this,e,n,o,c,t,r,l,d,3*(-e+3*(n-o)+c),6*(e-2*n+o),3*(n-e),f),N(this,Qo,wx).call(this,e,n,o,c,t,r,l,d,3*(-t+3*(r-l)+d),6*(t-2*r+l),3*(r-t),f)}}Qo=new WeakSet,Dy=function(e,t,n,r,o,l,c,d,f,p){if(f<=0||f>=1)return;const g=1-f,y=f*f,w=y*f,S=g*(g*(g*e+3*f*t)+3*y*n)+w*r,b=g*(g*(g*o+3*f*l)+3*y*c)+w*d;p[0]=Math.min(p[0],S),p[1]=Math.min(p[1],b),p[2]=Math.max(p[2],S),p[3]=Math.max(p[3],b)},wx=function(e,t,n,r,o,l,c,d,f,p,g,y){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&N(this,Qo,Dy).call(this,e,t,n,r,o,l,c,d,-g/p,y);return}const w=p**2-4*g*f;if(w<0)return;const S=Math.sqrt(w),b=2*f;N(this,Qo,Dy).call(this,e,t,n,r,o,l,c,d,(-p+S)/b,y),N(this,Qo,Dy).call(this,e,t,n,r,o,l,c,d,(-p-S)/b,y)},k(De,Qo);function gz(s){return decodeURIComponent(escape(s))}let Db=null,dC=null;function bR(s){return Db||(Db=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,dC=new Map([["ﬅ","ſt"]])),s.replaceAll(Db,(e,t,n)=>t?t.normalize("NFKC"):dC.get(n))}function m1(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const s=new Uint8Array(32);return crypto.getRandomValues(s),wR(s)}const y1="pdfjs_internal_id_";function mz(s,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,r,...o]=t;if(!s(n)&&!Number.isInteger(n)||!e(r))return!1;const l=o.length;let c=!0;switch(r.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;c=!1;break;default:return!1}for(const d of o)if(!(typeof d=="number"||c&&d===null))return!1;return!0}function sr(s,e,t){return Math.min(Math.max(s,e),t)}function xR(s){return Uint8Array.prototype.toBase64?s.toBase64():btoa(wR(s))}function yz(s){return Uint8Array.fromBase64?Uint8Array.fromBase64(s):tm(atob(s))}typeof Promise.try!="function"&&(Promise.try=function(s,...e){return new Promise(t=>{t(s(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(s){return s.reduce((e,t)=>e+t,0)});const po="http://www.w3.org/2000/svg",Ql=class Ql{};me(Ql,"CSS",96),me(Ql,"PDF",72),me(Ql,"PDF_TO_CSS_UNITS",Ql.CSS/Ql.PDF);let na=Ql;async function Bh(s,e="text"){if(Nf(s,document.baseURI)){const t=await fetch(s);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const r=new XMLHttpRequest;r.open("GET",s,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class nm{constructor({viewBox:e,userUnit:t,scale:n,rotation:r,offsetX:o=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=r,this.offsetX=o,this.offsetY=l,n*=t;const d=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let p,g,y,w;switch(r%=360,r<0&&(r+=360),r){case 180:p=-1,g=0,y=0,w=1;break;case 90:p=0,g=1,y=1,w=0;break;case 270:p=0,g=-1,y=-1,w=0;break;case 0:p=1,g=0,y=0,w=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(y=-y,w=-w);let S,b,E,T;p===0?(S=Math.abs(f-e[1])*n+o,b=Math.abs(d-e[0])*n+l,E=(e[3]-e[1])*n,T=(e[2]-e[0])*n):(S=Math.abs(d-e[0])*n+o,b=Math.abs(f-e[1])*n+l,E=(e[2]-e[0])*n,T=(e[3]-e[1])*n),this.transform=[p*n,g*n,y*n,w*n,S-p*n*d-y*n*f,b-g*n*d-w*n*f],this.width=E,this.height=T}get rawDims(){const e=this.viewBox;return nt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new nm({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:o})}convertToViewportPoint(e,t){const n=[e,t];return De.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];De.applyTransform(t,this.transform);const n=[e[2],e[3]];return De.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return De.applyInverseTransform(n,this.transform),n}}class w0 extends _u{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function rm(s){const e=s.length;let t=0;for(;t<e&&s[t].trim()==="";)t++;return s.substring(t,t+5).toLowerCase()==="data:"}function b0(s){return typeof s=="string"&&/\.pdf$/i.test(s)}function _R(s){return[s]=s.split(/[#?]/,1),s.substring(s.lastIndexOf("/")+1)}function SR(s,e="document.pdf"){if(typeof s!="string")return e;if(rm(s))return Ge('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(s);if(!n)return e;const r=c=>{try{let d=decodeURIComponent(c);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:c):d}catch{return c}},o=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(o.test(l))return r(l);if(n.searchParams.size>0){const c=Array.from(n.searchParams.values()).reverse();for(const f of c)if(o.test(f))return r(f);const d=Array.from(n.searchParams.keys()).reverse();for(const f of d)if(o.test(f))return r(f)}if(n.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(d)return r(d[0])}return e}class hC{constructor(){me(this,"started",Object.create(null));me(this,"times",[])}time(e){e in this.started&&Ge(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ge(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:o}of this.times)e.push(`${n.padEnd(t)} ${o-r}ms
`);return e.join("")}}function Nf(s,e){const t=e?URL.parse(s,e):URL.parse(s);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Mi(s){s.preventDefault()}function nn(s){s.preventDefault(),s.stopPropagation()}function vz(s){console.log("Deprecated API usage: "+s)}var bp;class x0{static toDateObject(e){if(!e||typeof e!="string")return null;u(this,bp)||A(this,bp,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=u(this,bp).exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(t[5],10);c=c>=0&&c<=59?c:0;let d=parseInt(t[6],10);d=d>=0&&d<=59?d:0;const f=t[7]||"Z";let p=parseInt(t[8],10);p=p>=0&&p<=23?p:0;let g=parseInt(t[9],10)||0;return g=g>=0&&g<=59?g:0,f==="-"?(l+=p,c+=g):f==="+"&&(l-=p,c-=g),new Date(Date.UTC(n,r,o,l,c,d))}}bp=new WeakMap,k(x0,bp);function ER(s,{scale:e=1,rotation:t=0}){const{width:n,height:r}=s.attributes.style,o=[0,0,parseInt(n),parseInt(r)];return new nm({viewBox:o,userUnit:1,scale:e,rotation:t})}function v1(s){if(s.startsWith("#")){const e=parseInt(s.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return s.startsWith("rgb(")?s.slice(4,-1).split(",").map(e=>parseInt(e)):s.startsWith("rgba(")?s.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ge(`Not a valid color format: "${s}"`),[0,0,0])}function wz(s){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of s.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;s.set(t,v1(n))}e.remove()}function Ht(s){const{a:e,b:t,c:n,d:r,e:o,f:l}=s.getTransform();return[e,t,n,r,o,l]}function xs(s){const{a:e,b:t,c:n,d:r,e:o,f:l}=s.getTransform().invertSelf();return[e,t,n,r,o,l]}function El(s,e,t=!1,n=!0){if(e instanceof nm){const{pageWidth:r,pageHeight:o}=e.rawDims,{style:l}=s,c=Nn.isCSSRoundSupported,d=`var(--total-scale-factor) * ${r}px`,f=`var(--total-scale-factor) * ${o}px`,p=c?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,g=c?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!t||e.rotation%180===0?(l.width=p,l.height=g):(l.width=g,l.height=p)}n&&s.setAttribute("data-main-rotation",e.rotation)}class hs{constructor(){const{pixelRatio:e}=hs;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,r,o=-1){let l=1/0,c=1/0,d=1/0;n=hs.capPixels(n,o),n>0&&(l=Math.sqrt(n/(e*t))),r!==-1&&(c=r/e,d=r/t);const f=Math.min(l,c,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const Tv=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var Da,sc,Ei,Oa,xp,Ad,_p,Dv,AR,br,CR,TR,Mf,Oy;const yo=class yo{constructor(e){k(this,br);k(this,Da,null);k(this,sc,null);k(this,Ei);k(this,Oa,null);k(this,xp,null);k(this,Ad,null);A(this,Ei,e),u(yo,_p)||A(yo,_p,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=A(this,Da,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=u(this,Ei)._uiManager._signal;e.addEventListener("contextmenu",Mi,{signal:t}),e.addEventListener("pointerdown",N(yo,Dv,AR),{signal:t});const n=A(this,Oa,document.createElement("div"));n.className="buttons",e.append(n);const r=u(this,Ei).toolbarPosition;if(r){const{style:o}=e,l=u(this,Ei)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return u(this,Da)}hide(){var e;u(this,Da).classList.add("hidden"),(e=u(this,sc))==null||e.hideDropdown()}show(){var e;u(this,Da).classList.remove("hidden"),(e=u(this,xp))==null||e.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=u(this,Ei),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",u(yo,_p)[e]),N(this,br,Mf).call(this,n),n.addEventListener("click",r=>{t.delete()},{signal:t._signal}),u(this,Oa).append(n)}async addAltText(e){const t=await e.render();N(this,br,Mf).call(this,t),u(this,Oa).append(t,u(this,br,Oy)),A(this,xp,e)}addColorPicker(e){A(this,sc,e);const t=e.renderButton();N(this,br,Mf).call(this,t),u(this,Oa).append(t,u(this,br,Oy))}async addEditSignatureButton(e){const t=A(this,Ad,await e.renderEditButton(u(this,Ei)));N(this,br,Mf).call(this,t),u(this,Oa).append(t,u(this,br,Oy))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(e){u(this,Ad)&&(u(this,Ad).title=e)}remove(){var e;u(this,Da).remove(),(e=u(this,sc))==null||e.destroy(),A(this,sc,null)}};Da=new WeakMap,sc=new WeakMap,Ei=new WeakMap,Oa=new WeakMap,xp=new WeakMap,Ad=new WeakMap,_p=new WeakMap,Dv=new WeakSet,AR=function(e){e.stopPropagation()},br=new WeakSet,CR=function(e){u(this,Ei)._focusEventsAllowed=!1,nn(e)},TR=function(e){u(this,Ei)._focusEventsAllowed=!0,nn(e)},Mf=function(e){const t=u(this,Ei)._uiManager._signal;e.addEventListener("focusin",N(this,br,CR).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",N(this,br,TR).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Mi,{signal:t})},Oy=function(){const e=document.createElement("div");return e.className="divider",e},k(yo,Dv),k(yo,_p,null);let bx=yo;var Sp,oc,ac,Cl,PR,RR,kR;class bz{constructor(e){k(this,Cl);k(this,Sp,null);k(this,oc,null);k(this,ac);A(this,ac,e)}show(e,t,n){const[r,o]=N(this,Cl,RR).call(this,t,n),{style:l}=u(this,oc)||A(this,oc,N(this,Cl,PR).call(this));e.append(u(this,oc)),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,oc).remove()}}Sp=new WeakMap,oc=new WeakMap,ac=new WeakMap,Cl=new WeakSet,PR=function(){const e=A(this,oc,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Mi,{signal:u(this,ac)._signal});const t=A(this,Sp,document.createElement("div"));return t.className="buttons",e.append(t),N(this,Cl,kR).call(this),e},RR=function(e,t){let n=0,r=0;for(const o of e){const l=o.y+o.height;if(l<n)continue;const c=o.x+(t?o.width:0);if(l>n){r=c,n=l;continue}t?c>r&&(r=c):c<r&&(r=c)}return[t?1-r:r,n]},kR=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=u(this,ac)._signal;e.addEventListener("contextmenu",Mi,{signal:n}),e.addEventListener("click",()=>{u(this,ac).highlightSelection("floating_button")},{signal:n}),u(this,Sp).append(e)};function IR(s,e,t){for(const n of t)e.addEventListener(n,s[n].bind(s))}var Ov;class xz{constructor(){k(this,Ov,0)}get id(){return`${mR}${Sn(this,Ov)._++}`}}Ov=new WeakMap;var Cd,Ep,nr,Td,Fy;const L1=class L1{constructor(){k(this,Td);k(this,Cd,m1());k(this,Ep,0);k(this,nr,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const o=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return nt(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:t,name:n,size:r,type:o}=e;return N(this,Td,Fy).call(this,`${t}_${n}_${r}_${o}`,e)}async getFromUrl(e){return N(this,Td,Fy).call(this,e,e)}async getFromBlob(e,t){const n=await t;return N(this,Td,Fy).call(this,e,n)}async getFromId(e){u(this,nr)||A(this,nr,new Map);const t=u(this,nr).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){u(this,nr)||A(this,nr,new Map);let n=u(this,nr).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${u(this,Cd)}_${Sn(this,Ep)._++}`,refCounter:1,isSvg:!1},u(this,nr).set(e,n),u(this,nr).set(n.id,n),n}getSvgUrl(e){const t=u(this,nr).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;u(this,nr)||A(this,nr,new Map);const t=u(this,nr).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const o=new OffscreenCanvas(n.width,n.height);o.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=o.convertToBlob()}(r=n.close)==null||r.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${u(this,Cd)}_`)}};Cd=new WeakMap,Ep=new WeakMap,nr=new WeakMap,Td=new WeakSet,Fy=async function(e,t){u(this,nr)||A(this,nr,new Map);let n=u(this,nr).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${u(this,Cd)}_${Sn(this,Ep)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(n.url=t,r=await Bh(t,"blob")):t instanceof File?r=n.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const o=L1._isSVGFittingCanvas,l=new FileReader,c=new Image,d=new Promise((f,p)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,f()},l.onload=async()=>{const g=n.svgUrl=l.result;c.src=await o?`${g}#svgView(preserveAspectRatio(none))`:g},c.onerror=l.onerror=p});l.readAsDataURL(r),await d}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){Ge(r),n=null}return u(this,nr).set(e,n),n&&u(this,nr).set(n.id,n),n};let xx=L1;var en,Fa,Ap,zt;class _z{constructor(e=128){k(this,en,[]);k(this,Fa,!1);k(this,Ap);k(this,zt,-1);A(this,Ap,e)}add({cmd:e,undo:t,post:n,mustExec:r,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(r&&e(),u(this,Fa))return;const d={cmd:e,undo:t,post:n,type:o};if(u(this,zt)===-1){u(this,en).length>0&&(u(this,en).length=0),A(this,zt,0),u(this,en).push(d);return}if(l&&u(this,en)[u(this,zt)].type===o){c&&(d.undo=u(this,en)[u(this,zt)].undo),u(this,en)[u(this,zt)]=d;return}const f=u(this,zt)+1;f===u(this,Ap)?u(this,en).splice(0,1):(A(this,zt,f),f<u(this,en).length&&u(this,en).splice(f)),u(this,en).push(d)}undo(){if(u(this,zt)===-1)return;A(this,Fa,!0);const{undo:e,post:t}=u(this,en)[u(this,zt)];e(),t==null||t(),A(this,Fa,!1),A(this,zt,u(this,zt)-1)}redo(){if(u(this,zt)<u(this,en).length-1){A(this,zt,u(this,zt)+1),A(this,Fa,!0);const{cmd:e,post:t}=u(this,en)[u(this,zt)];e(),t==null||t(),A(this,Fa,!1)}}hasSomethingToUndo(){return u(this,zt)!==-1}hasSomethingToRedo(){return u(this,zt)<u(this,en).length-1}cleanType(e){if(u(this,zt)!==-1){for(let t=u(this,zt);t>=0;t--)if(u(this,en)[t].type!==e){u(this,en).splice(t+1,u(this,zt)-t),A(this,zt,t);return}u(this,en).length=0,A(this,zt,-1)}}destroy(){A(this,en,null)}}en=new WeakMap,Fa=new WeakMap,Ap=new WeakMap,zt=new WeakMap;var Fv,LR;class im{constructor(e){k(this,Fv);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Nn.platform;for(const[n,r,o={}]of e)for(const l of n){const c=l.startsWith("mac+");t&&c?(this.callbacks.set(l.slice(4),{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1))):!t&&!c&&(this.callbacks.set(l,{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(N(this,Fv,LR).call(this,t));if(!n)return;const{callback:r,options:{bubbles:o=!1,args:l=[],checker:c=null}}=n;c&&!c(e,t)||(r.bind(e,...l,t)(),o||nn(t))}}Fv=new WeakSet,LR=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const jv=class jv{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return wz(e),nt(this,"_colors",e)}convert(e){const t=v1(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every((o,l)=>o===t[l]))return jv._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?De.makeHexColor(...t):e}};me(jv,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let _x=jv;var Pd,Gr,mn,$n,Rd,bo,kd,Ai,ja,Ba,Id,lc,Rs,Yi,cc,Cp,Tp,Ld,Pp,ks,$a,Nd,za,Is,Bv,Ha,Rp,Ua,uc,dc,Va,kp,Cn,yt,xo,Wa,hc,Ip,Lp,Ga,Ls,_o,Np,Mp,Ci,xe,jy,Sx,NR,MR,By,DR,OR,FR,Ex,jR,Ax,Cx,BR,hr,go,$R,zR,Tx,HR,Df,Px;const od=class od{constructor(e,t,n,r,o,l,c,d,f,p,g,y,w,S,b){k(this,xe);k(this,Pd,new AbortController);k(this,Gr,null);k(this,mn,new Map);k(this,$n,new Map);k(this,Rd,null);k(this,bo,null);k(this,kd,null);k(this,Ai,new _z);k(this,ja,null);k(this,Ba,null);k(this,Id,0);k(this,lc,new Set);k(this,Rs,null);k(this,Yi,null);k(this,cc,new Set);me(this,"_editorUndoBar",null);k(this,Cp,!1);k(this,Tp,!1);k(this,Ld,!1);k(this,Pp,null);k(this,ks,null);k(this,$a,null);k(this,Nd,null);k(this,za,!1);k(this,Is,null);k(this,Bv,new xz);k(this,Ha,!1);k(this,Rp,!1);k(this,Ua,null);k(this,uc,null);k(this,dc,null);k(this,Va,null);k(this,kp,null);k(this,Cn,Ve.NONE);k(this,yt,new Set);k(this,xo,null);k(this,Wa,null);k(this,hc,null);k(this,Ip,null);k(this,Lp,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});k(this,Ga,[0,0]);k(this,Ls,null);k(this,_o,null);k(this,Np,null);k(this,Mp,null);k(this,Ci,null);const E=this._signal=u(this,Pd).signal;A(this,_o,e),A(this,Np,t),A(this,Mp,n),A(this,Rd,r),A(this,Wa,o),this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:E}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:E}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:E}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:E}),l._on("setpreference",this.onSetPreference.bind(this),{signal:E}),l._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:E}),N(this,xe,DR).call(this),N(this,xe,BR).call(this),N(this,xe,Ex).call(this),A(this,bo,c.annotationStorage),A(this,Pp,c.filterFactory),A(this,hc,d),A(this,Nd,f||null),A(this,Cp,p),A(this,Tp,g),A(this,Ld,y),A(this,kp,w||null),this.viewParameters={realScale:na.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=S||null,this._supportsPinchToZoom=b!==!1}static get _keyboardManager(){const e=od.prototype,t=l=>u(l,_o).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:d}=c;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return nt(this,"_keyboardManager",new im([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&u(l,_o).contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&u(l,_o).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}destroy(){var e,t,n,r,o,l,c,d;(e=u(this,Ci))==null||e.resolve(),A(this,Ci,null),(t=u(this,Pd))==null||t.abort(),A(this,Pd,null),this._signal=null;for(const f of u(this,$n).values())f.destroy();u(this,$n).clear(),u(this,mn).clear(),u(this,cc).clear(),(n=u(this,Va))==null||n.clear(),A(this,Gr,null),u(this,yt).clear(),u(this,Ai).destroy(),(r=u(this,Rd))==null||r.destroy(),(o=u(this,Wa))==null||o.destroy(),(l=u(this,Is))==null||l.hide(),A(this,Is,null),(c=u(this,dc))==null||c.destroy(),A(this,dc,null),u(this,ks)&&(clearTimeout(u(this,ks)),A(this,ks,null)),u(this,Ls)&&(clearTimeout(u(this,Ls)),A(this,Ls,null)),(d=this._editorUndoBar)==null||d.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return u(this,kp)}get useNewAltTextFlow(){return u(this,Tp)}get useNewAltTextWhenAddingImage(){return u(this,Ld)}get hcmFilter(){return nt(this,"hcmFilter",u(this,hc)?u(this,Pp).addHCMFilter(u(this,hc).foreground,u(this,hc).background):"none")}get direction(){return nt(this,"direction",getComputedStyle(u(this,_o)).direction)}get highlightColors(){return nt(this,"highlightColors",u(this,Nd)?new Map(u(this,Nd).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return nt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),A(this,Ba,e)}setMainHighlightColorPicker(e){A(this,dc,e)}editAltText(e,t=!1){var n;(n=u(this,Rd))==null||n.editAltText(this,e,t)}getSignature(e){var t;(t=u(this,Wa))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return u(this,Wa)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":A(this,Ld,t);break}}onPageChanging({pageNumber:e}){A(this,Id,e-1)}focusMainContainer(){u(this,_o).focus()}findParent(e,t){for(const n of u(this,$n).values()){const{x:r,y:o,width:l,height:c}=n.div.getBoundingClientRect();if(e>=r&&e<=r+l&&t>=o&&t<=o+c)return n}return null}disableUserSelect(e=!1){u(this,Np).classList.toggle("noUserSelect",e)}addShouldRescale(e){u(this,cc).add(e)}removeShouldRescale(e){u(this,cc).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*na.PDF_TO_CSS_UNITS;for(const n of u(this,cc))n.onScaleChanging();(t=u(this,Ba))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:l}=t,c=t.toString(),f=N(this,xe,jy).call(this,t).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;t.empty();const g=N(this,xe,Sx).call(this,f),y=u(this,Cn)===Ve.NONE,w=()=>{g==null||g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:l,text:c}),y&&this.showAllEditors("highlight",!0,!0)};if(y){this.switchToMode(Ve.HIGHLIGHT,w);return}w()}addToAnnotationStorage(e){!e.isEmpty()&&u(this,bo)&&!u(this,bo).has(e.id)&&u(this,bo).setValue(e.id,e)}a11yAlert(e,t=null){const n=u(this,Mp);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,u(this,za)&&(A(this,za,!1),N(this,xe,By).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of u(this,yt))if(t.div.contains(e)){A(this,uc,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!u(this,uc))return;const[e,t]=u(this,uc);A(this,uc,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){N(this,xe,Ex).call(this),N(this,xe,Ax).call(this)}removeEditListeners(){N(this,xe,jR).call(this),N(this,xe,Cx).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of u(this,Yi))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of u(this,Yi))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=u(this,Gr))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of u(this,yt)){const o=r.serialize(!0);o&&t.push(o)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const o of t.items)for(const l of u(this,Yi))if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){Ge(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const d of n){const f=await r.deserialize(d);if(!f)return;o.push(f)}const l=()=>{for(const d of o)N(this,xe,Tx).call(this,d);N(this,xe,Px).call(this,o)},c=()=>{for(const d of o)d.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(o){Ge(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,Cn)!==Ve.NONE&&!this.isEditorHandlingKeyboard&&od._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,za)&&(A(this,za,!1),N(this,xe,By).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(N(this,xe,OR).call(this),N(this,xe,Ax).call(this),N(this,xe,hr).call(this,{isEditing:u(this,Cn)!==Ve.NONE,isEmpty:N(this,xe,Df).call(this),hasSomethingToUndo:u(this,Ai).hasSomethingToUndo(),hasSomethingToRedo:u(this,Ai).hasSomethingToRedo(),hasSelectedEditor:!1})):(N(this,xe,FR).call(this),N(this,xe,Cx).call(this),N(this,xe,hr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!u(this,Yi)){A(this,Yi,e);for(const t of u(this,Yi))N(this,xe,go).call(this,t.defaultPropertiesToUpdate)}}getId(){return u(this,Bv).id}get currentLayer(){return u(this,$n).get(u(this,Id))}getLayer(e){return u(this,$n).get(e)}get currentPageIndex(){return u(this,Id)}addLayer(e){u(this,$n).set(e.pageIndex,e),u(this,Ha)?e.enable():e.disable()}removeLayer(e){u(this,$n).delete(e.pageIndex)}async updateMode(e,t=null,n=!1,r=!1){var o,l,c;if(u(this,Cn)!==e&&!(u(this,Ci)&&(await u(this,Ci).promise,!u(this,Ci)))){if(A(this,Ci,Promise.withResolvers()),(o=u(this,Ba))==null||o.commitOrRemove(),A(this,Cn,e),e===Ve.NONE){this.setEditingState(!1),N(this,xe,zR).call(this),(l=this._editorUndoBar)==null||l.hide(),u(this,Ci).resolve();return}e===Ve.SIGNATURE&&await((c=u(this,Wa))==null?void 0:c.loadSignatures()),this.setEditingState(!0),await N(this,xe,$R).call(this),this.unselectAll();for(const d of u(this,$n).values())d.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),u(this,Ci).resolve();return}for(const d of u(this,mn).values())d.annotationElementId===t||d.id===t?(this.setSelected(d),r&&d.enterInEditMode()):d.unselect();u(this,Ci).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==u(this,Cn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){var n;if(u(this,Yi)){switch(e){case st.CREATE:this.currentLayer.addNewEditor(t);return;case st.HIGHLIGHT_DEFAULT_COLOR:(n=u(this,dc))==null||n.updateColor(t);break;case st.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,Ip)||A(this,Ip,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of u(this,yt))r.updateParams(e,t);for(const r of u(this,Yi))r.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var o;for(const l of u(this,mn).values())l.editorType===e&&l.show(t);(((o=u(this,Ip))==null?void 0:o.get(st.HIGHLIGHT_SHOW_ALL))??!0)!==t&&N(this,xe,go).call(this,[[st.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(u(this,Rp)!==e){A(this,Rp,e);for(const t of u(this,$n).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of u(this,mn).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return u(this,mn).get(e)}addEditor(e){u(this,mn).set(e.id,e)}removeEditor(e){var t,n;e.div.contains(document.activeElement)&&(u(this,ks)&&clearTimeout(u(this,ks)),A(this,ks,setTimeout(()=>{this.focusMainContainer(),A(this,ks,null)},0))),u(this,mn).delete(e.id),e.annotationElementId&&((t=u(this,Va))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!u(this,lc).has(e.annotationElementId))&&((n=u(this,bo))==null||n.remove(e.id))}addDeletedAnnotationElement(e){u(this,lc).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return u(this,lc).has(e)}removeDeletedAnnotationElement(e){u(this,lc).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){u(this,Gr)!==e&&(A(this,Gr,e),e&&N(this,xe,go).call(this,e.propertiesToUpdate))}updateUI(e){u(this,xe,HR)===e&&N(this,xe,go).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){N(this,xe,go).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(u(this,yt).has(e)){u(this,yt).delete(e),e.unselect(),N(this,xe,hr).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,yt).add(e),e.select(),N(this,xe,go).call(this,e.propertiesToUpdate),N(this,xe,hr).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=u(this,Ba))==null||t.commitOrRemove();for(const n of u(this,yt))n!==e&&n.unselect();u(this,yt).clear(),u(this,yt).add(e),e.select(),N(this,xe,go).call(this,e.propertiesToUpdate),N(this,xe,hr).call(this,{hasSelectedEditor:!0})}isSelected(e){return u(this,yt).has(e)}get firstSelectedEditor(){return u(this,yt).values().next().value}unselect(e){e.unselect(),u(this,yt).delete(e),N(this,xe,hr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,yt).size!==0}get isEnterHandled(){return u(this,yt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;u(this,Ai).undo(),N(this,xe,hr).call(this,{hasSomethingToUndo:u(this,Ai).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:N(this,xe,Df).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){u(this,Ai).redo(),N(this,xe,hr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,Ai).hasSomethingToRedo(),isEmpty:N(this,xe,Df).call(this)})}addCommands(e){u(this,Ai).add(e),N(this,xe,hr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:N(this,xe,Df).call(this)})}cleanUndoStack(e){u(this,Ai).cleanType(e)}delete(){var o;this.commitOrRemove();const e=(o=this.currentLayer)==null?void 0:o.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...u(this,yt)],n=()=>{var l;(l=this._editorUndoBar)==null||l.show(r,t.length===1?t[0].editorType:t.length);for(const c of t)c.remove()},r=()=>{for(const l of t)N(this,xe,Tx).call(this,l)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=u(this,Gr))==null||e.commitOrRemove()}hasSomethingToControl(){return u(this,Gr)||this.hasSelection}selectAll(){for(const e of u(this,yt))e.commit();N(this,xe,Px).call(this,u(this,mn).values())}unselectAll(){var e;if(!(u(this,Gr)&&(u(this,Gr).commitOrRemove(),u(this,Cn)!==Ve.NONE))&&!((e=u(this,Ba))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of u(this,yt))t.unselect();u(this,yt).clear(),N(this,xe,hr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;u(this,Ga)[0]+=e,u(this,Ga)[1]+=t;const[r,o]=u(this,Ga),l=[...u(this,yt)],c=1e3;u(this,Ls)&&clearTimeout(u(this,Ls)),A(this,Ls,setTimeout(()=>{A(this,Ls,null),u(this,Ga)[0]=u(this,Ga)[1]=0,this.addCommands({cmd:()=>{for(const d of l)u(this,mn).has(d.id)&&(d.translateInPage(r,o),d.translationDone())},undo:()=>{for(const d of l)u(this,mn).has(d.id)&&(d.translateInPage(-r,-o),d.translationDone())},mustExec:!1})},c));for(const d of l)d.translateInPage(e,t),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),A(this,Rs,new Map);for(const e of u(this,yt))u(this,Rs).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,Rs))return!1;this.disableUserSelect(!1);const e=u(this,Rs);A(this,Rs,null);let t=!1;for(const[{x:r,y:o,pageIndex:l},c]of e)c.newX=r,c.newY=o,c.newPageIndex=l,t||(t=r!==c.savedX||o!==c.savedY||l!==c.savedPageIndex);if(!t)return!1;const n=(r,o,l,c)=>{if(u(this,mn).has(r.id)){const d=u(this,$n).get(c);d?r._setParentAndPosition(d,o,l):(r.pageIndex=c,r.x=o,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:l,newPageIndex:c}]of e)n(r,o,l,c)},undo:()=>{for(const[r,{savedX:o,savedY:l,savedPageIndex:c}]of e)n(r,o,l,c)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(u(this,Rs))for(const n of u(this,Rs).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||u(this,yt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return u(this,Gr)===e}getActive(){return u(this,Gr)}getMode(){return u(this,Cn)}get imageManager(){return nt(this,"imageManager",new xx)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let f=0,p=t.rangeCount;f<p;f++)if(!e.contains(t.getRangeAt(f).commonAncestorContainer))return null;const{x:n,y:r,width:o,height:l}=e.getBoundingClientRect();let c;switch(e.getAttribute("data-main-rotation")){case"90":c=(f,p,g,y)=>({x:(p-r)/l,y:1-(f+g-n)/o,width:y/l,height:g/o});break;case"180":c=(f,p,g,y)=>({x:1-(f+g-n)/o,y:1-(p+y-r)/l,width:g/o,height:y/l});break;case"270":c=(f,p,g,y)=>({x:1-(p+y-r)/l,y:(f-n)/o,width:y/l,height:g/o});break;default:c=(f,p,g,y)=>({x:(f-n)/o,y:(p-r)/l,width:g/o,height:y/l});break}const d=[];for(let f=0,p=t.rangeCount;f<p;f++){const g=t.getRangeAt(f);if(!g.collapsed)for(const{x:y,y:w,width:S,height:b}of g.getClientRects())S===0||b===0||d.push(c(y,w,S,b))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:e,id:t}){(u(this,kd)||A(this,kd,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=u(this,kd))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=u(this,kd))==null?void 0:r.get(e.data.id);if(!t)return;const n=u(this,bo).getRawValue(t);n&&(u(this,Cn)===Ve.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){var o;const r=(o=u(this,Va))==null?void 0:o.get(e);r&&(r.setCanvas(t,n),u(this,Va).delete(e))}addMissingCanvas(e,t){(u(this,Va)||A(this,Va,new Map)).set(e,t)}};Pd=new WeakMap,Gr=new WeakMap,mn=new WeakMap,$n=new WeakMap,Rd=new WeakMap,bo=new WeakMap,kd=new WeakMap,Ai=new WeakMap,ja=new WeakMap,Ba=new WeakMap,Id=new WeakMap,lc=new WeakMap,Rs=new WeakMap,Yi=new WeakMap,cc=new WeakMap,Cp=new WeakMap,Tp=new WeakMap,Ld=new WeakMap,Pp=new WeakMap,ks=new WeakMap,$a=new WeakMap,Nd=new WeakMap,za=new WeakMap,Is=new WeakMap,Bv=new WeakMap,Ha=new WeakMap,Rp=new WeakMap,Ua=new WeakMap,uc=new WeakMap,dc=new WeakMap,Va=new WeakMap,kp=new WeakMap,Cn=new WeakMap,yt=new WeakMap,xo=new WeakMap,Wa=new WeakMap,hc=new WeakMap,Ip=new WeakMap,Lp=new WeakMap,Ga=new WeakMap,Ls=new WeakMap,_o=new WeakMap,Np=new WeakMap,Mp=new WeakMap,Ci=new WeakMap,xe=new WeakSet,jy=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Sx=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of u(this,$n).values())if(n.hasTextLayer(e))return n;return null},NR=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=N(this,xe,jy).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(u(this,Is)||A(this,Is,new bz(this)),u(this,Is).show(n,r,this.direction==="ltr"))},MR=function(){var o,l,c;const e=document.getSelection();if(!e||e.isCollapsed){u(this,xo)&&((o=u(this,Is))==null||o.hide(),A(this,xo,null),N(this,xe,hr).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===u(this,xo))return;const r=N(this,xe,jy).call(this,e).closest(".textLayer");if(!r){u(this,xo)&&((l=u(this,Is))==null||l.hide(),A(this,xo,null),N(this,xe,hr).call(this,{hasSelectedText:!1}));return}if((c=u(this,Is))==null||c.hide(),A(this,xo,t),N(this,xe,hr).call(this,{hasSelectedText:!0}),!(u(this,Cn)!==Ve.HIGHLIGHT&&u(this,Cn)!==Ve.NONE)&&(u(this,Cn)===Ve.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),A(this,za,this.isShiftKeyDown),!this.isShiftKeyDown)){const d=u(this,Cn)===Ve.HIGHLIGHT?N(this,xe,Sx).call(this,r):null;d==null||d.toggleDrawing();const f=new AbortController,p=this.combinedSignal(f),g=y=>{y.type==="pointerup"&&y.button!==0||(f.abort(),d==null||d.toggleDrawing(!0),y.type==="pointerup"&&N(this,xe,By).call(this,"main_toolbar"))};window.addEventListener("pointerup",g,{signal:p}),window.addEventListener("blur",g,{signal:p})}},By=function(e=""){u(this,Cn)===Ve.HIGHLIGHT?this.highlightSelection(e):u(this,Cp)&&N(this,xe,NR).call(this)},DR=function(){document.addEventListener("selectionchange",N(this,xe,MR).bind(this),{signal:this._signal})},OR=function(){if(u(this,$a))return;A(this,$a,new AbortController);const e=this.combinedSignal(u(this,$a));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},FR=function(){var e;(e=u(this,$a))==null||e.abort(),A(this,$a,null)},Ex=function(){if(u(this,Ua))return;A(this,Ua,new AbortController);const e=this.combinedSignal(u(this,Ua));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},jR=function(){var e;(e=u(this,Ua))==null||e.abort(),A(this,Ua,null)},Ax=function(){if(u(this,ja))return;A(this,ja,new AbortController);const e=this.combinedSignal(u(this,ja));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Cx=function(){var e;(e=u(this,ja))==null||e.abort(),A(this,ja,null)},BR=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},hr=function(e){Object.entries(e).some(([n,r])=>u(this,Lp)[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,Lp),e)}),u(this,Cn)===Ve.HIGHLIGHT&&e.hasSelectedEditor===!1&&N(this,xe,go).call(this,[[st.HIGHLIGHT_FREE,!0]]))},go=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},$R=async function(){if(!u(this,Ha)){A(this,Ha,!0);const e=[];for(const t of u(this,$n).values())e.push(t.enable());await Promise.all(e);for(const t of u(this,mn).values())t.enable()}},zR=function(){if(this.unselectAll(),u(this,Ha)){A(this,Ha,!1);for(const e of u(this,$n).values())e.disable();for(const e of u(this,mn).values())e.disable()}},Tx=function(e){const t=u(this,$n).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},HR=function(){let e=null;for(e of u(this,yt));return e},Df=function(){if(u(this,mn).size===0)return!0;if(u(this,mn).size===1)for(const e of u(this,mn).values())return e.isEmpty();return!1},Px=function(e){for(const t of u(this,yt))t.unselect();u(this,yt).clear();for(const t of e)t.isEmpty()||(u(this,yt).add(t),t.select());N(this,xe,hr).call(this,{hasSelectedEditor:this.hasSelection})},me(od,"TRANSLATE_SMALL",1),me(od,"TRANSLATE_BIG",10);let Al=od;var Tn,Ns,Xi,Md,Ms,qr,Dd,Ds,Nr,So,fc,Os,qa,cs,Of,$y;const fr=class fr{constructor(e){k(this,cs);k(this,Tn,null);k(this,Ns,!1);k(this,Xi,null);k(this,Md,null);k(this,Ms,null);k(this,qr,null);k(this,Dd,!1);k(this,Ds,null);k(this,Nr,null);k(this,So,null);k(this,fc,null);k(this,Os,!1);A(this,Nr,e),A(this,Os,e._uiManager.useNewAltTextFlow),u(fr,qa)||A(fr,qa,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){fr._l10n??(fr._l10n=e)}async render(){const e=A(this,Xi,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=A(this,Md,document.createElement("span"));e.append(t),u(this,Os)?(e.classList.add("new"),e.setAttribute("data-l10n-id",u(fr,qa).missing),t.setAttribute("data-l10n-id",u(fr,qa)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=u(this,Nr)._uiManager._signal;e.addEventListener("contextmenu",Mi,{signal:n}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const r=o=>{o.preventDefault(),u(this,Nr)._uiManager.editAltText(u(this,Nr)),u(this,Os)&&u(this,Nr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,cs,Of)}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(A(this,Dd,!0),r(o))},{signal:n}),await N(this,cs,$y).call(this),e}finish(){u(this,Xi)&&(u(this,Xi).focus({focusVisible:u(this,Dd)}),A(this,Dd,!1))}isEmpty(){return u(this,Os)?u(this,Tn)===null:!u(this,Tn)&&!u(this,Ns)}hasData(){return u(this,Os)?u(this,Tn)!==null||!!u(this,So):this.isEmpty()}get guessedText(){return u(this,So)}async setGuessedText(e){u(this,Tn)===null&&(A(this,So,e),A(this,fc,await fr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),N(this,cs,$y).call(this))}toggleAltTextBadge(e=!1){var t;if(!u(this,Os)||u(this,Tn)){(t=u(this,Ds))==null||t.remove(),A(this,Ds,null);return}if(!u(this,Ds)){const n=A(this,Ds,document.createElement("div"));n.className="noAltTextBadge",u(this,Nr).div.append(n)}u(this,Ds).classList.toggle("hidden",!e)}serialize(e){let t=u(this,Tn);return!e&&u(this,So)===t&&(t=u(this,fc)),{altText:t,decorative:u(this,Ns),guessedText:u(this,So),textWithDisclaimer:u(this,fc)}}get data(){return{altText:u(this,Tn),decorative:u(this,Ns)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:r,cancel:o=!1}){n&&(A(this,So,n),A(this,fc,r)),!(u(this,Tn)===e&&u(this,Ns)===t)&&(o||(A(this,Tn,e),A(this,Ns,t)),N(this,cs,$y).call(this))}toggle(e=!1){u(this,Xi)&&(!e&&u(this,qr)&&(clearTimeout(u(this,qr)),A(this,qr,null)),u(this,Xi).disabled=!e)}shown(){u(this,Nr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,cs,Of)}})}destroy(){var e,t;(e=u(this,Xi))==null||e.remove(),A(this,Xi,null),A(this,Md,null),A(this,Ms,null),(t=u(this,Ds))==null||t.remove(),A(this,Ds,null)}};Tn=new WeakMap,Ns=new WeakMap,Xi=new WeakMap,Md=new WeakMap,Ms=new WeakMap,qr=new WeakMap,Dd=new WeakMap,Ds=new WeakMap,Nr=new WeakMap,So=new WeakMap,fc=new WeakMap,Os=new WeakMap,qa=new WeakMap,cs=new WeakSet,Of=function(){return u(this,Tn)&&"added"||u(this,Tn)===null&&this.guessedText&&"review"||"missing"},$y=async function(){var r,o,l;const e=u(this,Xi);if(!e)return;if(u(this,Os)){if(e.classList.toggle("done",!!u(this,Tn)),e.setAttribute("data-l10n-id",u(fr,qa)[u(this,cs,Of)]),(r=u(this,Md))==null||r.setAttribute("data-l10n-id",u(fr,qa)[`${u(this,cs,Of)}-label`]),!u(this,Tn)){(o=u(this,Ms))==null||o.remove();return}}else{if(!u(this,Tn)&&!u(this,Ns)){e.classList.remove("done"),(l=u(this,Ms))==null||l.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=u(this,Ms);if(!t){A(this,Ms,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${u(this,Nr).id}`;const c=100,d=u(this,Nr)._uiManager._signal;d.addEventListener("abort",()=>{clearTimeout(u(this,qr)),A(this,qr,null)},{once:!0}),e.addEventListener("mouseenter",()=>{A(this,qr,setTimeout(()=>{A(this,qr,null),u(this,Ms).classList.add("show"),u(this,Nr)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:d}),e.addEventListener("mouseleave",()=>{var f;u(this,qr)&&(clearTimeout(u(this,qr)),A(this,qr,null)),(f=u(this,Ms))==null||f.classList.remove("show")},{signal:d})}u(this,Ns)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=u(this,Tn)),t.parentNode||e.append(t);const n=u(this,Nr).getElementForAltText();n==null||n.setAttribute("aria-describedby",t.id)},k(fr,qa,null),me(fr,"_l10n",null);let Pv=fr;var Od,pc,Dp,Op,Fp,jp,Bp,Eo,gc,Ao,mc,Co,Tl,UR,VR,WR;const N1=class N1{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:o=null,onPinchEnd:l=null,signal:c}){k(this,Tl);k(this,Od);k(this,pc,!1);k(this,Dp,null);k(this,Op);k(this,Fp);k(this,jp);k(this,Bp);k(this,Eo,null);k(this,gc);k(this,Ao,null);k(this,mc);k(this,Co,null);A(this,Od,e),A(this,Dp,n),A(this,Op,t),A(this,Fp,r),A(this,jp,o),A(this,Bp,l),A(this,mc,new AbortController),A(this,gc,AbortSignal.any([c,u(this,mc).signal])),e.addEventListener("touchstart",N(this,Tl,UR).bind(this),{passive:!1,signal:u(this,gc)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/hs.pixelRatio}destroy(){var e,t;(e=u(this,mc))==null||e.abort(),A(this,mc,null),(t=u(this,Eo))==null||t.abort(),A(this,Eo,null)}};Od=new WeakMap,pc=new WeakMap,Dp=new WeakMap,Op=new WeakMap,Fp=new WeakMap,jp=new WeakMap,Bp=new WeakMap,Eo=new WeakMap,gc=new WeakMap,Ao=new WeakMap,mc=new WeakMap,Co=new WeakMap,Tl=new WeakSet,UR=function(e){var r,o,l;if((r=u(this,Op))!=null&&r.call(this))return;if(e.touches.length===1){if(u(this,Eo))return;const c=A(this,Eo,new AbortController),d=AbortSignal.any([u(this,gc),c.signal]),f=u(this,Od),p={capture:!0,signal:d,passive:!1},g=y=>{var w;y.pointerType==="touch"&&((w=u(this,Eo))==null||w.abort(),A(this,Eo,null))};f.addEventListener("pointerdown",y=>{y.pointerType==="touch"&&(nn(y),g(y))},p),f.addEventListener("pointerup",g,p),f.addEventListener("pointercancel",g,p);return}if(!u(this,Co)){A(this,Co,new AbortController);const c=AbortSignal.any([u(this,gc),u(this,Co).signal]),d=u(this,Od),f={signal:c,capture:!1,passive:!1};d.addEventListener("touchmove",N(this,Tl,VR).bind(this),f);const p=N(this,Tl,WR).bind(this);d.addEventListener("touchend",p,f),d.addEventListener("touchcancel",p,f),f.capture=!0,d.addEventListener("pointerdown",nn,f),d.addEventListener("pointermove",nn,f),d.addEventListener("pointercancel",nn,f),d.addEventListener("pointerup",nn,f),(o=u(this,Fp))==null||o.call(this)}if(nn(e),e.touches.length!==2||(l=u(this,Dp))!=null&&l.call(this)){A(this,Ao,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),A(this,Ao,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},VR=function(e){var D;if(!u(this,Ao)||e.touches.length!==2)return;nn(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:r,screenY:o}=t,{screenX:l,screenY:c}=n,d=u(this,Ao),{touch0X:f,touch0Y:p,touch1X:g,touch1Y:y}=d,w=g-f,S=y-p,b=l-r,E=c-o,T=Math.hypot(b,E)||1,I=Math.hypot(w,S)||1;if(!u(this,pc)&&Math.abs(I-T)<=N1.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=r,d.touch0Y=o,d.touch1X=l,d.touch1Y=c,!u(this,pc)){A(this,pc,!0);return}const L=[(r+l)/2,(o+c)/2];(D=u(this,jp))==null||D.call(this,L,I,T)},WR=function(e){var t;e.touches.length>=2||(u(this,Co)&&(u(this,Co).abort(),A(this,Co,null),(t=u(this,Bp))==null||t.call(this)),u(this,Ao)&&(nn(e),A(this,Ao,null),A(this,pc,!1)))};let hp=N1;var yc,Ki,Mt,Fd,Ya,$p,vc,zn,wc,To,Xa,zp,bc,Yr,Hp,xc,Po,Fs,jd,Bd,Ti,_c,Up,$v,ze,Rx,Vp,kx,zy,GR,qR,Ix,Hy,Lx,YR,XR,KR,Nx,QR,Mx,JR,ZR,ek,Dx,Ff;const Ke=class Ke{constructor(e){k(this,ze);k(this,yc,null);k(this,Ki,null);k(this,Mt,null);k(this,Fd,!1);k(this,Ya,null);k(this,$p,"");k(this,vc,!1);k(this,zn,null);k(this,wc,null);k(this,To,null);k(this,Xa,null);k(this,zp,"");k(this,bc,!1);k(this,Yr,null);k(this,Hp,!1);k(this,xc,!1);k(this,Po,!1);k(this,Fs,null);k(this,jd,0);k(this,Bd,0);k(this,Ti,null);k(this,_c,null);me(this,"isSelected",!1);me(this,"_isCopy",!1);me(this,"_editToolbar",null);me(this,"_initialOptions",Object.create(null));me(this,"_initialData",null);me(this,"_isVisible",!0);me(this,"_uiManager",null);me(this,"_focusEventsAllowed",!0);k(this,Up,!1);k(this,$v,Ke._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[o,l];const[c,d]=this.parentDimensions;this.x=e.x/c,this.y=e.y/d,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Ke.prototype._resizeWithKeyboard,t=Al.TRANSLATE_SMALL,n=Al.TRANSLATE_BIG;return nt(this,"_resizerKeyboardManager",new im([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Ke.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return nt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Sz({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Ke._l10n??(Ke._l10n=e),Ke._l10nResizer||(Ke._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ke._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Ke._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){_t("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,Up)}set _isDraggable(e){var t;A(this,Up,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,$v)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):N(this,ze,Ff).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(u(this,bc)?A(this,bc,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[o,l]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/o,this.y=(t+r)/l,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r),this._onTranslated()}translate(e,t){N(this,ze,Rx).call(this,this.parentDimensions,e,t)}translateInPage(e,t){u(this,Yr)||A(this,Yr,[this.x,this.y,this.width,this.height]),N(this,ze,Rx).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){u(this,Yr)||A(this,Yr,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[r,o]}=this;if(this.x+=e/r,this.y+=t/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[d,f]=this.getBaseTranslation();l+=d,c+=f;const{style:p}=n;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*c).toFixed(2)}%`,this._onTranslating(l,c),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!u(this,Yr)&&(u(this,Yr)[0]!==this.x||u(this,Yr)[1]!==this.y)}get _hasBeenResized(){return!!u(this,Yr)&&(u(this,Yr)[2]!==this.width||u(this,Yr)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Ke,r=n/e,o=n/t;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,r]}=this;let{x:o,y:l,width:c,height:d}=this;if(c*=n,d*=r,o*=n,l*=r,this._mustFixPosition)switch(e){case 0:o=sr(o,0,n-c),l=sr(l,0,r-d);break;case 90:o=sr(o,0,n-d),l=sr(l,c,r);break;case 180:o=sr(o,c,n),l=sr(l,d,r);break;case 270:o=sr(o,d,n),l=sr(l,0,r-c);break}this.x=o/=n,this.y=l/=r;const[f,p]=this.getBaseTranslation();o+=f,l+=p,t.left=`${(100*o).toFixed(2)}%`,t.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return N(n=Ke,Vp,kx).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return N(n=Ke,Vp,kx).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,r]=this.parentDimensions,{style:o}=this.div;o.width=`${(100*e/n).toFixed(2)}%`,u(this,vc)||(o.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),o=!u(this,vc)&&t.endsWith("%");if(r&&o)return;const[l,c]=this.parentDimensions;r||(e.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!u(this,vc)&&!o&&(e.height=`${(100*parseFloat(t)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=u(this,Mt))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||u(this,xc))return this._editToolbar;this._editToolbar=new bx(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=u(this,Mt))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return u(this,Mt)||(Pv.initialize(Ke._l10n),A(this,Mt,new Pv(this)),u(this,yc)&&(u(this,Mt).data=u(this,yc),A(this,yc,null))),u(this,Mt)}get altTextData(){var e;return(e=u(this,Mt))==null?void 0:e.data}set altTextData(e){u(this,Mt)&&(u(this,Mt).data=e)}get guessedAltText(){var e;return(e=u(this,Mt))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=u(this,Mt))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=u(this,Mt))==null?void 0:t.serialize(e)}hasAltText(){return!!u(this,Mt)&&!u(this,Mt).isEmpty()}hasAltTextData(){var e;return((e=u(this,Mt))==null?void 0:e.hasData())??!1}render(){var l;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=u(this,Fd)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),N(this,ze,Mx).call(this);const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[r,o]=this.getInitialTranslation();return this.translate(r,o),IR(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(u(this,_c)||A(this,_c,new hp({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:N(this,ze,YR).bind(this),onPinching:N(this,ze,XR).bind(this),onPinchEnd:N(this,ze,KR).bind(this),signal:this._uiManager._signal}))),(l=this._uiManager._editorUndoBar)==null||l.hide(),e}pointerdown(e){const{isMac:t}=Nn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(A(this,bc,!0),this._isDraggable){N(this,ze,QR).call(this,e);return}N(this,ze,Nx).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){u(this,Fs)&&clearTimeout(u(this,Fs)),A(this,Fs,setTimeout(()=>{var e;A(this,Fs,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const r=this.parentScale,[o,l]=this.pageDimensions,[c,d]=this.pageTranslation,f=e/r,p=t/r,g=this.x*o,y=this.y*l,w=this.width*o,S=this.height*l;switch(n){case 0:return[g+f+c,l-y-p-S+d,g+f+w+c,l-y-p+d];case 90:return[g+p+c,l-y+f+d,g+p+S+c,l-y+f+w+d];case 180:return[g-f-w+c,l-y+p+d,g-f+c,l-y+p+S+d];case 270:return[g-p-S+c,l-y-f-w+d,g-p+c,l-y-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,o,l]=e,c=o-n,d=l-r;switch(this.rotation){case 0:return[n,t-l,c,d];case 90:return[n,t-r,d,c];case 180:return[o,t-r,c,d];case 270:return[o,t-l,d,c];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),A(this,xc,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),A(this,xc,!1),!0):!1}isInEditMode(){return u(this,xc)}shouldGetKeyboardEvents(){return u(this,Po)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:o,innerWidth:l}=window;return t<l&&r>0&&e<o&&n>0}rebuild(){N(this,ze,Mx).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){_t("An editor must be serializable")}static async deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId});r.rotation=e.rotation,A(r,yc,e.accessibilityData),r._isCopy=e.isCopy||!1;const[o,l]=r.pageDimensions,[c,d,f,p]=r.getRectInCurrentCoords(e.rect,l);return r.x=c/o,r.y=d/l,r.width=f/o,r.height=p/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=u(this,Xa))==null||e.abort(),A(this,Xa,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,Fs)&&(clearTimeout(u(this,Fs)),A(this,Fs,null)),N(this,ze,Ff).call(this),this.removeEditToolbar(),u(this,Ti)){for(const n of u(this,Ti).values())clearTimeout(n);A(this,Ti,null)}this.parent=null,(t=u(this,_c))==null||t.destroy(),A(this,_c,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(N(this,ze,GR).call(this),u(this,zn).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),A(this,To,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=u(this,zn).children;if(!u(this,Ki)){A(this,Ki,Array.from(t));const l=N(this,ze,JR).bind(this),c=N(this,ze,ZR).bind(this),d=this._uiManager._signal;for(const f of u(this,Ki)){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:d}),f.addEventListener("blur",c,{signal:d}),f.addEventListener("focus",N(this,ze,ek).bind(this,p),{signal:d}),f.setAttribute("data-l10n-id",Ke._l10nResizer[p])}}const n=u(this,Ki)[0];let r=0;for(const l of t){if(l===n)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(u(this,Ki).length/4);if(o!==r){if(o<r)for(let c=0;c<r-o;c++)u(this,zn).append(u(this,zn).firstChild);else if(o>r)for(let c=0;c<o-r;c++)u(this,zn).firstChild.before(u(this,zn).lastChild);let l=0;for(const c of t){const f=u(this,Ki)[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Ke._l10nResizer[f])}}N(this,ze,Dx).call(this,0),A(this,Po,!0),u(this,zn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){u(this,Po)&&N(this,ze,Lx).call(this,u(this,zp),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){N(this,ze,Ff).call(this),this.div.focus()}select(){var e,t,n;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(t=this._editToolbar)==null||t.show(),(n=u(this,Mt))==null||n.toggleAltTextBadge(!1)}}unselect(){var e,t,n,r,o;this.isSelected&&(this.isSelected=!1,(e=u(this,zn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=u(this,Mt))==null||o.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return u(this,Hp)}set isEditing(e){A(this,Hp,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){A(this,vc,!0);const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){u(this,Ti)||A(this,Ti,new Map);const{action:n}=e;let r=u(this,Ti).get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),u(this,Ti).delete(n),u(this,Ti).size===0&&A(this,Ti,null)},Ke._telemetryTimeout),u(this,Ti).set(n,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),A(this,Fd,!1)}disable(){this.div&&(this.div.tabIndex=-1),A(this,Fd,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};yc=new WeakMap,Ki=new WeakMap,Mt=new WeakMap,Fd=new WeakMap,Ya=new WeakMap,$p=new WeakMap,vc=new WeakMap,zn=new WeakMap,wc=new WeakMap,To=new WeakMap,Xa=new WeakMap,zp=new WeakMap,bc=new WeakMap,Yr=new WeakMap,Hp=new WeakMap,xc=new WeakMap,Po=new WeakMap,Fs=new WeakMap,jd=new WeakMap,Bd=new WeakMap,Ti=new WeakMap,_c=new WeakMap,Up=new WeakMap,$v=new WeakMap,ze=new WeakSet,Rx=function([e,t],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Vp=new WeakSet,kx=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},zy=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},GR=function(){if(u(this,zn))return;A(this,zn,document.createElement("div")),u(this,zn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const r=document.createElement("div");u(this,zn).append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",N(this,ze,qR).bind(this,n),{signal:t}),r.addEventListener("contextmenu",Mi,{signal:t}),r.tabIndex=-1}this.div.prepend(u(this,zn))},qR=function(e,t){var p;t.preventDefault();const{isMac:n}=Nn.platform;if(t.button!==0||t.ctrlKey&&n)return;(p=u(this,Mt))==null||p.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,A(this,wc,[t.screenX,t.screenY]);const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",N(this,ze,Lx).bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",nn,{passive:!1,signal:l}),window.addEventListener("contextmenu",Mi,{signal:l}),A(this,To,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const c=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const f=()=>{var g;o.abort(),this.parent.togglePointerEvents(!0),(g=u(this,Mt))==null||g.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=c,this.div.style.cursor=d,N(this,ze,Hy).call(this)};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})},Ix=function(e,t,n,r){this.width=n,this.height=r,this.x=e,this.y=t;const[o,l]=this.parentDimensions;this.setDims(o*n,l*r),this.fixAndSetPosition(),this._onResized()},Hy=function(){if(!u(this,To))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=u(this,To);A(this,To,null);const o=this.x,l=this.y,c=this.width,d=this.height;o===e&&l===t&&c===n&&d===r||this.addCommands({cmd:N(this,ze,Ix).bind(this,o,l,c,d),undo:N(this,ze,Ix).bind(this,e,t,n,r),mustExec:!0})},Lx=function(e,t){const[n,r]=this.parentDimensions,o=this.x,l=this.y,c=this.width,d=this.height,f=Ke.MIN_SIZE/n,p=Ke.MIN_SIZE/r,g=N(this,ze,zy).call(this,this.rotation),y=(Y,J)=>[g[0]*Y+g[2]*J,g[1]*Y+g[3]*J],w=N(this,ze,zy).call(this,360-this.rotation),S=(Y,J)=>[w[0]*Y+w[2]*J,w[1]*Y+w[3]*J];let b,E,T=!1,I=!1;switch(e){case"topLeft":T=!0,b=(Y,J)=>[0,0],E=(Y,J)=>[Y,J];break;case"topMiddle":b=(Y,J)=>[Y/2,0],E=(Y,J)=>[Y/2,J];break;case"topRight":T=!0,b=(Y,J)=>[Y,0],E=(Y,J)=>[0,J];break;case"middleRight":I=!0,b=(Y,J)=>[Y,J/2],E=(Y,J)=>[0,J/2];break;case"bottomRight":T=!0,b=(Y,J)=>[Y,J],E=(Y,J)=>[0,0];break;case"bottomMiddle":b=(Y,J)=>[Y/2,J],E=(Y,J)=>[Y/2,0];break;case"bottomLeft":T=!0,b=(Y,J)=>[0,J],E=(Y,J)=>[Y,0];break;case"middleLeft":I=!0,b=(Y,J)=>[0,J/2],E=(Y,J)=>[Y,J/2];break}const L=b(c,d),D=E(c,d);let F=y(...D);const B=Ke._round(o+F[0]),$=Ke._round(l+F[1]);let V=1,q=1,te,re;if(t.fromKeyboard)({deltaX:te,deltaY:re}=t);else{const{screenX:Y,screenY:J}=t,[Q,ue]=u(this,wc);[te,re]=this.screenToPageTranslation(Y-Q,J-ue),u(this,wc)[0]=Y,u(this,wc)[1]=J}if([te,re]=S(te/n,re/r),T){const Y=Math.hypot(c,d);V=q=Math.max(Math.min(Math.hypot(D[0]-L[0]-te,D[1]-L[1]-re)/Y,1/c,1/d),f/c,p/d)}else I?V=sr(Math.abs(D[0]-L[0]-te),f,1)/c:q=sr(Math.abs(D[1]-L[1]-re),p,1)/d;const be=Ke._round(c*V),pe=Ke._round(d*q);F=y(...E(be,pe));const ae=B-F[0],_e=$-F[1];u(this,Yr)||A(this,Yr,[this.x,this.y,this.width,this.height]),this.width=be,this.height=pe,this.x=ae,this.y=_e,this.setDims(n*be,r*pe),this.fixAndSetPosition(),this._onResizing()},YR=function(){var e;A(this,To,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=u(this,Mt))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},XR=function(e,t,n){let o=.7*(n/t)+1-.7;if(o===1)return;const l=N(this,ze,zy).call(this,this.rotation),c=(B,$)=>[l[0]*B+l[2]*$,l[1]*B+l[3]*$],[d,f]=this.parentDimensions,p=this.x,g=this.y,y=this.width,w=this.height,S=Ke.MIN_SIZE/d,b=Ke.MIN_SIZE/f;o=Math.max(Math.min(o,1/y,1/w),S/y,b/w);const E=Ke._round(y*o),T=Ke._round(w*o);if(E===y&&T===w)return;u(this,Yr)||A(this,Yr,[p,g,y,w]);const I=c(y/2,w/2),L=Ke._round(p+I[0]),D=Ke._round(g+I[1]),F=c(E/2,T/2);this.x=L-F[0],this.y=D-F[1],this.width=E,this.height=T,this.setDims(d*E,f*T),this.fixAndSetPosition(),this._onResizing()},KR=function(){var e;(e=u(this,Mt))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),N(this,ze,Hy).call(this)},Nx=function(e){const{isMac:t}=Nn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},QR=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,o=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:o},c=f=>{r.abort(),A(this,Ya,null),A(this,bc,!1),this._uiManager.endDragSession()||N(this,ze,Nx).call(this,f),n&&this._onStopDragging()};t&&(A(this,jd,e.clientX),A(this,Bd,e.clientY),A(this,Ya,e.pointerId),A(this,$p,e.pointerType),window.addEventListener("pointermove",f=>{n||(n=!0,this._onStartDragging());const{clientX:p,clientY:g,pointerId:y}=f;if(y!==u(this,Ya)){nn(f);return}const[w,S]=this.screenToPageTranslation(p-u(this,jd),g-u(this,Bd));A(this,jd,p),A(this,Bd,g),this._uiManager.dragSelectedEditors(w,S)},l),window.addEventListener("touchmove",nn,l),window.addEventListener("pointerdown",f=>{f.pointerType===u(this,$p)&&(u(this,_c)||f.isPrimary)&&c(f),nn(f)},l));const d=f=>{if(!u(this,Ya)||u(this,Ya)===f.pointerId){c(f);return}nn(f)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})},Mx=function(){if(u(this,Xa)||!this.div)return;A(this,Xa,new AbortController);const e=this._uiManager.combinedSignal(u(this,Xa));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},JR=function(e){Ke._resizerKeyboardManager.exec(this,e)},ZR=function(e){var t;u(this,Po)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==u(this,zn)&&N(this,ze,Ff).call(this)},ek=function(e){A(this,zp,u(this,Po)?e:"")},Dx=function(e){if(u(this,Ki))for(const t of u(this,Ki))t.tabIndex=e},Ff=function(){A(this,Po,!1),N(this,ze,Dx).call(this,-1),N(this,ze,Hy).call(this)},k(Ke,Vp),me(Ke,"_l10n",null),me(Ke,"_l10nResizer",null),me(Ke,"_borderLineWidth",-1),me(Ke,"_colorManager",new _x),me(Ke,"_zIndex",1),me(Ke,"_telemetryTimeout",1e3);let Tt=Ke;class Sz extends Tt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const fC=3285377520,bi=4294901760,_s=65535;class tk{constructor(e){this.h1=e?e&4294967295:fC,this.h2=e?e&4294967295:fC}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let b=0,E=e.length;b<E;b++){const T=e.charCodeAt(b);T<=255?t[n++]=T:(t[n++]=T>>>8,t[n++]=T&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,o=n-r*4,l=new Uint32Array(t.buffer,0,r);let c=0,d=0,f=this.h1,p=this.h2;const g=3432918353,y=461845907,w=g&_s,S=y&_s;for(let b=0;b<r;b++)b&1?(c=l[b],c=c*g&bi|c*w&_s,c=c<<15|c>>>17,c=c*y&bi|c*S&_s,f^=c,f=f<<13|f>>>19,f=f*5+3864292196):(d=l[b],d=d*g&bi|d*w&_s,d=d<<15|d>>>17,d=d*y&bi|d*S&_s,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(c=0,o){case 3:c^=t[r*4+2]<<16;case 2:c^=t[r*4+1]<<8;case 1:c^=t[r*4],c=c*g&bi|c*w&_s,c=c<<15|c>>>17,c=c*y&bi|c*S&_s,r&1?f^=c:p^=c}this.h1=f,this.h2=p}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&bi|e*36045&_s,t=t*4283543511&bi|((t<<16|e>>>16)*2950163797&bi)>>>16,e^=t>>>1,e=e*444984403&bi|e*60499&_s,t=t*3301882366&bi|((t<<16|e>>>16)*3120437893&bi)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Ox=Object.freeze({map:null,hash:"",transfer:void 0});var Sc,Ec,Hn,zv,nk;class w1{constructor(){k(this,zv);k(this,Sc,!1);k(this,Ec,null);k(this,Hn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=u(this,Hn).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return u(this,Hn).get(e)}remove(e){if(u(this,Hn).delete(e),u(this,Hn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of u(this,Hn).values())if(t instanceof Tt)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=u(this,Hn).get(e);let r=!1;if(n!==void 0)for(const[o,l]of Object.entries(t))n[o]!==l&&(r=!0,n[o]=l);else r=!0,u(this,Hn).set(e,t);r&&N(this,zv,nk).call(this),t instanceof Tt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return u(this,Hn).has(e)}get size(){return u(this,Hn).size}resetModified(){u(this,Sc)&&(A(this,Sc,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new rk(this)}get serializable(){if(u(this,Hn).size===0)return Ox;const e=new Map,t=new tk,n=[],r=Object.create(null);let o=!1;for(const[l,c]of u(this,Hn)){const d=c instanceof Tt?c.serialize(!1,r):c;d&&(e.set(l,d),t.update(`${l}:${JSON.stringify(d)}`),o||(o=!!d.bitmap))}if(o)for(const l of e.values())l.bitmap&&n.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Ox}get editorStats(){let e=null;const t=new Map;for(const n of u(this,Hn).values()){if(!(n instanceof Tt))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:o}=r;t.has(o)||t.set(o,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[c,d]of Object.entries(r)){if(c==="type")continue;let f=l.get(c);f||(f=new Map,l.set(c,f));const p=f.get(d)??0;f.set(d,p+1)}}for(const[n,r]of t)e[n]=r.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){A(this,Ec,null)}get modifiedIds(){if(u(this,Ec))return u(this,Ec);const e=[];for(const t of u(this,Hn).values())!(t instanceof Tt)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return A(this,Ec,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return u(this,Hn).entries()}}Sc=new WeakMap,Ec=new WeakMap,Hn=new WeakMap,zv=new WeakSet,nk=function(){u(this,Sc)||(A(this,Sc,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Wp;class rk extends w1{constructor(t){super();k(this,Wp);const{map:n,hash:r,transfer:o}=t.serializable,l=structuredClone(n,o?{transfer:o}:null);A(this,Wp,{map:l,hash:r,transfer:o})}get print(){_t("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,Wp)}get modifiedIds(){return nt(this,"modifiedIds",{ids:new Set,hash:""})}}Wp=new WeakMap;var $d;class Ez{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){k(this,$d,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),u(this,$d).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||u(this,$d).has(e.loadedName))){if(cn(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:o,style:l}=e,c=new FontFace(r,o,l);this.addNativeFontFace(c);try{await c.load(),u(this,$d).add(r),n==null||n(e)}catch{Ge(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}_t("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Ge(`Failed to load font '${n.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return nt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return nt(this,"isSyncFontLoadingSupported",vr||Nn.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(cn(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:t,callback:e};return n.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return nt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(D,F){return D.charCodeAt(F)<<24|D.charCodeAt(F+1)<<16|D.charCodeAt(F+2)<<8|D.charCodeAt(F+3)&255}function r(D,F,B,$){const V=D.substring(0,F),q=D.substring(F+B);return V+$+q}let o,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const d=c.getContext("2d");let f=0;function p(D,F){if(++f>30){Ge("Load test font never loaded."),F();return}if(d.font="30px "+D,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(p.bind(null,D,F))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=r(y,976,g.length,g);const S=16,b=1482184792;let E=n(y,S);for(o=0,l=g.length-3;o<l;o+=4)E=E-b+n(g,o)|0;o<g.length&&(E=E-b+n(g+"XXX",o)|0),y=r(y,S,4,hz(E));const T=`url(data:font/opentype;base64,${btoa(y)});`,I=`@font-face {font-family:"${g}";src:${T}}`;this.insertRule(I);const L=this._document.createElement("div");L.style.visibility="hidden",L.style.width=L.style.height="10px",L.style.position="absolute",L.style.top=L.style.left="0px";for(const D of[e.loadedName,g]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=D,L.append(F)}this._document.body.append(L),p(g,()=>{L.remove(),t.complete()})}}$d=new WeakMap;class Az{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this._inspectFont=t}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${xR(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let r;try{r=e.get(n)}catch(l){Ge(`getPathGenerator - ignoring character: "${l}".`)}const o=new Path2D(r||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=o}}function Cz(s){if(s instanceof URL)return s.href;if(typeof s=="string"){if(vr)return s;const e=URL.parse(s,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Tz(s){if(vr&&typeof cC<"u"&&s instanceof cC)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength)return s;if(typeof s=="string")return tm(s);if(s instanceof ArrayBuffer||ArrayBuffer.isView(s)||typeof s=="object"&&!isNaN(s==null?void 0:s.length))return new Uint8Array(s);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function by(s){if(typeof s!="string")return null;if(s.endsWith("/"))return s;throw new Error(`Invalid factory url: "${s}" must include trailing slash.`)}const Fx=s=>typeof s=="object"&&Number.isInteger(s==null?void 0:s.num)&&s.num>=0&&Number.isInteger(s==null?void 0:s.gen)&&s.gen>=0,Pz=s=>typeof s=="object"&&typeof(s==null?void 0:s.name)=="string",ik=mz.bind(null,Fx,Pz);var Ro,Hv;class Rz{constructor(){k(this,Ro,new Map);k(this,Hv,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};u(this,Hv).then(()=>{for(const[r]of u(this,Ro))r.call(this,n)})}addEventListener(e,t,n=null){let r=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:o}=n;if(o.aborted){Ge("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);r=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}u(this,Ro).set(t,r)}removeEventListener(e,t){const n=u(this,Ro).get(t);n==null||n(),u(this,Ro).delete(t)}terminate(){for(const[,e]of u(this,Ro))e==null||e();u(this,Ro).clear()}}Ro=new WeakMap,Hv=new WeakMap;const xy={DATA:1,ERROR:2},ln={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function pC(){}function Ir(s){if(s instanceof ta||s instanceof Cv||s instanceof uC||s instanceof dp||s instanceof Nb)return s;switch(s instanceof Error||typeof s=="object"&&s!==null||_t('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),s.name){case"AbortException":return new ta(s.message);case"InvalidPDFException":return new Cv(s.message);case"PasswordException":return new uC(s.message,s.code);case"ResponseException":return new dp(s.message,s.status,s.missing);case"UnknownErrorException":return new Nb(s.message,s.details)}return new Nb(s.message,s.toString())}var zd,Ni,sk,ok,ak,Uy;class jf{constructor(e,t,n){k(this,Ni);k(this,zd,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",N(this,Ni,sk).bind(this),{signal:u(this,zd).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(e,t,n,r){const o=this.streamId++,l=this.sourceName,c=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:c,action:e,streamId:o,data:t,desiredSize:f.desiredSize},r),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,d.postMessage({sourceName:l,targetName:c,stream:ln.PULL,streamId:o,desiredSize:f.desiredSize}),p.promise},cancel:f=>{cn(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:l,targetName:c,stream:ln.CANCEL,streamId:o,reason:Ir(f)}),p.promise}},n)}destroy(){var e;(e=u(this,zd))==null||e.abort(),A(this,zd,null)}}zd=new WeakMap,Ni=new WeakSet,sk=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){N(this,Ni,ak).call(this,e);return}if(e.callback){const n=e.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===xy.DATA)r.resolve(e.data);else if(e.callback===xy.ERROR)r.reject(Ir(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,r=e.sourceName,o=this.comObj;Promise.try(t,e.data).then(function(l){o.postMessage({sourceName:n,targetName:r,callback:xy.DATA,callbackId:e.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:r,callback:xy.ERROR,callbackId:e.callbackId,reason:Ir(l)})});return}if(e.streamId){N(this,Ni,ok).call(this,e);return}t(e.data)},ok=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,o=this.comObj,l=this,c=this.actionHandler[e.action],d={enqueue(f,p=1,g){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=p,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:r,stream:ln.ENQUEUE,streamId:t,chunk:f},g)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:ln.CLOSE,streamId:t}),delete l.streamSinks[t])},error(f){cn(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:ln.ERROR,streamId:t,reason:Ir(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,Promise.try(c,e.data,d).then(function(){o.postMessage({sourceName:n,targetName:r,stream:ln.START_COMPLETE,streamId:t,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:ln.START_COMPLETE,streamId:t,reason:Ir(f)})})},ak=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,o=this.comObj,l=this.streamControllers[t],c=this.streamSinks[t];switch(e.stream){case ln.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(Ir(e.reason));break;case ln.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(Ir(e.reason));break;case ln.PULL:if(!c){o.postMessage({sourceName:n,targetName:r,stream:ln.PULL_COMPLETE,streamId:t,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,Promise.try(c.onPull||pC).then(function(){o.postMessage({sourceName:n,targetName:r,stream:ln.PULL_COMPLETE,streamId:t,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:ln.PULL_COMPLETE,streamId:t,reason:Ir(f)})});break;case ln.ENQUEUE:if(cn(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case ln.CLOSE:if(cn(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),N(this,Ni,Uy).call(this,l,t);break;case ln.ERROR:cn(l,"error should have stream controller"),l.controller.error(Ir(e.reason)),N(this,Ni,Uy).call(this,l,t);break;case ln.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(Ir(e.reason)),N(this,Ni,Uy).call(this,l,t);break;case ln.CANCEL:if(!c)break;const d=Ir(e.reason);Promise.try(c.onCancel||pC,d).then(function(){o.postMessage({sourceName:n,targetName:r,stream:ln.CANCEL_COMPLETE,streamId:t,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:ln.CANCEL_COMPLETE,streamId:t,reason:Ir(f)})}),c.sinkCapability.reject(d),c.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Uy=async function(e,t){var n,r,o;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(r=e.pullCall)==null?void 0:r.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[t]};var Gp;class lk{constructor({enableHWA:e=!1}){k(this,Gp,!1);A(this,Gp,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!u(this,Gp)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){_t("Abstract method `_createCanvas` called.")}}Gp=new WeakMap;class kz extends lk{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class ck{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){_t("Abstract method `_fetch` called.")}}class gC extends ck{async _fetch(e){const t=await Bh(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):tm(t)}}class uk{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,o){return"none"}destroy(e=!1){}}var Ac,Hd,ko,Io,rr,Cc,Tc,Ce,tr,Bf,Zu,Vy,ed,dk,jx,td,$f,zf,Bx,Hf;class Iz extends uk{constructor({docId:t,ownerDocument:n=globalThis.document}){super();k(this,Ce);k(this,Ac);k(this,Hd);k(this,ko);k(this,Io);k(this,rr);k(this,Cc);k(this,Tc,0);A(this,Io,t),A(this,rr,n)}addFilter(t){if(!t)return"none";let n=u(this,Ce,tr).get(t);if(n)return n;const[r,o,l]=N(this,Ce,Vy).call(this,t),c=t.length===1?r:`${r}${o}${l}`;if(n=u(this,Ce,tr).get(c),n)return u(this,Ce,tr).set(t,n),n;const d=`g_${u(this,Io)}_transfer_map_${Sn(this,Tc)._++}`,f=N(this,Ce,ed).call(this,d);u(this,Ce,tr).set(t,f),u(this,Ce,tr).set(c,f);const p=N(this,Ce,td).call(this,d);return N(this,Ce,zf).call(this,r,o,l,p),f}addHCMFilter(t,n){var S;const r=`${t}-${n}`,o="base";let l=u(this,Ce,Bf).get(o);if((l==null?void 0:l.key)===r||(l?((S=l.filter)==null||S.remove(),l.key=r,l.url="none",l.filter=null):(l={key:r,url:"none",filter:null},u(this,Ce,Bf).set(o,l)),!t||!n))return l.url;const c=N(this,Ce,Hf).call(this,t);t=De.makeHexColor(...c);const d=N(this,Ce,Hf).call(this,n);if(n=De.makeHexColor(...d),u(this,Ce,Zu).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return l.url;const f=new Array(256);for(let b=0;b<=255;b++){const E=b/255;f[b]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const p=f.join(","),g=`g_${u(this,Io)}_hcm_filter`,y=l.filter=N(this,Ce,td).call(this,g);N(this,Ce,zf).call(this,p,p,p,y),N(this,Ce,jx).call(this,y);const w=(b,E)=>{const T=c[b]/255,I=d[b]/255,L=new Array(E+1);for(let D=0;D<=E;D++)L[D]=T+D/E*(I-T);return L.join(",")};return N(this,Ce,zf).call(this,w(0,5),w(1,5),w(2,5),y),l.url=N(this,Ce,ed).call(this,g),l.url}addAlphaFilter(t){let n=u(this,Ce,tr).get(t);if(n)return n;const[r]=N(this,Ce,Vy).call(this,[t]),o=`alpha_${r}`;if(n=u(this,Ce,tr).get(o),n)return u(this,Ce,tr).set(t,n),n;const l=`g_${u(this,Io)}_alpha_map_${Sn(this,Tc)._++}`,c=N(this,Ce,ed).call(this,l);u(this,Ce,tr).set(t,c),u(this,Ce,tr).set(o,c);const d=N(this,Ce,td).call(this,l);return N(this,Ce,Bx).call(this,r,d),c}addLuminosityFilter(t){let n=u(this,Ce,tr).get(t||"luminosity");if(n)return n;let r,o;if(t?([r]=N(this,Ce,Vy).call(this,[t]),o=`luminosity_${r}`):o="luminosity",n=u(this,Ce,tr).get(o),n)return u(this,Ce,tr).set(t,n),n;const l=`g_${u(this,Io)}_luminosity_map_${Sn(this,Tc)._++}`,c=N(this,Ce,ed).call(this,l);u(this,Ce,tr).set(t,c),u(this,Ce,tr).set(o,c);const d=N(this,Ce,td).call(this,l);return N(this,Ce,dk).call(this,d),t&&N(this,Ce,Bx).call(this,r,d),c}addHighlightHCMFilter(t,n,r,o,l){var I;const c=`${n}-${r}-${o}-${l}`;let d=u(this,Ce,Bf).get(t);if((d==null?void 0:d.key)===c||(d?((I=d.filter)==null||I.remove(),d.key=c,d.url="none",d.filter=null):(d={key:c,url:"none",filter:null},u(this,Ce,Bf).set(t,d)),!n||!r))return d.url;const[f,p]=[n,r].map(N(this,Ce,Hf).bind(this));let g=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),y=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[w,S]=[o,l].map(N(this,Ce,Hf).bind(this));y<g&&([g,y,w,S]=[y,g,S,w]),u(this,Ce,Zu).style.color="";const b=(L,D,F)=>{const B=new Array(256),$=(y-g)/F,V=L/255,q=(D-L)/(255*F);let te=0;for(let re=0;re<=F;re++){const be=Math.round(g+re*$),pe=V+re*q;for(let ae=te;ae<=be;ae++)B[ae]=pe;te=be+1}for(let re=te;re<256;re++)B[re]=B[te-1];return B.join(",")},E=`g_${u(this,Io)}_hcm_${t}_filter`,T=d.filter=N(this,Ce,td).call(this,E);return N(this,Ce,jx).call(this,T),N(this,Ce,zf).call(this,b(w[0],S[0],5),b(w[1],S[1],5),b(w[2],S[2],5),T),d.url=N(this,Ce,ed).call(this,E),d.url}destroy(t=!1){var n,r,o,l;t&&((n=u(this,Cc))!=null&&n.size)||((r=u(this,ko))==null||r.parentNode.parentNode.remove(),A(this,ko,null),(o=u(this,Hd))==null||o.clear(),A(this,Hd,null),(l=u(this,Cc))==null||l.clear(),A(this,Cc,null),A(this,Tc,0))}}Ac=new WeakMap,Hd=new WeakMap,ko=new WeakMap,Io=new WeakMap,rr=new WeakMap,Cc=new WeakMap,Tc=new WeakMap,Ce=new WeakSet,tr=function(){return u(this,Hd)||A(this,Hd,new Map)},Bf=function(){return u(this,Cc)||A(this,Cc,new Map)},Zu=function(){if(!u(this,ko)){const t=u(this,rr).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=u(this,rr).createElementNS(po,"svg");r.setAttribute("width",0),r.setAttribute("height",0),A(this,ko,u(this,rr).createElementNS(po,"defs")),t.append(r),r.append(u(this,ko)),u(this,rr).body.append(t)}return u(this,ko)},Vy=function(t){if(t.length===1){const f=t[0],p=new Array(256);for(let y=0;y<256;y++)p[y]=f[y]/255;const g=p.join(",");return[g,g,g]}const[n,r,o]=t,l=new Array(256),c=new Array(256),d=new Array(256);for(let f=0;f<256;f++)l[f]=n[f]/255,c[f]=r[f]/255,d[f]=o[f]/255;return[l.join(","),c.join(","),d.join(",")]},ed=function(t){if(u(this,Ac)===void 0){A(this,Ac,"");const n=u(this,rr).URL;n!==u(this,rr).baseURI&&(rm(n)?Ge('#createUrl: ignore "data:"-URL for performance reasons.'):A(this,Ac,g1(n,"")))}return`url(${u(this,Ac)}#${t})`},dk=function(t){const n=u(this,rr).createElementNS(po,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},jx=function(t){const n=u(this,rr).createElementNS(po,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},td=function(t){const n=u(this,rr).createElementNS(po,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),u(this,Ce,Zu).append(n),n},$f=function(t,n,r){const o=u(this,rr).createElementNS(po,n);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),t.append(o)},zf=function(t,n,r,o){const l=u(this,rr).createElementNS(po,"feComponentTransfer");o.append(l),N(this,Ce,$f).call(this,l,"feFuncR",t),N(this,Ce,$f).call(this,l,"feFuncG",n),N(this,Ce,$f).call(this,l,"feFuncB",r)},Bx=function(t,n){const r=u(this,rr).createElementNS(po,"feComponentTransfer");n.append(r),N(this,Ce,$f).call(this,r,"feFuncA",t)},Hf=function(t){return u(this,Ce,Zu).style.color=t,v1(getComputedStyle(u(this,Ce,Zu)).getPropertyValue("color"))};class hk{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){_t("Abstract method `_fetch` called.")}}class mC extends hk{async _fetch(e){const t=await Bh(e,"arraybuffer");return new Uint8Array(t)}}class fk{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){_t("Abstract method `_fetch` called.")}}class yC extends fk{async _fetch(e){const t=await Bh(e,"arraybuffer");return new Uint8Array(t)}}vr&&Ge("Please use the `legacy` build in Node.js environments.");async function b1(s){const t=await as.getBuiltinModule("fs").promises.readFile(s);return new Uint8Array(t)}class Lz extends uk{}class Nz extends lk{_createCanvas(e,t){return as.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class Mz extends ck{async _fetch(e){return b1(e)}}class Dz extends hk{async _fetch(e){return b1(e)}}class Oz extends fk{async _fetch(e){return b1(e)}}const Wn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function $x(s,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,n),s.clip(r)}class x1{isModifyingCurrentTransform(){return!1}getPattern(){_t("Abstract method `getPattern` called.")}}class Fz extends x1{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let o;if(r===Wn.STROKE||r===Wn.FILL){const l=t.current.getClippedPathBoundingBox(r,Ht(e))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,f=t.cachedCanvases.getCanvas("pattern",c,d),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=De.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...t.baseTransform),this.matrix&&p.transform(...this.matrix),$x(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=e.createPattern(f.canvas,"no-repeat");const g=new DOMMatrix(n);o.setTransform(g)}else $x(e,this._bbox),o=this._createGradient(e);return o}}function Ob(s,e,t,n,r,o,l,c){const d=e.coords,f=e.colors,p=s.data,g=s.width*4;let y;d[t+1]>d[n+1]&&(y=t,t=n,n=y,y=o,o=l,l=y),d[n+1]>d[r+1]&&(y=n,n=r,r=y,y=l,l=c,c=y),d[t+1]>d[n+1]&&(y=t,t=n,n=y,y=o,o=l,l=y);const w=(d[t]+e.offsetX)*e.scaleX,S=(d[t+1]+e.offsetY)*e.scaleY,b=(d[n]+e.offsetX)*e.scaleX,E=(d[n+1]+e.offsetY)*e.scaleY,T=(d[r]+e.offsetX)*e.scaleX,I=(d[r+1]+e.offsetY)*e.scaleY;if(S>=I)return;const L=f[o],D=f[o+1],F=f[o+2],B=f[l],$=f[l+1],V=f[l+2],q=f[c],te=f[c+1],re=f[c+2],be=Math.round(S),pe=Math.round(I);let ae,_e,Y,J,Q,ue,ce,U;for(let ne=be;ne<=pe;ne++){if(ne<E){const oe=ne<S?0:(S-ne)/(S-E);ae=w-(w-b)*oe,_e=L-(L-B)*oe,Y=D-(D-$)*oe,J=F-(F-V)*oe}else{let oe;ne>I?oe=1:E===I?oe=0:oe=(E-ne)/(E-I),ae=b-(b-T)*oe,_e=B-(B-q)*oe,Y=$-($-te)*oe,J=V-(V-re)*oe}let le;ne<S?le=0:ne>I?le=1:le=(S-ne)/(S-I),Q=w-(w-T)*le,ue=L-(L-q)*le,ce=D-(D-te)*le,U=F-(F-re)*le;const he=Math.round(Math.min(ae,Q)),ve=Math.round(Math.max(ae,Q));let Se=g*ne+he*4;for(let oe=he;oe<=ve;oe++)le=(ae-oe)/(ae-Q),le<0?le=0:le>1&&(le=1),p[Se++]=_e-(_e-ue)*le|0,p[Se++]=Y-(Y-ce)*le|0,p[Se++]=J-(J-U)*le|0,p[Se++]=255}}function jz(s,e,t){const n=e.coords,r=e.colors;let o,l;switch(e.type){case"lattice":const c=e.verticesPerRow,d=Math.floor(n.length/c)-1,f=c-1;for(o=0;o<d;o++){let p=o*c;for(let g=0;g<f;g++,p++)Ob(s,t,n[p],n[p+1],n[p+c],r[p],r[p+1],r[p+c]),Ob(s,t,n[p+c+1],n[p+1],n[p+c],r[p+c+1],r[p+1],r[p+c])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)Ob(s,t,n[o],n[o+1],n[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class Bz extends x1{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const c=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-c,p=Math.ceil(this._bounds[3])-d,g=Math.min(Math.ceil(Math.abs(f*e[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(p*e[1]*1.1)),3e3),w=f/g,S=p/y,b={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-d,scaleX:1/w,scaleY:1/S},E=g+4,T=y+4,I=n.getCanvas("mesh",E,T),L=I.context,D=L.createImageData(g,y);if(t){const B=D.data;for(let $=0,V=B.length;$<V;$+=4)B[$]=t[0],B[$+1]=t[1],B[$+2]=t[2],B[$+3]=255}for(const B of this._figures)jz(D,B,b);return L.putImageData(D,2,2),{canvas:I.canvas,offsetX:c-2*w,offsetY:d-2*S,scaleX:w,scaleY:S}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,r){$x(e,this._bbox);const o=new Float32Array(2);if(r===Wn.SHADING)De.singularValueDecompose2dScale(Ht(e),o);else if(this.matrix){De.singularValueDecompose2dScale(this.matrix,o);const[c,d]=o;De.singularValueDecompose2dScale(t.baseTransform,o),o[0]*=c,o[1]*=d}else De.singularValueDecompose2dScale(t.baseTransform,o);const l=this._createMeshCanvas(o,r===Wn.SHADING?null:this._background,t.cachedCanvases);return r!==Wn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class $z extends x1{getPattern(){return"hotpink"}}function zz(s){switch(s[0]){case"RadialAxial":return new Fz(s);case"Mesh":return new Bz(s);case"Dummy":return new $z}throw new Error(`Unknown IR type: ${s[0]}`)}const vC={COLORED:1,UNCOLORED:2},Uv=class Uv{constructor(e,t,n,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:r,tilingType:o,color:l,canvasGraphicsFactory:c}=this;let{xstep:d,ystep:f}=this;d=Math.abs(d),f=Math.abs(f),v0("TilingType: "+o);const p=t[0],g=t[1],y=t[2],w=t[3],S=y-p,b=w-g,E=new Float32Array(2);De.singularValueDecompose2dScale(this.matrix,E);const[T,I]=E;De.singularValueDecompose2dScale(this.baseTransform,E);const L=T*E[0],D=I*E[1];let F=S,B=b,$=!1,V=!1;const q=Math.ceil(d*L),te=Math.ceil(f*D),re=Math.ceil(S*L),be=Math.ceil(b*D);q>=re?F=d:$=!0,te>=be?B=f:V=!0;const pe=this.getSizeAndScale(F,this.ctx.canvas.width,L),ae=this.getSizeAndScale(B,this.ctx.canvas.height,D),_e=e.cachedCanvases.getCanvas("pattern",pe.size,ae.size),Y=_e.context,J=c.createCanvasGraphics(Y);if(J.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(J,r,l),Y.translate(-pe.scale*p,-ae.scale*g),J.transform(pe.scale,0,0,ae.scale,0,0),Y.save(),this.clipBbox(J,p,g,y,w),J.baseTransform=Ht(J.ctx),J.executeOperatorList(n),J.endDrawing(),Y.restore(),$||V){const Q=_e.canvas;$&&(F=d),V&&(B=f);const ue=this.getSizeAndScale(F,this.ctx.canvas.width,L),ce=this.getSizeAndScale(B,this.ctx.canvas.height,D),U=ue.size,ne=ce.size,le=e.cachedCanvases.getCanvas("pattern-workaround",U,ne),he=le.context,ve=$?Math.floor(S/d):0,Se=V?Math.floor(b/f):0;for(let oe=0;oe<=ve;oe++)for(let ye=0;ye<=Se;ye++)he.drawImage(Q,U*oe,ne*ye,U,ne,0,0,U,ne);return{canvas:le.canvas,scaleX:ue.scale,scaleY:ce.scale,offsetX:p,offsetY:g}}return{canvas:_e.canvas,scaleX:pe.scale,scaleY:ae.scale,offsetX:p,offsetY:g}}getSizeAndScale(e,t,n){const r=Math.max(Uv.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*n);return o>=r?o=r:n=o/e,{scale:n,size:o}}clipBbox(e,t,n,r,o){const l=r-t,c=o-n;e.ctx.rect(t,n,l,c),De.axialAlignedBoundingBox([t,n,r,o],Ht(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,o=e.current;switch(t){case vC.COLORED:const{fillStyle:l,strokeStyle:c}=this.ctx;r.fillStyle=o.fillColor=l,r.strokeStyle=o.strokeColor=c;break;case vC.UNCOLORED:r.fillStyle=r.strokeStyle=n,o.fillColor=o.strokeColor=n;break;default:throw new dz(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,r){let o=n;r!==Wn.SHADING&&(o=De.transform(o,t.baseTransform),this.matrix&&(o=De.transform(o,this.matrix)));const l=this.createPatternCanvas(t);let c=new DOMMatrix(o);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const d=e.createPattern(l.canvas,"repeat");return d.setTransform(c),d}};me(Uv,"MAX_PATTERN_SIZE",3e3);let zx=Uv;function Hz({src:s,srcPos:e=0,dest:t,width:n,height:r,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const c=Nn.isLittleEndian?4278190080:255,[d,f]=l?[o,c]:[c,o],p=n>>3,g=n&7,y=s.length;t=new Uint32Array(t.buffer);let w=0;for(let S=0;S<r;S++){for(const E=e+p;e<E;e++){const T=e<y?s[e]:255;t[w++]=T&128?f:d,t[w++]=T&64?f:d,t[w++]=T&32?f:d,t[w++]=T&16?f:d,t[w++]=T&8?f:d,t[w++]=T&4?f:d,t[w++]=T&2?f:d,t[w++]=T&1?f:d}if(g===0)continue;const b=e<y?s[e++]:255;for(let E=0;E<g;E++)t[w++]=b&1<<7-E?f:d}return{srcPos:e,destPos:w}}const wC=16,bC=100,Uz=15,xC=10,Fr=16,Fb=new DOMMatrix,ai=new Float32Array(2),sd=new Float32Array([1/0,1/0,-1/0,-1/0]);function Vz(s,e){if(s._removeMirroring)throw new Error("Context is already forwarding operations.");s.__originalSave=s.save,s.__originalRestore=s.restore,s.__originalRotate=s.rotate,s.__originalScale=s.scale,s.__originalTranslate=s.translate,s.__originalTransform=s.transform,s.__originalSetTransform=s.setTransform,s.__originalResetTransform=s.resetTransform,s.__originalClip=s.clip,s.__originalMoveTo=s.moveTo,s.__originalLineTo=s.lineTo,s.__originalBezierCurveTo=s.bezierCurveTo,s.__originalRect=s.rect,s.__originalClosePath=s.closePath,s.__originalBeginPath=s.beginPath,s._removeMirroring=()=>{s.save=s.__originalSave,s.restore=s.__originalRestore,s.rotate=s.__originalRotate,s.scale=s.__originalScale,s.translate=s.__originalTranslate,s.transform=s.__originalTransform,s.setTransform=s.__originalSetTransform,s.resetTransform=s.__originalResetTransform,s.clip=s.__originalClip,s.moveTo=s.__originalMoveTo,s.lineTo=s.__originalLineTo,s.bezierCurveTo=s.__originalBezierCurveTo,s.rect=s.__originalRect,s.closePath=s.__originalClosePath,s.beginPath=s.__originalBeginPath,delete s._removeMirroring},s.save=function(){e.save(),this.__originalSave()},s.restore=function(){e.restore(),this.__originalRestore()},s.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},s.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},s.transform=function(t,n,r,o,l,c){e.transform(t,n,r,o,l,c),this.__originalTransform(t,n,r,o,l,c)},s.setTransform=function(t,n,r,o,l,c){e.setTransform(t,n,r,o,l,c),this.__originalSetTransform(t,n,r,o,l,c)},s.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},s.rotate=function(t){e.rotate(t),this.__originalRotate(t)},s.clip=function(t){e.clip(t),this.__originalClip(t)},s.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},s.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},s.bezierCurveTo=function(t,n,r,o,l,c){e.bezierCurveTo(t,n,r,o,l,c),this.__originalBezierCurveTo(t,n,r,o,l,c)},s.rect=function(t,n,r,o){e.rect(t,n,r,o),this.__originalRect(t,n,r,o)},s.closePath=function(){e.closePath(),this.__originalClosePath()},s.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Wz{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function _y(s,e,t,n,r,o,l,c,d,f){const[p,g,y,w,S,b]=Ht(s);if(g===0&&y===0){const I=l*p+S,L=Math.round(I),D=c*w+b,F=Math.round(D),B=(l+d)*p+S,$=Math.abs(Math.round(B)-L)||1,V=(c+f)*w+b,q=Math.abs(Math.round(V)-F)||1;return s.setTransform(Math.sign(p),0,0,Math.sign(w),L,F),s.drawImage(e,t,n,r,o,0,0,$,q),s.setTransform(p,g,y,w,S,b),[$,q]}if(p===0&&w===0){const I=c*y+S,L=Math.round(I),D=l*g+b,F=Math.round(D),B=(c+f)*y+S,$=Math.abs(Math.round(B)-L)||1,V=(l+d)*g+b,q=Math.abs(Math.round(V)-F)||1;return s.setTransform(0,Math.sign(g),Math.sign(y),0,L,F),s.drawImage(e,t,n,r,o,0,0,q,$),s.setTransform(p,g,y,w,S,b),[q,$]}s.drawImage(e,t,n,r,o,l,c,d,f);const E=Math.hypot(p,g),T=Math.hypot(y,w);return[E*d,T*f]}class _C{constructor(e,t){me(this,"alphaIsShape",!1);me(this,"fontSize",0);me(this,"fontSizeScale",1);me(this,"textMatrix",null);me(this,"textMatrixScale",1);me(this,"fontMatrix",vx);me(this,"leading",0);me(this,"x",0);me(this,"y",0);me(this,"lineX",0);me(this,"lineY",0);me(this,"charSpacing",0);me(this,"wordSpacing",0);me(this,"textHScale",1);me(this,"textRenderingMode",er.FILL);me(this,"textRise",0);me(this,"fillColor","#000000");me(this,"strokeColor","#000000");me(this,"patternFill",!1);me(this,"patternStroke",!1);me(this,"fillAlpha",1);me(this,"strokeAlpha",1);me(this,"lineWidth",1);me(this,"activeSMask",null);me(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,t]),this.minMax=sd.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Wn.FILL,t=null){const n=this.minMax.slice();if(e===Wn.STROKE){t||_t("Stroke bounding box must include transform."),De.singularValueDecompose2dScale(t,ai);const r=ai[0]*this.lineWidth/2,o=ai[1]*this.lineWidth/2;n[0]-=r,n[1]-=o,n[2]+=r,n[3]+=o}return n}updateClipFromPath(){const e=De.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(sd,0)}getClippedPathBoundingBox(e=Wn.FILL,t=null){return De.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function SC(s,e){if(e instanceof ImageData){s.putImageData(e,0,0);return}const t=e.height,n=e.width,r=t%Fr,o=(t-r)/Fr,l=r===0?o:o+1,c=s.createImageData(n,Fr);let d=0,f;const p=e.data,g=c.data;let y,w,S,b;if(e.kind===ep.GRAYSCALE_1BPP){const E=p.byteLength,T=new Uint32Array(g.buffer,0,g.byteLength>>2),I=T.length,L=n+7>>3,D=4294967295,F=Nn.isLittleEndian?4278190080:255;for(y=0;y<l;y++){for(S=y<o?Fr:r,f=0,w=0;w<S;w++){const B=E-d;let $=0;const V=B>L?n:B*8-7,q=V&-8;let te=0,re=0;for(;$<q;$+=8)re=p[d++],T[f++]=re&128?D:F,T[f++]=re&64?D:F,T[f++]=re&32?D:F,T[f++]=re&16?D:F,T[f++]=re&8?D:F,T[f++]=re&4?D:F,T[f++]=re&2?D:F,T[f++]=re&1?D:F;for(;$<V;$++)te===0&&(re=p[d++],te=128),T[f++]=re&te?D:F,te>>=1}for(;f<I;)T[f++]=0;s.putImageData(c,0,y*Fr)}}else if(e.kind===ep.RGBA_32BPP){for(w=0,b=n*Fr*4,y=0;y<o;y++)g.set(p.subarray(d,d+b)),d+=b,s.putImageData(c,0,w),w+=Fr;y<l&&(b=n*r*4,g.set(p.subarray(d,d+b)),s.putImageData(c,0,w))}else if(e.kind===ep.RGB_24BPP)for(S=Fr,b=n*S,y=0;y<l;y++){for(y>=o&&(S=r,b=n*S),f=0,w=b;w--;)g[f++]=p[d++],g[f++]=p[d++],g[f++]=p[d++],g[f++]=255;s.putImageData(c,0,y*Fr)}else throw new Error(`bad image kind: ${e.kind}`)}function EC(s,e){if(e.bitmap){s.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,r=t%Fr,o=(t-r)/Fr,l=r===0?o:o+1,c=s.createImageData(n,Fr);let d=0;const f=e.data,p=c.data;for(let g=0;g<l;g++){const y=g<o?Fr:r;({srcPos:d}=Hz({src:f,srcPos:d,dest:p,width:n,height:y,nonBlackColor:0})),s.putImageData(c,0,g*Fr)}}function Cf(s,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)s[n]!==void 0&&(e[n]=s[n]);s.setLineDash!==void 0&&(e.setLineDash(s.getLineDash()),e.lineDashOffset=s.lineDashOffset)}function Sy(s){s.strokeStyle=s.fillStyle="#000000",s.fillRule="nonzero",s.globalAlpha=1,s.lineWidth=1,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=10,s.globalCompositeOperation="source-over",s.font="10px sans-serif",s.setLineDash!==void 0&&(s.setLineDash([]),s.lineDashOffset=0);const{filter:e}=s;e!=="none"&&e!==""&&(s.filter="none")}function AC(s,e){if(e)return!0;De.singularValueDecompose2dScale(s,ai);const t=Math.fround(hs.pixelRatio*na.PDF_TO_CSS_UNITS);return ai[0]<=t&&ai[1]<=t}const Gz=["butt","round","square"],qz=["miter","round","bevel"],Yz={},CC={};var fs,Hx,Ux,Vx;const M1=class M1{constructor(e,t,n,r,o,{optionalContentConfig:l,markedContentStack:c=null},d,f){k(this,fs);this.ctx=e,this.current=new _C(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new Wz(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:r=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=c,n){const d=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...Ht(this.compositeCtx))}this.ctx.save(),Sy(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ht(this.ctx)}executeOperatorList(e,t,n,r){const o=e.argsArray,l=e.fnArray;let c=t||0;const d=o.length;if(d===c)return c;const f=d-c>xC&&typeof n=="function",p=f?Date.now()+Uz:0;let g=0;const y=this.commonObjs,w=this.objs;let S;for(;;){if(r!==void 0&&c===r.nextBreakPoint)return r.breakIt(c,n),c;if(S=l[c],S!==up.dependency)this[S].apply(this,o[c]);else for(const b of o[c]){const E=b.startsWith("g_")?y:w;if(!E.has(b))return E.get(b,n),c}if(c++,c===d)return c;if(f&&++g>xC){if(Date.now()>p)return n(),c;g=0}}}endDrawing(){N(this,fs,Hx).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),N(this,fs,Ux).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,r=e.height??e.displayHeight;let o=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),c=n,d=r,f="prescale1",p,g;for(;o>2&&c>1||l>2&&d>1;){let y=c,w=d;o>2&&c>1&&(y=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),o/=c/y),l>2&&d>1&&(w=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/w),p=this.cachedCanvases.getCanvas(f,y,w),g=p.context,g.clearRect(0,0,y,w),g.drawImage(e,0,0,c,d,0,0,y,w),e=p.canvas,c=y,d=w,f=f==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:d}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:r}=e,o=this.current.fillColor,l=this.current.patternFill,c=Ht(t);let d,f,p,g;if((e.bitmap||e.data)&&e.count>1){const q=e.bitmap||e.data.buffer;f=JSON.stringify(l?c:[c.slice(0,4),o]),d=this._cachedBitmapsMap.get(q),d||(d=new Map,this._cachedBitmapsMap.set(q,d));const te=d.get(f);if(te&&!l){const re=Math.round(Math.min(c[0],c[2])+c[4]),be=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:te,offsetX:re,offsetY:be}}p=te}p||(g=this.cachedCanvases.getCanvas("maskCanvas",n,r),EC(g.context,e));let y=De.transform(c,[1/n,0,0,-1/r,0,0]);y=De.transform(y,[1,0,0,1,0,-r]);const w=sd.slice();De.axialAlignedBoundingBox([0,0,n,r],y,w);const[S,b,E,T]=w,I=Math.round(E-S)||1,L=Math.round(T-b)||1,D=this.cachedCanvases.getCanvas("fillCanvas",I,L),F=D.context,B=S,$=b;F.translate(-B,-$),F.transform(...y),p||(p=this._scaleImage(g.canvas,xs(F)),p=p.img,d&&l&&d.set(f,p)),F.imageSmoothingEnabled=AC(Ht(F),e.interpolate),_y(F,p,0,0,p.width,p.height,0,0,n,r),F.globalCompositeOperation="source-in";const V=De.transform(xs(F),[1,0,0,1,-B,-$]);return F.fillStyle=l?o.getPattern(t,this,V,Wn.FILL):o,F.fillRect(0,0,n,r),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(f,D.canvas)),{canvas:D.canvas,offsetX:Math.round(B),offsetY:Math.round($)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Gz[e]}setLineJoin(e){this.ctx.lineJoin=qz[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx;const o=this.ctx=r.context;o.setTransform(this.suspendedCtx.getTransform()),Cf(this.suspendedCtx,o),Vz(o,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Cf(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const o=r[0],l=r[1],c=r[2]-o,d=r[3]-l;c===0||d===0||(this.genericComposeSMask(t.context,n,c,d,t.subtype,t.backdrop,t.transferMap,o,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,o,l,c,d,f,p,g){let y=e.canvas,w=d-p,S=f-g;if(l)if(w<0||S<0||w+n>y.width||S+r>y.height){const E=this.cachedCanvases.getCanvas("maskExtension",n,r),T=E.context;T.drawImage(y,-w,-S),T.globalCompositeOperation="destination-atop",T.fillStyle=l,T.fillRect(0,0,n,r),T.globalCompositeOperation="source-over",y=E.canvas,w=S=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(w,S,n,r),e.clip(E),e.globalCompositeOperation="destination-atop",e.fillStyle=l,e.fillRect(w,S,n,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&c?t.filter=this.filterFactory.addAlphaFilter(c):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(c));const b=new Path2D;b.rect(d,f,n,r),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(y,w,S,n,r,d,f,n,r),t.restore()}save(){this.inSMaskMode&&Cf(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Cf(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,r,o,l){this.ctx.transform(e,t,n,r,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){let[r]=t;if(!n){r||(r=t[0]=new Path2D),this[e](r);return}if(!(r instanceof Path2D)){const o=t[0]=new Path2D;for(let l=0,c=r.length;l<c;)switch(r[l++]){case wy.moveTo:o.moveTo(r[l++],r[l++]);break;case wy.lineTo:o.lineTo(r[l++],r[l++]);break;case wy.curveTo:o.bezierCurveTo(r[l++],r[l++],r[l++],r[l++],r[l++],r[l++]);break;case wy.closePath:o.closePath();break;default:Ge(`Unrecognized drawing path operator: ${r[l-1]}`);break}r=o}De.axialAlignedBoundingBox(n,Ht(this.ctx),this.current.minMax),this[e](r)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const n=this.ctx,r=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&(r!=null&&r.getPattern)){const o=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=r.getPattern(n,this,xs(n),Wn.STROKE),o){const l=new Path2D;l.addPath(e,n.getTransform().invertSelf().multiplySelf(o)),e=l}this.rescaleAndStroke(e,!1),n.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(Wn.STROKE,Ht(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const n=this.ctx,r=this.current.fillColor,o=this.current.patternFill;let l=!1;if(o){const d=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=r.getPattern(n,this,xs(n),Wn.FILL),d){const f=new Path2D;f.addPath(e,n.getTransform().invertSelf().multiplySelf(d)),e=f}l=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(n.fill(e,"evenodd"),this.pendingEOFill=!1):n.fill(e)),l&&n.restore(),t&&this.consumePath(e,c)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=Yz}eoClip(){this.pendingClip=CC}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const n=new Path2D,r=t.getTransform().invertSelf();for(const{transform:o,x:l,y:c,fontSize:d,path:f}of e)n.addPath(f,new DOMMatrix(o).preMultiplySelf(r).translate(l,c).scale(d,-d));t.clip(n),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var p;const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=n.fontMatrix||vx,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ge("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const o=n.loadedName||"sans-serif",l=((p=n.systemFontInfo)==null?void 0:p.css)||`"${o}", ${n.fallbackName}`;let c="normal";n.black?c="900":n.bold&&(c="bold");const d=n.italic?"italic":"normal";let f=t;t<wC?f=wC:t>bC&&(f=bC),this.current.fontSizeScale=t/f,this.ctx.font=`${d} ${c} ${f}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,r,o){const l=this.ctx,c=this.current,d=c.font,f=c.textRenderingMode,p=c.fontSize/c.fontSizeScale,g=f&er.FILL_STROKE_MASK,y=!!(f&er.ADD_TO_PATH_FLAG),w=c.patternFill&&!d.missingFile,S=c.patternStroke&&!d.missingFile;let b;if((d.disableFontFace||y||w||S)&&(b=d.getPathGenerator(this.commonObjs,e)),d.disableFontFace||w||S){l.save(),l.translate(t,n),l.scale(p,-p);let E;if((g===er.FILL||g===er.FILL_STROKE)&&(r?(E=l.getTransform(),l.setTransform(...r),l.fill(N(this,fs,Vx).call(this,b,E,r))):l.fill(b)),g===er.STROKE||g===er.FILL_STROKE)if(o){E||(E=l.getTransform()),l.setTransform(...o);const{a:T,b:I,c:L,d:D}=E,F=De.inverseTransform(o),B=De.transform([T,I,L,D,0,0],F);De.singularValueDecompose2dScale(B,ai),l.lineWidth*=Math.max(ai[0],ai[1])/p,l.stroke(N(this,fs,Vx).call(this,b,E,o))}else l.lineWidth/=p,l.stroke(b);l.restore()}else(g===er.FILL||g===er.FILL_STROKE)&&l.fillText(e,t,n),(g===er.STROKE||g===er.FILL_STROKE)&&l.strokeText(e,t,n);y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ht(l),x:t,y:n,fontSize:p,path:b})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return nt(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const o=this.ctx,l=t.fontSizeScale,c=t.charSpacing,d=t.wordSpacing,f=t.fontDirection,p=t.textHScale*f,g=e.length,y=n.vertical,w=y?1:-1,S=n.defaultVMetrics,b=r*t.fontMatrix[0],E=t.textRenderingMode===er.FILL&&!n.disableFontFace&&!t.patternFill;o.save(),t.textMatrix&&o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),f>0?o.scale(p,-1):o.scale(p,1);let T,I;if(t.patternFill){o.save();const $=t.fillColor.getPattern(o,this,xs(o),Wn.FILL);T=Ht(o),o.restore(),o.fillStyle=$}if(t.patternStroke){o.save();const $=t.strokeColor.getPattern(o,this,xs(o),Wn.STROKE);I=Ht(o),o.restore(),o.strokeStyle=$}let L=t.lineWidth;const D=t.textMatrixScale;if(D===0||L===0){const $=t.textRenderingMode&er.FILL_STROKE_MASK;($===er.STROKE||$===er.FILL_STROKE)&&(L=this.getSinglePixelWidth())}else L/=D;if(l!==1&&(o.scale(l,l),L/=l),o.lineWidth=L,n.isInvalidPDFjsFont){const $=[];let V=0;for(const q of e)$.push(q.unicode),V+=q.width;o.fillText($.join(""),0,0),t.x+=V*b*p,o.restore(),this.compose();return}let F=0,B;for(B=0;B<g;++B){const $=e[B];if(typeof $=="number"){F+=w*$*r/1e3;continue}let V=!1;const q=($.isSpace?d:0)+c,te=$.fontChar,re=$.accent;let be,pe,ae=$.width;if(y){const Y=$.vmetric||S,J=-($.vmetric?Y[1]:ae*.5)*b,Q=Y[2]*b;ae=Y?-Y[0]:ae,be=J/l,pe=(F+Q)/l}else be=F/l,pe=0;if(n.remeasure&&ae>0){const Y=o.measureText(te).width*1e3/r*l;if(ae<Y&&this.isFontSubpixelAAEnabled){const J=ae/Y;V=!0,o.save(),o.scale(J,1),be/=J}else ae!==Y&&(be+=(ae-Y)/2e3*r/l)}if(this.contentVisible&&($.isInFont||n.missingFile)){if(E&&!re)o.fillText(te,be,pe);else if(this.paintChar(te,be,pe,T,I),re){const Y=be+r*re.offset.x/l,J=pe-r*re.offset.y/l;this.paintChar(re.fontChar,Y,J,T,I)}}const _e=y?ae*b-q*f:ae*b+q*f;F+=_e,V&&o.restore()}y?t.y-=F:t.x+=F*p,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,o=n.fontSize,l=n.fontDirection,c=r.vertical?1:-1,d=n.charSpacing,f=n.wordSpacing,p=n.textHScale*l,g=n.fontMatrix||vx,y=e.length,w=n.textRenderingMode===er.INVISIBLE;let S,b,E,T;if(!(w||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),n.textMatrix&&t.transform(...n.textMatrix),t.translate(n.x,n.y+n.textRise),t.scale(p,l),S=0;S<y;++S){if(b=e[S],typeof b=="number"){T=c*b*o/1e3,this.ctx.translate(T,0),n.x+=T*p;continue}const I=(b.isSpace?f:0)+d,L=r.charProcOperatorList[b.operatorListId];L?this.contentVisible&&(this.save(),t.scale(o,o),t.transform(...g),this.executeOperatorList(L),this.restore()):Ge(`Type3 character "${b.operatorListId}" is not available.`);const D=[b.width,0];De.applyTransform(D,g),E=D[0]*o+I,t.translate(E,0),n.x+=E*p}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,o,l){const c=new Path2D;c.rect(n,r,o-n,l-r),this.ctx.clip(c),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=this.baseTransform||Ht(this.ctx),r={createCanvasGraphics:o=>new M1(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new zx(e,this.ctx,r,n)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=zz(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,xs(t),Wn.SHADING);const r=xs(t);if(r){const{width:o,height:l}=t.canvas,c=sd.slice();De.axialAlignedBoundingBox([0,0,o,l],r,c);const[d,f,p,g]=c;this.ctx.fillRect(d,f,p-d,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){_t("Should not call beginInlineImage")}beginImageData(){_t("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ht(this.ctx),t)){De.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[n,r,o,l]=t,c=new Path2D;c.rect(n,r,o-n,l-r),this.ctx.clip(c),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||v0("TODO: Support non-isolated groups."),e.knockout&&Ge("Knockout groups not supported.");const n=Ht(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=sd.slice();De.axialAlignedBoundingBox(e.bbox,Ht(t),r);const o=[0,0,t.canvas.width,t.canvas.height];r=De.intersect(r,o)||[0,0,0,0];const l=Math.floor(r[0]),c=Math.floor(r[1]),d=Math.max(Math.ceil(r[2])-l,1),f=Math.max(Math.ceil(r[3])-c,1);this.current.startNewPathAndClipBox([0,0,d,f]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,d,f),y=g.context;y.translate(-l,-c),y.transform(...n);let w=new Path2D;const[S,b,E,T]=e.bbox;if(w.rect(S,b,E-S,T-b),e.matrix){const I=new Path2D;I.addPath(w,new DOMMatrix(e.matrix)),w=I}y.clip(w),e.smask?this.smaskStack.push({canvas:g.canvas,context:y,offsetX:l,offsetY:c,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,c),t.save()),Cf(t,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Ht(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=sd.slice();De.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r,o),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,r,o){if(N(this,fs,Hx).call(this),Sy(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const l=t[2]-t[0],c=t[3]-t[1];if(o&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=l,t[3]=c,De.singularValueDecompose2dScale(Ht(this.ctx),ai);const{viewportScale:d}=this,f=Math.ceil(l*this.outputScaleX*d),p=Math.ceil(c*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:g,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(e,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(ai[0],0,0,-ai[1],0,c*ai[1]),Sy(this.ctx)}else{Sy(this.ctx),this.endPath();const d=new Path2D;d.rect(t[0],t[1],l,c),this.ctx.clip(d)}}this.current=new _C(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),N(this,fs,Ux).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,r=this._createMaskCanvas(e),o=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,r=0,o,l){if(!this.contentVisible)return;e=this.getObject(e.data,e);const c=this.ctx;c.save();const d=Ht(c);c.transform(t,n,r,o,0,0);const f=this._createMaskCanvas(e);c.setTransform(1,0,0,1,f.offsetX-d[4],f.offsetY-d[5]);for(let p=0,g=l.length;p<g;p+=2){const y=De.transform(d,[t,n,r,o,l[p],l[p+1]]);c.drawImage(f.canvas,y[4],y[5])}c.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const o of e){const{data:l,width:c,height:d,transform:f}=o,p=this.cachedCanvases.getCanvas("maskCanvas",c,d),g=p.context;g.save();const y=this.getObject(l,o);EC(g,y),g.globalCompositeOperation="source-in",g.fillStyle=r?n.getPattern(g,this,xs(t),Wn.FILL):n,g.fillRect(0,0,c,d),g.restore(),t.save(),t.transform(...f),t.scale(1,-1),_y(t,p.canvas,0,0,c,d,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Ge("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){Ge("Dependent image isn't ready yet");return}const l=o.width,c=o.height,d=[];for(let f=0,p=r.length;f<p;f+=2)d.push({transform:[t,0,0,n,r[f],r[f+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(o,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:r}=e,o=this.cachedCanvases.getCanvas("inlineImage",n,r),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;this.save();const{filter:o}=r;o!=="none"&&o!==""&&(r.filter="none"),r.scale(1/t,-1/n);let l;if(e.bitmap)l=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)l=e;else{const f=this.cachedCanvases.getCanvas("inlineImage",t,n).context;SC(f,e),l=this.applyTransferMapsToCanvas(f)}const c=this._scaleImage(l,xs(r));r.imageSmoothingEnabled=AC(Ht(r),e.interpolate),_y(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const o=e.width,l=e.height,d=this.cachedCanvases.getCanvas("inlineImage",o,l).context;SC(d,e),r=this.applyTransferMapsToCanvas(d)}for(const o of t)n.save(),n.transform(...o.transform),n.scale(1,-1),_y(n,r,o.x,o.y,o.w,o.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===CC?r.clip(e,"evenodd"):r.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ht(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:o}=this.ctx.getTransform();let l,c;if(n===0&&r===0){const d=Math.abs(t),f=Math.abs(o);if(d===f)if(e===0)l=c=1/d;else{const p=d*e;l=c=p<1?1/p:1}else if(e===0)l=1/d,c=1/f;else{const p=d*e,g=f*e;l=p<1?1/p:1,c=g<1?1/g:1}}else{const d=Math.abs(t*o-n*r),f=Math.hypot(t,n),p=Math.hypot(r,o);if(e===0)l=p/d,c=f/d;else{const g=e*d;l=p>g?p/g:1,c=f>g?f/g:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:r}}=this,[o,l]=this.getScaleForStroking();if(o===l){n.lineWidth=(r||1)*o,n.stroke(e);return}const c=n.getLineDash();t&&n.save(),n.scale(o,l),Fb.a=1/o,Fb.d=1/l;const d=new Path2D;if(d.addPath(e,Fb),c.length>0){const f=Math.max(o,l);n.setLineDash(c.map(p=>p/f)),n.lineDashOffset/=f}n.lineWidth=r||1,n.stroke(d),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};fs=new WeakSet,Hx=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ux=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},Vx=function(e,t,n){const r=new Path2D;return r.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),r};let hd=M1;for(const s in up)hd.prototype[s]!==void 0&&(hd.prototype[up[s]]=hd.prototype[s]);var qp,Yp;class Ii{static get workerPort(){return u(this,qp)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");A(this,qp,e)}static get workerSrc(){return u(this,Yp)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");A(this,Yp,e)}}qp=new WeakMap,Yp=new WeakMap,k(Ii,qp,null),k(Ii,Yp,"");var Ud,Xp;class Xz{constructor({parsedData:e,rawData:t}){k(this,Ud);k(this,Xp);A(this,Ud,e),A(this,Xp,t)}getRaw(){return u(this,Xp)}get(e){return u(this,Ud).get(e)??null}[Symbol.iterator](){return u(this,Ud).entries()}}Ud=new WeakMap,Xp=new WeakMap;const nd=Symbol("INTERNAL");var Kp,Qp,Jp,Vd;class Kz{constructor(e,{name:t,intent:n,usage:r,rbGroups:o}){k(this,Kp,!1);k(this,Qp,!1);k(this,Jp,!1);k(this,Vd,!0);A(this,Kp,!!(e&oi.DISPLAY)),A(this,Qp,!!(e&oi.PRINT)),this.name=t,this.intent=n,this.usage=r,this.rbGroups=o}get visible(){if(u(this,Jp))return u(this,Vd);if(!u(this,Vd))return!1;const{print:e,view:t}=this.usage;return u(this,Kp)?(t==null?void 0:t.viewState)!=="OFF":u(this,Qp)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==nd&&_t("Internal method `_setVisible` called."),A(this,Jp,n),A(this,Vd,t)}}Kp=new WeakMap,Qp=new WeakMap,Jp=new WeakMap,Vd=new WeakMap;var Ka,bt,Wd,Gd,Zp,Wx;class Qz{constructor(e,t=oi.DISPLAY){k(this,Zp);k(this,Ka,null);k(this,bt,new Map);k(this,Wd,null);k(this,Gd,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,A(this,Gd,e.order);for(const n of e.groups)u(this,bt).set(n.id,new Kz(t,n));if(e.baseState==="OFF")for(const n of u(this,bt).values())n._setVisible(nd,!1);for(const n of e.on)u(this,bt).get(n)._setVisible(nd,!0);for(const n of e.off)u(this,bt).get(n)._setVisible(nd,!1);A(this,Wd,this.getHash())}}isVisible(e){if(u(this,bt).size===0)return!0;if(!e)return v0("Optional content group not defined."),!0;if(e.type==="OCG")return u(this,bt).has(e.id)?u(this,bt).get(e.id).visible:(Ge(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return N(this,Zp,Wx).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!u(this,bt).has(t))return Ge(`Optional content group not found: ${t}`),!0;if(u(this,bt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!u(this,bt).has(t))return Ge(`Optional content group not found: ${t}`),!0;if(!u(this,bt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!u(this,bt).has(t))return Ge(`Optional content group not found: ${t}`),!0;if(!u(this,bt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!u(this,bt).has(t))return Ge(`Optional content group not found: ${t}`),!0;if(u(this,bt).get(t).visible)return!1}return!0}return Ge(`Unknown optional content policy ${e.policy}.`),!0}return Ge(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var o;const r=u(this,bt).get(e);if(!r){Ge(`Optional content group not found: ${e}`);return}if(n&&t&&r.rbGroups.length)for(const l of r.rbGroups)for(const c of l)c!==e&&((o=u(this,bt).get(c))==null||o._setVisible(nd,!1,!0));r._setVisible(nd,!!t,!0),A(this,Ka,null)}setOCGState({state:e,preserveRB:t}){let n;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const o=u(this,bt).get(r);if(o)switch(n){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!o.visible,t);break}}A(this,Ka,null)}get hasInitialVisibility(){return u(this,Wd)===null||this.getHash()===u(this,Wd)}getOrder(){return u(this,bt).size?u(this,Gd)?u(this,Gd).slice():[...u(this,bt).keys()]:null}getGroup(e){return u(this,bt).get(e)||null}getHash(){if(u(this,Ka)!==null)return u(this,Ka);const e=new tk;for(const[t,n]of u(this,bt))e.update(`${t}:${n.visible}`);return A(this,Ka,e.hexdigest())}[Symbol.iterator](){return u(this,bt).entries()}}Ka=new WeakMap,bt=new WeakMap,Wd=new WeakMap,Gd=new WeakMap,Zp=new WeakSet,Wx=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const o=e[r];let l;if(Array.isArray(o))l=N(this,Zp,Wx).call(this,o);else if(u(this,bt).has(o))l=u(this,bt).get(o).visible;else return Ge(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"};class Jz{constructor(e,{disableRange:t=!1,disableStream:n=!1}){cn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:l,contentDispositionFilename:c}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,(o==null?void 0:o.length)>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),e.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),e.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(n),!0)});cn(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,r,o;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){cn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Zz(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new e4(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class Zz{constructor(e,t,n=!1,r=null){this._stream=e,this._done=n||!1,this._filename=b0(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class e4{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function t4(s){let e=!0,t=n("filename\\*","i").exec(s);if(t){t=t[1];let p=c(t);return p=unescape(p),p=d(p),p=f(p),o(p)}if(t=l(s),t){const p=f(t);return o(p)}if(t=n("filename","i").exec(s),t){t=t[1];let p=c(t);return p=f(p),o(p)}function n(p,g){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function r(p,g){if(p){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const y=new TextDecoder(p,{fatal:!0}),w=tm(g);g=y.decode(w),e=!1}catch{}}return g}function o(p){return e&&/[\x80-\xff]/.test(p)&&(p=r("utf-8",p),e&&(p=r("iso-8859-1",p))),p}function l(p){const g=[];let y;const w=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=w.exec(p))!==null;){let[,b,E,T]=y;if(b=parseInt(b,10),b in g){if(b===0)break;continue}g[b]=[E,T]}const S=[];for(let b=0;b<g.length&&b in g;++b){let[E,T]=g[b];T=c(T),E&&(T=unescape(T),b===0&&(T=d(T))),S.push(T)}return S.join("")}function c(p){if(p.startsWith('"')){const g=p.slice(1).split('\\"');for(let y=0;y<g.length;++y){const w=g[y].indexOf('"');w!==-1&&(g[y]=g[y].slice(0,w),g.length=y+1),g[y]=g[y].replaceAll(/\\(.)/g,"$1")}p=g.join('"')}return p}function d(p){const g=p.indexOf("'");if(g===-1)return p;const y=p.slice(0,g),S=p.slice(g+1).replace(/^[^']*'/,"");return r(y,S)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,y,w,S){if(w==="q"||w==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,E){return String.fromCharCode(parseInt(E,16))}),r(y,S);try{S=atob(S)}catch{}return r(y,S)})}return""}function pk(s,e){const t=new Headers;if(!s||!e||typeof e!="object")return t;for(const n in e){const r=e[n];r!==void 0&&t.append(n,r)}return t}function _0(s){var e;return((e=URL.parse(s))==null?void 0:e.origin)??null}function gk({responseHeaders:s,isHttp:e,rangeChunkSize:t,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(s.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*t)||n||!e||s.get("Accept-Ranges")!=="bytes"||(s.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function mk(s){const e=s.get("Content-Disposition");if(e){let t=t4(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(b0(t))return t}return null}function sm(s,e){return new dp(`Unexpected server response (${s}) while retrieving PDF "${e}".`,s,s===404||s===0&&e.startsWith("file:"))}function yk(s){return s===200||s===206}function vk(s,e,t){return{method:"GET",headers:s,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function wk(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:(Ge(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class n4{constructor(e){me(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=pk(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return cn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new r4(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new i4(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class r4{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),r=t.url;fetch(r,vk(n,this._withCredentials,this._abortController)).then(o=>{if(e._responseOrigin=_0(o.url),!yk(o.status))throw sm(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:c,suggestedLength:d}=gk({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=d||this._contentLength,this._filename=mk(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ta("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:wk(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class i4{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${t}-${n-1}`);const l=r.url;fetch(l,vk(o,this._withCredentials,this._abortController)).then(c=>{const d=_0(c.url);if(d!==e._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${e._responseOrigin}".`);if(!yk(c.status))throw sm(c.status,l);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:wk(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const jb=200,Bb=206;function s4(s){const e=s.response;return typeof e!="string"?e:tm(e).buffer}class o4{constructor({url:e,httpHeaders:t,withCredentials:n}){me(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=pk(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[o,l]of this.headers)t.setRequestHeader(o,l);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=Bb):r.expectedStatus=jb,t.responseType="arraybuffer",cn(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var r;const n=this.pendingRequests[e];n&&((r=n.onProgress)==null||r.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){n.onError(r.status);return}const o=r.status||jb;if(!(o===jb&&n.expectedStatus===Bb)&&o!==n.expectedStatus){n.onError(r.status);return}const c=s4(r);if(o===Bb){const d=r.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?n.onDone({begin:parseInt(f[1],10),chunk:c}):(Ge('Missing or invalid "Content-Range" header.'),n.onError(0))}else c?n.onDone({begin:0,chunk:c}):n.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class a4{constructor(e){this._source=e,this._manager=new o4(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return cn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new l4(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new c4(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class l4{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=_0(t.responseURL);const n=t.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[d,...f]=c.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:l}=gk({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=mk(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=sm(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class c4{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=_0((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=sm(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const u4=/^[a-z][a-z0-9\-+.]+:/i;function d4(s){if(u4.test(s))return new URL(s);const e=as.getBuiltinModule("url");return new URL(e.pathToFileURL(s))}class h4{constructor(e){this.source=e,this.url=d4(e.url),cn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return cn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new f4(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new p4(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class f4{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=as.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=sm(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ta("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class p4{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const o=as.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Tf=Symbol("INITIAL_DATA");var Xr,eg,Gx;class bk{constructor(){k(this,eg);k(this,Xr,Object.create(null))}get(e,t=null){if(t){const r=N(this,eg,Gx).call(this,e);return r.promise.then(()=>t(r.data)),null}const n=u(this,Xr)[e];if(!n||n.data===Tf)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=u(this,Xr)[e];return!!t&&t.data!==Tf}delete(e){const t=u(this,Xr)[e];return!t||t.data===Tf?!1:(delete u(this,Xr)[e],!0)}resolve(e,t=null){const n=N(this,eg,Gx).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in u(this,Xr)){const{data:n}=u(this,Xr)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}A(this,Xr,Object.create(null))}*[Symbol.iterator](){for(const e in u(this,Xr)){const{data:t}=u(this,Xr)[e];t!==Tf&&(yield[e,t])}}}Xr=new WeakMap,eg=new WeakSet,Gx=function(e){var t;return(t=u(this,Xr))[e]||(t[e]={...Promise.withResolvers(),data:Tf})};const g4=1e5,TC=30;var lT,Qa,Mr,tg,ng,Pc,Lo,rg,ig,Rc,qd,Yd,Ja,Xd,sg,Kd,kc,og,ag,Yt,Qd,Ic,lg,Za,Jd,ra,xk,_k,qx,hi,Wy,Yx,Sk,Ek;let fp=(Yt=class{constructor({textContentSource:e,container:t,viewport:n}){k(this,ra);k(this,Qa,Promise.withResolvers());k(this,Mr,null);k(this,tg,!1);k(this,ng,!!((lT=globalThis.FontInspector)!=null&&lT.enabled));k(this,Pc,null);k(this,Lo,null);k(this,rg,0);k(this,ig,0);k(this,Rc,null);k(this,qd,null);k(this,Yd,0);k(this,Ja,0);k(this,Xd,Object.create(null));k(this,sg,[]);k(this,Kd,null);k(this,kc,[]);k(this,og,new WeakMap);k(this,ag,null);var d;if(e instanceof ReadableStream)A(this,Kd,e);else if(typeof e=="object")A(this,Kd,new ReadableStream({start(f){f.enqueue(e),f.close()}}));else throw new Error('No "textContentSource" parameter specified.');A(this,Mr,A(this,qd,t)),A(this,Ja,n.scale*hs.pixelRatio),A(this,Yd,n.rotation),A(this,Lo,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:l,pageY:c}=n.rawDims;A(this,ag,[1,0,0,-1,-l,c+o]),A(this,ig,r),A(this,rg,o),N(d=Yt,hi,Sk).call(d),El(t,n),u(this,Qa).promise.finally(()=>{u(Yt,Jd).delete(this),A(this,Lo,null),A(this,Xd,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Nn.platform;return nt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{u(this,Rc).read().then(({value:t,done:n})=>{if(n){u(this,Qa).resolve();return}u(this,Pc)??A(this,Pc,t.lang),Object.assign(u(this,Xd),t.styles),N(this,ra,xk).call(this,t.items),e()},u(this,Qa).reject)};return A(this,Rc,u(this,Kd).getReader()),u(Yt,Jd).add(this),e(),u(this,Qa).promise}update({viewport:e,onBefore:t=null}){var o;const n=e.scale*hs.pixelRatio,r=e.rotation;if(r!==u(this,Yd)&&(t==null||t(),A(this,Yd,r),El(u(this,qd),{rotation:r})),n!==u(this,Ja)){t==null||t(),A(this,Ja,n);const l={div:null,properties:null,ctx:N(o=Yt,hi,Wy).call(o,u(this,Pc))};for(const c of u(this,kc))l.properties=u(this,og).get(c),l.div=c,N(this,ra,qx).call(this,l)}}cancel(){var t;const e=new ta("TextLayer task cancelled.");(t=u(this,Rc))==null||t.cancel(e).catch(()=>{}),A(this,Rc,null),u(this,Qa).reject(e)}get textDivs(){return u(this,kc)}get textContentItemsStr(){return u(this,sg)}static cleanup(){if(!(u(this,Jd).size>0)){u(this,Qd).clear();for(const{canvas:e}of u(this,Ic).values())e.remove();u(this,Ic).clear()}}},Qa=new WeakMap,Mr=new WeakMap,tg=new WeakMap,ng=new WeakMap,Pc=new WeakMap,Lo=new WeakMap,rg=new WeakMap,ig=new WeakMap,Rc=new WeakMap,qd=new WeakMap,Yd=new WeakMap,Ja=new WeakMap,Xd=new WeakMap,sg=new WeakMap,Kd=new WeakMap,kc=new WeakMap,og=new WeakMap,ag=new WeakMap,Qd=new WeakMap,Ic=new WeakMap,lg=new WeakMap,Za=new WeakMap,Jd=new WeakMap,ra=new WeakSet,xk=function(e){var r,o;if(u(this,tg))return;(o=u(this,Lo)).ctx??(o.ctx=N(r=Yt,hi,Wy).call(r,u(this,Pc)));const t=u(this,kc),n=u(this,sg);for(const l of e){if(t.length>g4){Ge("Ignoring additional textDivs for performance reasons."),A(this,tg,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const c=u(this,Mr);A(this,Mr,document.createElement("span")),u(this,Mr).classList.add("markedContent"),l.id!==null&&u(this,Mr).setAttribute("id",`${l.id}`),c.append(u(this,Mr))}else l.type==="endMarkedContent"&&A(this,Mr,u(this,Mr).parentNode);continue}n.push(l.str),N(this,ra,_k).call(this,l)}},_k=function(e){var b;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};u(this,kc).push(t);const r=De.transform(u(this,ag),e.transform);let o=Math.atan2(r[1],r[0]);const l=u(this,Xd)[e.fontName];l.vertical&&(o+=Math.PI/2);let c=u(this,ng)&&l.fontSubstitution||l.fontFamily;c=Yt.fontFamilyMap.get(c)||c;const d=Math.hypot(r[2],r[3]),f=d*N(b=Yt,hi,Ek).call(b,c,l,u(this,Pc));let p,g;o===0?(p=r[4],g=r[5]-f):(p=r[4]+f*Math.sin(o),g=r[5]-f*Math.cos(o));const y="calc(var(--total-scale-factor) *",w=t.style;u(this,Mr)===u(this,qd)?(w.left=`${(100*p/u(this,ig)).toFixed(2)}%`,w.top=`${(100*g/u(this,rg)).toFixed(2)}%`):(w.left=`${y}${p.toFixed(2)}px)`,w.top=`${y}${g.toFixed(2)}px)`),w.fontSize=`${y}${(u(Yt,Za)*d).toFixed(2)}px)`,w.fontFamily=c,n.fontSize=d,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,u(this,ng)&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),o!==0&&(n.angle=o*(180/Math.PI));let S=!1;if(e.str.length>1)S=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const E=Math.abs(e.transform[0]),T=Math.abs(e.transform[3]);E!==T&&Math.max(E,T)/Math.min(E,T)>1.5&&(S=!0)}if(S&&(n.canvasWidth=l.vertical?e.height:e.width),u(this,og).set(t,n),u(this,Lo).div=t,u(this,Lo).properties=n,N(this,ra,qx).call(this,u(this,Lo)),n.hasText&&u(this,Mr).append(t),n.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),u(this,Mr).append(E)}},qx=function(e){var c;const{div:t,properties:n,ctx:r}=e,{style:o}=t;let l="";if(u(Yt,Za)>1&&(l=`scale(${1/u(Yt,Za)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:d}=o,{canvasWidth:f,fontSize:p}=n;N(c=Yt,hi,Yx).call(c,r,p*u(this,Ja),d);const{width:g}=r.measureText(t.textContent);g>0&&(l=`scaleX(${f*u(this,Ja)/g}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)},hi=new WeakSet,Wy=function(e=null){let t=u(this,Ic).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,Ic).set(e,t),u(this,lg).set(t,{size:0,family:""})}return t},Yx=function(e,t,n){const r=u(this,lg).get(e);t===r.size&&n===r.family||(e.font=`${t}px ${n}`,r.size=t,r.family=n)},Sk=function(){if(u(this,Za)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),A(this,Za,e.getBoundingClientRect().height),e.remove()},Ek=function(e,t,n){const r=u(this,Qd).get(e);if(r)return r;const o=N(this,hi,Wy).call(this,n);o.canvas.width=o.canvas.height=TC,N(this,hi,Yx).call(this,o,TC,e);const l=o.measureText(""),c=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let f=.8;return c?f=c/(c+d):(Nn.platform.isFirefox&&Ge("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?f=t.ascent:t.descent&&(f=1+t.descent)),u(this,Qd).set(e,f),f},k(Yt,hi),k(Yt,Qd,new Map),k(Yt,Ic,new Map),k(Yt,lg,new WeakMap),k(Yt,Za,null),k(Yt,Jd,new Set),Yt);class pp{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function r(o){var d;if(!o)return;let l=null;const c=o.name;if(c==="#text")l=o.value;else if(pp.shouldBuildText(c))(d=o==null?void 0:o.attributes)!=null&&d.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&t.push({str:l}),!!o.children)for(const f of o.children)r(f)}return r(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const m4=100;function _1(s={}){typeof s=="string"||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const e=new Xx,{docId:t}=e,n=s.url?Cz(s.url):null,r=s.data?Tz(s.data):null,o=s.httpHeaders||null,l=s.withCredentials===!0,c=s.password??null,d=s.range instanceof S1?s.range:null,f=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:2**16;let p=s.worker instanceof Nh?s.worker:null;const g=s.verbosity,y=typeof s.docBaseUrl=="string"&&!rm(s.docBaseUrl)?s.docBaseUrl:null,w=by(s.cMapUrl),S=s.cMapPacked!==!1,b=s.CMapReaderFactory||(vr?Mz:gC),E=by(s.iccUrl),T=by(s.standardFontDataUrl),I=s.StandardFontDataFactory||(vr?Dz:mC),L=by(s.wasmUrl),D=s.WasmFactory||(vr?Oz:yC),F=s.stopAtErrors!==!0,B=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,$=s.isEvalSupported!==!1,V=typeof s.isOffscreenCanvasSupported=="boolean"?s.isOffscreenCanvasSupported:!vr,q=typeof s.isImageDecoderSupported=="boolean"?s.isImageDecoderSupported:!vr&&(Nn.platform.isFirefox||!globalThis.chrome),te=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,re=typeof s.disableFontFace=="boolean"?s.disableFontFace:vr,be=s.fontExtraProperties===!0,pe=s.enableXfa===!0,ae=s.ownerDocument||globalThis.document,_e=s.disableRange===!0,Y=s.disableStream===!0,J=s.disableAutoFetch===!0,Q=s.pdfBug===!0,ue=s.CanvasFactory||(vr?Nz:kz),ce=s.FilterFactory||(vr?Lz:Iz),U=s.enableHWA===!0,ne=s.useWasm!==!1,le=d?d.length:s.length??NaN,he=typeof s.useSystemFonts=="boolean"?s.useSystemFonts:!vr&&!re,ve=typeof s.useWorkerFetch=="boolean"?s.useWorkerFetch:!!(b===gC&&I===mC&&D===yC&&w&&T&&L&&Nf(w,document.baseURI)&&Nf(T,document.baseURI)&&Nf(L,document.baseURI)),Se=null;lz(g);const oe={canvasFactory:new ue({ownerDocument:ae,enableHWA:U}),filterFactory:new ce({docId:t,ownerDocument:ae}),cMapReaderFactory:ve?null:new b({baseUrl:w,isCompressed:S}),standardFontDataFactory:ve?null:new I({baseUrl:T}),wasmFactory:ve?null:new D({baseUrl:L})};p||(p=Nh.create({verbosity:g,port:Ii.workerPort}),e._worker=p);const ye={docId:t,apiVersion:"5.3.93",data:r,password:c,disableAutoFetch:J,rangeChunkSize:f,length:le,docBaseUrl:y,enableXfa:pe,evaluatorOptions:{maxImageSize:B,disableFontFace:re,ignoreErrors:F,isEvalSupported:$,isOffscreenCanvasSupported:V,isImageDecoderSupported:q,canvasMaxAreaInBytes:te,fontExtraProperties:be,useSystemFonts:he,useWasm:ne,useWorkerFetch:ve,cMapUrl:w,iccUrl:E,standardFontDataUrl:T,wasmUrl:L}},Ie={ownerDocument:ae,pdfBug:Q,styleElement:Se,loadingParams:{disableAutoFetch:J,enableXfa:pe}};return p.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Ee=p.messageHandler.sendWithPromise("GetDocRequest",ye,r?[r.buffer]:null);let Oe;if(d)Oe=new Jz(d,{disableRange:_e,disableStream:Y});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const je=Nf(n)?n4:vr?h4:a4;Oe=new je({url:n,length:le,httpHeaders:o,withCredentials:l,rangeChunkSize:f,disableRange:_e,disableStream:Y})}return Ee.then(je=>{if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Fe=new jf(t,je,p.port),Ue=new w4(Fe,e,Oe,Ie,oe);e._transport=Ue,Fe.send("Ready",null)})}).catch(e._capability.reject),e}var Vv;const Wv=class Wv{constructor(){me(this,"_capability",Promise.withResolvers());me(this,"_transport",null);me(this,"_worker",null);me(this,"docId",`d${Sn(Wv,Vv)._++}`);me(this,"destroyed",!1);me(this,"onPassword",null);me(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,n,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(o){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,o}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};Vv=new WeakMap,k(Wv,Vv,0);let Xx=Wv;var Lc,cg,ug,dg,hg,cT;let S1=(cT=class{constructor(e,t,n=!1,r=null){k(this,Lc,Promise.withResolvers());k(this,cg,[]);k(this,ug,[]);k(this,dg,[]);k(this,hg,[]);this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(e){u(this,hg).push(e)}addProgressListener(e){u(this,dg).push(e)}addProgressiveReadListener(e){u(this,ug).push(e)}addProgressiveDoneListener(e){u(this,cg).push(e)}onDataRange(e,t){for(const n of u(this,hg))n(e,t)}onDataProgress(e,t){u(this,Lc).promise.then(()=>{for(const n of u(this,dg))n(e,t)})}onDataProgressiveRead(e){u(this,Lc).promise.then(()=>{for(const t of u(this,ug))t(e)})}onDataProgressiveDone(){u(this,Lc).promise.then(()=>{for(const e of u(this,cg))e()})}transportReady(){u(this,Lc).resolve()}requestDataRange(e,t){_t("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Lc=new WeakMap,cg=new WeakMap,ug=new WeakMap,dg=new WeakMap,hg=new WeakMap,cT);class y4{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return nt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var No,Nc,Uf;class v4{constructor(e,t,n,r=!1){k(this,Nc);k(this,No,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new hC:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new bk,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:o=!1}={}){return new nm({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return nt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:r=qs.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:g=!1}){var D,F;(D=this._stats)==null||D.time("Overall");const y=this._transport.getRenderingIntent(n,r,p,g),{renderingIntent:w,cacheKey:S}=y;A(this,No,!1),c||(c=this._transport.getOptionalContentConfig(w));let b=this._intentStates.get(S);b||(b=Object.create(null),this._intentStates.set(S,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const E=!!(w&oi.PRINT);b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(y));const T=B=>{var $;b.renderTasks.delete(I),E&&A(this,No,!0),N(this,Nc,Uf).call(this),B?(I.capability.reject(B),this._abortOperatorList({intentState:b,reason:B instanceof Error?B:new Error(B)})):I.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),($=globalThis.Stats)!=null&&$.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},I=new Kx({callback:T,params:{canvasContext:e,viewport:t,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:f});(b.renderTasks||(b.renderTasks=new Set)).add(I);const L=I.task;return Promise.all([b.displayReadyCapability.promise,c]).then(([B,$])=>{var V;if(this.destroyed){T();return}if((V=this._stats)==null||V.time("Rendering"),!($.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");I.initializeGraphics({transparency:B,optionalContentConfig:$}),I.operatorListChanged()}).catch(T),L}getOperatorList({intent:e="display",annotationMode:t=qs.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){var f;function o(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(e,t,n,r,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let d;return c.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(d),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(f=this._stats)==null||f.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>pp.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,r){function o(){l.read().then(function({value:d,done:f}){if(f){n(c);return}c.lang??(c.lang=d.lang),Object.assign(c.styles,d.styles),c.items.push(...d.items),o()},r)}const l=t.getReader(),c={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),A(this,No,!1),Promise.all(e)}cleanup(e=!1){A(this,No,!0);const t=N(this,Nc,Uf).call(this);return e&&t&&this._stats&&(this._stats=new hC),t}_startRenderPage(e,t){var r,o;const n=this._intentStates.get(t);n&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=n.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&N(this,Nc,Uf).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:r}){const{map:o,transfer:l}=n,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:r},l).getReader(),f=this._intentStates.get(t);f.streamReader=d;const p=()=>{d.read().then(({value:g,done:y})=>{if(y){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,f),p())},g=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const y of f.renderTasks)y.operatorListChanged();N(this,Nc,Uf).call(this)}if(f.displayReadyCapability)f.displayReadyCapability.reject(g);else if(f.opListReadCapability)f.opListReadCapability.reject(g);else throw g}})};p()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof w0){let r=m4;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new ta(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}No=new WeakMap,Nc=new WeakSet,Uf=function(){if(!u(this,No)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),A(this,No,!1),!0};var el,Qi,Mo,Mc,Gv,Dc,Oc,xr,Gy,Ak,Ck,Vf,Zd,qy;const Nt=class Nt{constructor({name:e=null,port:t=null,verbosity:n=cz()}={}){k(this,xr);k(this,el,Promise.withResolvers());k(this,Qi,null);k(this,Mo,null);k(this,Mc,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(u(Nt,Oc).has(t))throw new Error("Cannot use more than one PDFWorker per port.");u(Nt,Oc).set(t,this),N(this,xr,Ak).call(this,t)}else N(this,xr,Ck).call(this)}get promise(){return u(this,el).promise}get port(){return u(this,Mo)}get messageHandler(){return u(this,Qi)}destroy(){var e,t;this.destroyed=!0,(e=u(this,Mc))==null||e.terminate(),A(this,Mc,null),u(Nt,Oc).delete(u(this,Mo)),A(this,Mo,null),(t=u(this,Qi))==null||t.destroy(),A(this,Qi,null)}static create(e){const t=u(this,Oc).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Nt(e)}static get workerSrc(){if(Ii.workerSrc)return Ii.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return nt(this,"_setupFakeWorkerGlobal",(async()=>u(this,Zd,qy)?u(this,Zd,qy):(await import(this.workerSrc)).WorkerMessageHandler)())}};el=new WeakMap,Qi=new WeakMap,Mo=new WeakMap,Mc=new WeakMap,Gv=new WeakMap,Dc=new WeakMap,Oc=new WeakMap,xr=new WeakSet,Gy=function(){u(this,el).resolve(),u(this,Qi).send("configure",{verbosity:this.verbosity})},Ak=function(e){A(this,Mo,e),A(this,Qi,new jf("main","worker",e)),u(this,Qi).on("ready",()=>{}),N(this,xr,Gy).call(this)},Ck=function(){if(u(Nt,Dc)||u(Nt,Zd,qy)){N(this,xr,Vf).call(this);return}let{workerSrc:e}=Nt;try{Nt._isSameOrigin(window.location,e)||(e=Nt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new jf("main","worker",t),r=()=>{o.abort(),n.destroy(),t.terminate(),this.destroyed?u(this,el).reject(new Error("Worker was destroyed")):N(this,xr,Vf).call(this)},o=new AbortController;t.addEventListener("error",()=>{u(this,Mc)||r()},{signal:o.signal}),n.on("test",c=>{if(o.abort(),this.destroyed||!c){r();return}A(this,Qi,n),A(this,Mo,t),A(this,Mc,t),N(this,xr,Gy).call(this)}),n.on("ready",c=>{if(o.abort(),this.destroyed){r();return}try{l()}catch{N(this,xr,Vf).call(this)}});const l=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};l();return}catch{v0("The worker has been disabled.")}N(this,xr,Vf).call(this)},Vf=function(){u(Nt,Dc)||(Ge("Setting up fake worker."),A(Nt,Dc,!0)),Nt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){u(this,el).reject(new Error("Worker was destroyed"));return}const t=new Rz;A(this,Mo,t);const n=`fake${Sn(Nt,Gv)._++}`,r=new jf(n+"_worker",n,t);e.setup(r,t),A(this,Qi,new jf(n,n+"_worker",t)),N(this,xr,Gy).call(this)}).catch(e=>{u(this,el).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Zd=new WeakSet,qy=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},k(Nt,Zd),k(Nt,Gv,0),k(Nt,Dc,!1),k(Nt,Oc,new WeakMap),vr&&(A(Nt,Dc,!0),Ii.workerSrc||(Ii.workerSrc="./pdf.worker.mjs")),Nt._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const r=new URL(t,n);return n.origin===r.origin},Nt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Nt.fromPort=e=>{if(vz("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Nt.create(e)};let Nh=Nt;var Do,js,eh,th,Oo,Fc,Wf;class w4{constructor(e,t,n,r,o){k(this,Fc);k(this,Do,new Map);k(this,js,new Map);k(this,eh,new Map);k(this,th,new Map);k(this,Oo,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new bk,this.fontLoader=new Ez({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return nt(this,"annotationStorage",new w1)}getRenderingIntent(e,t=qs.ENABLE,n=null,r=!1,o=!1){let l=oi.DISPLAY,c=Ox;switch(e){case"any":l=oi.ANY;break;case"display":break;case"print":l=oi.PRINT;break;default:Ge(`getRenderingIntent - invalid intent: ${e}`)}const d=l&oi.PRINT&&n instanceof rk?n:this.annotationStorage;switch(t){case qs.DISABLE:l+=oi.ANNOTATIONS_DISABLE;break;case qs.ENABLE:break;case qs.ENABLE_FORMS:l+=oi.ANNOTATIONS_FORMS;break;case qs.ENABLE_STORAGE:l+=oi.ANNOTATIONS_STORAGE,c=d.serializable;break;default:Ge(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(l+=oi.IS_EDITING),o&&(l+=oi.OPLIST);const{ids:f,hash:p}=d.modifiedIds,g=[l,c.hash,p];return{renderingIntent:l,cacheKey:g.join("_"),annotationStorageSerializable:c,modifiedIds:f}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=u(this,Oo))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of u(this,js).values())e.push(r._destroy());u(this,js).clear(),u(this,eh).clear(),u(this,th).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,o;this.commonObjs.clear(),this.fontLoader.clear(),u(this,Do).clear(),this.filterFactory.destroy(),fp.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new ta("Worker was terminated.")),(o=this.messageHandler)==null||o.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,r)=>{cn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){r.close();return}cn(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async n=>{var c;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:l}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((c=t.onProgress)==null||c.call(t,this._lastProgress)),this._fullReader.onProgress=d=>{var f;(f=t.onProgress)==null||f.call(t,{loaded:d.loaded,total:d.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:l}}),e.on("GetRangeReader",(n,r)=>{cn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:l,done:c}){if(c){r.close();return}cn(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{o.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new y4(n,this))}),e.on("DocException",n=>{t._capability.reject(Ir(n))}),e.on("PasswordRequest",n=>{A(this,Oo,Promise.withResolvers());try{if(!t.onPassword)throw Ir(n);const r=o=>{o instanceof Error?u(this,Oo).reject(o):u(this,Oo).resolve({password:o})};t.onPassword(r,n.code)}catch(r){u(this,Oo).reject(r)}return u(this,Oo).promise}),e.on("DataLoaded",n=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;u(this,js).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,r,o])=>{var l;if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in o){const p=o.error;Ge(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const c=this._params.pdfBug&&((l=globalThis.FontInspector)!=null&&l.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new Az(o,c);this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!d.fontExtraProperties&&d.data&&(d.data=null),this.commonObjs.resolve(n,d)});break;case"CopyLocalImage":const{imageRef:f}=o;cn(f,"The imageRef must be defined.");for(const p of u(this,js).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(n,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([n,r,o,l])=>{var d;if(this.destroyed)return;const c=u(this,js).get(r);if(!c.objs.has(n)){if(c._intentStates.size===0){(d=l==null?void 0:l.bitmap)==null||d.close();return}switch(o){case"Image":case"Pattern":c.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",n=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Ge("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=u(this,eh).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&u(this,th).set(o.refStr,e);const l=new v4(t,o,this,this._params.pdfBug);return u(this,js).set(t,l),l});return u(this,eh).set(t,r),r}getPageIndex(e){return Fx(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return N(this,Fc,Wf).call(this,"GetFieldObjects")}hasJSActions(){return N(this,Fc,Wf).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return N(this,Fc,Wf).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return N(this,Fc,Wf).call(this,"GetOptionalContentConfig").then(t=>new Qz(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=u(this,Do).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(r=>{var o,l;return{info:r[0],metadata:r[1]?new Xz(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((l=this._fullReader)==null?void 0:l.contentLength)??null}});return u(this,Do).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of u(this,js).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),u(this,Do).clear(),this.filterFactory.destroy(!0),fp.cleanup()}}cachedPageNumber(e){if(!Fx(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return u(this,th).get(t)??null}}Do=new WeakMap,js=new WeakMap,eh=new WeakMap,th=new WeakMap,Oo=new WeakMap,Fc=new WeakSet,Wf=function(e,t=null){const n=u(this,Do).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return u(this,Do).set(e,r),r};var tl;class b4{constructor(e){k(this,tl,null);me(this,"onContinue",null);me(this,"onError",null);A(this,tl,e)}get promise(){return u(this,tl).capability.promise}cancel(e=0){u(this,tl).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=u(this,tl).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=u(this,tl);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}tl=new WeakMap;var nl,jc;const Jl=class Jl{constructor({callback:e,params:t,objs:n,commonObjs:r,annotationCanvasMap:o,operatorList:l,pageIndex:c,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:g=!1,pageColors:y=null}){k(this,nl,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=g,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new b4(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var c,d;if(this.cancelled)return;if(this._canvas){if(u(Jl,jc).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(Jl,jc).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:o,background:l}=this.params;this.gfx=new hd(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(e=null,t=0){var n,r,o;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),u(this,nl)&&(window.cancelAnimationFrame(u(this,nl)),A(this,nl,null)),u(Jl,jc).delete(this._canvas),e||(e=new w0(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(o=(r=this.task).onError)==null||o.call(r,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?A(this,nl,window.requestAnimationFrame(()=>{A(this,nl,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(Jl,jc).delete(this._canvas),this.callback())))}};nl=new WeakMap,jc=new WeakMap,k(Jl,jc,new WeakSet);let Kx=Jl;const E1="5.3.93",Tk="cbeef3233";function PC(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function Pf(s){return Math.max(0,Math.min(255,255*s))}class RC{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Pf(e),[e,e,e]}static G_HTML([e]){const t=PC(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Pf)}static RGB_HTML(e){return`#${e.map(PC).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,n,r]){return[Pf(1-Math.min(1,e+r)),Pf(1-Math.min(1,n+r)),Pf(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const r=1-e,o=1-t,l=1-n,c=Math.min(r,o,l);return["CMYK",r,o,l,c]}}class x4{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){_t("Abstract method `_createSVG` called.")}}class gp extends x4{_createSVG(e){return document.createElementNS(po,e)}}class A1{static setupStorage(e,t,n,r,o){const l=r.getValue(t,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),o==="print")break;e.addEventListener("input",c=>{r.setValue(t,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?e.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",c=>{r.setValue(t,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),o==="print")break;e.addEventListener("input",c=>{r.setValue(t,{value:c.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const c of n.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{const d=c.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(t,{value:f})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:o}){const{attributes:l}=t,c=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[d,f]of Object.entries(l))if(f!=null)switch(d){case"class":f.length&&e.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",f);break;case"style":Object.assign(e.style,f);break;case"textContent":e.textContent=f;break;default:(!c||d!=="href"&&d!=="newWindow")&&e.setAttribute(d,f)}c&&o.addLinkAttributes(e,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(e,l.dataId,t,n)}static render(e){var g,y;const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,o=e.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:o,linkService:n});const c=o!=="richText",d=e.div;if(d.append(l),e.viewport){const w=`matrix(${e.viewport.transform.join(",")})`;d.style.transform=w}c&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(r.children.length===0){if(r.value){const w=document.createTextNode(r.value);l.append(w),c&&pp.shouldBuildText(r.name)&&f.push(w)}return{textDivs:f}}const p=[[r,-1,l]];for(;p.length>0;){const[w,S,b]=p.at(-1);if(S+1===w.children.length){p.pop();continue}const E=w.children[++p.at(-1)[1]];if(E===null)continue;const{name:T}=E;if(T==="#text"){const L=document.createTextNode(E.value);f.push(L),b.append(L);continue}const I=(g=E==null?void 0:E.attributes)!=null&&g.xmlns?document.createElementNS(E.attributes.xmlns,T):document.createElement(T);if(b.append(I),E.attributes&&this.setAttributes({html:I,element:E,storage:t,intent:o,linkService:n}),((y=E.children)==null?void 0:y.length)>0)p.push([E,-1,I]);else if(E.value){const L=document.createTextNode(E.value);c&&pp.shouldBuildText(T)&&f.push(L),I.append(L)}}for(const w of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:f}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const _4=9,mu=new WeakSet;class kC{static create(e){switch(e.data.annotationType){case Zt.LINK:return new Pk(e);case Zt.TEXT:return new S4(e);case Zt.WIDGET:switch(e.data.fieldType){case"Tx":return new E4(e);case"Btn":return e.data.radioButton?new Ik(e):e.data.checkBox?new C4(e):new T4(e);case"Ch":return new P4(e);case"Sig":return new A4(e)}return new Su(e);case Zt.POPUP:return new Jx(e);case Zt.FREETEXT:return new Ok(e);case Zt.LINE:return new k4(e);case Zt.SQUARE:return new I4(e);case Zt.CIRCLE:return new L4(e);case Zt.POLYLINE:return new Fk(e);case Zt.CARET:return new M4(e);case Zt.INK:return new C1(e);case Zt.POLYGON:return new N4(e);case Zt.HIGHLIGHT:return new jk(e);case Zt.UNDERLINE:return new D4(e);case Zt.SQUIGGLY:return new O4(e);case Zt.STRIKEOUT:return new F4(e);case Zt.STAMP:return new Bk(e);case Zt.FILEATTACHMENT:return new j4(e);default:return new rn(e)}}}var Bc,nh,rh,fg,Qx;const D1=class D1{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){k(this,fg);k(this,Bc,null);k(this,nh,!1);k(this,rh,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return D1._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;u(this,Bc)||A(this,Bc,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&N(this,fg,Qx).call(this,t),(n=u(this,rh))==null||n.popup.updateEdited(e)}resetEdited(){var e;u(this,Bc)&&(N(this,fg,Qx).call(this,u(this,Bc).rect),(e=u(this,rh))==null||e.popup.resetEdited(),A(this,Bc,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof Su||(o.tabIndex=0);const{style:l}=o;if(l.zIndex=this.parent.zIndex++,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof Jx){const{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,o),o}const{width:c,height:d}=this;if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const b=t.borderStyle.horizontalCornerRadius,E=t.borderStyle.verticalCornerRadius;if(b>0||E>0){const I=`calc(${b}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;l.borderRadius=I}else if(this instanceof Ik){const I=`calc(${c}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=I}switch(t.borderStyle.style){case Ju.SOLID:l.borderStyle="solid";break;case Ju.DASHED:l.borderStyle="dashed";break;case Ju.BEVELED:Ge("Unimplemented border style: beveled");break;case Ju.INSET:Ge("Unimplemented border style: inset");break;case Ju.UNDERLINE:l.borderBottomStyle="solid";break}const T=t.borderColor||null;T?(A(this,nh,!0),l.borderColor=De.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):l.borderWidth=0}const f=De.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:g,pageX:y,pageY:w}=r.rawDims;l.left=`${100*(f[0]-y)/p}%`,l.top=`${100*(f[1]-w)/g}%`;const{rotation:S}=t;return t.hasOwnCanvas||S===0?(l.width=`${100*c/p}%`,l.height=`${100*d/g}%`):this.setRotation(S,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:o,height:l}=this;e%180!==0&&([o,l]=[l,o]),t.style.width=`${100*o/n}%`,t.style.height=`${100*l/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,r)=>{const o=r.detail[t],l=o[0],c=o.slice(1);r.target.style[n]=RC[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:RC[`${l}_rgb`](c)})};return nt(this,"_commonActions",{display:t=>{const{display:n}=t.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const o=e[r]||n[r];o==null||o(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,o]of Object.entries(t)){const l=n[r];if(l){const c={detail:{[r]:o},target:e};l(c),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,o]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){const[b,E,T,I]=e.subarray(2,6);if(r===b&&o===E&&t===T&&n===I)return}const{style:l}=this.container;let c;if(u(this,nh)){const{borderColor:b,borderWidth:E}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const d=r-t,f=o-n,{svgFactory:p}=this,g=p.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0),g.role="none";const y=p.createElement("defs");g.append(y);const w=p.createElement("clipPath"),S=`clippath_${this.data.id}`;w.setAttribute("id",S),w.setAttribute("clipPathUnits","objectBoundingBox"),y.append(w);for(let b=2,E=e.length;b<E;b+=8){const T=e[b],I=e[b+1],L=e[b+2],D=e[b+3],F=p.createElement("rect"),B=(L-t)/d,$=(o-I)/f,V=(T-L)/d,q=(I-D)/f;F.setAttribute("x",B),F.setAttribute("y",$),F.setAttribute("width",V),F.setAttribute("height",q),w.append(F),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${B}" y="${$}" width="${V}" height="${q}"/>`)}u(this,nh)&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(g),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{data:e}=this,t=A(this,rh,new Jx({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){_t("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:o,id:l,exportValues:c}of r){if(o===-1||l===t)continue;const d=typeof c=="string"?c:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!mu.has(f)){Ge(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:d,domElement:f})}return n}for(const r of document.getElementsByName(e)){const{exportValue:o}=r,l=r.getAttribute("data-element-id");l!==t&&mu.has(r)&&n.push({id:l,exportValue:o,domElement:r})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Bc=new WeakMap,nh=new WeakMap,rh=new WeakMap,fg=new WeakSet,Qx=function(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:c,pageY:d}}}}=this;n==null||n.splice(0,4,...e),t.left=`${100*(e[0]-c)/o}%`,t.top=`${100*(l-e[3]+d)/l}%`,r===0?(t.width=`${100*(e[2]-e[0])/o}%`,t.height=`${100*(e[3]-e[1])/l}%`):this.setRotation(r)};let rn=D1;var ci,Yl,Rk,kk;class Pk extends rn{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});k(this,ci);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let o=!1;return t.url?(n.addLinkAttributes(r,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(r,t.action),o=!0):t.attachment?(N(this,ci,Rk).call(this,r,t.attachment,t.attachmentDest),o=!0):t.setOCGState?(N(this,ci,kk).call(this,r,t.setOCGState),o=!0):t.dest?(this._bindLink(r,t.dest),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),o=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&N(this,ci,Yl).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),N(this,ci,Yl).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(n.actions)){const l=r.get(o);l&&(t[l]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:o}}),!1})}t.onclick||(t.onclick=()=>!1),N(this,ci,Yl).call(this)}_bindResetFormAction(t,n){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),N(this,ci,Yl).call(this),!this._fieldObjects){Ge('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var g;r==null||r();const{fields:o,refs:l,include:c}=n,d=[];if(o.length!==0||l.length!==0){const y=new Set(l);for(const w of o){const S=this._fieldObjects[w]||[];for(const{id:b}of S)y.add(b)}for(const w of Object.values(this._fieldObjects))for(const S of w)y.has(S.id)===c&&d.push(S)}else for(const y of Object.values(this._fieldObjects))d.push(...y);const f=this.annotationStorage,p=[];for(const y of d){const{id:w}=y;switch(p.push(w),y.type){case"text":{const b=y.defaultValue||"";f.setValue(w,{value:b});break}case"checkbox":case"radiobutton":{const b=y.defaultValue===y.exportValues;f.setValue(w,{value:b});break}case"combobox":case"listbox":{const b=y.defaultValue||"";f.setValue(w,{value:b});break}default:continue}const S=document.querySelector(`[data-element-id="${w}"]`);if(S){if(!mu.has(S)){Ge(`_bindResetFormAction - element not allowed: ${w}`);continue}}else continue;S.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}})),!1}}}ci=new WeakSet,Yl=function(){this.container.setAttribute("data-internal-link","")},Rk=function(t,n,r=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(n.content,n.filename,r),!1},N(this,ci,Yl).call(this)},kk=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),N(this,ci,Yl).call(this)};class S4 extends rn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Su extends rn{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Nn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,o){n.includes("mouse")?e.addEventListener(n,l=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(n,l=>{var c;if(n==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}o&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l)}}))})}_setEventListeners(e,t,n,r){var o,l,c;for(const[d,f]of n)(f==="Action"||(o=this.data.actions)!=null&&o[f])&&((f==="Focus"||f==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,d,f,r),f==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(e,t,"blur","Blur",null):f==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":De.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||_4,o=e.style;let l;const c=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c),p=Math.round(f/(Lb*r))||1,g=f/p;l=Math.min(r,d(g/Lb))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(r,d(f/Lb))}o.fontSize=`calc(${l}px * var(--total-scale-factor))`,o.color=De.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class E4 extends Su{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,r){const o=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=n),o.setValue(l.id,{[r]:n})}render(){var r,o;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const l=e.getValue(t,{value:this.data.fieldValue});let c=l.value||"";const d=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;d&&c.length>d&&(c=c.slice(0,d));let f=l.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;f&&this.data.comb&&(f=f.replaceAll(/\s+/g,""));const p={userValue:c,formattedValue:f,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=f??c,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",f??c),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),mu.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const g=this.data.dateFormat||this.data.timeFormat;g&&(n.title=g),this._setRequired(n,this.data.required),d&&(n.maxLength=d),n.addEventListener("input",w=>{e.setValue(t,{value:w.target.value}),this.setPropertyOnSiblings(n,"value",w.target.value,"value"),p.formattedValue=null}),n.addEventListener("resetform",w=>{const S=this.data.defaultFieldValue??"";n.value=p.userValue=S,p.formattedValue=null});let y=w=>{const{formattedValue:S}=p;S!=null&&(w.target.value=S),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",S=>{var E;if(p.focused)return;const{target:b}=S;p.userValue&&(b.value=p.userValue),p.lastCommittedValue=b.value,p.commitKey=1,(E=this.data.actions)!=null&&E.Focus||(p.focused=!0)}),n.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const b={value(E){p.userValue=E.detail.value??"",e.setValue(t,{value:p.userValue.toString()}),E.target.value=p.userValue},formattedValue(E){const{formattedValue:T}=E.detail;p.formattedValue=T,T!=null&&E.target!==document.activeElement&&(E.target.value=T),e.setValue(t,{formattedValue:T})},selRange(E){E.target.setSelectionRange(...E.detail.selRange)},charLimit:E=>{var D;const{charLimit:T}=E.detail,{target:I}=E;if(T===0){I.removeAttribute("maxLength");return}I.setAttribute("maxLength",T);let L=p.userValue;!L||L.length<=T||(L=L.slice(0,T),I.value=p.userValue=L,e.setValue(t,{value:L}),(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:I.selectionStart,selEnd:I.selectionEnd}}))}};this._dispatchEventFromSandbox(b,S)}),n.addEventListener("keydown",S=>{var T;p.commitKey=1;let b=-1;if(S.key==="Escape"?b=0:S.key==="Enter"&&!this.data.multiLine?b=2:S.key==="Tab"&&(p.commitKey=3),b===-1)return;const{value:E}=S.target;p.lastCommittedValue!==E&&(p.lastCommittedValue=E,p.userValue=E,(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:b,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const w=y;y=null,n.addEventListener("blur",S=>{var E,T;if(!p.focused||!S.relatedTarget)return;(E=this.data.actions)!=null&&E.Blur||(p.focused=!1);const{value:b}=S.target;p.userValue=b,p.lastCommittedValue!==b&&((T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:p.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}})),w(S)}),(o=this.data.actions)!=null&&o.Keystroke&&n.addEventListener("beforeinput",S=>{var B;p.lastCommittedValue=null;const{data:b,target:E}=S,{value:T,selectionStart:I,selectionEnd:L}=E;let D=I,F=L;switch(S.inputType){case"deleteWordBackward":{const $=T.substring(0,I).match(/\w*[^\w]*$/);$&&(D-=$[0].length);break}case"deleteWordForward":{const $=T.substring(I).match(/^[^\w]*\w*/);$&&(F+=$[0].length);break}case"deleteContentBackward":I===L&&(D-=1);break;case"deleteContentForward":I===L&&(F+=1);break}S.preventDefault(),(B=this.linkService.eventBus)==null||B.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,change:b||"",willCommit:!1,selStart:D,selEnd:F}})}),this._setEventListeners(n,p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(y&&n.addEventListener("blur",y),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/d;n.classList.add("comb"),n.style.letterSpacing=`calc(${S}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class A4 extends Su{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class C4 extends Su{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return mu.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=0,o.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const f of this._getElementsByName(c,n)){const p=d&&f.exportValue===t.exportValue;f.domElement&&(f.domElement.checked=p),e.setValue(f.id,{value:p})}e.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const c=t.defaultFieldValue||"Off";l.target.checked=c===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const c={value(d){d.target.checked=d.detail.value!=="Off",e.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Ik extends Su{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const l of this._getElementsByName(t.fieldName,n))e.setValue(l.id,{value:!1});const o=document.createElement("input");if(mu.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const f of this._getElementsByName(c,n))e.setValue(f.id,{value:!1});e.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const c=t.defaultFieldValue;l.target.checked=c!=null&&c===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;o.addEventListener("updatefromsandbox",c=>{const d={value:f=>{const p=l===f.detail.value;for(const g of this._getElementsByName(f.target.name)){const y=p&&g.id===n;g.domElement&&(g.domElement.checked=y),e.setValue(g.id,{value:y})}}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class T4 extends Pk{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class P4 extends Su{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");mu.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue;for(const y of r.options)y.selected=y.value===g});for(const p of this.data.options){const g=document.createElement("option");g.textContent=p.displayValue,g.value=p.exportValue,n.value.includes(p.exportValue)&&(g.setAttribute("selected",!0),o=!1),r.append(g)}let l=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),r.prepend(p),l=()=>{p.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const c=p=>{const g=p?"value":"textContent",{options:y,multiple:w}=r;return w?Array.prototype.filter.call(y,S=>S.selected).map(S=>S[g]):y.selectedIndex===-1?null:y[y.selectedIndex][g]};let d=c(!1);const f=p=>{const g=p.target.options;return Array.prototype.map.call(g,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",p=>{const g={value(y){l==null||l();const w=y.detail.value,S=new Set(Array.isArray(w)?w:[w]);for(const b of r.options)b.selected=S.has(b.value);e.setValue(t,{value:c(!0)}),d=c(!1)},multipleSelection(y){r.multiple=!0},remove(y){const w=r.options,S=y.detail.remove;w[S].selected=!1,r.remove(S),w.length>0&&Array.prototype.findIndex.call(w,E=>E.selected)===-1&&(w[0].selected=!0),e.setValue(t,{value:c(!0),items:f(y)}),d=c(!1)},clear(y){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),d=c(!1)},insert(y){const{index:w,displayValue:S,exportValue:b}=y.detail.insert,E=r.children[w],T=document.createElement("option");T.textContent=S,T.value=b,E?E.before(T):r.append(T),e.setValue(t,{value:c(!0),items:f(y)}),d=c(!1)},items(y){const{items:w}=y.detail;for(;r.length!==0;)r.remove(0);for(const S of w){const{displayValue:b,exportValue:E}=S,T=document.createElement("option");T.textContent=b,T.value=E,r.append(T)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:c(!0),items:f(y)}),d=c(!1)},indices(y){const w=new Set(y.detail.indices);for(const S of y.target.options)S.selected=w.has(S.index);e.setValue(t,{value:c(!0)}),d=c(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(g,p)}),r.addEventListener("input",p=>{var w;const g=c(!0),y=c(!1);e.setValue(t,{value:g}),p.preventDefault(),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,change:y,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):r.addEventListener("input",function(p){e.setValue(t,{value:c(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Jx extends rn{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:rn._hasPopupData(t)}),this.elements=n,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new R4({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=t,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${y1}${r}`).join(",")),this.container}}var ih,qv,Yv,sh,oh,qt,Fo,$c,pg,gg,ah,jo,Ji,Bo,mg,$o,yg,zc,Hc,St,Yy,Zx,Lk,Nk,Mk,Dk,Xy,Ky,e_;class R4{constructor({container:e,color:t,elements:n,titleObj:r,modificationDate:o,contentsObj:l,richText:c,parent:d,rect:f,parentRect:p,open:g}){k(this,St);k(this,ih,N(this,St,Mk).bind(this));k(this,qv,N(this,St,e_).bind(this));k(this,Yv,N(this,St,Ky).bind(this));k(this,sh,N(this,St,Xy).bind(this));k(this,oh,null);k(this,qt,null);k(this,Fo,null);k(this,$c,null);k(this,pg,null);k(this,gg,null);k(this,ah,null);k(this,jo,!1);k(this,Ji,null);k(this,Bo,null);k(this,mg,null);k(this,$o,null);k(this,yg,null);k(this,zc,null);k(this,Hc,!1);var y;A(this,qt,e),A(this,yg,r),A(this,Fo,l),A(this,$o,c),A(this,gg,d),A(this,oh,t),A(this,mg,f),A(this,ah,p),A(this,pg,n),A(this,$c,x0.toDateObject(o)),this.trigger=n.flatMap(w=>w.getElementsToTriggerPopup());for(const w of this.trigger)w.addEventListener("click",u(this,sh)),w.addEventListener("mouseenter",u(this,Yv)),w.addEventListener("mouseleave",u(this,qv)),w.classList.add("popupTriggerArea");for(const w of n)(y=w.container)==null||y.addEventListener("keydown",u(this,ih));u(this,qt).hidden=!0,g&&N(this,St,Xy).call(this)}render(){if(u(this,Ji))return;const e=A(this,Ji,document.createElement("div"));if(e.className="popup",u(this,oh)){const o=e.style.outlineColor=De.makeHexColor(...u(this,oh));e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=u(this,yg),e.append(t),u(this,$c)){const o=document.createElement("time");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,$c).valueOf()})),o.dateTime=u(this,$c).toISOString(),t.append(o)}const r=u(this,St,Yy);if(r)A1.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(u(this,Fo));e.append(o)}u(this,qt).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let o=0,l=r.length;o<l;++o){const c=r[o];n.append(document.createTextNode(c)),o<l-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;u(this,zc)||A(this,zc,{contentsObj:u(this,Fo),richText:u(this,$o)}),e&&A(this,Bo,null),t&&(A(this,$o,N(this,St,Nk).call(this,t)),A(this,Fo,null)),(n=u(this,Ji))==null||n.remove(),A(this,Ji,null)}resetEdited(){var e;u(this,zc)&&({contentsObj:Sn(this,Fo)._,richText:Sn(this,$o)._}=u(this,zc),A(this,zc,null),(e=u(this,Ji))==null||e.remove(),A(this,Ji,null),A(this,Bo,null))}forceHide(){A(this,Hc,this.isVisible),u(this,Hc)&&(u(this,qt).hidden=!0)}maybeShow(){u(this,Hc)&&(u(this,Ji)||N(this,St,Ky).call(this),A(this,Hc,!1),u(this,qt).hidden=!1)}get isVisible(){return u(this,qt).hidden===!1}}ih=new WeakMap,qv=new WeakMap,Yv=new WeakMap,sh=new WeakMap,oh=new WeakMap,qt=new WeakMap,Fo=new WeakMap,$c=new WeakMap,pg=new WeakMap,gg=new WeakMap,ah=new WeakMap,jo=new WeakMap,Ji=new WeakMap,Bo=new WeakMap,mg=new WeakMap,$o=new WeakMap,yg=new WeakMap,zc=new WeakMap,Hc=new WeakMap,St=new WeakSet,Yy=function(){const e=u(this,$o),t=u(this,Fo);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&u(this,$o).html||null},Zx=function(){var e,t,n;return((n=(t=(e=u(this,St,Yy))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},Lk=function(){var e,t,n;return((n=(t=(e=u(this,St,Yy))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},Nk=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:u(this,St,Lk),fontSize:u(this,St,Zx)?`calc(${u(this,St,Zx)}px * var(--total-scale-factor))`:""}};for(const o of e.split(`
`))t.push({name:"span",value:o,attributes:r});return n},Mk=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&u(this,jo))&&N(this,St,Xy).call(this)},Dk=function(){if(u(this,Bo)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:o}}}=u(this,gg);let l=!!u(this,ah),c=l?u(this,ah):u(this,mg);for(const S of u(this,pg))if(!c||De.intersect(S.data.rect,c)!==null){c=S.data.rect,l=!0;break}const d=De.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),p=l?c[2]-c[0]+5:0,g=d[0]+p,y=d[1];A(this,Bo,[100*(g-r)/t,100*(y-o)/n]);const{style:w}=u(this,qt);w.left=`${u(this,Bo)[0]}%`,w.top=`${u(this,Bo)[1]}%`},Xy=function(){A(this,jo,!u(this,jo)),u(this,jo)?(N(this,St,Ky).call(this),u(this,qt).addEventListener("click",u(this,sh)),u(this,qt).addEventListener("keydown",u(this,ih))):(N(this,St,e_).call(this),u(this,qt).removeEventListener("click",u(this,sh)),u(this,qt).removeEventListener("keydown",u(this,ih)))},Ky=function(){u(this,Ji)||this.render(),this.isVisible?u(this,jo)&&u(this,qt).classList.add("focused"):(N(this,St,Dk).call(this),u(this,qt).hidden=!1,u(this,qt).style.zIndex=parseInt(u(this,qt).style.zIndex)+1e3)},e_=function(){u(this,qt).classList.remove("focused"),!(u(this,jo)||!this.isVisible)&&(u(this,qt).hidden=!0,u(this,qt).style.zIndex=parseInt(u(this,qt).style.zIndex)-1e3)};class Ok extends rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ve.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var vg;class k4 extends rn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,vg,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:r}=this,o=this.svgFactory.create(n,r,!0),l=A(this,vg,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),o.append(l),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,vg)}addHighlightArea(){this.container.classList.add("highlightArea")}}vg=new WeakMap;var wg;class I4 extends rn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,wg,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:r}=this,o=this.svgFactory.create(n,r,!0),l=t.borderStyle.width,c=A(this,wg,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",l/2),c.setAttribute("y",l/2),c.setAttribute("width",n-l),c.setAttribute("height",r-l),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,wg)}addHighlightArea(){this.container.classList.add("highlightArea")}}wg=new WeakMap;var bg;class L4 extends rn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,bg,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:r}=this,o=this.svgFactory.create(n,r,!0),l=t.borderStyle.width,c=A(this,bg,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",n/2),c.setAttribute("cy",r/2),c.setAttribute("rx",n/2-l/2),c.setAttribute("ry",r/2-l/2),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,bg)}addHighlightArea(){this.container.classList.add("highlightArea")}}bg=new WeakMap;var xg;class Fk extends rn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,xg,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:r,popupRef:o},width:l,height:c}=this;if(!n)return this.container;const d=this.svgFactory.create(l,c,!0);let f=[];for(let g=0,y=n.length;g<y;g+=2){const w=n[g]-t[0],S=t[3]-n[g+1];f.push(`${w},${S}`)}f=f.join(" ");const p=A(this,xg,this.svgFactory.createElement(this.svgElementName));return p.setAttribute("points",f),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),d.append(p),this.container.append(d),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,xg)}addHighlightArea(){this.container.classList.add("highlightArea")}}xg=new WeakMap;class N4 extends Fk{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class M4 extends rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var _g,Uc,Sg,t_;class C1 extends rn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,Sg);k(this,_g,null);k(this,Uc,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ve.HIGHLIGHT:Ve.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:r,borderStyle:o,popupRef:l}}=this,{transform:c,width:d,height:f}=N(this,Sg,t_).call(this,n,t),p=this.svgFactory.create(d,f,!0),g=A(this,_g,this.svgFactory.createElement("svg:g"));p.append(g),g.setAttribute("stroke-width",o.width||1),g.setAttribute("stroke-linecap","round"),g.setAttribute("stroke-linejoin","round"),g.setAttribute("stroke-miterlimit",10),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),g.setAttribute("transform",c);for(let y=0,w=r.length;y<w;y++){const S=this.svgFactory.createElement(this.svgElementName);u(this,Uc).push(S),S.setAttribute("points",r[y].join(",")),g.append(S)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(p),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:r,rect:o}=t,l=u(this,_g);if(n>=0&&l.setAttribute("stroke-width",n||1),r)for(let c=0,d=u(this,Uc).length;c<d;c++)u(this,Uc)[c].setAttribute("points",r[c].join(","));if(o){const{transform:c,width:d,height:f}=N(this,Sg,t_).call(this,this.data.rotation,o);l.parentElement.setAttribute("viewBox",`0 0 ${d} ${f}`),l.setAttribute("transform",c)}}getElementsToTriggerPopup(){return u(this,Uc)}addHighlightArea(){this.container.classList.add("highlightArea")}}_g=new WeakMap,Uc=new WeakMap,Sg=new WeakSet,t_=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class jk extends rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ve.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class D4 extends rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class O4 extends rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class F4 extends rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class Bk extends rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ve.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Eg,Ag,n_;class j4 extends rn{constructor(t){var r;super(t,{isRenderable:!0});k(this,Ag);k(this,Eg,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",N(this,Ag,n_).bind(this)),A(this,Eg,r);const{isMac:o}=Nn.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(o?l.metaKey:l.ctrlKey)&&N(this,Ag,n_).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return u(this,Eg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Eg=new WeakMap,Ag=new WeakSet,n_=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Cg,Vc,rl,Tg,Pl,r_,i_,lh;let T1=(lh=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:r,page:o,viewport:l,structTreeLayer:c}){k(this,Pl);k(this,Cg,null);k(this,Vc,null);k(this,rl,new Map);k(this,Tg,null);this.div=e,A(this,Cg,t),A(this,Vc,n),A(this,Tg,c||null),this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return u(this,rl).size>0}async render(e){var l;const{annotations:t}=e,n=this.div;El(n,this.viewport);const r=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new gp,annotationStorage:e.annotationStorage||new w1,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of t){if(c.noHTML)continue;const d=c.annotationType===Zt.POPUP;if(d){const g=r.get(c.id);if(!g)continue;o.elements=g}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;o.data=c;const f=kC.create(o);if(!f.isRenderable)continue;if(!d&&c.popupRef){const g=r.get(c.popupRef);g?g.push(f):r.set(c.popupRef,[f])}const p=f.render();c.hidden&&(p.style.visibility="hidden"),await N(this,Pl,r_).call(this,p,c.id,o.elements),f._isEditable&&(u(this,rl).set(f.data.id,f),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(f))}N(this,Pl,i_).call(this)}async addLinkAnnotations(e,t){const n={data:null,layer:this.div,linkService:t,svgFactory:new gp,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=lh._defaultBorderStyle),n.data=r;const o=kC.create(n);if(!o.isRenderable)continue;const l=o.render();await N(this,Pl,r_).call(this,l,r.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,El(t,{rotation:e.rotation}),N(this,Pl,i_).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(u(this,rl).values())}getEditableAnnotation(e){return u(this,rl).get(e)}static get _defaultBorderStyle(){return nt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Ju.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Cg=new WeakMap,Vc=new WeakMap,rl=new WeakMap,Tg=new WeakMap,Pl=new WeakSet,r_=async function(e,t,n){var c,d;const r=e.firstChild||e,o=r.id=`${y1}${t}`,l=await((c=u(this,Tg))==null?void 0:c.getAriaAttributes(o));if(l)for(const[f,p]of l)r.setAttribute(f,p);n?n.at(-1).container.after(e):(this.div.append(e),(d=u(this,Cg))==null||d.moveElementInDOM(this.div,e,r,!1))},i_=function(){var t;if(!u(this,Vc))return;const e=this.div;for(const[n,r]of u(this,Vc)){const o=e.querySelector(`[data-annotation-id="${n}"]`);if(!o)continue;r.className="annotationContent";const{firstChild:l}=o;l?l.nodeName==="CANVAS"?l.replaceWith(r):l.classList.contains("annotationContent")?l.after(r):l.before(r):o.append(r);const c=u(this,rl).get(n);c&&(c._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(n,o.id,r),c._hasNoCanvas=!1):c.canvas=r)}u(this,Vc).clear()},lh);const Ey=/\r\n?|\n/g;var Zi,Kr,Pg,Wc,Qr,dn,$k,zk,Hk,Qy,Jo,Jy,Zy,Uk,o_,Vk;const Ct=class Ct extends Tt{constructor(t){super({...t,name:"freeTextEditor"});k(this,dn);k(this,Zi);k(this,Kr,"");k(this,Pg,`${this.id}-editor`);k(this,Wc,null);k(this,Qr);A(this,Zi,t.color||Ct._defaultColor||Tt._defaultLineColor),A(this,Qr,t.fontSize||Ct._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=Ct.prototype,n=l=>l.isEmpty(),r=Al.TRANSLATE_SMALL,o=Al.TRANSLATE_BIG;return nt(this,"_keyboardManager",new im([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:n}]]))}static initialize(t,n){Tt.initialize(t,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case st.FREETEXT_SIZE:Ct._defaultFontSize=n;break;case st.FREETEXT_COLOR:Ct._defaultColor=n;break}}updateParams(t,n){switch(t){case st.FREETEXT_SIZE:N(this,dn,$k).call(this,n);break;case st.FREETEXT_COLOR:N(this,dn,zk).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[st.FREETEXT_SIZE,Ct._defaultFontSize],[st.FREETEXT_COLOR,Ct._defaultColor||Tt._defaultLineColor]]}get propertiesToUpdate(){return[[st.FREETEXT_SIZE,u(this,Qr)],[st.FREETEXT_COLOR,u(this,Zi)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ct._internalPadding*t,-(Ct._internalPadding+u(this,Qr))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),A(this,Wc,new AbortController);const t=this._uiManager.combinedSignal(u(this,Wc));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,Pg)),this._isDraggable=!0,(t=u(this,Wc))==null||t.abort(),A(this,Wc,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=u(this,Kr),n=A(this,Kr,N(this,dn,Hk).call(this).trimEnd());if(t===n)return;const r=o=>{if(A(this,Kr,o),!o){this.remove();return}N(this,dn,Zy).call(this),this._uiManager.rebuild(this),N(this,dn,Qy).call(this)};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(t)},mustExec:!1}),N(this,dn,Qy).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ct._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,Pg)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${u(this,Qr)}px * var(--total-scale-factor))`,r.color=u(this,Zi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[o,l]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[d,f]=this.getInitialTranslation();[d,f]=this.pageTranslationToScreen(d,f);const[p,g]=this.pageDimensions,[y,w]=this.pageTranslation;let S,b;switch(this.rotation){case 0:S=t+(c[0]-y)/p,b=n+this.height-(c[1]-w)/g;break;case 90:S=t+(c[0]-y)/p,b=n-(c[1]-w)/g,[d,f]=[f,-d];break;case 180:S=t-this.width+(c[0]-y)/p,b=n-(c[1]-w)/g,[d,f]=[-d,-f];break;case 270:S=t+(c[0]-y-this.height*g)/p,b=n+(c[1]-w-this.width*p)/g,[d,f]=[-f,d];break}this.setAt(S*o,b*l,d,f)}else this._moveAfterPaste(t,n);N(this,dn,Zy).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var S,b,E;const n=t.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const o=N(S=Ct,Jo,o_).call(S,n.getData("text")||"").replaceAll(Ey,`
`);if(!o)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const c=l.getRangeAt(0);if(!o.includes(`
`)){c.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:d,startOffset:f}=c,p=[],g=[];if(d.nodeType===Node.TEXT_NODE){const T=d.parentElement;if(g.push(d.nodeValue.slice(f).replaceAll(Ey,"")),T!==this.editorDiv){let I=p;for(const L of this.editorDiv.childNodes){if(L===T){I=g;continue}I.push(N(b=Ct,Jo,Jy).call(b,L))}}p.push(d.nodeValue.slice(0,f).replaceAll(Ey,""))}else if(d===this.editorDiv){let T=p,I=0;for(const L of this.editorDiv.childNodes)I++===f&&(T=g),T.push(N(E=Ct,Jo,Jy).call(E,L))}A(this,Kr,`${p.join(`
`)}${o}${g.join(`
`)}`),N(this,dn,Zy).call(this);const y=new Range;let w=Math.sumPrecise(p.map(T=>T.length));for(const{firstChild:T}of this.editorDiv.childNodes)if(T.nodeType===Node.TEXT_NODE){const I=T.nodeValue.length;if(w<=I){y.setStart(T,w),y.setEnd(T,w);break}w-=I}l.removeAllRanges(),l.addRange(y)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,r){var c;let o=null;if(t instanceof Ok){const{data:{defaultAppearanceData:{fontSize:d,fontColor:f},rect:p,rotation:g,id:y,popupRef:w},textContent:S,textPosition:b,parent:{page:{pageNumber:E}}}=t;if(!S||S.length===0)return null;o=t={annotationType:Ve.FREETEXT,color:Array.from(f),fontSize:d,value:S.join(`
`),position:b,pageIndex:E-1,rect:p.slice(0),rotation:g,annotationElementId:y,id:y,deleted:!1,popupRef:w}}const l=await super.deserialize(t,n,r);return A(l,Qr,t.fontSize),A(l,Zi,De.makeHexColor(...t.color)),A(l,Kr,N(c=Ct,Jo,o_).call(c,t.value)),l._initialData=o,l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Ct._internalPadding*this.parentScale,r=this.getRect(n,n),o=Tt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,Zi)),l={annotationType:Ve.FREETEXT,color:o,fontSize:u(this,Qr),value:N(this,dn,Uk).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(l.isCopy=!0,l):this.annotationElementId&&!N(this,dn,Vk).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${u(this,Qr)}px * var(--total-scale-factor))`,r.color=u(this,Zi),n.replaceChildren();for(const l of u(this,Kr).split(`
`)){const c=document.createElement("div");c.append(l?document.createTextNode(l):document.createElement("br")),n.append(c)}const o=Ct._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(o,o),popupContent:u(this,Kr)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Zi=new WeakMap,Kr=new WeakMap,Pg=new WeakMap,Wc=new WeakMap,Qr=new WeakMap,dn=new WeakSet,$k=function(t){const n=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--total-scale-factor))`,this.translate(0,-(o-u(this,Qr))*this.parentScale),A(this,Qr,o),N(this,dn,Qy).call(this)},r=u(this,Qr);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:st.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},zk=function(t){const n=o=>{A(this,Zi,this.editorDiv.style.color=o)},r=u(this,Zi);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:st.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Hk=function(){var r;const t=[];this.editorDiv.normalize();let n=null;for(const o of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(t.push(N(r=Ct,Jo,Jy).call(r,o)),n=o);return t.join(`
`)},Qy=function(){const[t,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:l}=this,c=l.style.display,d=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",o.div.append(this.div),r=l.getBoundingClientRect(),l.remove(),l.style.display=c,l.classList.toggle("hidden",d)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/n):(this.width=r.height/t,this.height=r.width/n),this.fixAndSetPosition()},Jo=new WeakSet,Jy=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Ey,"")},Zy=function(){if(this.editorDiv.replaceChildren(),!!u(this,Kr))for(const t of u(this,Kr).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},Uk=function(){return u(this,Kr).replaceAll(" "," ")},o_=function(t){return t.replaceAll(" "," ")},Vk=function(t){const{value:n,fontSize:r,color:o,pageIndex:l}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==r||t.color.some((c,d)=>c!==o[d])||t.pageIndex!==l},k(Ct,Jo),me(Ct,"_freeTextDefaultContent",""),me(Ct,"_internalPadding",0),me(Ct,"_defaultColor",null),me(Ct,"_defaultFontSize",10),me(Ct,"_type","freetext"),me(Ct,"_editorType",Ve.FREETEXT);let s_=Ct;class Te{toSVGPath(){_t("Abstract method `toSVGPath` must be implemented.")}get box(){_t("Abstract getter `box` must be implemented.")}serialize(e,t){_t("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,r,o,l){l||(l=new Float32Array(e.length));for(let c=0,d=e.length;c<d;c+=2)l[c]=t+e[c]*r,l[c+1]=n+e[c+1]*o;return l}static _rescaleAndSwap(e,t,n,r,o,l){l||(l=new Float32Array(e.length));for(let c=0,d=e.length;c<d;c+=2)l[c]=t+e[c+1]*r,l[c+1]=n+e[c]*o;return l}static _translate(e,t,n,r){r||(r=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)r[o]=t+e[o],r[o+1]=n+e[o+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,r,o){switch(o){case 90:return[1-t/n,e/r];case 180:return[1-e/n,1-t/r];case 270:return[t/n,1-e/r];default:return[e/n,t/r]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,r,o,l){return[(e+5*n)/6,(t+5*r)/6,(5*n+o)/6,(5*r+l)/6,(n+o)/2,(r+l)/2]}}me(Te,"PRECISION",1e-4);var Jr,es,ch,uh,Bs,Je,Gc,qc,Rg,kg,dh,hh,il,Ig,Xv,Kv,vn,Gf,Wk,Gk,qk,Yk,Xk,Kk;const vo=class vo{constructor({x:e,y:t},n,r,o,l,c=0){k(this,vn);k(this,Jr);k(this,es,[]);k(this,ch);k(this,uh);k(this,Bs,[]);k(this,Je,new Float32Array(18));k(this,Gc);k(this,qc);k(this,Rg);k(this,kg);k(this,dh);k(this,hh);k(this,il,[]);A(this,Jr,n),A(this,hh,o*r),A(this,uh,l),u(this,Je).set([NaN,NaN,NaN,NaN,e,t],6),A(this,ch,c),A(this,kg,u(vo,Ig)*r),A(this,Rg,u(vo,Kv)*r),A(this,dh,r),u(this,il).push(e,t)}isEmpty(){return isNaN(u(this,Je)[8])}add({x:e,y:t}){var q;A(this,Gc,e),A(this,qc,t);const[n,r,o,l]=u(this,Jr);let[c,d,f,p]=u(this,Je).subarray(8,12);const g=e-f,y=t-p,w=Math.hypot(g,y);if(w<u(this,Rg))return!1;const S=w-u(this,kg),b=S/w,E=b*g,T=b*y;let I=c,L=d;c=f,d=p,f+=E,p+=T,(q=u(this,il))==null||q.push(e,t);const D=-T/S,F=E/S,B=D*u(this,hh),$=F*u(this,hh);return u(this,Je).set(u(this,Je).subarray(2,8),0),u(this,Je).set([f+B,p+$],4),u(this,Je).set(u(this,Je).subarray(14,18),12),u(this,Je).set([f-B,p-$],16),isNaN(u(this,Je)[6])?(u(this,Bs).length===0&&(u(this,Je).set([c+B,d+$],2),u(this,Bs).push(NaN,NaN,NaN,NaN,(c+B-n)/o,(d+$-r)/l),u(this,Je).set([c-B,d-$],14),u(this,es).push(NaN,NaN,NaN,NaN,(c-B-n)/o,(d-$-r)/l)),u(this,Je).set([I,L,c,d,f,p],6),!this.isEmpty()):(u(this,Je).set([I,L,c,d,f,p],6),Math.abs(Math.atan2(L-d,I-c)-Math.atan2(T,E))<Math.PI/2?([c,d,f,p]=u(this,Je).subarray(2,6),u(this,Bs).push(NaN,NaN,NaN,NaN,((c+f)/2-n)/o,((d+p)/2-r)/l),[c,d,I,L]=u(this,Je).subarray(14,18),u(this,es).push(NaN,NaN,NaN,NaN,((I+c)/2-n)/o,((L+d)/2-r)/l),!0):([I,L,c,d,f,p]=u(this,Je).subarray(0,6),u(this,Bs).push(((I+5*c)/6-n)/o,((L+5*d)/6-r)/l,((5*c+f)/6-n)/o,((5*d+p)/6-r)/l,((c+f)/2-n)/o,((d+p)/2-r)/l),[f,p,c,d,I,L]=u(this,Je).subarray(12,18),u(this,es).push(((I+5*c)/6-n)/o,((L+5*d)/6-r)/l,((5*c+f)/6-n)/o,((5*d+p)/6-r)/l,((c+f)/2-n)/o,((d+p)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=u(this,Bs),t=u(this,es);if(isNaN(u(this,Je)[6])&&!this.isEmpty())return N(this,vn,Wk).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);N(this,vn,qk).call(this,n);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return N(this,vn,Gk).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,r,o,l){return new Qk(e,t,n,r,o,l)}getOutlines(){var g;const e=u(this,Bs),t=u(this,es),n=u(this,Je),[r,o,l,c]=u(this,Jr),d=new Float32Array((((g=u(this,il))==null?void 0:g.length)??0)+2);for(let y=0,w=d.length-2;y<w;y+=2)d[y]=(u(this,il)[y]-r)/l,d[y+1]=(u(this,il)[y+1]-o)/c;if(d[d.length-2]=(u(this,Gc)-r)/l,d[d.length-1]=(u(this,qc)-o)/c,isNaN(n[6])&&!this.isEmpty())return N(this,vn,Yk).call(this,d);const f=new Float32Array(u(this,Bs).length+24+u(this,es).length);let p=e.length;for(let y=0;y<p;y+=2){if(isNaN(e[y])){f[y]=f[y+1]=NaN;continue}f[y]=e[y],f[y+1]=e[y+1]}p=N(this,vn,Kk).call(this,f,p);for(let y=t.length-6;y>=6;y-=6)for(let w=0;w<6;w+=2){if(isNaN(t[y+w])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=t[y+w],f[p+1]=t[y+w+1],p+=2}return N(this,vn,Xk).call(this,f,p),this.newFreeDrawOutline(f,d,u(this,Jr),u(this,dh),u(this,ch),u(this,uh))}};Jr=new WeakMap,es=new WeakMap,ch=new WeakMap,uh=new WeakMap,Bs=new WeakMap,Je=new WeakMap,Gc=new WeakMap,qc=new WeakMap,Rg=new WeakMap,kg=new WeakMap,dh=new WeakMap,hh=new WeakMap,il=new WeakMap,Ig=new WeakMap,Xv=new WeakMap,Kv=new WeakMap,vn=new WeakSet,Gf=function(){const e=u(this,Je).subarray(4,6),t=u(this,Je).subarray(16,18),[n,r,o,l]=u(this,Jr);return[(u(this,Gc)+(e[0]-t[0])/2-n)/o,(u(this,qc)+(e[1]-t[1])/2-r)/l,(u(this,Gc)+(t[0]-e[0])/2-n)/o,(u(this,qc)+(t[1]-e[1])/2-r)/l]},Wk=function(){const[e,t,n,r]=u(this,Jr),[o,l,c,d]=N(this,vn,Gf).call(this);return`M${(u(this,Je)[2]-e)/n} ${(u(this,Je)[3]-t)/r} L${(u(this,Je)[4]-e)/n} ${(u(this,Je)[5]-t)/r} L${o} ${l} L${c} ${d} L${(u(this,Je)[16]-e)/n} ${(u(this,Je)[17]-t)/r} L${(u(this,Je)[14]-e)/n} ${(u(this,Je)[15]-t)/r} Z`},Gk=function(e){const t=u(this,es);e.push(`L${t[4]} ${t[5]} Z`)},qk=function(e){const[t,n,r,o]=u(this,Jr),l=u(this,Je).subarray(4,6),c=u(this,Je).subarray(16,18),[d,f,p,g]=N(this,vn,Gf).call(this);e.push(`L${(l[0]-t)/r} ${(l[1]-n)/o} L${d} ${f} L${p} ${g} L${(c[0]-t)/r} ${(c[1]-n)/o}`)},Yk=function(e){const t=u(this,Je),[n,r,o,l]=u(this,Jr),[c,d,f,p]=N(this,vn,Gf).call(this),g=new Float32Array(36);return g.set([NaN,NaN,NaN,NaN,(t[2]-n)/o,(t[3]-r)/l,NaN,NaN,NaN,NaN,(t[4]-n)/o,(t[5]-r)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(t[16]-n)/o,(t[17]-r)/l,NaN,NaN,NaN,NaN,(t[14]-n)/o,(t[15]-r)/l],0),this.newFreeDrawOutline(g,e,u(this,Jr),u(this,dh),u(this,ch),u(this,uh))},Xk=function(e,t){const n=u(this,es);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},Kk=function(e,t){const n=u(this,Je).subarray(4,6),r=u(this,Je).subarray(16,18),[o,l,c,d]=u(this,Jr),[f,p,g,y]=N(this,vn,Gf).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-o)/c,(n[1]-l)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,g,y,NaN,NaN,NaN,NaN,(r[0]-o)/c,(r[1]-l)/d],t),t+=24},k(vo,Ig,8),k(vo,Xv,2),k(vo,Kv,u(vo,Ig)+u(vo,Xv));let Rv=vo;var fh,Yc,zo,Lg,Zr,Ng,tn,Qv,Jk;class Qk extends Te{constructor(t,n,r,o,l,c){super();k(this,Qv);k(this,fh);k(this,Yc,new Float32Array(4));k(this,zo);k(this,Lg);k(this,Zr);k(this,Ng);k(this,tn);A(this,tn,t),A(this,Zr,n),A(this,fh,r),A(this,Ng,o),A(this,zo,l),A(this,Lg,c),this.lastPoint=[NaN,NaN],N(this,Qv,Jk).call(this,c);const[d,f,p,g]=u(this,Yc);for(let y=0,w=t.length;y<w;y+=2)t[y]=(t[y]-d)/p,t[y+1]=(t[y+1]-f)/g;for(let y=0,w=n.length;y<w;y+=2)n[y]=(n[y]-d)/p,n[y+1]=(n[y+1]-f)/g}toSVGPath(){const t=[`M${u(this,tn)[4]} ${u(this,tn)[5]}`];for(let n=6,r=u(this,tn).length;n<r;n+=6){if(isNaN(u(this,tn)[n])){t.push(`L${u(this,tn)[n+4]} ${u(this,tn)[n+5]}`);continue}t.push(`C${u(this,tn)[n]} ${u(this,tn)[n+1]} ${u(this,tn)[n+2]} ${u(this,tn)[n+3]} ${u(this,tn)[n+4]} ${u(this,tn)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,r,o],l){const c=r-t,d=o-n;let f,p;switch(l){case 0:f=Te._rescale(u(this,tn),t,o,c,-d),p=Te._rescale(u(this,Zr),t,o,c,-d);break;case 90:f=Te._rescaleAndSwap(u(this,tn),t,n,c,d),p=Te._rescaleAndSwap(u(this,Zr),t,n,c,d);break;case 180:f=Te._rescale(u(this,tn),r,n,-c,d),p=Te._rescale(u(this,Zr),r,n,-c,d);break;case 270:f=Te._rescaleAndSwap(u(this,tn),r,o,-c,-d),p=Te._rescaleAndSwap(u(this,Zr),r,o,-c,-d);break}return{outline:Array.from(f),points:[Array.from(p)]}}get box(){return u(this,Yc)}newOutliner(t,n,r,o,l,c=0){return new Rv(t,n,r,o,l,c)}getNewOutline(t,n){const[r,o,l,c]=u(this,Yc),[d,f,p,g]=u(this,fh),y=l*p,w=c*g,S=r*p+d,b=o*g+f,E=this.newOutliner({x:u(this,Zr)[0]*y+S,y:u(this,Zr)[1]*w+b},u(this,fh),u(this,Ng),t,u(this,Lg),n??u(this,zo));for(let T=2;T<u(this,Zr).length;T+=2)E.add({x:u(this,Zr)[T]*y+S,y:u(this,Zr)[T+1]*w+b});return E.getOutlines()}}fh=new WeakMap,Yc=new WeakMap,zo=new WeakMap,Lg=new WeakMap,Zr=new WeakMap,Ng=new WeakMap,tn=new WeakMap,Qv=new WeakSet,Jk=function(t){const n=u(this,tn);let r=n[4],o=n[5];const l=[r,o,r,o];let c=r,d=o;const f=t?Math.max:Math.min;for(let g=6,y=n.length;g<y;g+=6){const w=n[g+4],S=n[g+5];if(isNaN(n[g]))De.pointBoundingBox(w,S,l),d<S?(c=w,d=S):d===S&&(c=f(c,w));else{const b=[1/0,1/0,-1/0,-1/0];De.bezierBoundingBox(r,o,...n.slice(g,g+6),b),De.rectBoundingBox(...b,l),d<b[3]?(c=b[2],d=b[3]):d===b[3]&&(c=f(c,b[2]))}r=w,o=S}const p=u(this,Yc);p[0]=l[0]-u(this,zo),p[1]=l[1]-u(this,zo),p[2]=l[2]-l[0]+2*u(this,zo),p[3]=l[3]-l[1]+2*u(this,zo),this.lastPoint=[c,d]};var Mg,Dg,sl,ts,_r,Zk,ev,eI,tI,l_;class a_{constructor(e,t=0,n=0,r=!0){k(this,_r);k(this,Mg);k(this,Dg);k(this,sl,[]);k(this,ts,[]);const o=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:w,y:S,width:b,height:E}of e){const T=Math.floor((w-t)/l)*l,I=Math.ceil((w+b+t)/l)*l,L=Math.floor((S-t)/l)*l,D=Math.ceil((S+E+t)/l)*l,F=[T,L,D,!0],B=[I,L,D,!1];u(this,sl).push(F,B),De.rectBoundingBox(T,L,I,D,o)}const c=o[2]-o[0]+2*n,d=o[3]-o[1]+2*n,f=o[0]-n,p=o[1]-n,g=u(this,sl).at(r?-1:-2),y=[g[0],g[2]];for(const w of u(this,sl)){const[S,b,E]=w;w[0]=(S-f)/c,w[1]=(b-p)/d,w[2]=(E-p)/d}A(this,Mg,new Float32Array([f,p,c,d])),A(this,Dg,y)}getOutlines(){u(this,sl).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of u(this,sl))t[3]?(e.push(...N(this,_r,l_).call(this,t)),N(this,_r,eI).call(this,t)):(N(this,_r,tI).call(this,t),e.push(...N(this,_r,l_).call(this,t)));return N(this,_r,Zk).call(this,e)}}Mg=new WeakMap,Dg=new WeakMap,sl=new WeakMap,ts=new WeakMap,_r=new WeakSet,Zk=function(e){const t=[],n=new Set;for(const l of e){const[c,d,f]=l;t.push([c,d,l],[c,f,l])}t.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=t.length;l<c;l+=2){const d=t[l][2],f=t[l+1][2];d.push(f),f.push(d),n.add(d),n.add(f)}const r=[];let o;for(;n.size>0;){const l=n.values().next().value;let[c,d,f,p,g]=l;n.delete(l);let y=c,w=d;for(o=[c,f],r.push(o);;){let S;if(n.has(p))S=p;else if(n.has(g))S=g;else break;n.delete(S),[c,d,f,p,g]=S,y!==c&&(o.push(y,w,c,w===d?d:f),y=c),w=w===d?f:d}o.push(y,w)}return new B4(r,u(this,Mg),u(this,Dg))},ev=function(e){const t=u(this,ts);let n=0,r=t.length-1;for(;n<=r;){const o=n+r>>1,l=t[o][0];if(l===e)return o;l<e?n=o+1:r=o-1}return r+1},eI=function([,e,t]){const n=N(this,_r,ev).call(this,e);u(this,ts).splice(n,0,[e,t])},tI=function([,e,t]){const n=N(this,_r,ev).call(this,e);for(let r=n;r<u(this,ts).length;r++){const[o,l]=u(this,ts)[r];if(o!==e)break;if(o===e&&l===t){u(this,ts).splice(r,1);return}}for(let r=n-1;r>=0;r--){const[o,l]=u(this,ts)[r];if(o!==e)break;if(o===e&&l===t){u(this,ts).splice(r,1);return}}},l_=function(e){const[t,n,r]=e,o=[[t,n,r]],l=N(this,_r,ev).call(this,r);for(let c=0;c<l;c++){const[d,f]=u(this,ts)[c];for(let p=0,g=o.length;p<g;p++){const[,y,w]=o[p];if(!(f<=y||w<=d)){if(y>=d){if(w>f)o[p][1]=f;else{if(g===1)return[];o.splice(p,1),p--,g--}continue}o[p][2]=d,w>f&&o.push([t,f,w])}}}return o};var Og,ph;class B4 extends Te{constructor(t,n,r){super();k(this,Og);k(this,ph);A(this,ph,t),A(this,Og,n),this.lastPoint=r}toSVGPath(){const t=[];for(const n of u(this,ph)){let[r,o]=n;t.push(`M${r} ${o}`);for(let l=2;l<n.length;l+=2){const c=n[l],d=n[l+1];c===r?(t.push(`V${d}`),o=d):d===o&&(t.push(`H${c}`),r=c)}t.push("Z")}return t.join(" ")}serialize([t,n,r,o],l){const c=[],d=r-t,f=o-n;for(const p of u(this,ph)){const g=new Array(p.length);for(let y=0;y<p.length;y+=2)g[y]=t+p[y]*d,g[y+1]=o-p[y+1]*f;c.push(g)}return c}get box(){return u(this,Og)}get classNamesForOutlining(){return["highlightOutline"]}}Og=new WeakMap,ph=new WeakMap;class c_ extends Rv{newFreeDrawOutline(e,t,n,r,o,l){return new $4(e,t,n,r,o,l)}}class $4 extends Qk{newOutliner(e,t,n,r,o,l=0){return new c_(e,t,n,r,o,l)}}var ei,Xc,gh,yn,Fg,mh,Ho,jg,ol,ns,yh,Bg,xt,u_,d_,h_,Xl,nI,Pa;const Lr=class Lr{constructor({editor:e=null,uiManager:t=null}){k(this,xt);k(this,ei,null);k(this,Xc,null);k(this,gh);k(this,yn,null);k(this,Fg,!1);k(this,mh,!1);k(this,Ho,null);k(this,jg);k(this,ol,null);k(this,ns,null);k(this,yh);var n,r;e?(A(this,mh,!1),A(this,yh,st.HIGHLIGHT_COLOR),A(this,Ho,e)):(A(this,mh,!0),A(this,yh,st.HIGHLIGHT_DEFAULT_COLOR)),A(this,ns,(e==null?void 0:e._uiManager)||t),A(this,jg,u(this,ns)._eventBus),A(this,gh,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((r=u(this,ns))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),u(Lr,Bg)||A(Lr,Bg,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return nt(this,"_keyboardManager",new im([[["Escape","mac+Escape"],Lr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Lr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Lr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Lr.prototype._moveToPrevious],[["Home","mac+Home"],Lr.prototype._moveToBeginning],[["End","mac+End"],Lr.prototype._moveToEnd]]))}renderButton(){const e=A(this,ei,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",u(this,Ho)&&(e.ariaControls=`${u(this,Ho).id}_colorpicker_dropdown`);const t=u(this,ns)._signal;e.addEventListener("click",N(this,xt,Xl).bind(this),{signal:t}),e.addEventListener("keydown",N(this,xt,h_).bind(this),{signal:t});const n=A(this,Xc,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=u(this,gh),e.append(n),e}renderMainDropdown(){const e=A(this,yn,N(this,xt,u_).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===u(this,ei)){N(this,xt,Xl).call(this,e);return}const t=e.target.getAttribute("data-color");t&&N(this,xt,d_).call(this,t,e)}_moveToNext(e){var t,n;if(!u(this,xt,Pa)){N(this,xt,Xl).call(this,e);return}if(e.target===u(this,ei)){(t=u(this,yn).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=u(this,yn))==null?void 0:t.firstChild)||e.target===u(this,ei)){u(this,xt,Pa)&&this._hideDropdownFromKeyboard();return}u(this,xt,Pa)||N(this,xt,Xl).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!u(this,xt,Pa)){N(this,xt,Xl).call(this,e);return}(t=u(this,yn).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!u(this,xt,Pa)){N(this,xt,Xl).call(this,e);return}(t=u(this,yn).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=u(this,yn))==null||e.classList.add("hidden"),u(this,ei).ariaExpanded="false",(t=u(this,ol))==null||t.abort(),A(this,ol,null)}_hideDropdownFromKeyboard(){var e;if(!u(this,mh)){if(!u(this,xt,Pa)){(e=u(this,Ho))==null||e.unselect();return}this.hideDropdown(),u(this,ei).focus({preventScroll:!0,focusVisible:u(this,Fg)})}}updateColor(e){if(u(this,Xc)&&(u(this,Xc).style.backgroundColor=e),!u(this,yn))return;const t=u(this,ns).highlightColors.values();for(const n of u(this,yn).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=u(this,ei))==null||e.remove(),A(this,ei,null),A(this,Xc,null),(t=u(this,yn))==null||t.remove(),A(this,yn,null)}};ei=new WeakMap,Xc=new WeakMap,gh=new WeakMap,yn=new WeakMap,Fg=new WeakMap,mh=new WeakMap,Ho=new WeakMap,jg=new WeakMap,ol=new WeakMap,ns=new WeakMap,yh=new WeakMap,Bg=new WeakMap,xt=new WeakSet,u_=function(){const e=document.createElement("div"),t=u(this,ns)._signal;e.addEventListener("contextmenu",Mi,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),u(this,Ho)&&(e.id=`${u(this,Ho).id}_colorpicker_dropdown`);for(const[n,r]of u(this,ns).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=n,o.setAttribute("data-l10n-id",u(Lr,Bg)[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=r,o.ariaSelected=r===u(this,gh),o.addEventListener("click",N(this,xt,d_).bind(this,r),{signal:t}),e.append(o)}return e.addEventListener("keydown",N(this,xt,h_).bind(this),{signal:t}),e},d_=function(e,t){t.stopPropagation(),u(this,jg).dispatch("switchannotationeditorparams",{source:this,type:u(this,yh),value:e})},h_=function(e){Lr._keyboardManager.exec(this,e)},Xl=function(e){if(u(this,xt,Pa)){this.hideDropdown();return}if(A(this,Fg,e.detail===0),u(this,ol)||(A(this,ol,new AbortController),window.addEventListener("pointerdown",N(this,xt,nI).bind(this),{signal:u(this,ns).combinedSignal(u(this,ol))})),u(this,ei).ariaExpanded="true",u(this,yn)){u(this,yn).classList.remove("hidden");return}const t=A(this,yn,N(this,xt,u_).call(this));u(this,ei).append(t)},nI=function(e){var t;(t=u(this,yn))!=null&&t.contains(e.target)||this.hideDropdown()},Pa=function(){return u(this,yn)&&!u(this,yn).classList.contains("hidden")},k(Lr,Bg,null);let mp=Lr;var vh,$g,Uo,Kc,zg,Dr,Hg,Ug,Qc,Pi,ti,Un,wh,Vo,ir,bh,Ri,Vg,Xe,f_,tv,rI,iI,sI,p_,Kl,Li,rd,oI,nv,qf,aI,lI,cI,uI,dI;const ht=class ht extends Tt{constructor(t){super({...t,name:"highlightEditor"});k(this,Xe);k(this,vh,null);k(this,$g,0);k(this,Uo);k(this,Kc,null);k(this,zg,null);k(this,Dr,null);k(this,Hg,null);k(this,Ug,0);k(this,Qc,null);k(this,Pi,null);k(this,ti,null);k(this,Un,!1);k(this,wh,null);k(this,Vo);k(this,ir,null);k(this,bh,"");k(this,Ri);k(this,Vg,"");this.color=t.color||ht._defaultColor,A(this,Ri,t.thickness||ht._defaultThickness),A(this,Vo,t.opacity||ht._defaultOpacity),A(this,Uo,t.boxes||null),A(this,Vg,t.methodOfCreation||""),A(this,bh,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(A(this,Un,!0),N(this,Xe,tv).call(this,t),N(this,Xe,Kl).call(this)):u(this,Uo)&&(A(this,vh,t.anchorNode),A(this,$g,t.anchorOffset),A(this,Hg,t.focusNode),A(this,Ug,t.focusOffset),N(this,Xe,f_).call(this),N(this,Xe,Kl).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=ht.prototype;return nt(this,"_keyboardManager",new im([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,Un)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,Ri),methodOfCreation:u(this,Vg)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var r;Tt.initialize(t,n),ht._defaultColor||(ht._defaultColor=((r=n.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case st.HIGHLIGHT_DEFAULT_COLOR:ht._defaultColor=n;break;case st.HIGHLIGHT_THICKNESS:ht._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return u(this,wh)}updateParams(t,n){switch(t){case st.HIGHLIGHT_COLOR:N(this,Xe,rI).call(this,n);break;case st.HIGHLIGHT_THICKNESS:N(this,Xe,iI).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[st.HIGHLIGHT_DEFAULT_COLOR,ht._defaultColor],[st.HIGHLIGHT_THICKNESS,ht._defaultThickness]]}get propertiesToUpdate(){return[[st.HIGHLIGHT_COLOR,this.color||ht._defaultColor],[st.HIGHLIGHT_THICKNESS,u(this,Ri)||ht._defaultThickness],[st.HIGHLIGHT_FREE,u(this,Un)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",A(this,zg,new mp({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(N(this,Xe,qf).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,N(this,Xe,qf).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){N(this,Xe,p_).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(N(this,Xe,Kl).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?N(this,Xe,p_).call(this):t&&(N(this,Xe,Kl).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var o,l,c;const{drawLayer:n}=this.parent;let r;u(this,Un)?(t=(t-this.rotation+360)%360,r=N(o=ht,Li,rd).call(o,u(this,Pi).box,t)):r=N(l=ht,Li,rd).call(l,[this.x,this.y,this.width,this.height],t),n.updateProperties(u(this,ti),{bbox:r,root:{"data-main-rotation":t}}),n.updateProperties(u(this,ir),{bbox:N(c=ht,Li,rd).call(c,u(this,Dr).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();u(this,bh)&&(t.setAttribute("aria-label",u(this,bh)),t.setAttribute("role","mark")),u(this,Un)?t.classList.add("free"):this.div.addEventListener("keydown",N(this,Xe,oI).bind(this),{signal:this._uiManager._signal});const n=A(this,Qc,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=u(this,Kc);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),IR(this,u(this,Qc),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(u(this,ir),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(u(this,ir),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:N(this,Xe,nv).call(this,!0);break;case 1:case 3:N(this,Xe,nv).call(this,!1);break}}select(){var t;super.select(),u(this,ir)&&((t=this.parent)==null||t.drawLayer.updateProperties(u(this,ir),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),u(this,ir)&&((t=this.parent)==null||t.drawLayer.updateProperties(u(this,ir),{rootClass:{selected:!1}}),u(this,Un)||N(this,Xe,nv).call(this,!1))}get _mustFixPosition(){return!u(this,Un)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(u(this,ti),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(u(this,ir),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:r,x:o,y:l}){const{x:c,y:d,width:f,height:p}=r.getBoundingClientRect(),g=new AbortController,y=t.combinedSignal(g),w=S=>{g.abort(),N(this,Li,uI).call(this,t,S)};window.addEventListener("blur",w,{signal:y}),window.addEventListener("pointerup",w,{signal:y}),window.addEventListener("pointerdown",nn,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Mi,{signal:y}),r.addEventListener("pointermove",N(this,Li,cI).bind(this,t),{signal:y}),this._freeHighlight=new c_({x:o,y:l},[c,d,f,p],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,r){var b,E,T,I;let o=null;if(t instanceof jk){const{data:{quadPoints:L,rect:D,rotation:F,id:B,color:$,opacity:V,popupRef:q},parent:{page:{pageNumber:te}}}=t;o=t={annotationType:Ve.HIGHLIGHT,color:Array.from($),opacity:V,quadPoints:L,boxes:null,pageIndex:te-1,rect:D.slice(0),rotation:F,annotationElementId:B,id:B,deleted:!1,popupRef:q}}else if(t instanceof C1){const{data:{inkLists:L,rect:D,rotation:F,id:B,color:$,borderStyle:{rawWidth:V},popupRef:q},parent:{page:{pageNumber:te}}}=t;o=t={annotationType:Ve.HIGHLIGHT,color:Array.from($),thickness:V,inkLists:L,boxes:null,pageIndex:te-1,rect:D.slice(0),rotation:F,annotationElementId:B,id:B,deleted:!1,popupRef:q}}const{color:l,quadPoints:c,inkLists:d,opacity:f}=t,p=await super.deserialize(t,n,r);p.color=De.makeHexColor(...l),A(p,Vo,f||1),d&&A(p,Ri,t.thickness),p._initialData=o;const[g,y]=p.pageDimensions,[w,S]=p.pageTranslation;if(c){const L=A(p,Uo,[]);for(let D=0;D<c.length;D+=8)L.push({x:(c[D]-w)/g,y:1-(c[D+1]-S)/y,width:(c[D+2]-c[D])/g,height:(c[D+1]-c[D+5])/y});N(b=p,Xe,f_).call(b),N(E=p,Xe,Kl).call(E),p.rotate(p.rotation)}else if(d){A(p,Un,!0);const L=d[0],D={x:L[0]-w,y:y-(L[1]-S)},F=new c_(D,[0,0,g,y],1,u(p,Ri)/2,!0,.001);for(let V=0,q=L.length;V<q;V+=2)D.x=L[V]-w,D.y=y-(L[V+1]-S),F.add(D);const{id:B,clipPathId:$}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:p.color,"fill-opacity":p._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:F.toSVGPath()}},!0,!0);N(T=p,Xe,tv).call(T,{highlightOutlines:F.getOutlines(),highlightId:B,clipPathId:$}),N(I=p,Xe,Kl).call(I),p.rotate(p.parentRotation)}return p}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),r=Tt._colorManager.convert(this.color),o={annotationType:Ve.HIGHLIGHT,color:r,opacity:u(this,Vo),thickness:u(this,Ri),quadPoints:N(this,Xe,aI).call(this),outlines:N(this,Xe,lI).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:N(this,Xe,qf).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!N(this,Xe,dI).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};vh=new WeakMap,$g=new WeakMap,Uo=new WeakMap,Kc=new WeakMap,zg=new WeakMap,Dr=new WeakMap,Hg=new WeakMap,Ug=new WeakMap,Qc=new WeakMap,Pi=new WeakMap,ti=new WeakMap,Un=new WeakMap,wh=new WeakMap,Vo=new WeakMap,ir=new WeakMap,bh=new WeakMap,Ri=new WeakMap,Vg=new WeakMap,Xe=new WeakSet,f_=function(){const t=new a_(u(this,Uo),.001);A(this,Pi,t.getOutlines()),[this.x,this.y,this.width,this.height]=u(this,Pi).box;const n=new a_(u(this,Uo),.0025,.001,this._uiManager.direction==="ltr");A(this,Dr,n.getOutlines());const{lastPoint:r}=u(this,Dr);A(this,wh,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},tv=function({highlightOutlines:t,highlightId:n,clipPathId:r}){var g,y;if(A(this,Pi,t),A(this,Dr,t.getNewOutline(u(this,Ri)/2+1.5,.0025)),n>=0)A(this,ti,n),A(this,Kc,r),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),A(this,ir,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:u(this,Dr).box,path:{d:u(this,Dr).toSVGPath()}},!0));else if(this.parent){const w=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(u(this,ti),{bbox:N(g=ht,Li,rd).call(g,u(this,Pi).box,(w-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(u(this,ir),{bbox:N(y=ht,Li,rd).call(y,u(this,Dr).box,w),path:{d:u(this,Dr).toSVGPath()}})}const[l,c,d,f]=t.box;switch(this.rotation){case 0:this.x=l,this.y=c,this.width=d,this.height=f;break;case 90:{const[w,S]=this.parentDimensions;this.x=c,this.y=1-l,this.width=d*S/w,this.height=f*w/S;break}case 180:this.x=1-l,this.y=1-c,this.width=d,this.height=f;break;case 270:{const[w,S]=this.parentDimensions;this.x=1-c,this.y=l,this.width=d*S/w,this.height=f*w/S;break}}const{lastPoint:p}=u(this,Dr);A(this,wh,[(p[0]-l)/d,(p[1]-c)/f])},rI=function(t){const n=(l,c)=>{var d,f;this.color=l,A(this,Vo,c),(d=this.parent)==null||d.drawLayer.updateProperties(u(this,ti),{root:{fill:l,"fill-opacity":c}}),(f=u(this,zg))==null||f.updateColor(l)},r=this.color,o=u(this,Vo);this.addCommands({cmd:n.bind(this,t,ht._defaultOpacity),undo:n.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:st.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},iI=function(t){const n=u(this,Ri),r=o=>{A(this,Ri,o),N(this,Xe,sI).call(this,o)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:st.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},sI=function(t){if(!u(this,Un))return;N(this,Xe,tv).call(this,{highlightOutlines:u(this,Pi).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)},p_=function(){u(this,ti)===null||!this.parent||(this.parent.drawLayer.remove(u(this,ti)),A(this,ti,null),this.parent.drawLayer.remove(u(this,ir)),A(this,ir,null))},Kl=function(t=this.parent){u(this,ti)===null&&({id:Sn(this,ti)._,clipPathId:Sn(this,Kc)._}=t.drawLayer.draw({bbox:u(this,Pi).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":u(this,Vo)},rootClass:{highlight:!0,free:u(this,Un)},path:{d:u(this,Pi).toSVGPath()}},!1,!0),A(this,ir,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:u(this,Un)},bbox:u(this,Dr).box,path:{d:u(this,Dr).toSVGPath()}},u(this,Un))),u(this,Qc)&&(u(this,Qc).style.clipPath=u(this,Kc)))},Li=new WeakSet,rd=function([t,n,r,o],l){switch(l){case 90:return[1-n-o,t,o,r];case 180:return[1-t-r,1-n-o,r,o];case 270:return[n,1-t-r,o,r]}return[t,n,r,o]},oI=function(t){ht._keyboardManager.exec(this,t)},nv=function(t){if(!u(this,vh))return;const n=window.getSelection();t?n.setPosition(u(this,vh),u(this,$g)):n.setPosition(u(this,Hg),u(this,Ug))},qf=function(){return u(this,Un)?this.rotation:0},aI=function(){if(u(this,Un))return null;const[t,n]=this.pageDimensions,[r,o]=this.pageTranslation,l=u(this,Uo),c=new Float32Array(l.length*8);let d=0;for(const{x:f,y:p,width:g,height:y}of l){const w=f*t+r,S=(1-p)*n+o;c[d]=c[d+4]=w,c[d+1]=c[d+3]=S,c[d+2]=c[d+6]=w+g*t,c[d+5]=c[d+7]=S-y*n,d+=8}return c},lI=function(t){return u(this,Pi).serialize(t,N(this,Xe,qf).call(this))},cI=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},uI=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},dI=function(t){const{color:n}=this._initialData;return t.color.some((r,o)=>r!==n[o])},k(ht,Li),me(ht,"_defaultColor",null),me(ht,"_defaultOpacity",1),me(ht,"_defaultThickness",12),me(ht,"_type","highlight"),me(ht,"_editorType",Ve.HIGHLIGHT),me(ht,"_freeHighlightId",-1),me(ht,"_freeHighlight",null),me(ht,"_freeHighlightClipId","");let kv=ht;var Jc;class hI{constructor(){k(this,Jc,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){u(this,Jc)[e]=t}toSVGProperties(){const e=u(this,Jc);return A(this,Jc,Object.create(null)),{root:e}}reset(){A(this,Jc,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){_t("Not implemented")}}Jc=new WeakMap;var ni,xh,Pn,Zc,eu,al,ll,cl,tu,lt,g_,m_,y_,Yf,fI,rv,Xf,id;const Re=class Re extends Tt{constructor(t){super(t);k(this,lt);k(this,ni,null);k(this,xh);me(this,"_drawId",null);A(this,xh,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(N(this,lt,g_).call(this,t),N(this,lt,Yf).call(this))}static _mergeSVGProperties(t,n){const r=new Set(Object.keys(t));for(const[o,l]of Object.entries(n))r.has(o)?Object.assign(t[o],l):t[o]=l;return t}static getDefaultDrawingOptions(t){_t("Not implemented")}static get typesMap(){_t("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(u(Re,Pn).updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[r,o]of this.typesMap)t.push([r,n[o]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[r,o]of this.constructor.typesMap)t.push([r,n[o]]);return t}_updateProperty(t,n,r){const o=this._drawingOptions,l=o[n],c=d=>{var p;o.updateProperty(n,d);const f=u(this,ni).updateProperty(n,d);f&&N(this,lt,Xf).call(this,f),(p=this.parent)==null||p.drawLayer.updateProperties(this._drawId,o.toSVGProperties())};this.addCommands({cmd:c.bind(this,r),undo:c.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Re._mergeSVGProperties(u(this,ni).getPathResizingSVGProperties(N(this,lt,rv).call(this)),{bbox:N(this,lt,id).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Re._mergeSVGProperties(u(this,ni).getPathResizedSVGProperties(N(this,lt,rv).call(this)),{bbox:N(this,lt,id).call(this)}))}_onTranslating(t,n){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:N(this,lt,id).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Re._mergeSVGProperties(u(this,ni).getPathTranslatedSVGProperties(N(this,lt,rv).call(this),this.parentDimensions),{bbox:N(this,lt,id).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,u(this,xh)&&(A(this,xh,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){N(this,lt,y_).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(N(this,lt,Yf).call(this),N(this,lt,Xf).call(this,u(this,ni).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),N(this,lt,y_).call(this)):t&&(this._uiManager.addShouldRescale(this),N(this,lt,Yf).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Re._mergeSVGProperties({bbox:N(this,lt,id).call(this)},u(this,ni).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&N(this,lt,Xf).call(this,u(this,ni).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const r=super.render();r.classList.add("draw");const o=document.createElement("div");r.append(o),o.setAttribute("aria-hidden","true"),o.className="internal";const[l,c]=this.parentDimensions;return this.setDims(this.width*l,this.height*c),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),r}static createDrawerInstance(t,n,r,o,l){_t("Not implemented")}static startDrawing(t,n,r,o){var E;const{target:l,offsetX:c,offsetY:d,pointerId:f,pointerType:p}=o;if(u(Re,ll)&&u(Re,ll)!==p)return;const{viewport:{rotation:g}}=t,{width:y,height:w}=l.getBoundingClientRect(),S=A(Re,Zc,new AbortController),b=t.combinedSignal(S);if(u(Re,al)||A(Re,al,f),u(Re,ll)??A(Re,ll,p),window.addEventListener("pointerup",T=>{var I;u(Re,al)===T.pointerId?this._endDraw(T):(I=u(Re,cl))==null||I.delete(T.pointerId)},{signal:b}),window.addEventListener("pointercancel",T=>{var I;u(Re,al)===T.pointerId?this._currentParent.endDrawingSession():(I=u(Re,cl))==null||I.delete(T.pointerId)},{signal:b}),window.addEventListener("pointerdown",T=>{u(Re,ll)===T.pointerType&&((u(Re,cl)||A(Re,cl,new Set)).add(T.pointerId),u(Re,Pn).isCancellable()&&(u(Re,Pn).removeLastElement(),u(Re,Pn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",Mi,{signal:b}),l.addEventListener("pointermove",this._drawMove.bind(this),{signal:b}),l.addEventListener("touchmove",T=>{T.timeStamp===u(Re,tu)&&nn(T)},{signal:b}),t.toggleDrawing(),(E=n._editorUndoBar)==null||E.hide(),u(Re,Pn)){t.drawLayer.updateProperties(this._currentDrawId,u(Re,Pn).startNew(c,d,y,w,g));return}n.updateUIForDefaultProperties(this),A(Re,Pn,this.createDrawerInstance(c,d,y,w,g)),A(Re,eu,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(u(Re,eu).toSVGProperties(),u(Re,Pn).defaultSVGProperties),!0,!1)}static _drawMove(t){var l;if(A(Re,tu,-1),!u(Re,Pn))return;const{offsetX:n,offsetY:r,pointerId:o}=t;if(u(Re,al)===o){if(((l=u(Re,cl))==null?void 0:l.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,u(Re,Pn).add(n,r)),A(Re,tu,t.timeStamp),nn(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,A(Re,Pn,null),A(Re,eu,null),A(Re,ll,null),A(Re,tu,NaN)),u(Re,Zc)&&(u(Re,Zc).abort(),A(Re,Zc,null),A(Re,al,NaN),A(Re,cl,null))}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,u(Re,Pn).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=u(Re,Pn),o=this._currentDrawId,l=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(o,r.setLastElement(l))},undo:()=>{n.drawLayer.updateProperties(o,r.removeLastElement())},mustExec:!1,type:st.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(st.DRAW_STEP),!u(Re,Pn).isEmpty()){const{pageDimensions:[r,o],scale:l}=n,c=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:u(Re,Pn).getOutlines(r*l,o*l,l,this._INNER_MARGIN),drawingOptions:u(Re,eu),mustBeCommitted:!t});return this._cleanup(!0),c}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,r,o,l,c){_t("Not implemented")}static async deserialize(t,n,r){var g,y;const{rawDims:{pageWidth:o,pageHeight:l,pageX:c,pageY:d}}=n.viewport,f=this.deserializeDraw(c,d,o,l,this._INNER_MARGIN,t),p=await super.deserialize(t,n,r);return p.createDrawingOptions(t),N(g=p,lt,g_).call(g,{drawOutlines:f}),N(y=p,lt,Yf).call(y),p.onScaleChanging(),p.rotate(),p}serializeDraw(t){const[n,r]=this.pageTranslation,[o,l]=this.pageDimensions;return u(this,ni).serialize([n,r,o,l],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};ni=new WeakMap,xh=new WeakMap,Pn=new WeakMap,Zc=new WeakMap,eu=new WeakMap,al=new WeakMap,ll=new WeakMap,cl=new WeakMap,tu=new WeakMap,lt=new WeakSet,g_=function({drawOutlines:t,drawId:n,drawingOptions:r}){A(this,ni,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=N(this,lt,m_).call(this,t,this.parent),N(this,lt,Xf).call(this,t.box)},m_=function(t,n){const{id:r}=n.drawLayer.draw(Re._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},y_=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Yf=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=N(this,lt,m_).call(this,u(this,ni),t)}},fI=function([t,n,r,o]){const{parentDimensions:[l,c],rotation:d}=this;switch(d){case 90:return[n,1-t,r*(c/l),o*(l/c)];case 180:return[1-t,1-n,r,o];case 270:return[1-n,t,r*(c/l),o*(l/c)];default:return[t,n,r,o]}},rv=function(){const{x:t,y:n,width:r,height:o,parentDimensions:[l,c],rotation:d}=this;switch(d){case 90:return[1-n,t,r*(l/c),o*(c/l)];case 180:return[1-t,1-n,r,o];case 270:return[n,1-t,r*(l/c),o*(c/l)];default:return[t,n,r,o]}},Xf=function(t){if([this.x,this.y,this.width,this.height]=N(this,lt,fI).call(this,t),this.div){this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)}this._onResized()},id=function(){const{x:t,y:n,width:r,height:o,rotation:l,parentRotation:c,parentDimensions:[d,f]}=this;switch((l*4+c)/90){case 1:return[1-n-o,t,o,r];case 2:return[1-t-r,1-n-o,r,o];case 3:return[n,1-t-r,o,r];case 4:return[t,n-r*(d/f),o*(f/d),r*(d/f)];case 5:return[1-n,t,r*(d/f),o*(f/d)];case 6:return[1-t-o*(f/d),1-n,o*(f/d),r*(d/f)];case 7:return[n-r*(d/f),1-t-o*(f/d),r*(d/f),o*(f/d)];case 8:return[t-r,n-o,r,o];case 9:return[1-n,t-r,o,r];case 10:return[1-t,1-n,r,o];case 11:return[n-o,1-t,o,r];case 12:return[t-o*(f/d),n,o*(f/d),r*(d/f)];case 13:return[1-n-r*(d/f),t-o*(f/d),r*(d/f),o*(f/d)];case 14:return[1-t,1-n-r*(d/f),o*(f/d),r*(d/f)];case 15:return[n,1-t,r*(d/f),o*(f/d)];default:return[t,n,r,o]}},me(Re,"_currentDrawId",-1),me(Re,"_currentParent",null),k(Re,Pn,null),k(Re,Zc,null),k(Re,eu,null),k(Re,al,NaN),k(Re,ll,null),k(Re,cl,null),k(Re,tu,NaN),me(Re,"_INNER_MARGIN",3);let Iv=Re;var $s,Rn,kn,nu,_h,gr,Vn,ki,ru,iu,su,Sh,iv;class z4{constructor(e,t,n,r,o,l){k(this,Sh);k(this,$s,new Float64Array(6));k(this,Rn);k(this,kn);k(this,nu);k(this,_h);k(this,gr);k(this,Vn,"");k(this,ki,0);k(this,ru,new om);k(this,iu);k(this,su);A(this,iu,n),A(this,su,r),A(this,nu,o),A(this,_h,l),[e,t]=N(this,Sh,iv).call(this,e,t);const c=A(this,Rn,[NaN,NaN,NaN,NaN,e,t]);A(this,gr,[e,t]),A(this,kn,[{line:c,points:u(this,gr)}]),u(this,$s).set(c,0)}updateProperty(e,t){e==="stroke-width"&&A(this,_h,t)}isEmpty(){return!u(this,kn)||u(this,kn).length===0}isCancellable(){return u(this,gr).length<=10}add(e,t){[e,t]=N(this,Sh,iv).call(this,e,t);const[n,r,o,l]=u(this,$s).subarray(2,6),c=e-o,d=t-l;return Math.hypot(u(this,iu)*c,u(this,su)*d)<=2?null:(u(this,gr).push(e,t),isNaN(n)?(u(this,$s).set([o,l,e,t],2),u(this,Rn).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(u(this,$s)[0])&&u(this,Rn).splice(6,6),u(this,$s).set([n,r,o,l,e,t],0),u(this,Rn).push(...Te.createBezierPoints(n,r,o,l,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(u(this,gr).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,r,o){A(this,iu,n),A(this,su,r),A(this,nu,o),[e,t]=N(this,Sh,iv).call(this,e,t);const l=A(this,Rn,[NaN,NaN,NaN,NaN,e,t]);A(this,gr,[e,t]);const c=u(this,kn).at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),u(this,kn).push({line:l,points:u(this,gr)}),u(this,$s).set(l,0),A(this,ki,0),this.toSVGPath(),null}getLastElement(){return u(this,kn).at(-1)}setLastElement(e){return u(this,kn)?(u(this,kn).push(e),A(this,Rn,e.line),A(this,gr,e.points),A(this,ki,0),{path:{d:this.toSVGPath()}}):u(this,ru).setLastElement(e)}removeLastElement(){if(!u(this,kn))return u(this,ru).removeLastElement();u(this,kn).pop(),A(this,Vn,"");for(let e=0,t=u(this,kn).length;e<t;e++){const{line:n,points:r}=u(this,kn)[e];A(this,Rn,n),A(this,gr,r),A(this,ki,0),this.toSVGPath()}return{path:{d:u(this,Vn)}}}toSVGPath(){const e=Te.svgRound(u(this,Rn)[4]),t=Te.svgRound(u(this,Rn)[5]);if(u(this,gr).length===2)return A(this,Vn,`${u(this,Vn)} M ${e} ${t} Z`),u(this,Vn);if(u(this,gr).length<=6){const r=u(this,Vn).lastIndexOf("M");A(this,Vn,`${u(this,Vn).slice(0,r)} M ${e} ${t}`),A(this,ki,6)}if(u(this,gr).length===4){const r=Te.svgRound(u(this,Rn)[10]),o=Te.svgRound(u(this,Rn)[11]);return A(this,Vn,`${u(this,Vn)} L ${r} ${o}`),A(this,ki,12),u(this,Vn)}const n=[];u(this,ki)===0&&(n.push(`M ${e} ${t}`),A(this,ki,6));for(let r=u(this,ki),o=u(this,Rn).length;r<o;r+=6){const[l,c,d,f,p,g]=u(this,Rn).slice(r,r+6).map(Te.svgRound);n.push(`C${l} ${c} ${d} ${f} ${p} ${g}`)}return A(this,Vn,u(this,Vn)+n.join(" ")),A(this,ki,u(this,Rn).length),u(this,Vn)}getOutlines(e,t,n,r){const o=u(this,kn).at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),u(this,ru).build(u(this,kn),e,t,n,u(this,nu),u(this,_h),r),A(this,$s,null),A(this,Rn,null),A(this,kn,null),A(this,Vn,null),u(this,ru)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}$s=new WeakMap,Rn=new WeakMap,kn=new WeakMap,nu=new WeakMap,_h=new WeakMap,gr=new WeakMap,Vn=new WeakMap,ki=new WeakMap,ru=new WeakMap,iu=new WeakMap,su=new WeakMap,Sh=new WeakSet,iv=function(e,t){return Te._normalizePoint(e,t,u(this,iu),u(this,su),u(this,nu))};var mr,Wg,Gg,ri,zs,Hs,Eh,Ah,ou,Gn,mo,pI,gI,mI;class om extends Te{constructor(){super(...arguments);k(this,Gn);k(this,mr);k(this,Wg,0);k(this,Gg);k(this,ri);k(this,zs);k(this,Hs);k(this,Eh);k(this,Ah);k(this,ou)}build(t,n,r,o,l,c,d){A(this,zs,n),A(this,Hs,r),A(this,Eh,o),A(this,Ah,l),A(this,ou,c),A(this,Gg,d??0),A(this,ri,t),N(this,Gn,gI).call(this)}get thickness(){return u(this,ou)}setLastElement(t){return u(this,ri).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return u(this,ri).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of u(this,ri)){if(t.push(`M${Te.svgRound(n[4])} ${Te.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${Te.svgRound(n[10])} ${Te.svgRound(n[11])}`);continue}for(let r=6,o=n.length;r<o;r+=6){const[l,c,d,f,p,g]=n.subarray(r,r+6).map(Te.svgRound);t.push(`C${l} ${c} ${d} ${f} ${p} ${g}`)}}return t.join("")}serialize([t,n,r,o],l){const c=[],d=[],[f,p,g,y]=N(this,Gn,pI).call(this);let w,S,b,E,T,I,L,D,F;switch(u(this,Ah)){case 0:F=Te._rescale,w=t,S=n+o,b=r,E=-o,T=t+f*r,I=n+(1-p-y)*o,L=t+(f+g)*r,D=n+(1-p)*o;break;case 90:F=Te._rescaleAndSwap,w=t,S=n,b=r,E=o,T=t+p*r,I=n+f*o,L=t+(p+y)*r,D=n+(f+g)*o;break;case 180:F=Te._rescale,w=t+r,S=n,b=-r,E=o,T=t+(1-f-g)*r,I=n+p*o,L=t+(1-f)*r,D=n+(p+y)*o;break;case 270:F=Te._rescaleAndSwap,w=t+r,S=n+o,b=-r,E=-o,T=t+(1-p-y)*r,I=n+(1-f-g)*o,L=t+(1-p)*r,D=n+(1-f)*o;break}for(const{line:B,points:$}of u(this,ri))c.push(F(B,w,S,b,E,l?new Array(B.length):null)),d.push(F($,w,S,b,E,l?new Array($.length):null));return{lines:c,points:d,rect:[T,I,L,D]}}static deserialize(t,n,r,o,l,{paths:{lines:c,points:d},rotation:f,thickness:p}){const g=[];let y,w,S,b,E;switch(f){case 0:E=Te._rescale,y=-t/r,w=n/o+1,S=1/r,b=-1/o;break;case 90:E=Te._rescaleAndSwap,y=-n/o,w=-t/r,S=1/o,b=1/r;break;case 180:E=Te._rescale,y=t/r+1,w=-n/o,S=-1/r,b=1/o;break;case 270:E=Te._rescaleAndSwap,y=n/o+1,w=t/r+1,S=-1/o,b=-1/r;break}if(!c){c=[];for(const I of d){const L=I.length;if(L===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1]]));continue}if(L===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1],NaN,NaN,NaN,NaN,I[2],I[3]]));continue}const D=new Float32Array(3*(L-2));c.push(D);let[F,B,$,V]=I.subarray(0,4);D.set([NaN,NaN,NaN,NaN,F,B],0);for(let q=4;q<L;q+=2){const te=I[q],re=I[q+1];D.set(Te.createBezierPoints(F,B,$,V,te,re),(q-2)*3),[F,B,$,V]=[$,V,te,re]}}}for(let I=0,L=c.length;I<L;I++)g.push({line:E(c[I].map(D=>D??NaN),y,w,S,b),points:E(d[I].map(D=>D??NaN),y,w,S,b)});const T=new this.prototype.constructor;return T.build(g,r,o,1,f,p,l),T}get box(){return u(this,mr)}updateProperty(t,n){return t==="stroke-width"?N(this,Gn,mI).call(this,n):null}updateParentDimensions([t,n],r){const[o,l]=N(this,Gn,mo).call(this);A(this,zs,t),A(this,Hs,n),A(this,Eh,r);const[c,d]=N(this,Gn,mo).call(this),f=c-o,p=d-l,g=u(this,mr);return g[0]-=f,g[1]-=p,g[2]+=2*f,g[3]+=2*p,g}updateRotation(t){return A(this,Wg,t),{path:{transform:this.rotationTransform}}}get viewBox(){return u(this,mr).map(Te.svgRound).join(" ")}get defaultProperties(){const[t,n]=u(this,mr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Te.svgRound(t)} ${Te.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=u(this,mr);let r=0,o=0,l=0,c=0,d=0,f=0;switch(u(this,Wg)){case 90:o=n/t,l=-t/n,d=t;break;case 180:r=-1,c=-1,d=t,f=n;break;case 270:o=-n/t,l=t/n,f=n;break;default:return""}return`matrix(${r} ${o} ${l} ${c} ${Te.svgRound(d)} ${Te.svgRound(f)})`}getPathResizingSVGProperties([t,n,r,o]){const[l,c]=N(this,Gn,mo).call(this),[d,f,p,g]=u(this,mr);if(Math.abs(p-l)<=Te.PRECISION||Math.abs(g-c)<=Te.PRECISION){const E=t+r/2-(d+p/2),T=n+o/2-(f+g/2);return{path:{"transform-origin":`${Te.svgRound(t)} ${Te.svgRound(n)}`,transform:`${this.rotationTransform} translate(${E} ${T})`}}}const y=(r-2*l)/(p-2*l),w=(o-2*c)/(g-2*c),S=p/r,b=g/o;return{path:{"transform-origin":`${Te.svgRound(d)} ${Te.svgRound(f)}`,transform:`${this.rotationTransform} scale(${S} ${b}) translate(${Te.svgRound(l)} ${Te.svgRound(c)}) scale(${y} ${w}) translate(${Te.svgRound(-l)} ${Te.svgRound(-c)})`}}}getPathResizedSVGProperties([t,n,r,o]){const[l,c]=N(this,Gn,mo).call(this),d=u(this,mr),[f,p,g,y]=d;if(d[0]=t,d[1]=n,d[2]=r,d[3]=o,Math.abs(g-l)<=Te.PRECISION||Math.abs(y-c)<=Te.PRECISION){const T=t+r/2-(f+g/2),I=n+o/2-(p+y/2);for(const{line:L,points:D}of u(this,ri))Te._translate(L,T,I,L),Te._translate(D,T,I,D);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Te.svgRound(t)} ${Te.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const w=(r-2*l)/(g-2*l),S=(o-2*c)/(y-2*c),b=-w*(f+l)+t+l,E=-S*(p+c)+n+c;if(w!==1||S!==1||b!==0||E!==0)for(const{line:T,points:I}of u(this,ri))Te._rescale(T,b,E,w,S,T),Te._rescale(I,b,E,w,S,I);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Te.svgRound(t)} ${Te.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],r){const[o,l]=r,c=u(this,mr),d=t-c[0],f=n-c[1];if(u(this,zs)===o&&u(this,Hs)===l)for(const{line:p,points:g}of u(this,ri))Te._translate(p,d,f,p),Te._translate(g,d,f,g);else{const p=u(this,zs)/o,g=u(this,Hs)/l;A(this,zs,o),A(this,Hs,l);for(const{line:y,points:w}of u(this,ri))Te._rescale(y,d,f,p,g,y),Te._rescale(w,d,f,p,g,w);c[2]*=p,c[3]*=g}return c[0]=t,c[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Te.svgRound(t)} ${Te.svgRound(n)}`}}}get defaultSVGProperties(){const t=u(this,mr);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Te.svgRound(t[0])} ${Te.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}mr=new WeakMap,Wg=new WeakMap,Gg=new WeakMap,ri=new WeakMap,zs=new WeakMap,Hs=new WeakMap,Eh=new WeakMap,Ah=new WeakMap,ou=new WeakMap,Gn=new WeakSet,mo=function(t=u(this,ou)){const n=u(this,Gg)+t/2*u(this,Eh);return u(this,Ah)%180===0?[n/u(this,zs),n/u(this,Hs)]:[n/u(this,Hs),n/u(this,zs)]},pI=function(){const[t,n,r,o]=u(this,mr),[l,c]=N(this,Gn,mo).call(this,0);return[t+l,n+c,r-2*l,o-2*c]},gI=function(){const t=A(this,mr,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:o}of u(this,ri)){if(o.length<=12){for(let d=4,f=o.length;d<f;d+=6)De.pointBoundingBox(o[d],o[d+1],t);continue}let l=o[4],c=o[5];for(let d=6,f=o.length;d<f;d+=6){const[p,g,y,w,S,b]=o.subarray(d,d+6);De.bezierBoundingBox(l,c,p,g,y,w,S,b,t),l=S,c=b}}const[n,r]=N(this,Gn,mo).call(this);t[0]=sr(t[0]-n,0,1),t[1]=sr(t[1]-r,0,1),t[2]=sr(t[2]+n,0,1),t[3]=sr(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},mI=function(t){const[n,r]=N(this,Gn,mo).call(this);A(this,ou,t);const[o,l]=N(this,Gn,mo).call(this),[c,d]=[o-n,l-r],f=u(this,mr);return f[0]-=c,f[1]-=d,f[2]+=2*c,f[3]+=2*d,f};class S0 extends hI{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Tt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new S0(this._viewParameters);return e.updateAll(this),e}}var Jv,yI;const ad=class ad extends Iv{constructor(t){super({...t,name:"inkEditor"});k(this,Jv);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){Tt.initialize(t,n),this._defaultDrawingOptions=new S0(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return nt(this,"typesMap",new Map([[st.INK_THICKNESS,"stroke-width"],[st.INK_COLOR,"stroke"],[st.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,r,o,l){return new z4(t,n,r,o,l,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,r,o,l,c){return om.deserialize(t,n,r,o,l,c)}static async deserialize(t,n,r){let o=null;if(t instanceof C1){const{data:{inkLists:c,rect:d,rotation:f,id:p,color:g,opacity:y,borderStyle:{rawWidth:w},popupRef:S},parent:{page:{pageNumber:b}}}=t;o=t={annotationType:Ve.INK,color:Array.from(g),thickness:w,opacity:y,paths:{points:c},boxes:null,pageIndex:b-1,rect:d.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:S}}const l=await super.deserialize(t,n,r);return l._initialData=o,l}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:r}=this;n.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:r}){this._drawingOptions=ad.getDefaultDrawingOptions({stroke:De.makeHexColor(...t),"stroke-width":n,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:r,rect:o}=this.serializeDraw(t),{_drawingOptions:{stroke:l,"stroke-opacity":c,"stroke-width":d}}=this,f={annotationType:Ve.INK,color:Tt._colorManager.convert(l),opacity:c,thickness:d,paths:{lines:n,points:r},pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(f.isCopy=!0,f):this.annotationElementId&&!N(this,Jv,yI).call(this,f)?null:(f.id=this.annotationElementId,f)}renderAnnotationElement(t){const{points:n,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n}),null}};Jv=new WeakSet,yI=function(t){const{color:n,thickness:r,opacity:o,pageIndex:l}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((c,d)=>c!==n[d])||t.thickness!==r||t.opacity!==o||t.pageIndex!==l},me(ad,"_type","ink"),me(ad,"_editorType",Ve.INK),me(ad,"_defaultDrawingOptions",null);let v_=ad;class w_ extends om{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Ay=8,Rf=3;var au,gt,b_,rs,vI,wI,x_,sv,bI,xI,_I,__,S_,SI;class Ys{static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:r},o,l,c,d){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const g=200,y=p.font=`${n} ${r} ${g}px ${t}`,{actualBoundingBoxLeft:w,actualBoundingBoxRight:S,actualBoundingBoxAscent:b,actualBoundingBoxDescent:E,fontBoundingBoxAscent:T,fontBoundingBoxDescent:I,width:L}=p.measureText(e),D=1.5,F=Math.ceil(Math.max(Math.abs(w)+Math.abs(S)||0,L)*D),B=Math.ceil(Math.max(Math.abs(b)+Math.abs(E)||g,Math.abs(T)+Math.abs(I)||g)*D);f=new OffscreenCanvas(F,B),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=y,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,F,B),p.fillStyle="black",p.fillText(e,F*(D-1)/2,B*(3-D)/2);const $=N(this,gt,__).call(this,p.getImageData(0,0,F,B).data),V=N(this,gt,_I).call(this,$),q=N(this,gt,S_).call(this,V),te=N(this,gt,x_).call(this,$,F,B,q);return this.processDrawnLines({lines:{curves:te,width:F,height:B},pageWidth:o,pageHeight:l,rotation:c,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(e,t,n,r,o){const[l,c,d]=N(this,gt,SI).call(this,e),[f,p]=N(this,gt,xI).call(this,l,c,d,Math.hypot(c,d)*u(this,au).sigmaSFactor,u(this,au).sigmaR,u(this,au).kernelSize),g=N(this,gt,S_).call(this,p),y=N(this,gt,x_).call(this,f,c,d,g);return this.processDrawnLines({lines:{curves:y,width:c,height:d},pageWidth:t,pageHeight:n,rotation:r,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:r,innerMargin:o,mustSmooth:l,areContours:c}){r%180!==0&&([t,n]=[n,t]);const{curves:d,width:f,height:p}=e,g=e.thickness??0,y=[],w=Math.min(t/f,n/p),S=w/t,b=w/n,E=[];for(const{points:I}of d){const L=l?N(this,gt,bI).call(this,I):I;if(!L)continue;E.push(L);const D=L.length,F=new Float32Array(D),B=new Float32Array(3*(D===2?2:D-2));if(y.push({line:B,points:F}),D===2){F[0]=L[0]*S,F[1]=L[1]*b,B.set([NaN,NaN,NaN,NaN,F[0],F[1]],0);continue}let[$,V,q,te]=L;$*=S,V*=b,q*=S,te*=b,F.set([$,V,q,te],0),B.set([NaN,NaN,NaN,NaN,$,V],0);for(let re=4;re<D;re+=2){const be=F[re]=L[re]*S,pe=F[re+1]=L[re+1]*b;B.set(Te.createBezierPoints($,V,q,te,be,pe),(re-2)*3),[$,V,q,te]=[q,te,be,pe]}}if(y.length===0)return null;const T=c?new w_:new om;return T.build(y,t,n,1,r,c?0:g,o),{outline:T,newCurves:E,areContours:c,thickness:g,width:f,height:p}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:r,height:o}){let l=1/0,c=-1/0,d=0;for(const L of e){d+=L.length;for(let D=2,F=L.length;D<F;D++){const B=L[D]-L[D-2];l=Math.min(l,B),c=Math.max(c,B)}}let f;l>=-128&&c<=127?f=Int8Array:l>=-32768&&c<=32767?f=Int16Array:f=Int32Array;const p=e.length,g=Ay+Rf*p,y=new Uint32Array(g);let w=0;y[w++]=g*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*f.BYTES_PER_ELEMENT,y[w++]=0,y[w++]=r,y[w++]=o,y[w++]=t?0:1,y[w++]=Math.max(0,Math.floor(n??0)),y[w++]=p,y[w++]=f.BYTES_PER_ELEMENT;for(const L of e)y[w++]=L.length-2,y[w++]=L[0],y[w++]=L[1];const S=new CompressionStream("deflate-raw"),b=S.writable.getWriter();await b.ready,b.write(y);const E=f.prototype.constructor;for(const L of e){const D=new E(L.length-2);for(let F=2,B=L.length;F<B;F++)D[F-2]=L[F]-L[F-2];b.write(D)}b.close();const T=await new Response(S.readable).arrayBuffer(),I=new Uint8Array(T);return xR(I)}static async decompressSignature(e){try{const t=yz(e),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),o=r.getWriter();await o.ready,o.write(t).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let l=null,c=0;for await(const L of n)l||(l=new Uint8Array(new Uint32Array(L.buffer,0,4)[0])),l.set(L,c),c+=L.length;const d=new Uint32Array(l.buffer,0,l.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=d[2],g=d[3],y=d[4]===0,w=d[5],S=d[6],b=d[7],E=[],T=(Ay+Rf*S)*Uint32Array.BYTES_PER_ELEMENT;let I;switch(b){case Int8Array.BYTES_PER_ELEMENT:I=new Int8Array(l.buffer,T);break;case Int16Array.BYTES_PER_ELEMENT:I=new Int16Array(l.buffer,T);break;case Int32Array.BYTES_PER_ELEMENT:I=new Int32Array(l.buffer,T);break}c=0;for(let L=0;L<S;L++){const D=d[Rf*L+Ay],F=new Float32Array(D+2);E.push(F);for(let B=0;B<Rf-1;B++)F[B]=d[Rf*L+Ay+B+1];for(let B=0;B<D;B++)F[B+2]=F[B]+I[c++]}return{areContours:y,thickness:w,outlines:E,width:p,height:g}}catch(t){return Ge(`decompressSignature: ${t}`),null}}}au=new WeakMap,gt=new WeakSet,b_=function(e,t,n,r){return n-=e,r-=t,n===0?r>0?0:4:n===1?r+6:2-r},rs=new WeakMap,vI=function(e,t,n,r,o,l,c){const d=N(this,gt,b_).call(this,n,r,o,l);for(let f=0;f<8;f++){const p=(-f+d-c+16)%8,g=u(this,rs)[2*p],y=u(this,rs)[2*p+1];if(e[(n+g)*t+(r+y)]!==0)return p}return-1},wI=function(e,t,n,r,o,l,c){const d=N(this,gt,b_).call(this,n,r,o,l);for(let f=0;f<8;f++){const p=(f+d+c+16)%8,g=u(this,rs)[2*p],y=u(this,rs)[2*p+1];if(e[(n+g)*t+(r+y)]!==0)return p}return-1},x_=function(e,t,n,r){const o=e.length,l=new Int32Array(o);for(let p=0;p<o;p++)l[p]=e[p]<=r?1:0;for(let p=1;p<n-1;p++)l[p*t]=l[p*t+t-1]=0;for(let p=0;p<t;p++)l[p]=l[t*n-1-p]=0;let c=1,d;const f=[];for(let p=1;p<n-1;p++){d=1;for(let g=1;g<t-1;g++){const y=p*t+g,w=l[y];if(w===0)continue;let S=p,b=g;if(w===1&&l[y-1]===0)c+=1,b-=1;else if(w>=1&&l[y+1]===0)c+=1,b+=1,w>1&&(d=w);else{w!==1&&(d=Math.abs(w));continue}const E=[g,p],T=b===g+1,I={isHole:T,points:E,id:c,parent:0};f.push(I);let L;for(const re of f)if(re.id===d){L=re;break}L?L.isHole?I.parent=T?L.parent:d:I.parent=T?d:L.parent:I.parent=T?d:0;const D=N(this,gt,vI).call(this,l,t,p,g,S,b,0);if(D===-1){l[y]=-c,l[y]!==1&&(d=Math.abs(l[y]));continue}let F=u(this,rs)[2*D],B=u(this,rs)[2*D+1];const $=p+F,V=g+B;S=$,b=V;let q=p,te=g;for(;;){const re=N(this,gt,wI).call(this,l,t,q,te,S,b,1);F=u(this,rs)[2*re],B=u(this,rs)[2*re+1];const be=q+F,pe=te+B;E.push(pe,be);const ae=q*t+te;if(l[ae+1]===0?l[ae]=-c:l[ae]===1&&(l[ae]=c),be===p&&pe===g&&q===$&&te===V){l[y]!==1&&(d=Math.abs(l[y]));break}else S=q,b=te,q=be,te=pe}}}return f},sv=function(e,t,n,r){if(n-t<=4){for(let $=t;$<n-2;$+=2)r.push(e[$],e[$+1]);return}const o=e[t],l=e[t+1],c=e[n-4]-o,d=e[n-3]-l,f=Math.hypot(c,d),p=c/f,g=d/f,y=p*l-g*o,w=d/c,S=1/f,b=Math.atan(w),E=Math.cos(b),T=Math.sin(b),I=S*(Math.abs(E)+Math.abs(T)),L=S*(1-I+I**2),D=Math.max(Math.atan(Math.abs(T+E)*L),Math.atan(Math.abs(T-E)*L));let F=0,B=t;for(let $=t+2;$<n-2;$+=2){const V=Math.abs(y-p*e[$+1]+g*e[$]);V>F&&(B=$,F=V)}F>(f*D)**2?(N(this,gt,sv).call(this,e,t,B+2,r),N(this,gt,sv).call(this,e,B,n,r)):r.push(o,l)},bI=function(e){const t=[],n=e.length;return N(this,gt,sv).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t},xI=function(e,t,n,r,o,l){const c=new Float32Array(l**2),d=-2*r**2,f=l>>1;for(let b=0;b<l;b++){const E=(b-f)**2;for(let T=0;T<l;T++)c[b*l+T]=Math.exp((E+(T-f)**2)/d)}const p=new Float32Array(256),g=-2*o**2;for(let b=0;b<256;b++)p[b]=Math.exp(b**2/g);const y=e.length,w=new Uint8Array(y),S=new Uint32Array(256);for(let b=0;b<n;b++)for(let E=0;E<t;E++){const T=b*t+E,I=e[T];let L=0,D=0;for(let B=0;B<l;B++){const $=b+B-f;if(!($<0||$>=n))for(let V=0;V<l;V++){const q=E+V-f;if(q<0||q>=t)continue;const te=e[$*t+q],re=c[B*l+V]*p[Math.abs(te-I)];L+=te*re,D+=re}}const F=w[T]=Math.round(L/D);S[F]++}return[w,S]},_I=function(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t},__=function(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let r=-1/0,o=1/0;for(let c=0,d=n.length;c<d;c++){if(e[(c<<2)+3]===0){r=n[c]=255;continue}const p=n[c]=e[c<<2];p>r&&(r=p),p<o&&(o=p)}const l=255/(r-o);for(let c=0;c<t;c++)n[c]=(n[c]-o)*l;return n},S_=function(e){let t,n=-1/0,r=-1/0;const o=e.findIndex(d=>d!==0);let l=o,c=o;for(t=o;t<256;t++){const d=e[t];d>n&&(t-l>r&&(r=t-l,c=t-1),n=d,l=t)}for(t=c-1;t>=0&&!(e[t]>e[t+1]);t--);return t},SI=function(e){const t=e,{width:n,height:r}=e,{maxDim:o}=u(this,au);let l=n,c=r;if(n>o||r>o){let y=n,w=r,S=Math.log2(Math.max(n,r)/o);const b=Math.floor(S);S=S===b?b-1:b;for(let T=0;T<S;T++){l=Math.ceil(y/2),c=Math.ceil(w/2);const I=new OffscreenCanvas(l,c);I.getContext("2d").drawImage(e,0,0,y,w,0,0,l,c),y=l,w=c,e!==t&&e.close(),e=I.transferToImageBitmap()}const E=Math.min(o/l,o/c);l=Math.round(l*E),c=Math.round(c*E)}const f=new OffscreenCanvas(l,c).getContext("2d",{willReadFrequently:!0});f.filter="grayscale(1)",f.drawImage(e,0,0,e.width,e.height,0,0,l,c);const p=f.getImageData(0,0,l,c).data;return[N(this,gt,__).call(this,p),l,c]},k(Ys,gt),k(Ys,au,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),k(Ys,rs,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class P1 extends hI{constructor(){super(),super.updateProperties({fill:Tt._defaultLineColor,"stroke-width":0})}clone(){const e=new P1;return e.updateAll(this),e}}class R1 extends S0{constructor(e){super(e),super.updateProperties({stroke:Tt._defaultLineColor,"stroke-width":1})}clone(){const e=new R1(this._viewParameters);return e.updateAll(this),e}}var ul,Us,dl,lu;const Wr=class Wr extends Iv{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});k(this,ul,!1);k(this,Us,null);k(this,dl,null);k(this,lu,null);this._willKeepAspectRatio=!0,A(this,dl,t.signatureData||null),A(this,Us,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){Tt.initialize(t,n),this._defaultDrawingOptions=new P1,this._defaultDrawnSignatureOptions=new R1(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return nt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!u(this,Us)}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(u(this,dl)){const{lines:o,mustSmooth:l,areContours:c,description:d,uuid:f,heightInPage:p}=u(this,dl),{rawDims:{pageWidth:g,pageHeight:y},rotation:w}=this.parent.viewport,S=Ys.processDrawnLines({lines:o,pageWidth:g,pageHeight:y,rotation:w,innerMargin:Wr._INNER_MARGIN,mustSmooth:l,areContours:c});this.addSignature(S,p,d,f)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return r&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){A(this,lu,t),this.addEditToolbar()}getUuid(){return u(this,lu)}get description(){return u(this,Us)}set description(t){A(this,Us,t),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:r,width:o,height:l}=u(this,dl),c=Math.max(o,l),d=Ys.processDrawnLines({lines:{curves:t.map(f=>({points:f})),thickness:r,width:o,height:l},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:d.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,r,o){const{x:l,y:c}=this,{outline:d}=A(this,dl,t);A(this,ul,d instanceof w_),this.description=r,this.div.setAttribute("data-l10n-args",JSON.stringify({description:r}));let f;u(this,ul)?f=Wr.getDefaultDrawingOptions():(f=Wr._defaultDrawnSignatureOptions.clone(),f.updateProperties({"stroke-width":d.thickness})),this._addOutlines({drawOutlines:d,drawingOptions:f});const[p,g]=this.parentDimensions,[,y]=this.pageDimensions;let w=n/y;w=w>=1?.5:w,this.width*=w/this.height,this.width>=1&&(w*=.9/this.width,this.width=.9),this.height=w,this.setDims(p*this.width,g*this.height),this.x=l,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(o),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!o,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:r},rotation:o}=this.parent.viewport;return Ys.process(t,n,r,o,Wr._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:r,pageHeight:o},rotation:l}=this.parent.viewport;return Ys.extractContoursFromText(t,n,r,o,l,Wr._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:r},rotation:o}=this.parent.viewport;return Ys.processDrawnLines({lines:t,pageWidth:n,pageHeight:r,rotation:o,innerMargin:Wr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=Wr.getDefaultDrawingOptions():(this._drawingOptions=Wr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:r,rect:o}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":l}}=this,c={annotationType:Ve.SIGNATURE,isSignature:!0,areContours:u(this,ul),color:[0,0,0],thickness:u(this,ul)?0:l,pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(c.paths={lines:n,points:r},c.uuid=u(this,lu),c.isCopy=!0):c.lines=n,u(this,Us)&&(c.accessibilityData={type:"Figure",alt:u(this,Us)}),c}static deserializeDraw(t,n,r,o,l,c){return c.areContours?w_.deserialize(t,n,r,o,l,c):om.deserialize(t,n,r,o,l,c)}static async deserialize(t,n,r){var l;const o=await super.deserialize(t,n,r);return A(o,ul,t.areContours),A(o,Us,((l=t.accessibilityData)==null?void 0:l.alt)||""),A(o,lu,t.uuid),o}};ul=new WeakMap,Us=new WeakMap,dl=new WeakMap,lu=new WeakMap,me(Wr,"_type","signature"),me(Wr,"_editorType",Ve.SIGNATURE),me(Wr,"_defaultDrawingOptions",null);let E_=Wr;var Dt,In,hl,Wo,fl,Ch,Go,cu,Vs,ii,Th,ct,Kf,Qf,ov,av,lv,C_,cv,EI;class A_ extends Tt{constructor(t){super({...t,name:"stampEditor"});k(this,ct);k(this,Dt,null);k(this,In,null);k(this,hl,null);k(this,Wo,null);k(this,fl,null);k(this,Ch,"");k(this,Go,null);k(this,cu,!1);k(this,Vs,null);k(this,ii,!1);k(this,Th,!1);A(this,Wo,t.bitmapUrl),A(this,fl,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){Tt.initialize(t,n)}static isHandlingMimeForPasting(t){return Tv.includes(t)}static paste(t,n){n.pasteEditor({mode:Ve.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:l,height:c}=t||this.copyCanvas(null,null,!0).imageData,d=await r.guess({name:"altText",request:{data:o,width:l,height:c,channels:o.length/(l*c)}});if(!d)throw new Error("No response from the AI service.");if(d.error)throw new Error("Error from the AI service.");if(d.cancel)return null;if(!d.output)throw new Error("No valid response from the AI service.");const f=d.output;return await this.setGuessedAltText(f),n&&!this.hasAltTextData()&&(this.altTextData={alt:f,decorative:!1}),f}remove(){var t;u(this,In)&&(A(this,Dt,null),this._uiManager.imageManager.deleteId(u(this,In)),(t=u(this,Go))==null||t.remove(),A(this,Go,null),u(this,Vs)&&(clearTimeout(u(this,Vs)),A(this,Vs,null))),super.remove()}rebuild(){if(!this.parent){u(this,In)&&N(this,ct,ov).call(this);return}super.rebuild(),this.div!==null&&(u(this,In)&&u(this,Go)===null&&N(this,ct,ov).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(u(this,hl)||u(this,Dt)||u(this,Wo)||u(this,fl)||u(this,In)||u(this,cu))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),u(this,cu)||(u(this,Dt)?N(this,ct,av).call(this):N(this,ct,ov).call(this)),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:r,bitmap:o}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(A(this,In,r),o&&A(this,Dt,o),A(this,cu,!1),N(this,ct,av).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;u(this,Vs)!==null&&clearTimeout(u(this,Vs)),A(this,Vs,setTimeout(()=>{A(this,Vs,null),N(this,ct,C_).call(this)},200))}copyCanvas(t,n,r=!1){var w;t||(t=224);const{width:o,height:l}=u(this,Dt),c=new hs;let d=u(this,Dt),f=o,p=l,g=null;if(n){if(o>n||l>n){const V=Math.min(n/o,n/l);f=Math.floor(o*V),p=Math.floor(l*V)}g=document.createElement("canvas");const S=g.width=Math.ceil(f*c.sx),b=g.height=Math.ceil(p*c.sy);u(this,ii)||(d=N(this,ct,lv).call(this,S,b));const E=g.getContext("2d");E.filter=this._uiManager.hcmFilter;let T="white",I="#cfcfd8";this._uiManager.hcmFilter!=="none"?I="black":(w=window.matchMedia)!=null&&w.call(window,"(prefers-color-scheme: dark)").matches&&(T="#8f8f9d",I="#42414d");const L=15,D=L*c.sx,F=L*c.sy,B=new OffscreenCanvas(D*2,F*2),$=B.getContext("2d");$.fillStyle=T,$.fillRect(0,0,D*2,F*2),$.fillStyle=I,$.fillRect(0,0,D,F),$.fillRect(D,F,D,F),E.fillStyle=E.createPattern(B,"repeat"),E.fillRect(0,0,S,b),E.drawImage(d,0,0,d.width,d.height,0,0,S,b)}let y=null;if(r){let S,b;if(c.symmetric&&d.width<t&&d.height<t)S=d.width,b=d.height;else if(d=u(this,Dt),o>t||l>t){const I=Math.min(t/o,t/l);S=Math.floor(o*I),b=Math.floor(l*I),u(this,ii)||(d=N(this,ct,lv).call(this,S,b))}const T=new OffscreenCanvas(S,b).getContext("2d",{willReadFrequently:!0});T.drawImage(d,0,0,d.width,d.height,0,0,S,b),y={width:S,height:b,data:T.getImageData(0,0,S,b).data}}return{canvas:g,width:f,height:p,imageData:y}}static async deserialize(t,n,r){var E;let o=null,l=!1;if(t instanceof Bk){const{data:{rect:T,rotation:I,id:L,structParent:D,popupRef:F},container:B,parent:{page:{pageNumber:$}},canvas:V}=t;let q,te;V?(delete t.canvas,{id:q,bitmap:te}=r.imageManager.getFromCanvas(B.id,V),V.remove()):(l=!0,t._hasNoCanvas=!0);const re=((E=await n._structTree.getAriaAttributes(`${y1}${L}`))==null?void 0:E.get("aria-label"))||"";o=t={annotationType:Ve.STAMP,bitmapId:q,bitmap:te,pageIndex:$-1,rect:T.slice(0),rotation:I,annotationElementId:L,id:L,deleted:!1,accessibilityData:{decorative:!1,altText:re},isSvg:!1,structParent:D,popupRef:F}}const c=await super.deserialize(t,n,r),{rect:d,bitmap:f,bitmapUrl:p,bitmapId:g,isSvg:y,accessibilityData:w}=t;l?(r.addMissingCanvas(t.id,c),A(c,cu,!0)):g&&r.imageManager.isValidId(g)?(A(c,In,g),f&&A(c,Dt,f)):A(c,Wo,p),A(c,ii,y);const[S,b]=c.pageDimensions;return c.width=(d[2]-d[0])/S,c.height=(d[3]-d[1])/b,w&&(c.altTextData=w),c._initialData=o,A(c,Th,!!o),c}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Ve.STAMP,bitmapId:u(this,In),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,ii),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=N(this,ct,cv).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:o,altText:l}=this.serializeAltText(!1);if(!o&&l&&(r.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const d=N(this,ct,EI).call(this,r);if(d.isSame)return null;d.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,n===null)return r;n.stamps||(n.stamps=new Map);const c=u(this,ii)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(u(this,In)))n.stamps.set(u(this,In),{area:c,serialized:r}),r.bitmap=N(this,ct,cv).call(this,!1);else if(u(this,ii)){const d=n.stamps.get(u(this,In));c>d.area&&(d.area=c,d.serialized.bitmap.close(),d.serialized.bitmap=N(this,ct,cv).call(this,!1))}return r}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}Dt=new WeakMap,In=new WeakMap,hl=new WeakMap,Wo=new WeakMap,fl=new WeakMap,Ch=new WeakMap,Go=new WeakMap,cu=new WeakMap,Vs=new WeakMap,ii=new WeakMap,Th=new WeakMap,ct=new WeakSet,Kf=function(t,n=!1){if(!t){this.remove();return}A(this,Dt,t.bitmap),n||(A(this,In,t.id),A(this,ii,t.isSvg)),t.file&&A(this,Ch,t.file.name),N(this,ct,av).call(this)},Qf=function(){if(A(this,hl,null),this._uiManager.enableWaiting(!1),!!u(this,Go)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Dt)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Dt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},ov=function(){if(u(this,In)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,In)).then(r=>N(this,ct,Kf).call(this,r,!0)).finally(()=>N(this,ct,Qf).call(this));return}if(u(this,Wo)){const r=u(this,Wo);A(this,Wo,null),this._uiManager.enableWaiting(!0),A(this,hl,this._uiManager.imageManager.getFromUrl(r).then(o=>N(this,ct,Kf).call(this,o)).finally(()=>N(this,ct,Qf).call(this)));return}if(u(this,fl)){const r=u(this,fl);A(this,fl,null),this._uiManager.enableWaiting(!0),A(this,hl,this._uiManager.imageManager.getFromFile(r).then(o=>N(this,ct,Kf).call(this,o)).finally(()=>N(this,ct,Qf).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Tv.join(",");const n=this._uiManager._signal;A(this,hl,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),N(this,ct,Kf).call(this,o)}r()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>N(this,ct,Qf).call(this))),t.click()},av=function(){var g;const{div:t}=this;let{width:n,height:r}=u(this,Dt);const[o,l]=this.pageDimensions,c=.75;if(this.width)n=this.width*o,r=this.height*l;else if(n>c*o||r>c*l){const y=Math.min(c*o/n,c*l/r);n*=y,r*=y}const[d,f]=this.parentDimensions;this.setDims(n*d/o,r*f/l),this._uiManager.enableWaiting(!1);const p=A(this,Go,document.createElement("canvas"));p.setAttribute("role","img"),this.addContainer(p),this.width=n/o,this.height=r/l,(g=this._initialOptions)!=null&&g.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),N(this,ct,C_).call(this),u(this,Th)||(this.parent.addUndoableEditor(this),A(this,Th,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,Ch)&&this.div.setAttribute("aria-description",u(this,Ch)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},lv=function(t,n){const{width:r,height:o}=u(this,Dt);let l=r,c=o,d=u(this,Dt);for(;l>2*t||c>2*n;){const f=l,p=c;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),c>2*n&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const g=new OffscreenCanvas(l,c);g.getContext("2d").drawImage(d,0,0,f,p,0,0,l,c),d=g.transferToImageBitmap()}return d},C_=function(){const[t,n]=this.parentDimensions,{width:r,height:o}=this,l=new hs,c=Math.ceil(r*t*l.sx),d=Math.ceil(o*n*l.sy),f=u(this,Go);if(!f||f.width===c&&f.height===d)return;f.width=c,f.height=d;const p=u(this,ii)?u(this,Dt):N(this,ct,lv).call(this,c,d),g=f.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(p,0,0,p.width,p.height,0,0,c,d)},cv=function(t){if(t){if(u(this,ii)){const o=this._uiManager.imageManager.getSvgUrl(u(this,In));if(o)return o}const n=document.createElement("canvas");return{width:n.width,height:n.height}=u(this,Dt),n.getContext("2d").drawImage(u(this,Dt),0,0),n.toDataURL()}if(u(this,ii)){const[n,r]=this.pageDimensions,o=Math.round(this.width*n*na.PDF_TO_CSS_UNITS),l=Math.round(this.height*r*na.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(o,l);return c.getContext("2d").drawImage(u(this,Dt),0,0,u(this,Dt).width,u(this,Dt).height,0,0,o,l),c.transferToImageBitmap()}return structuredClone(u(this,Dt))},EI=function(t){var c;const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,o=t.pageIndex===n,l=(((c=t.accessibilityData)==null?void 0:c.alt)||"")===r;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&o&&l,isSameAltText:l}},me(A_,"_type","stamp"),me(A_,"_editorType",Ve.STAMP);var uu,Ph,Ws,pl,qo,si,gl,Rh,du,is,Yo,Ln,Xo,ml,kh,Me,yl,Ft,AI,Ss,T_,P_,uv;const Vi=class Vi{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:r,accessibilityManager:o,annotationLayer:l,drawLayer:c,textLayer:d,viewport:f,l10n:p}){k(this,Ft);k(this,uu);k(this,Ph,!1);k(this,Ws,null);k(this,pl,null);k(this,qo,null);k(this,si,new Map);k(this,gl,!1);k(this,Rh,!1);k(this,du,!1);k(this,is,null);k(this,Yo,null);k(this,Ln,null);k(this,Xo,null);k(this,ml,null);k(this,kh,-1);k(this,Me);const g=[...u(Vi,yl).values()];if(!Vi._initialized){Vi._initialized=!0;for(const y of g)y.initialize(p,e)}e.registerEditorTypes(g),A(this,Me,e),this.pageIndex=t,this.div=n,A(this,uu,o),A(this,Ws,l),this.viewport=f,A(this,Ln,d),this.drawLayer=c,this._structTree=r,u(this,Me).addLayer(this)}get isEmpty(){return u(this,si).size===0}get isInvisible(){return this.isEmpty&&u(this,Me).getMode()===Ve.NONE}updateToolbar(e){u(this,Me).updateToolbar(e)}updateMode(e=u(this,Me).getMode()){switch(N(this,Ft,uv).call(this),e){case Ve.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ve.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ve.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of u(Vi,yl).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=u(this,Ln))==null?void 0:t.div)}setEditingState(e){u(this,Me).setEditingState(e)}addCommands(e){u(this,Me).addCommands(e)}cleanUndoStack(e){u(this,Me).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=u(this,Ws))==null||t.div.classList.toggle("disabled",!e)}async enable(){var n;A(this,du,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(n=u(this,ml))==null||n.abort(),A(this,ml,null);const e=new Set;for(const r of u(this,si).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(u(this,Me).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!u(this,Ws)){A(this,du,!1);return}const t=u(this,Ws).getEditableAnnotations();for(const r of t){if(r.hide(),u(this,Me).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const o=await this.deserialize(r);o&&(this.addOrRebuild(o),o.enableEditing())}A(this,du,!1)}disable(){var r;if(A(this,Rh,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),u(this,Ln)&&!u(this,ml)){A(this,ml,new AbortController);const o=u(this,Me).combinedSignal(u(this,ml));u(this,Ln).div.addEventListener("pointerdown",l=>{const{clientX:d,clientY:f,timeStamp:p}=l,g=u(this,kh);if(p-g>500){A(this,kh,p);return}A(this,kh,-1);const{classList:y}=this.div;y.toggle("getElements",!0);const w=document.elementsFromPoint(d,f);if(y.toggle("getElements",!1),!this.div.contains(w[0]))return;let S;const b=new RegExp(`^${mR}[0-9]+$`);for(const T of w)if(b.test(T.id)){S=T.id;break}if(!S)return;const E=u(this,si).get(S);(E==null?void 0:E.annotationElementId)===null&&(l.stopPropagation(),l.preventDefault(),E.dblclick())},{signal:o,capture:!0})}const e=new Map,t=new Map;for(const o of u(this,si).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else t.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(u(this,Ws)){const o=u(this,Ws).getEditableAnnotations();for(const l of o){const{id:c}=l.data;if(u(this,Me).isDeletedAnnotationElement(c))continue;let d=t.get(c);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=e.get(c),d&&(u(this,Me).addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}N(this,Ft,uv).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const o of u(Vi,yl).values())n.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),A(this,Rh,!1)}getEditableAnnotation(e){var t;return((t=u(this,Ws))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){u(this,Me).getActive()!==e&&u(this,Me).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=u(this,Ln))!=null&&e.div&&!u(this,Xo)){A(this,Xo,new AbortController);const t=u(this,Me).combinedSignal(u(this,Xo));u(this,Ln).div.addEventListener("pointerdown",N(this,Ft,AI).bind(this),{signal:t}),u(this,Ln).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=u(this,Ln))!=null&&e.div&&u(this,Xo)&&(u(this,Xo).abort(),A(this,Xo,null),u(this,Ln).div.classList.remove("highlighting"))}enableClick(){if(u(this,pl))return;A(this,pl,new AbortController);const e=u(this,Me).combinedSignal(u(this,pl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=u(this,pl))==null||e.abort(),A(this,pl,null)}attach(e){u(this,si).set(e.id,e);const{annotationElementId:t}=e;t&&u(this,Me).isDeletedAnnotationElement(t)&&u(this,Me).removeDeletedAnnotationElement(e)}detach(e){var t;u(this,si).delete(e.id),(t=u(this,uu))==null||t.removePointerInTextLayer(e.contentDiv),!u(this,Rh)&&e.annotationElementId&&u(this,Me).addDeletedAnnotationElement(e)}remove(e){this.detach(e),u(this,Me).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(u(this,Me).addDeletedAnnotationElement(e.annotationElementId),Tt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),u(this,Me).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!u(this,du)),u(this,Me).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!u(this,qo)&&(e._focusEventsAllowed=!1,A(this,qo,setTimeout(()=>{A(this,qo,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:u(this,Me)._signal}),t.focus())},0))),e._structTreeParentId=(n=u(this,uu))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return u(this,Me).getId()}combinedSignal(e){return u(this,Me).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=u(this,Ft,Ss))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await u(this,Me).updateMode(e.mode);const{offsetX:n,offsetY:r}=N(this,Ft,P_).call(this),o=this.getNextId(),l=N(this,Ft,T_).call(this,{parent:this,id:o,x:n,y:r,uiManager:u(this,Me),isCentered:!0,...t});l&&this.add(l)}async deserialize(e){var t;return await((t=u(Vi,yl).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,u(this,Me)))||null}createAndAddNewEditor(e,t,n={}){const r=this.getNextId(),o=N(this,Ft,T_).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:u(this,Me),isCentered:t,...n});return o&&this.add(o),o}addNewEditor(e={}){this.createAndAddNewEditor(N(this,Ft,P_).call(this),!0,e)}setSelected(e){u(this,Me).setSelected(e)}toggleSelected(e){u(this,Me).toggleSelected(e)}unselect(e){u(this,Me).unselect(e)}pointerup(e){var r;const{isMac:t}=Nn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!u(this,gl)||(A(this,gl,!1),(r=u(this,Ft,Ss))!=null&&r.isDrawer&&u(this,Ft,Ss).supportMultipleDrawings))return;if(!u(this,Ph)){A(this,Ph,!0);return}const n=u(this,Me).getMode();if(n===Ve.STAMP||n===Ve.SIGNATURE){u(this,Me).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(u(this,Me).getMode()===Ve.HIGHLIGHT&&this.enableTextSelection(),u(this,gl)){A(this,gl,!1);return}const{isMac:t}=Nn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(A(this,gl,!0),(r=u(this,Ft,Ss))!=null&&r.isDrawer){this.startDrawingSession(e);return}const n=u(this,Me).getActive();A(this,Ph,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),u(this,is)){u(this,Ft,Ss).startDrawing(this,u(this,Me),!1,e);return}u(this,Me).setCurrentDrawingSession(this),A(this,is,new AbortController);const t=u(this,Me).combinedSignal(u(this,is));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(A(this,Yo,null),this.commitOrRemove())},{signal:t}),u(this,Ft,Ss).startDrawing(this,u(this,Me),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&A(this,Yo,t);return}u(this,Yo)&&setTimeout(()=>{var t;(t=u(this,Yo))==null||t.focus(),A(this,Yo,null)},0)}endDrawingSession(e=!1){return u(this,is)?(u(this,Me).setCurrentDrawingSession(null),u(this,is).abort(),A(this,is,null),A(this,Yo,null),u(this,Ft,Ss).endDrawing(e)):null}findNewParent(e,t,n){const r=u(this,Me).findParent(t,n);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return u(this,is)?(this.endDrawingSession(),!0):!1}onScaleChanging(){u(this,is)&&u(this,Ft,Ss).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=u(this,Me).getActive())==null?void 0:e.parent)===this&&(u(this,Me).commitOrRemove(),u(this,Me).setActiveEditor(null)),u(this,qo)&&(clearTimeout(u(this,qo)),A(this,qo,null));for(const n of u(this,si).values())(t=u(this,uu))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,u(this,si).clear(),u(this,Me).removeLayer(this)}render({viewport:e}){this.viewport=e,El(this.div,e);for(const t of u(this,Me).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){u(this,Me).commitOrRemove(),N(this,Ft,uv).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,El(this.div,{rotation:n}),t!==n)for(const r of u(this,si).values())r.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return u(this,Me).viewParameters.realScale}};uu=new WeakMap,Ph=new WeakMap,Ws=new WeakMap,pl=new WeakMap,qo=new WeakMap,si=new WeakMap,gl=new WeakMap,Rh=new WeakMap,du=new WeakMap,is=new WeakMap,Yo=new WeakMap,Ln=new WeakMap,Xo=new WeakMap,ml=new WeakMap,kh=new WeakMap,Me=new WeakMap,yl=new WeakMap,Ft=new WeakSet,AI=function(e){u(this,Me).unselectAll();const{target:t}=e;if(t===u(this,Ln).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&u(this,Ln).div.contains(t)){const{isMac:n}=Nn.platform;if(e.button!==0||e.ctrlKey&&n)return;u(this,Me).showAllEditors("highlight",!0,!0),u(this,Ln).div.classList.add("free"),this.toggleDrawing(),kv.startHighlighting(this,u(this,Me).direction==="ltr",{target:u(this,Ln).div,x:e.x,y:e.y}),u(this,Ln).div.addEventListener("pointerup",()=>{u(this,Ln).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,Me)._signal}),e.preventDefault()}},Ss=function(){return u(Vi,yl).get(u(this,Me).getMode())},T_=function(e){const t=u(this,Ft,Ss);return t?new t.prototype.constructor(e):null},P_=function(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,e),l=Math.max(0,t),c=Math.min(window.innerWidth,e+n),d=Math.min(window.innerHeight,t+r),f=(o+c)/2-e,p=(l+d)/2-t,[g,y]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:g,offsetY:y}},uv=function(){for(const e of u(this,si).values())e.isEmpty()&&e.remove()},me(Vi,"_initialized",!1),k(Vi,yl,new Map([s_,v_,A_,kv,E_].map(e=>[e._editorType,e])));let Lv=Vi;var ss,yr,hu,qg,Zv,CI,Zs,R_,TI,k_;const gn=class gn{constructor({pageIndex:e}){k(this,Zs);k(this,ss,null);k(this,yr,new Map);k(this,hu,new Map);this.pageIndex=e}setParent(e){if(!u(this,ss)){A(this,ss,e);return}if(u(this,ss)!==e){if(u(this,yr).size>0)for(const t of u(this,yr).values())t.remove(),e.append(t);A(this,ss,e)}}static get _svgFactory(){return nt(this,"_svgFactory",new gp)}draw(e,t=!1,n=!1){const r=Sn(gn,qg)._++,o=N(this,Zs,R_).call(this),l=gn._svgFactory.createElement("defs");o.append(l);const c=gn._svgFactory.createElement("path");l.append(c);const d=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",d),c.setAttribute("vector-effect","non-scaling-stroke"),t&&u(this,hu).set(r,c);const f=n?N(this,Zs,TI).call(this,l,d):null,p=gn._svgFactory.createElement("use");return o.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(o,e),u(this,yr).set(r,o),{id:r,clipPathId:`url(#${f})`}}drawOutline(e,t){const n=Sn(gn,qg)._++,r=N(this,Zs,R_).call(this),o=gn._svgFactory.createElement("defs");r.append(o);const l=gn._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(t){const g=gn._svgFactory.createElement("mask");o.append(g),d=`mask_p${this.pageIndex}_${n}`,g.setAttribute("id",d),g.setAttribute("maskUnits","objectBoundingBox");const y=gn._svgFactory.createElement("rect");g.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const w=gn._svgFactory.createElement("use");g.append(w),w.setAttribute("href",`#${c}`),w.setAttribute("stroke","none"),w.setAttribute("fill","black"),w.setAttribute("fill-rule","nonzero"),w.classList.add("mask")}const f=gn._svgFactory.createElement("use");r.append(f),f.setAttribute("href",`#${c}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return r.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(r,e),u(this,yr).set(n,r),n}finalizeDraw(e,t){u(this,hu).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var d;if(!t)return;const{root:n,bbox:r,rootClass:o,path:l}=t,c=typeof e=="number"?u(this,yr).get(e):e;if(c){if(n&&N(this,Zs,k_).call(this,c,n),r&&N(d=gn,Zv,CI).call(d,c,r),o){const{classList:f}=c;for(const[p,g]of Object.entries(o))f.toggle(p,g)}if(l){const p=c.firstChild.firstChild;N(this,Zs,k_).call(this,p,l)}}}updateParent(e,t){if(t===this)return;const n=u(this,yr).get(e);n&&(u(t,ss).append(n),u(this,yr).delete(e),u(t,yr).set(e,n))}remove(e){u(this,hu).delete(e),u(this,ss)!==null&&(u(this,yr).get(e).remove(),u(this,yr).delete(e))}destroy(){A(this,ss,null);for(const e of u(this,yr).values())e.remove();u(this,yr).clear(),u(this,hu).clear()}};ss=new WeakMap,yr=new WeakMap,hu=new WeakMap,qg=new WeakMap,Zv=new WeakSet,CI=function(e,[t,n,r,o]){const{style:l}=e;l.top=`${100*n}%`,l.left=`${100*t}%`,l.width=`${100*r}%`,l.height=`${100*o}%`},Zs=new WeakSet,R_=function(){const e=gn._svgFactory.create(1,1,!0);return u(this,ss).append(e),e.setAttribute("aria-hidden",!0),e},TI=function(e,t){const n=gn._svgFactory.createElement("clipPath");e.append(n);const r=`clip_${t}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const o=gn._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),r},k_=function(e,t){for(const[n,r]of Object.entries(t))r===null?e.removeAttribute(n):e.setAttribute(n,r)},k(gn,Zv),k(gn,qg,0);let Nv=gn;globalThis._pdfjsTestingUtils={HighlightOutliner:a_};globalThis.pdfjsLib={AbortException:ta,AnnotationEditorLayer:Lv,AnnotationEditorParamsType:st,AnnotationEditorType:Ve,AnnotationEditorUIManager:Al,AnnotationLayer:T1,AnnotationMode:qs,AnnotationType:Zt,build:Tk,ColorPicker:mp,createValidAbsoluteUrl:p1,DOMSVGFactory:gp,DrawLayer:Nv,FeatureTest:Nn,fetchData:Bh,getDocument:_1,getFilenameFromUrl:_R,getPdfFilenameFromUrl:SR,getUuid:m1,getXfaPageViewport:ER,GlobalWorkerOptions:Ii,ImageKind:ep,InvalidPDFException:Cv,isDataScheme:rm,isPdfFile:b0,isValidExplicitDest:ik,MathClamp:sr,noContextMenu:Mi,normalizeUnicode:bR,OPS:up,OutputScale:hs,PasswordResponses:vR,PDFDataRangeTransport:S1,PDFDateString:x0,PDFWorker:Nh,PermissionFlag:yR,PixelsPerInch:na,RenderingCancelledException:w0,ResponseException:dp,setLayerDimensions:El,shadow:nt,SignatureExtractor:Ys,stopEvent:nn,SupportedImageMimeTypes:Tv,TextLayer:fp,TouchManager:hp,updateUrlHash:g1,Util:De,VerbosityLevel:em,version:E1,XfaLayer:A1};const H4=Object.freeze(Object.defineProperty({__proto__:null,AbortException:ta,AnnotationEditorLayer:Lv,AnnotationEditorParamsType:st,AnnotationEditorType:Ve,AnnotationEditorUIManager:Al,AnnotationLayer:T1,AnnotationMode:qs,AnnotationType:Zt,ColorPicker:mp,DOMSVGFactory:gp,DrawLayer:Nv,FeatureTest:Nn,GlobalWorkerOptions:Ii,ImageKind:ep,InvalidPDFException:Cv,MathClamp:sr,OPS:up,OutputScale:hs,PDFDataRangeTransport:S1,PDFDateString:x0,PDFWorker:Nh,PasswordResponses:vR,PermissionFlag:yR,PixelsPerInch:na,RenderingCancelledException:w0,ResponseException:dp,SignatureExtractor:Ys,SupportedImageMimeTypes:Tv,TextLayer:fp,TouchManager:hp,Util:De,VerbosityLevel:em,XfaLayer:A1,build:Tk,createValidAbsoluteUrl:p1,fetchData:Bh,getDocument:_1,getFilenameFromUrl:_R,getPdfFilenameFromUrl:SR,getUuid:m1,getXfaPageViewport:ER,isDataScheme:rm,isPdfFile:b0,isValidExplicitDest:ik,noContextMenu:Mi,normalizeUnicode:bR,setLayerDimensions:El,shadow:nt,stopEvent:nn,updateUrlHash:g1,version:E1},Symbol.toStringTag,{value:"Module"}));function PI(s){var e,t,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s)){var r=s.length;for(e=0;e<r;e++)s[e]&&(t=PI(s[e]))&&(n&&(n+=" "),n+=t)}else for(t in s)s[t]&&(n&&(n+=" "),n+=t);return n}function E0(){for(var s,e,t=0,n="",r=arguments.length;t<r;t++)(s=arguments[t])&&(e=PI(s))&&(n&&(n+=" "),n+=e);return n}var IC=Object.prototype.hasOwnProperty;function LC(s,e,t){for(t of s.keys())if(fd(t,e))return t}function fd(s,e){var t,n,r;if(s===e)return!0;if(s&&e&&(t=s.constructor)===e.constructor){if(t===Date)return s.getTime()===e.getTime();if(t===RegExp)return s.toString()===e.toString();if(t===Array){if((n=s.length)===e.length)for(;n--&&fd(s[n],e[n]););return n===-1}if(t===Set){if(s.size!==e.size)return!1;for(n of s)if(r=n,r&&typeof r=="object"&&(r=LC(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(s.size!==e.size)return!1;for(n of s)if(r=n[0],r&&typeof r=="object"&&(r=LC(e,r),!r)||!fd(n[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)s=new Uint8Array(s),e=new Uint8Array(e);else if(t===DataView){if((n=s.byteLength)===e.byteLength)for(;n--&&s.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(s)){if((n=s.byteLength)===e.byteLength)for(;n--&&s[n]===e[n];);return n===-1}if(!t||typeof s=="object"){n=0;for(t in s)if(IC.call(s,t)&&++n&&!IC.call(e,t)||!(t in e)||!fd(s[t],e[t]))return!1;return Object.keys(e).length===n}}return s!==s&&e!==e}function am(s){let e=!1;return{promise:new Promise((n,r)=>{s.then(o=>!e&&n(o)).catch(o=>!e&&r(o))}),cancel(){e=!0}}}const U4=["onCopy","onCut","onPaste"],V4=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],W4=["onFocus","onBlur"],G4=["onInput","onInvalid","onReset","onSubmit"],q4=["onLoad","onError"],Y4=["onKeyDown","onKeyPress","onKeyUp"],X4=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],K4=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Q4=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],J4=["onSelect"],Z4=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],eH=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],tH=["onScroll"],nH=["onWheel"],rH=["onAnimationStart","onAnimationEnd","onAnimationIteration"],iH=["onTransitionEnd"],sH=["onToggle"],oH=["onChange"],aH=[...U4,...V4,...W4,...G4,...q4,...Y4,...X4,...K4,...Q4,...J4,...Z4,...eH,...tH,...nH,...rH,...iH,...oH,...sH];function RI(s,e){const t={};for(const n of aH){const r=s[n];r&&(e?t[n]=(o=>r(o,e(n))):t[n]=r)}return t}var lH="Invariant failed";function Et(s,e){if(!s)throw new Error(lH)}var $b,NC;function cH(){if(NC)return $b;NC=1;var s=function(){};return $b=s,$b}var uH=cH();const or=bu(uH),kI=R.createContext(null),dH="noopener noreferrer nofollow";class hH{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Et(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Et(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Et(this.pdfDocument),Et(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Et(Array.isArray(t));const n=t[0];new Promise(r=>{Et(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{r(o)}).catch(()=>{Et(!1)}):typeof n=="number"?r(n):Et(!1)}).then(r=>{const o=r+1;Et(this.pdfViewer),Et(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:o})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Et(this.pdfViewer),Et(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||dH,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function pd({children:s,type:e}){return P.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:s})}const MC={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function fH(s,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return s}}function Mh(){return R.useReducer(fH,{value:void 0,error:void 0})}const A0=typeof window<"u",II=A0&&window.location.protocol==="file:";function pH(s){return typeof s<"u"}function ql(s){return pH(s)&&s!==null}function gH(s){return typeof s=="string"}function mH(s){return s instanceof ArrayBuffer}function yH(s){return Et(A0),s instanceof Blob}function I_(s){return gH(s)&&/^data:/.test(s)}function DC(s){Et(I_(s));const[e="",t=""]=s.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function vH(){return A0&&window.devicePixelRatio||1}const LI="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function OC(){or(!II,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${LI}`)}function wH(){or(!II,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${LI}`)}function yu(s){s!=null&&s.cancel&&s.cancel()}function L_(s,e){return Object.defineProperty(s,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(s,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(s,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(s,"originalHeight",{get(){return this.view[3]},configurable:!0}),s}function bH(s){return s.name==="RenderingCancelledException"}function xH(s){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return t(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(s)})}const{PDFDataRangeTransport:_H}=H4,SH=(s,e)=>{switch(e){case MC.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");s(t);break}case MC.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");s(t);break}}};function FC(s){return typeof s=="object"&&s!==null&&("data"in s||"range"in s||"url"in s)}const EH=R.forwardRef(function({children:e,className:t,error:n="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:d,loading:f="Loading PDF…",noData:p="No PDF file specified.",onItemClick:g,onLoadError:y,onLoadProgress:w,onLoadSuccess:S,onPassword:b=SH,onSourceError:E,onSourceSuccess:T,options:I,renderMode:L,rotate:D,scale:F,...B},$){const[V,q]=Mh(),{value:te,error:re}=V,[be,pe]=Mh(),{value:ae,error:_e}=be,Y=R.useRef(new hH),J=R.useRef([]),Q=R.useRef(void 0),ue=R.useRef(void 0);l&&l!==Q.current&&FC(l)&&(or(!fd(l,Q.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Q.current=l),I&&I!==ue.current&&(or(!fd(I,ue.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ue.current=I);const ce=R.useRef({scrollPageIntoView:Fe=>{const{dest:Ue,pageNumber:ot,pageIndex:Ze=ot-1}=Fe;if(g){g({dest:Ue,pageIndex:Ze,pageNumber:ot});return}const vt=J.current[Ze];if(vt){vt.scrollIntoView();return}or(!1,`An internal link leading to page ${ot} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});R.useImperativeHandle($,()=>({linkService:Y,pages:J,viewer:ce}),[]);function U(){T&&T()}function ne(){re&&(or(!1,re.toString()),E&&E(re))}function le(){q({type:"RESET"})}R.useEffect(le,[l,q]);const he=R.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return I_(l)?{data:DC(l)}:(OC(),{url:l});if(l instanceof _H)return{range:l};if(mH(l))return{data:l};if(A0&&yH(l))return{data:await xH(l)};if(Et(typeof l=="object"),Et(FC(l)),"url"in l&&typeof l.url=="string"){if(I_(l.url)){const{url:Fe,...Ue}=l;return{data:DC(Fe),...Ue}}OC()}return l},[l]);R.useEffect(()=>{const Fe=am(he());return Fe.promise.then(Ue=>{q({type:"RESOLVE",value:Ue})}).catch(Ue=>{q({type:"REJECT",error:Ue})}),()=>{yu(Fe)}},[he,q]),R.useEffect(()=>{if(!(typeof te>"u")){if(te===!1){ne();return}U()}},[te]);function ve(){ae&&(S&&S(ae),J.current=new Array(ae.numPages),Y.current.setDocument(ae))}function Se(){_e&&(or(!1,_e.toString()),y&&y(_e))}R.useEffect(function(){pe({type:"RESET"})},[pe,te]),R.useEffect(function(){if(!te)return;const Ue=I?{...te,...I}:te,ot=_1(Ue);w&&(ot.onProgress=w),b&&(ot.onPassword=b);const Ze=ot,vt=Ze.promise.then(ar=>{pe({type:"RESOLVE",value:ar})}).catch(ar=>{Ze.destroyed||pe({type:"REJECT",error:ar})});return()=>{vt.finally(()=>Ze.destroy())}},[I,pe,te]),R.useEffect(()=>{if(!(typeof ae>"u")){if(ae===!1){Se();return}ve()}},[ae]),R.useEffect(function(){Y.current.setViewer(ce.current),Y.current.setExternalLinkRel(r),Y.current.setExternalLinkTarget(o)},[r,o]);const oe=R.useCallback((Fe,Ue)=>{J.current[Fe]=Ue},[]),ye=R.useCallback(Fe=>{delete J.current[Fe]},[]),Ie=R.useMemo(()=>({imageResourcesPath:d,linkService:Y.current,onItemClick:g,pdf:ae,registerPage:oe,renderMode:L,rotate:D,scale:F,unregisterPage:ye}),[d,g,ae,oe,L,D,F,ye]),Ee=R.useMemo(()=>RI(B,()=>ae),[B,ae]);function Oe(){function Fe(ot){return!!(ot!=null&&ot.pdf)}if(!Fe(Ie))throw new Error("pdf is undefined");const Ue=typeof e=="function"?e(Ie):e;return P.jsx(kI.Provider,{value:Ie,children:Ue})}function je(){return l?ae==null?P.jsx(pd,{type:"loading",children:typeof f=="function"?f():f}):ae===!1?P.jsx(pd,{type:"error",children:typeof n=="function"?n():n}):Oe():P.jsx(pd,{type:"no-data",children:typeof p=="function"?p():p})}return P.jsx("div",{className:E0("react-pdf__Document",t),ref:c,...Ee,children:je()})});function NI(){return R.useContext(kI)}function MI(){for(var s=[],e=0;e<arguments.length;e++)s[e]=arguments[e];var t=s.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(o){for(var l=0,c=t;l<c.length;l++){var d=c[l];typeof d=="function"?d(o):d&&(d.current=o)}}}const DI=R.createContext(null);function C0(){return R.useContext(DI)}function AH(){const s=NI(),e=C0();Et(e);const t={...s,...e},{imageResourcesPath:n,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:d,page:f,pdf:p,renderForms:g,rotate:y,scale:w=1}=t;Et(p),Et(f),Et(r);const[S,b]=Mh(),{value:E,error:T}=S,I=R.useRef(null);or(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function L(){E&&l&&l(E)}function D(){T&&(or(!1,T.toString()),o&&o(T))}R.useEffect(function(){b({type:"RESET"})},[b,f]),R.useEffect(function(){if(!f)return;const q=am(f.getAnnotations()),te=q;return q.promise.then(re=>{b({type:"RESOLVE",value:re})}).catch(re=>{b({type:"REJECT",error:re})}),()=>{yu(te)}},[b,f]),R.useEffect(()=>{if(E!==void 0){if(E===!1){D();return}L()}},[E]);function F(){d&&d()}function B(V){or(!1,`${V}`),c&&c(V)}const $=R.useMemo(()=>f.getViewport({scale:w,rotation:y}),[f,y,w]);return R.useEffect(function(){if(!p||!f||!r||!E)return;const{current:q}=I;if(!q)return;const te=$.clone({dontFlip:!0}),re={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:q,l10n:null,page:f,structTreeLayer:null,viewport:te},be={annotations:E,annotationStorage:p.annotationStorage,div:q,imageResourcesPath:n,linkService:r,page:f,renderForms:g,viewport:te};q.innerHTML="";try{new T1(re).render(be),F()}catch(pe){B(pe)}return()=>{}},[E,n,r,f,p,g,$]),P.jsx("div",{className:E0("react-pdf__Page__annotations","annotationLayer"),ref:I})}const OI={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},CH=/^H(\d+)$/;function TH(s){return s in OI}function T0(s){return"children"in s}function FI(s){return T0(s)?s.children.length===1&&0 in s.children&&"id"in s.children[0]:!1}function PH(s){const e={};if(T0(s)){const{role:t}=s,n=t.match(CH);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(TH(t)){const r=OI[t];r&&(e.role=r)}}return e}function jI(s){const e={};if(T0(s)){if(s.alt!==void 0&&(e["aria-label"]=s.alt),s.lang!==void 0&&(e.lang=s.lang),FI(s)){const[t]=s.children;if(t){const n=jI(t);return{...e,...n}}}}else"id"in s&&(e["aria-owns"]=s.id);return e}function RH(s){return s?{...PH(s),...jI(s)}:null}function BI({className:s,node:e}){const t=R.useMemo(()=>RH(e),[e]),n=R.useMemo(()=>!T0(e)||FI(e)?null:e.children.map((r,o)=>P.jsx(BI,{node:r},o)),[e]);return P.jsx("span",{className:s,...t,children:n})}function kH(){const s=C0();Et(s);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=s,[n,r]=Mh(),{value:o,error:l}=n,{customTextRenderer:c,page:d}=s;function f(){o&&t&&t(o)}function p(){l&&(or(!1,l.toString()),e&&e(l))}return R.useEffect(function(){r({type:"RESET"})},[r,d]),R.useEffect(function(){if(c||!d)return;const y=am(d.getStructTree()),w=y;return y.promise.then(S=>{r({type:"RESOLVE",value:S})}).catch(S=>{r({type:"REJECT",error:S})}),()=>yu(w)},[c,d,r]),R.useEffect(()=>{if(o!==void 0){if(o===!1){p();return}f()}},[o]),o?P.jsx(BI,{className:"react-pdf__Page__structTree structTree",node:o}):null}const jC=qs;function IH(s){const e=C0();Et(e);const t={...e,...s},{_className:n,canvasBackground:r,devicePixelRatio:o=vH(),onRenderError:l,onRenderSuccess:c,page:d,renderForms:f,renderTextLayer:p,rotate:g,scale:y}=t,{canvasRef:w}=s;Et(d);const S=R.useRef(null);function b(){d&&c&&c(L_(d,y))}function E(D){bH(D)||(or(!1,D.toString()),l&&l(D))}const T=R.useMemo(()=>d.getViewport({scale:y*o,rotation:g}),[o,d,g,y]),I=R.useMemo(()=>d.getViewport({scale:y,rotation:g}),[d,g,y]);R.useEffect(function(){if(!d)return;d.cleanup();const{current:F}=S;if(!F)return;F.width=T.width,F.height=T.height,F.style.width=`${Math.floor(I.width)}px`,F.style.height=`${Math.floor(I.height)}px`,F.style.visibility="hidden";const B={annotationMode:f?jC.ENABLE_FORMS:jC.ENABLE,canvasContext:F.getContext("2d",{alpha:!1}),viewport:T};r&&(B.background=r);const $=d.render(B),V=$;return $.promise.then(()=>{F.style.visibility="",b()}).catch(E),()=>yu(V)},[r,d,f,T,I]);const L=R.useCallback(()=>{const{current:D}=S;D&&(D.width=0,D.height=0)},[]);return R.useEffect(()=>L,[L]),P.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:MI(w,S),style:{display:"block",userSelect:"none"},children:p?P.jsx(kH,{}):null})}function LH(s){return"str"in s}function NH(){const s=C0();Et(s);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:l,pageIndex:c,pageNumber:d,rotate:f,scale:p}=s;Et(l);const[g,y]=Mh(),{value:w,error:S}=g,b=R.useRef(null);or(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function E(){w&&n&&n(w)}function T(){S&&(or(!1,S.toString()),t&&t(S))}R.useEffect(function(){y({type:"RESET"})},[l,y]),R.useEffect(function(){if(!l)return;const V=am(l.getTextContent()),q=V;return V.promise.then(te=>{y({type:"RESOLVE",value:te})}).catch(te=>{y({type:"REJECT",error:te})}),()=>yu(q)},[l,y]),R.useEffect(()=>{if(w!==void 0){if(w===!1){T();return}E()}},[w]);const I=R.useCallback(()=>{o&&o()},[o]),L=R.useCallback($=>{or(!1,$.toString()),r&&r($)},[r]);function D(){const $=b.current;$&&$.classList.add("selecting")}function F(){const $=b.current;$&&$.classList.remove("selecting")}const B=R.useMemo(()=>l.getViewport({scale:p,rotation:f}),[l,f,p]);return R.useLayoutEffect(function(){if(!l||!w)return;const{current:V}=b;if(!V)return;V.innerHTML="";const q=l.streamTextContent({includeMarkedContent:!0}),te={container:V,textContentSource:q,viewport:B},re=new fp(te),be=re;return re.render().then(()=>{const pe=document.createElement("div");pe.className="endOfContent",V.append(pe);const ae=V.querySelectorAll('[role="presentation"]');if(e){let _e=0;w.items.forEach((Y,J)=>{if(!LH(Y))return;const Q=ae[_e];if(!Q)return;const ue=e({pageIndex:c,pageNumber:d,itemIndex:J,...Y});Q.innerHTML=ue,_e+=Y.str&&Y.hasEOL?2:1})}I()}).catch(L),()=>yu(be)},[e,L,I,l,c,d,w,B]),P.jsx("div",{className:E0("react-pdf__Page__textContent","textLayer"),onMouseUp:F,onMouseDown:D,ref:b})}const BC=1;function MH(s){const t={...NI(),...s},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:l,children:c,className:d,customRenderer:f,customTextRenderer:p,devicePixelRatio:g,error:y="Failed to load the page.",height:w,inputRef:S,loading:b="Loading page…",noData:E="No page specified.",onGetAnnotationsError:T,onGetAnnotationsSuccess:I,onGetStructTreeError:L,onGetStructTreeSuccess:D,onGetTextError:F,onGetTextSuccess:B,onLoadError:$,onLoadSuccess:V,onRenderAnnotationLayerError:q,onRenderAnnotationLayerSuccess:te,onRenderError:re,onRenderSuccess:be,onRenderTextLayerError:pe,onRenderTextLayerSuccess:ae,pageIndex:_e,pageNumber:Y,pdf:J,registerPage:Q,renderAnnotationLayer:ue=!0,renderForms:ce=!1,renderMode:U="canvas",renderTextLayer:ne=!0,rotate:le,scale:he=BC,unregisterPage:ve,width:Se,...oe}=t,[ye,Ie]=Mh(),{value:Ee,error:Oe}=ye,je=R.useRef(null);Et(J);const Fe=ql(Y)?Y-1:_e??null,Ue=Y??(ql(_e)?_e+1:null),ot=le??(Ee?Ee.rotate:null),Ze=R.useMemo(()=>{if(!Ee)return null;let Yn=1;const jt=he??BC;if(Se||w){const On=Ee.getViewport({scale:1,rotation:ot});Se?Yn=Se/On.width:w&&(Yn=w/On.height)}return jt*Yn},[w,Ee,ot,he,Se]);R.useEffect(function(){return()=>{ql(Fe)&&r&&ve&&ve(Fe)}},[r,J,Fe,ve]);function vt(){if(V){if(!Ee||!Ze)return;V(L_(Ee,Ze))}if(r&&Q){if(!ql(Fe)||!je.current)return;Q(Fe,je.current)}}function ar(){Oe&&(or(!1,Oe.toString()),$&&$(Oe))}R.useEffect(function(){Ie({type:"RESET"})},[Ie,J,Fe]),R.useEffect(function(){if(!J||!Ue)return;const jt=am(J.getPage(Ue)),On=jt;return jt.promise.then(O=>{Ie({type:"RESOLVE",value:O})}).catch(O=>{Ie({type:"REJECT",error:O})}),()=>yu(On)},[Ie,J,Ue]),R.useEffect(()=>{if(Ee!==void 0){if(Ee===!1){ar();return}vt()}},[Ee,Ze]);const kt=R.useMemo(()=>ql(Fe)&&Ue&&ql(ot)&&ql(Ze)?{_className:n,canvasBackground:o,customTextRenderer:p,devicePixelRatio:g,onGetAnnotationsError:T,onGetAnnotationsSuccess:I,onGetStructTreeError:L,onGetStructTreeSuccess:D,onGetTextError:F,onGetTextSuccess:B,onRenderAnnotationLayerError:q,onRenderAnnotationLayerSuccess:te,onRenderError:re,onRenderSuccess:be,onRenderTextLayerError:pe,onRenderTextLayerSuccess:ae,page:Ee,pageIndex:Fe,pageNumber:Ue,renderForms:ce,renderTextLayer:ne,rotate:ot,scale:Ze}:null,[n,o,p,g,T,I,L,D,F,B,q,te,re,be,pe,ae,Ee,Fe,Ue,ce,ne,ot,Ze]),jr=R.useMemo(()=>RI(oe,()=>Ee&&(Ze?L_(Ee,Ze):void 0)),[oe,Ee,Ze]),lr=`${Fe}@${Ze}/${ot}`;function Xt(){switch(U){case"custom":return Et(f),P.jsx(f,{},`${lr}_custom`);case"none":return null;case"canvas":default:return P.jsx(IH,{canvasRef:l},`${lr}_canvas`)}}function Sr(){return ne?P.jsx(NH,{},`${lr}_text`):null}function Di(){return ue?P.jsx(AH,{},`${lr}_annotations`):null}function Dn(){function Yn(On){return!!(On!=null&&On.page)}if(!Yn(kt))throw new Error("page is undefined");const jt=typeof c=="function"?c(kt):c;return P.jsxs(DI.Provider,{value:kt,children:[Xt(),Sr(),Di(),jt]})}function Br(){return Ue?J===null||Ee===void 0||Ee===null?P.jsx(pd,{type:"loading",children:typeof b=="function"?b():b}):J===!1||Ee===!1?P.jsx(pd,{type:"error",children:typeof y=="function"?y():y}):Dn():P.jsx(pd,{type:"no-data",children:typeof E=="function"?E():E})}return P.jsx("div",{className:E0(n,d),"data-page-number":Ue,ref:MI(S,je),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Ze}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...jr,children:Br()})}wH();Ii.workerSrc="pdf.worker.mjs";const DH="_skeleton_1x4nk_2",OH={skeleton:DH};function zb({className:s,...e}){return P.jsx("div",{className:`${OH.skeleton} ${s??""}`,...e})}const FH="_pdfViewer_wyg6o_1",jH="_pdfHeader_wyg6o_9",BH="_title_wyg6o_18",$H="_controls_wyg6o_25",zH="_toolbar_wyg6o_30",HH="_navigationControls_wyg6o_41",UH="_pageInfo_wyg6o_47",VH="_zoomControls_wyg6o_55",WH="_zoomInfo_wyg6o_61",GH="_documentContainer_wyg6o_69",qH="_document_wyg6o_69",YH="_page_wyg6o_47",XH="_loadingState_wyg6o_99",KH="_errorState_wyg6o_112",QH="_errorMessage_wyg6o_126",dr={pdfViewer:FH,pdfHeader:jH,title:BH,controls:$H,toolbar:zH,navigationControls:HH,pageInfo:UH,zoomControls:VH,zoomInfo:WH,documentContainer:GH,document:qH,page:YH,loadingState:XH,errorState:KH,errorMessage:QH};Ii.workerSrc=`//unpkg.com/pdfjs-dist@${E1}/build/pdf.worker.min.js`;const JH=({file:s,title:e="Document",showDownload:t=!0,className:n})=>{const[r,o]=R.useState(null),[l,c]=R.useState(1),[d,f]=R.useState(1),[p,g]=R.useState(!0),[y,w]=R.useState(null),S=R.useCallback(({numPages:B})=>{o(B),g(!1),w(null)},[]),b=R.useCallback(B=>{console.error("PDF loading error:",B),w("Failed to load PDF document"),g(!1)},[]),E=R.useCallback(()=>{c(B=>Math.max(B-1,1))},[]),T=R.useCallback(()=>{c(B=>Math.min(B+1,r||1))},[r]),I=R.useCallback(()=>{f(B=>Math.min(B+.2,2))},[]),L=R.useCallback(()=>{f(B=>Math.max(B-.2,.5))},[]),D=R.useCallback(()=>{f(1)},[]),F=R.useCallback(()=>{if(typeof s=="string"){const B=document.createElement("a");B.href=s,B.download=e,document.body.appendChild(B),B.click(),document.body.removeChild(B)}},[s,e]);return P.jsxs("div",{className:`${dr.pdfViewer} ${n||""}`,children:[P.jsxs("div",{className:dr.pdfHeader,children:[P.jsx("span",{className:dr.title,children:e}),P.jsx("div",{className:dr.controls,children:t&&P.jsx(os,{variant:"ghost",size:"icon-sm",onClick:F,children:P.jsx(EP,{size:16})})})]}),y?P.jsxs("div",{className:dr.errorState,children:[P.jsx("p",{children:"Failed to load PDF document"}),P.jsx("p",{className:dr.errorMessage,children:y})]}):P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:dr.toolbar,children:[P.jsxs("div",{className:dr.navigationControls,children:[P.jsx(os,{variant:"ghost",size:"icon-sm",onClick:E,disabled:l<=1,children:P.jsx(mB,{size:16})}),P.jsx("span",{className:dr.pageInfo,children:p?P.jsx(zb,{style:{width:"60px",height:"1rem"}}):`${l} / ${r||0}`}),P.jsx(os,{variant:"ghost",size:"icon-sm",onClick:T,disabled:l>=(r||1),children:P.jsx(vB,{size:16})})]}),P.jsxs("div",{className:dr.zoomControls,children:[P.jsx(os,{variant:"ghost",size:"icon-sm",onClick:L,children:P.jsx(zB,{size:16})}),P.jsxs("span",{className:dr.zoomInfo,children:[Math.round(d*100),"%"]}),P.jsx(os,{variant:"ghost",size:"icon-sm",onClick:I,children:P.jsx(BB,{size:16})}),P.jsx(os,{variant:"ghost",size:"icon-sm",onClick:D,children:P.jsx(NB,{size:16})})]})]}),P.jsxs("div",{className:dr.documentContainer,children:[p&&P.jsxs("div",{className:dr.loadingState,children:[P.jsx(zb,{style:{width:"100%",height:"600px"}}),P.jsx("p",{children:"Loading document..."})]}),P.jsx(EH,{file:s,onLoadSuccess:S,onLoadError:b,loading:"",className:dr.document,children:P.jsx(MH,{pageNumber:l,scale:d,className:dr.page,renderTextLayer:!0,renderAnnotationLayer:!0,loading:P.jsx(zb,{style:{width:"100%",height:"600px"}})})})]})]})]})};function $C(s,[e,t]){return Math.min(t,Math.max(e,s))}var Hb=0;function ZH(){R.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??zC()),document.body.insertAdjacentElement("beforeend",s[1]??zC()),Hb++,()=>{Hb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Hb--}},[])}function zC(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.outline="none",s.style.opacity="0",s.style.position="fixed",s.style.pointerEvents="none",s}var Ub="focusScope.autoFocusOnMount",Vb="focusScope.autoFocusOnUnmount",HC={bubbles:!1,cancelable:!0},e6="FocusScope",$I=R.forwardRef((s,e)=>{const{loop:t=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:o,...l}=s,[c,d]=R.useState(null),f=bl(r),p=bl(o),g=R.useRef(null),y=Ut(e,b=>d(b)),w=R.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;R.useEffect(()=>{if(n){let b=function(L){if(w.paused||!c)return;const D=L.target;c.contains(D)?g.current=D:Ra(g.current,{select:!0})},E=function(L){if(w.paused||!c)return;const D=L.relatedTarget;D!==null&&(c.contains(D)||Ra(g.current,{select:!0}))},T=function(L){if(document.activeElement===document.body)for(const F of L)F.removedNodes.length>0&&Ra(c)};document.addEventListener("focusin",b),document.addEventListener("focusout",E);const I=new MutationObserver(T);return c&&I.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",E),I.disconnect()}}},[n,c,w.paused]),R.useEffect(()=>{if(c){VC.add(w);const b=document.activeElement;if(!c.contains(b)){const T=new CustomEvent(Ub,HC);c.addEventListener(Ub,f),c.dispatchEvent(T),T.defaultPrevented||(t6(o6(zI(c)),{select:!0}),document.activeElement===b&&Ra(c))}return()=>{c.removeEventListener(Ub,f),setTimeout(()=>{const T=new CustomEvent(Vb,HC);c.addEventListener(Vb,p),c.dispatchEvent(T),T.defaultPrevented||Ra(b??document.body,{select:!0}),c.removeEventListener(Vb,p),VC.remove(w)},0)}}},[c,f,p,w]);const S=R.useCallback(b=>{if(!t&&!n||w.paused)return;const E=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,T=document.activeElement;if(E&&T){const I=b.currentTarget,[L,D]=n6(I);L&&D?!b.shiftKey&&T===D?(b.preventDefault(),t&&Ra(L,{select:!0})):b.shiftKey&&T===L&&(b.preventDefault(),t&&Ra(D,{select:!0})):T===I&&b.preventDefault()}},[t,n,w.paused]);return P.jsx(ut.div,{tabIndex:-1,...l,ref:y,onKeyDown:S})});$I.displayName=e6;function t6(s,{select:e=!1}={}){const t=document.activeElement;for(const n of s)if(Ra(n,{select:e}),document.activeElement!==t)return}function n6(s){const e=zI(s),t=UC(e,s),n=UC(e.reverse(),s);return[t,n]}function zI(s){const e=[],t=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function UC(s,e){for(const t of s)if(!r6(t,{upTo:e}))return t}function r6(s,{upTo:e}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(e!==void 0&&s===e)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function i6(s){return s instanceof HTMLInputElement&&"select"in s}function Ra(s,{select:e=!1}={}){if(s&&s.focus){const t=document.activeElement;s.focus({preventScroll:!0}),s!==t&&i6(s)&&e&&s.select()}}var VC=s6();function s6(){let s=[];return{add(e){const t=s[0];e!==t&&(t==null||t.pause()),s=WC(s,e),s.unshift(e)},remove(e){var t;s=WC(s,e),(t=s[0])==null||t.resume()}}}function WC(s,e){const t=[...s],n=t.indexOf(e);return n!==-1&&t.splice(n,1),t}function o6(s){return s.filter(e=>e.tagName!=="A")}function a6(s){const e=R.useRef({value:s,previous:s});return R.useMemo(()=>(e.current.value!==s&&(e.current.previous=e.current.value,e.current.value=s),e.current.previous),[s])}var l6=function(s){if(typeof document>"u")return null;var e=Array.isArray(s)?s[0]:s;return e.ownerDocument.body},Xu=new WeakMap,Cy=new WeakMap,Ty={},Wb=0,HI=function(s){return s&&(s.host||HI(s.parentNode))},c6=function(s,e){return e.map(function(t){if(s.contains(t))return t;var n=HI(t);return n&&s.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",s,". Doing nothing"),null)}).filter(function(t){return!!t})},u6=function(s,e,t,n){var r=c6(e,Array.isArray(s)?s:[s]);Ty[t]||(Ty[t]=new WeakMap);var o=Ty[t],l=[],c=new Set,d=new Set(r),f=function(g){!g||c.has(g)||(c.add(g),f(g.parentNode))};r.forEach(f);var p=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(y){if(c.has(y))p(y);else try{var w=y.getAttribute(n),S=w!==null&&w!=="false",b=(Xu.get(y)||0)+1,E=(o.get(y)||0)+1;Xu.set(y,b),o.set(y,E),l.push(y),b===1&&S&&Cy.set(y,!0),E===1&&y.setAttribute(t,"true"),S||y.setAttribute(n,"true")}catch(T){console.error("aria-hidden: cannot operate on ",y,T)}})};return p(e),c.clear(),Wb++,function(){l.forEach(function(g){var y=Xu.get(g)-1,w=o.get(g)-1;Xu.set(g,y),o.set(g,w),y||(Cy.has(g)||g.removeAttribute(n),Cy.delete(g)),w||g.removeAttribute(t)}),Wb--,Wb||(Xu=new WeakMap,Xu=new WeakMap,Cy=new WeakMap,Ty={})}},d6=function(s,e,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(s)?s:[s]),r=l6(s);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live], script"))),u6(n,r,t,"aria-hidden")):function(){return null}},Xs=function(){return Xs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Xs.apply(this,arguments)};function UI(s,e){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(t[n[r]]=s[n[r]]);return t}function h6(s,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return s.concat(o||Array.prototype.slice.call(e))}var dv="right-scroll-bar-position",hv="width-before-scroll-bar",f6="with-scroll-bars-hidden",p6="--removed-body-scroll-bar-size";function Gb(s,e){return typeof s=="function"?s(e):s&&(s.current=e),s}function g6(s,e){var t=R.useState(function(){return{value:s,callback:e,facade:{get current(){return t.value},set current(n){var r=t.value;r!==n&&(t.value=n,t.callback(n,r))}}}})[0];return t.callback=e,t.facade}var m6=typeof window<"u"?R.useLayoutEffect:R.useEffect,GC=new WeakMap;function y6(s,e){var t=g6(null,function(n){return s.forEach(function(r){return Gb(r,n)})});return m6(function(){var n=GC.get(t);if(n){var r=new Set(n),o=new Set(s),l=t.current;r.forEach(function(c){o.has(c)||Gb(c,null)}),o.forEach(function(c){r.has(c)||Gb(c,l)})}GC.set(t,s)},[s]),t}function v6(s){return s}function w6(s,e){e===void 0&&(e=v6);var t=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:s},useMedium:function(o){var l=e(o,n);return t.push(l),function(){t=t.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(n=!0;t.length;){var l=t;t=[],l.forEach(o)}t={push:function(c){return o(c)},filter:function(){return t}}},assignMedium:function(o){n=!0;var l=[];if(t.length){var c=t;t=[],c.forEach(o),l=t}var d=function(){var p=l;l=[],p.forEach(o)},f=function(){return Promise.resolve().then(d)};f(),t={push:function(p){l.push(p),f()},filter:function(p){return l=l.filter(p),t}}}};return r}function b6(s){s===void 0&&(s={});var e=w6(null);return e.options=Xs({async:!0,ssr:!1},s),e}var VI=function(s){var e=s.sideCar,t=UI(s,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return R.createElement(n,Xs({},t))};VI.isSideCarExport=!0;function x6(s,e){return s.useMedium(e),VI}var WI=b6(),qb=function(){},P0=R.forwardRef(function(s,e){var t=R.useRef(null),n=R.useState({onScrollCapture:qb,onWheelCapture:qb,onTouchMoveCapture:qb}),r=n[0],o=n[1],l=s.forwardProps,c=s.children,d=s.className,f=s.removeScrollBar,p=s.enabled,g=s.shards,y=s.sideCar,w=s.noRelative,S=s.noIsolation,b=s.inert,E=s.allowPinchZoom,T=s.as,I=T===void 0?"div":T,L=s.gapMode,D=UI(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=y,B=y6([t,e]),$=Xs(Xs({},D),r);return R.createElement(R.Fragment,null,p&&R.createElement(F,{sideCar:WI,removeScrollBar:f,shards:g,noRelative:w,noIsolation:S,inert:b,setCallbacks:o,allowPinchZoom:!!E,lockRef:t,gapMode:L}),l?R.cloneElement(R.Children.only(c),Xs(Xs({},$),{ref:B})):R.createElement(I,Xs({},$,{className:d,ref:B}),c))});P0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};P0.classNames={fullWidth:hv,zeroRight:dv};var _6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function S6(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var e=_6();return e&&s.setAttribute("nonce",e),s}function E6(s,e){s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}function A6(s){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(s)}var C6=function(){var s=0,e=null;return{add:function(t){s==0&&(e=S6())&&(E6(e,t),A6(e)),s++},remove:function(){s--,!s&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},T6=function(){var s=C6();return function(e,t){R.useEffect(function(){return s.add(e),function(){s.remove()}},[e&&t])}},GI=function(){var s=T6(),e=function(t){var n=t.styles,r=t.dynamic;return s(n,r),null};return e},P6={left:0,top:0,right:0,gap:0},Yb=function(s){return parseInt(s||"",10)||0},R6=function(s){var e=window.getComputedStyle(document.body),t=e[s==="padding"?"paddingLeft":"marginLeft"],n=e[s==="padding"?"paddingTop":"marginTop"],r=e[s==="padding"?"paddingRight":"marginRight"];return[Yb(t),Yb(n),Yb(r)]},k6=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return P6;var e=R6(s),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-t+e[2]-e[0])}},I6=GI(),gd="data-scroll-locked",L6=function(s,e,t,n){var r=s.left,o=s.top,l=s.right,c=s.gap;return t===void 0&&(t="margin"),`
  .`.concat(f6,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(gd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dv,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(hv,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(dv," .").concat(dv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(hv," .").concat(hv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(gd,`] {
    `).concat(p6,": ").concat(c,`px;
  }
`)},qC=function(){var s=parseInt(document.body.getAttribute(gd)||"0",10);return isFinite(s)?s:0},N6=function(){R.useEffect(function(){return document.body.setAttribute(gd,(qC()+1).toString()),function(){var s=qC()-1;s<=0?document.body.removeAttribute(gd):document.body.setAttribute(gd,s.toString())}},[])},M6=function(s){var e=s.noRelative,t=s.noImportant,n=s.gapMode,r=n===void 0?"margin":n;N6();var o=R.useMemo(function(){return k6(r)},[r]);return R.createElement(I6,{styles:L6(o,!e,r,t?"":"!important")})},N_=!1;if(typeof window<"u")try{var Py=Object.defineProperty({},"passive",{get:function(){return N_=!0,!0}});window.addEventListener("test",Py,Py),window.removeEventListener("test",Py,Py)}catch{N_=!1}var Ku=N_?{passive:!1}:!1,D6=function(s){return s.tagName==="TEXTAREA"},qI=function(s,e){if(!(s instanceof Element))return!1;var t=window.getComputedStyle(s);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!D6(s)&&t[e]==="visible")},O6=function(s){return qI(s,"overflowY")},F6=function(s){return qI(s,"overflowX")},YC=function(s,e){var t=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=YI(s,n);if(r){var o=XI(s,n),l=o[1],c=o[2];if(l>c)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},j6=function(s){var e=s.scrollTop,t=s.scrollHeight,n=s.clientHeight;return[e,t,n]},B6=function(s){var e=s.scrollLeft,t=s.scrollWidth,n=s.clientWidth;return[e,t,n]},YI=function(s,e){return s==="v"?O6(e):F6(e)},XI=function(s,e){return s==="v"?j6(e):B6(e)},$6=function(s,e){return s==="h"&&e==="rtl"?-1:1},z6=function(s,e,t,n,r){var o=$6(s,window.getComputedStyle(e).direction),l=o*n,c=t.target,d=e.contains(c),f=!1,p=l>0,g=0,y=0;do{if(!c)break;var w=XI(s,c),S=w[0],b=w[1],E=w[2],T=b-E-o*S;(S||T)&&YI(s,c)&&(g+=T,y+=S);var I=c.parentNode;c=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(p&&Math.abs(g)<1||!p&&Math.abs(y)<1)&&(f=!0),f},Ry=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},XC=function(s){return[s.deltaX,s.deltaY]},KC=function(s){return s&&"current"in s?s.current:s},H6=function(s,e){return s[0]===e[0]&&s[1]===e[1]},U6=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},V6=0,Qu=[];function W6(s){var e=R.useRef([]),t=R.useRef([0,0]),n=R.useRef(),r=R.useState(V6++)[0],o=R.useState(GI)[0],l=R.useRef(s);R.useEffect(function(){l.current=s},[s]),R.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(r));var b=h6([s.lockRef.current],(s.shards||[]).map(KC),!0).filter(Boolean);return b.forEach(function(E){return E.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),b.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(r))})}}},[s.inert,s.lockRef.current,s.shards]);var c=R.useCallback(function(b,E){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!l.current.allowPinchZoom;var T=Ry(b),I=t.current,L="deltaX"in b?b.deltaX:I[0]-T[0],D="deltaY"in b?b.deltaY:I[1]-T[1],F,B=b.target,$=Math.abs(L)>Math.abs(D)?"h":"v";if("touches"in b&&$==="h"&&B.type==="range")return!1;var V=YC($,B);if(!V)return!0;if(V?F=$:(F=$==="v"?"h":"v",V=YC($,B)),!V)return!1;if(!n.current&&"changedTouches"in b&&(L||D)&&(n.current=F),!F)return!0;var q=n.current||F;return z6(q,E,b,q==="h"?L:D)},[]),d=R.useCallback(function(b){var E=b;if(!(!Qu.length||Qu[Qu.length-1]!==o)){var T="deltaY"in E?XC(E):Ry(E),I=e.current.filter(function(F){return F.name===E.type&&(F.target===E.target||E.target===F.shadowParent)&&H6(F.delta,T)})[0];if(I&&I.should){E.cancelable&&E.preventDefault();return}if(!I){var L=(l.current.shards||[]).map(KC).filter(Boolean).filter(function(F){return F.contains(E.target)}),D=L.length>0?c(E,L[0]):!l.current.noIsolation;D&&E.cancelable&&E.preventDefault()}}},[]),f=R.useCallback(function(b,E,T,I){var L={name:b,delta:E,target:T,should:I,shadowParent:G6(T)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function(D){return D!==L})},1)},[]),p=R.useCallback(function(b){t.current=Ry(b),n.current=void 0},[]),g=R.useCallback(function(b){f(b.type,XC(b),b.target,c(b,s.lockRef.current))},[]),y=R.useCallback(function(b){f(b.type,Ry(b),b.target,c(b,s.lockRef.current))},[]);R.useEffect(function(){return Qu.push(o),s.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",d,Ku),document.addEventListener("touchmove",d,Ku),document.addEventListener("touchstart",p,Ku),function(){Qu=Qu.filter(function(b){return b!==o}),document.removeEventListener("wheel",d,Ku),document.removeEventListener("touchmove",d,Ku),document.removeEventListener("touchstart",p,Ku)}},[]);var w=s.removeScrollBar,S=s.inert;return R.createElement(R.Fragment,null,S?R.createElement(o,{styles:U6(r)}):null,w?R.createElement(M6,{noRelative:s.noRelative,gapMode:s.gapMode}):null)}function G6(s){for(var e=null;s!==null;)s instanceof ShadowRoot&&(e=s.host,s=s.host),s=s.parentNode;return e}const q6=x6(WI,W6);var KI=R.forwardRef(function(s,e){return R.createElement(P0,Xs({},s,{ref:e,sideCar:q6}))});KI.classNames=P0.classNames;var Y6=[" ","Enter","ArrowUp","ArrowDown"],X6=[" ","Enter"],vu="Select",[R0,k0,K6]=i1(vu),[$h,l8]=kl(vu,[K6,l0]),I0=l0(),[Q6,Ll]=$h(vu),[J6,Z6]=$h(vu),QI=s=>{const{__scopeSelect:e,children:t,open:n,defaultOpen:r,onOpenChange:o,value:l,defaultValue:c,onValueChange:d,dir:f,name:p,autoComplete:g,disabled:y,required:w,form:S}=s,b=I0(e),[E,T]=R.useState(null),[I,L]=R.useState(null),[D,F]=R.useState(!1),B=d0(f),[$,V]=Sl({prop:n,defaultProp:r??!1,onChange:o,caller:vu}),[q,te]=Sl({prop:l,defaultProp:c,onChange:d,caller:vu}),re=R.useRef(null),be=E?S||!!E.closest("form"):!0,[pe,ae]=R.useState(new Set),_e=Array.from(pe).map(Y=>Y.props.value).join(";");return P.jsx(tP,{...b,children:P.jsxs(Q6,{required:w,scope:e,trigger:E,onTriggerChange:T,valueNode:I,onValueNodeChange:L,valueNodeHasChildren:D,onValueNodeHasChildrenChange:F,contentId:Il(),value:q,onValueChange:te,open:$,onOpenChange:V,dir:B,triggerPointerDownPosRef:re,disabled:y,children:[P.jsx(R0.Provider,{scope:e,children:P.jsx(J6,{scope:s.__scopeSelect,onNativeOptionAdd:R.useCallback(Y=>{ae(J=>new Set(J).add(Y))},[]),onNativeOptionRemove:R.useCallback(Y=>{ae(J=>{const Q=new Set(J);return Q.delete(Y),Q})},[]),children:t})}),be?P.jsxs(x2,{"aria-hidden":!0,required:w,tabIndex:-1,name:p,autoComplete:g,value:q,onChange:Y=>te(Y.target.value),disabled:y,form:S,children:[q===void 0?P.jsx("option",{value:""}):null,Array.from(pe)]},_e):null]})})};QI.displayName=vu;var JI="SelectTrigger",ZI=R.forwardRef((s,e)=>{const{__scopeSelect:t,disabled:n=!1,...r}=s,o=I0(t),l=Ll(JI,t),c=l.disabled||n,d=Ut(e,l.onTriggerChange),f=k0(t),p=R.useRef("touch"),[g,y,w]=S2(b=>{const E=f().filter(L=>!L.disabled),T=E.find(L=>L.value===l.value),I=E2(E,b,T);I!==void 0&&l.onValueChange(I.value)}),S=b=>{c||(l.onOpenChange(!0),w()),b&&(l.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return P.jsx(nP,{asChild:!0,...o,children:P.jsx(ut.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":_2(l.value)?"":void 0,...r,ref:d,onClick:tt(r.onClick,b=>{b.currentTarget.focus(),p.current!=="mouse"&&S(b)}),onPointerDown:tt(r.onPointerDown,b=>{p.current=b.pointerType;const E=b.target;E.hasPointerCapture(b.pointerId)&&E.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(S(b),b.preventDefault())}),onKeyDown:tt(r.onKeyDown,b=>{const E=g.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&y(b.key),!(E&&b.key===" ")&&Y6.includes(b.key)&&(S(),b.preventDefault())})})})});ZI.displayName=JI;var e2="SelectValue",t2=R.forwardRef((s,e)=>{const{__scopeSelect:t,className:n,style:r,children:o,placeholder:l="",...c}=s,d=Ll(e2,t),{onValueNodeHasChildrenChange:f}=d,p=o!==void 0,g=Ut(e,d.onValueNodeChange);return qn(()=>{f(p)},[f,p]),P.jsx(ut.span,{...c,ref:g,style:{pointerEvents:"none"},children:_2(d.value)?P.jsx(P.Fragment,{children:l}):o})});t2.displayName=e2;var eU="SelectIcon",n2=R.forwardRef((s,e)=>{const{__scopeSelect:t,children:n,...r}=s;return P.jsx(ut.span,{"aria-hidden":!0,...r,ref:e,children:n||"▼"})});n2.displayName=eU;var tU="SelectPortal",r2=s=>P.jsx(e1,{asChild:!0,...s});r2.displayName=tU;var wu="SelectContent",i2=R.forwardRef((s,e)=>{const t=Ll(wu,s.__scopeSelect),[n,r]=R.useState();if(qn(()=>{r(new DocumentFragment)},[]),!t.open){const o=n;return o?Yg.createPortal(P.jsx(s2,{scope:s.__scopeSelect,children:P.jsx(R0.Slot,{scope:s.__scopeSelect,children:P.jsx("div",{children:s.children})})}),o):null}return P.jsx(o2,{...s,ref:e})});i2.displayName=wu;var Ui=10,[s2,Nl]=$h(wu),nU="SelectContentImpl",rU=sp("SelectContent.RemoveScroll"),o2=R.forwardRef((s,e)=>{const{__scopeSelect:t,position:n="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:d,align:f,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:w,sticky:S,hideWhenDetached:b,avoidCollisions:E,...T}=s,I=Ll(wu,t),[L,D]=R.useState(null),[F,B]=R.useState(null),$=Ut(e,oe=>D(oe)),[V,q]=R.useState(null),[te,re]=R.useState(null),be=k0(t),[pe,ae]=R.useState(!1),_e=R.useRef(!1);R.useEffect(()=>{if(L)return d6(L)},[L]),ZH();const Y=R.useCallback(oe=>{const[ye,...Ie]=be().map(je=>je.ref.current),[Ee]=Ie.slice(-1),Oe=document.activeElement;for(const je of oe)if(je===Oe||(je==null||je.scrollIntoView({block:"nearest"}),je===ye&&F&&(F.scrollTop=0),je===Ee&&F&&(F.scrollTop=F.scrollHeight),je==null||je.focus(),document.activeElement!==Oe))return},[be,F]),J=R.useCallback(()=>Y([V,L]),[Y,V,L]);R.useEffect(()=>{pe&&J()},[pe,J]);const{onOpenChange:Q,triggerPointerDownPosRef:ue}=I;R.useEffect(()=>{if(L){let oe={x:0,y:0};const ye=Ee=>{var Oe,je;oe={x:Math.abs(Math.round(Ee.pageX)-(((Oe=ue.current)==null?void 0:Oe.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((je=ue.current)==null?void 0:je.y)??0))}},Ie=Ee=>{oe.x<=10&&oe.y<=10?Ee.preventDefault():L.contains(Ee.target)||Q(!1),document.removeEventListener("pointermove",ye),ue.current=null};return ue.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[L,Q,ue]),R.useEffect(()=>{const oe=()=>Q(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[Q]);const[ce,U]=S2(oe=>{const ye=be().filter(Oe=>!Oe.disabled),Ie=ye.find(Oe=>Oe.ref.current===document.activeElement),Ee=E2(ye,oe,Ie);Ee&&setTimeout(()=>Ee.ref.current.focus())}),ne=R.useCallback((oe,ye,Ie)=>{const Ee=!_e.current&&!Ie;(I.value!==void 0&&I.value===ye||Ee)&&(q(oe),Ee&&(_e.current=!0))},[I.value]),le=R.useCallback(()=>L==null?void 0:L.focus(),[L]),he=R.useCallback((oe,ye,Ie)=>{const Ee=!_e.current&&!Ie;(I.value!==void 0&&I.value===ye||Ee)&&re(oe)},[I.value]),ve=n==="popper"?M_:a2,Se=ve===M_?{side:c,sideOffset:d,align:f,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:w,sticky:S,hideWhenDetached:b,avoidCollisions:E}:{};return P.jsx(s2,{scope:t,content:L,viewport:F,onViewportChange:B,itemRefCallback:ne,selectedItem:V,onItemLeave:le,itemTextRefCallback:he,focusSelectedItem:J,selectedItemText:te,position:n,isPositioned:pe,searchRef:ce,children:P.jsx(KI,{as:rU,allowPinchZoom:!0,children:P.jsx($I,{asChild:!0,trapped:I.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:tt(r,oe=>{var ye;(ye=I.trigger)==null||ye.focus({preventScroll:!0}),oe.preventDefault()}),children:P.jsx(W_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>I.onOpenChange(!1),children:P.jsx(ve,{role:"listbox",id:I.contentId,"data-state":I.open?"open":"closed",dir:I.dir,onContextMenu:oe=>oe.preventDefault(),...T,...Se,onPlaced:()=>ae(!0),ref:$,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:tt(T.onKeyDown,oe=>{const ye=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!ye&&oe.key.length===1&&U(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Ee=be().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const Oe=oe.target,je=Ee.indexOf(Oe);Ee=Ee.slice(je+1)}setTimeout(()=>Y(Ee)),oe.preventDefault()}})})})})})})});o2.displayName=nU;var iU="SelectItemAlignedPosition",a2=R.forwardRef((s,e)=>{const{__scopeSelect:t,onPlaced:n,...r}=s,o=Ll(wu,t),l=Nl(wu,t),[c,d]=R.useState(null),[f,p]=R.useState(null),g=Ut(e,$=>p($)),y=k0(t),w=R.useRef(!1),S=R.useRef(!0),{viewport:b,selectedItem:E,selectedItemText:T,focusSelectedItem:I}=l,L=R.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&f&&b&&E&&T){const $=o.trigger.getBoundingClientRect(),V=f.getBoundingClientRect(),q=o.valueNode.getBoundingClientRect(),te=T.getBoundingClientRect();if(o.dir!=="rtl"){const Oe=te.left-V.left,je=q.left-Oe,Fe=$.left-je,Ue=$.width+Fe,ot=Math.max(Ue,V.width),Ze=window.innerWidth-Ui,vt=$C(je,[Ui,Math.max(Ui,Ze-ot)]);c.style.minWidth=Ue+"px",c.style.left=vt+"px"}else{const Oe=V.right-te.right,je=window.innerWidth-q.right-Oe,Fe=window.innerWidth-$.right-je,Ue=$.width+Fe,ot=Math.max(Ue,V.width),Ze=window.innerWidth-Ui,vt=$C(je,[Ui,Math.max(Ui,Ze-ot)]);c.style.minWidth=Ue+"px",c.style.right=vt+"px"}const re=y(),be=window.innerHeight-Ui*2,pe=b.scrollHeight,ae=window.getComputedStyle(f),_e=parseInt(ae.borderTopWidth,10),Y=parseInt(ae.paddingTop,10),J=parseInt(ae.borderBottomWidth,10),Q=parseInt(ae.paddingBottom,10),ue=_e+Y+pe+Q+J,ce=Math.min(E.offsetHeight*5,ue),U=window.getComputedStyle(b),ne=parseInt(U.paddingTop,10),le=parseInt(U.paddingBottom,10),he=$.top+$.height/2-Ui,ve=be-he,Se=E.offsetHeight/2,oe=E.offsetTop+Se,ye=_e+Y+oe,Ie=ue-ye;if(ye<=he){const Oe=re.length>0&&E===re[re.length-1].ref.current;c.style.bottom="0px";const je=f.clientHeight-b.offsetTop-b.offsetHeight,Fe=Math.max(ve,Se+(Oe?le:0)+je+J),Ue=ye+Fe;c.style.height=Ue+"px"}else{const Oe=re.length>0&&E===re[0].ref.current;c.style.top="0px";const Fe=Math.max(he,_e+b.offsetTop+(Oe?ne:0)+Se)+Ie;c.style.height=Fe+"px",b.scrollTop=ye-he+b.offsetTop}c.style.margin=`${Ui}px 0`,c.style.minHeight=ce+"px",c.style.maxHeight=be+"px",n==null||n(),requestAnimationFrame(()=>w.current=!0)}},[y,o.trigger,o.valueNode,c,f,b,E,T,o.dir,n]);qn(()=>L(),[L]);const[D,F]=R.useState();qn(()=>{f&&F(window.getComputedStyle(f).zIndex)},[f]);const B=R.useCallback($=>{$&&S.current===!0&&(L(),I==null||I(),S.current=!1)},[L,I]);return P.jsx(oU,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:w,onScrollButtonChange:B,children:P.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:P.jsx(ut.div,{...r,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});a2.displayName=iU;var sU="SelectPopperPosition",M_=R.forwardRef((s,e)=>{const{__scopeSelect:t,align:n="start",collisionPadding:r=Ui,...o}=s,l=I0(t);return P.jsx(rP,{...l,...o,ref:e,align:n,collisionPadding:r,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});M_.displayName=sU;var[oU,k1]=$h(wu,{}),D_="SelectViewport",l2=R.forwardRef((s,e)=>{const{__scopeSelect:t,nonce:n,...r}=s,o=Nl(D_,t),l=k1(D_,t),c=Ut(e,o.onViewportChange),d=R.useRef(0);return P.jsxs(P.Fragment,{children:[P.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),P.jsx(R0.Slot,{scope:t,children:P.jsx(ut.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:tt(r.onScroll,f=>{const p=f.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=l;if(y!=null&&y.current&&g){const w=Math.abs(d.current-p.scrollTop);if(w>0){const S=window.innerHeight-Ui*2,b=parseFloat(g.style.minHeight),E=parseFloat(g.style.height),T=Math.max(b,E);if(T<S){const I=T+w,L=Math.min(S,I),D=I-L;g.style.height=L+"px",g.style.bottom==="0px"&&(p.scrollTop=D>0?D:0,g.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});l2.displayName=D_;var c2="SelectGroup",[aU,lU]=$h(c2),cU=R.forwardRef((s,e)=>{const{__scopeSelect:t,...n}=s,r=Il();return P.jsx(aU,{scope:t,id:r,children:P.jsx(ut.div,{role:"group","aria-labelledby":r,...n,ref:e})})});cU.displayName=c2;var u2="SelectLabel",d2=R.forwardRef((s,e)=>{const{__scopeSelect:t,...n}=s,r=lU(u2,t);return P.jsx(ut.div,{id:r.id,...n,ref:e})});d2.displayName=u2;var Mv="SelectItem",[uU,h2]=$h(Mv),f2=R.forwardRef((s,e)=>{const{__scopeSelect:t,value:n,disabled:r=!1,textValue:o,...l}=s,c=Ll(Mv,t),d=Nl(Mv,t),f=c.value===n,[p,g]=R.useState(o??""),[y,w]=R.useState(!1),S=Ut(e,I=>{var L;return(L=d.itemRefCallback)==null?void 0:L.call(d,I,n,r)}),b=Il(),E=R.useRef("touch"),T=()=>{r||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return P.jsx(uU,{scope:t,value:n,disabled:r,textId:b,isSelected:f,onItemTextChange:R.useCallback(I=>{g(L=>L||((I==null?void 0:I.textContent)??"").trim())},[]),children:P.jsx(R0.ItemSlot,{scope:t,value:n,disabled:r,textValue:p,children:P.jsx(ut.div,{role:"option","aria-labelledby":b,"data-highlighted":y?"":void 0,"aria-selected":f&&y,"data-state":f?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...l,ref:S,onFocus:tt(l.onFocus,()=>w(!0)),onBlur:tt(l.onBlur,()=>w(!1)),onClick:tt(l.onClick,()=>{E.current!=="mouse"&&T()}),onPointerUp:tt(l.onPointerUp,()=>{E.current==="mouse"&&T()}),onPointerDown:tt(l.onPointerDown,I=>{E.current=I.pointerType}),onPointerMove:tt(l.onPointerMove,I=>{var L;E.current=I.pointerType,r?(L=d.onItemLeave)==null||L.call(d):E.current==="mouse"&&I.currentTarget.focus({preventScroll:!0})}),onPointerLeave:tt(l.onPointerLeave,I=>{var L;I.currentTarget===document.activeElement&&((L=d.onItemLeave)==null||L.call(d))}),onKeyDown:tt(l.onKeyDown,I=>{var D;((D=d.searchRef)==null?void 0:D.current)!==""&&I.key===" "||(X6.includes(I.key)&&T(),I.key===" "&&I.preventDefault())})})})})});f2.displayName=Mv;var Jf="SelectItemText",p2=R.forwardRef((s,e)=>{const{__scopeSelect:t,className:n,style:r,...o}=s,l=Ll(Jf,t),c=Nl(Jf,t),d=h2(Jf,t),f=Z6(Jf,t),[p,g]=R.useState(null),y=Ut(e,T=>g(T),d.onItemTextChange,T=>{var I;return(I=c.itemTextRefCallback)==null?void 0:I.call(c,T,d.value,d.disabled)}),w=p==null?void 0:p.textContent,S=R.useMemo(()=>P.jsx("option",{value:d.value,disabled:d.disabled,children:w},d.value),[d.disabled,d.value,w]),{onNativeOptionAdd:b,onNativeOptionRemove:E}=f;return qn(()=>(b(S),()=>E(S)),[b,E,S]),P.jsxs(P.Fragment,{children:[P.jsx(ut.span,{id:d.textId,...o,ref:y}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Yg.createPortal(o.children,l.valueNode):null]})});p2.displayName=Jf;var g2="SelectItemIndicator",m2=R.forwardRef((s,e)=>{const{__scopeSelect:t,...n}=s;return h2(g2,t).isSelected?P.jsx(ut.span,{"aria-hidden":!0,...n,ref:e}):null});m2.displayName=g2;var O_="SelectScrollUpButton",y2=R.forwardRef((s,e)=>{const t=Nl(O_,s.__scopeSelect),n=k1(O_,s.__scopeSelect),[r,o]=R.useState(!1),l=Ut(e,n.onScrollButtonChange);return qn(()=>{if(t.viewport&&t.isPositioned){let c=function(){const f=d.scrollTop>0;o(f)};const d=t.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),r?P.jsx(w2,{...s,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=t;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});y2.displayName=O_;var F_="SelectScrollDownButton",v2=R.forwardRef((s,e)=>{const t=Nl(F_,s.__scopeSelect),n=k1(F_,s.__scopeSelect),[r,o]=R.useState(!1),l=Ut(e,n.onScrollButtonChange);return qn(()=>{if(t.viewport&&t.isPositioned){let c=function(){const f=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<f;o(p)};const d=t.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),r?P.jsx(w2,{...s,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=t;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});v2.displayName=F_;var w2=R.forwardRef((s,e)=>{const{__scopeSelect:t,onAutoScroll:n,...r}=s,o=Nl("SelectScrollButton",t),l=R.useRef(null),c=k0(t),d=R.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return R.useEffect(()=>()=>d(),[d]),qn(()=>{var p;const f=c().find(g=>g.ref.current===document.activeElement);(p=f==null?void 0:f.ref.current)==null||p.scrollIntoView({block:"nearest"})},[c]),P.jsx(ut.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:tt(r.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:tt(r.onPointerMove,()=>{var f;(f=o.onItemLeave)==null||f.call(o),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:tt(r.onPointerLeave,()=>{d()})})}),dU="SelectSeparator",b2=R.forwardRef((s,e)=>{const{__scopeSelect:t,...n}=s;return P.jsx(ut.div,{"aria-hidden":!0,...n,ref:e})});b2.displayName=dU;var j_="SelectArrow",hU=R.forwardRef((s,e)=>{const{__scopeSelect:t,...n}=s,r=I0(t),o=Ll(j_,t),l=Nl(j_,t);return o.open&&l.position==="popper"?P.jsx(iP,{...r,...n,ref:e}):null});hU.displayName=j_;var fU="SelectBubbleInput",x2=R.forwardRef(({__scopeSelect:s,value:e,...t},n)=>{const r=R.useRef(null),o=Ut(n,r),l=a6(e);return R.useEffect(()=>{const c=r.current;if(!c)return;const d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&p){const g=new Event("change",{bubbles:!0});p.call(c,e),c.dispatchEvent(g)}},[l,e]),P.jsx(ut.select,{...t,style:{...sP,...t.style},ref:o,defaultValue:e})});x2.displayName=fU;function _2(s){return s===""||s===void 0}function S2(s){const e=bl(s),t=R.useRef(""),n=R.useRef(0),r=R.useCallback(l=>{const c=t.current+l;e(c),(function d(f){t.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(c)},[e]),o=R.useCallback(()=>{t.current="",window.clearTimeout(n.current)},[]);return R.useEffect(()=>()=>window.clearTimeout(n.current),[]),[t,r,o]}function E2(s,e,t){const r=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=t?s.indexOf(t):-1;let l=pU(s,Math.max(o,0));r.length===1&&(l=l.filter(f=>f!==t));const d=l.find(f=>f.textValue.toLowerCase().startsWith(r.toLowerCase()));return d!==t?d:void 0}function pU(s,e){return s.map((t,n)=>s[(e+n)%s.length])}var gU=QI,A2=ZI,mU=t2,yU=n2,vU=r2,C2=i2,wU=l2,T2=d2,P2=f2,bU=p2,xU=m2,R2=y2,k2=v2,I2=b2;const _U="_selectTrigger_1plgb_2",SU="_selectIcon_1plgb_52",EU="_selectContent_1plgb_64",AU="_selectViewport_1plgb_89",CU="_scrollButton_1plgb_93",TU="_scrollIcon_1plgb_105",PU="_selectLabel_1plgb_116",RU="_selectItem_1plgb_123",kU="_selectItemIndicator_1plgb_157",IU="_checkIcon_1plgb_165",LU="_selectSeparator_1plgb_171",di={selectTrigger:_U,selectIcon:SU,selectContent:EU,selectViewport:AU,scrollButton:CU,scrollIcon:TU,selectLabel:PU,selectItem:RU,selectItemIndicator:kU,checkIcon:IU,selectSeparator:LU},NU=gU,MU=mU,L2=R.forwardRef(({children:s,className:e,...t},n)=>P.jsxs(A2,{ref:n,className:`${di.selectTrigger} ${e||""}`,...t,children:[s,P.jsx(yU,{asChild:!0,children:P.jsx(r1,{className:di.selectIcon})})]}));L2.displayName=A2.displayName;const N2=R.forwardRef(({className:s,...e},t)=>P.jsx(R2,{ref:t,className:`${di.scrollButton} ${s||""}`,...e,children:P.jsx(bB,{className:di.scrollIcon})}));N2.displayName=R2.displayName;const M2=R.forwardRef(({className:s,...e},t)=>P.jsx(k2,{ref:t,className:`${di.scrollButton} ${s||""}`,...e,children:P.jsx(r1,{className:di.scrollIcon})}));M2.displayName=k2.displayName;const D2=R.forwardRef(({children:s,position:e="popper",className:t,...n},r)=>P.jsx(vU,{children:P.jsxs(C2,{ref:r,position:e,className:`${di.selectContent} ${t||""}`,...n,children:[P.jsx(N2,{}),P.jsx(wU,{className:di.selectViewport,children:s}),P.jsx(M2,{})]})}));D2.displayName=C2.displayName;const DU=R.forwardRef(({className:s,...e},t)=>P.jsx(T2,{ref:t,className:`${di.selectLabel} ${s||""}`,...e}));DU.displayName=T2.displayName;const O2=R.forwardRef(({children:s,className:e,...t},n)=>P.jsxs(P2,{ref:n,className:`${di.selectItem} ${e||""}`,...t,children:[P.jsx(bU,{children:s}),P.jsx(xU,{className:di.selectItemIndicator,children:P.jsx(SP,{className:di.checkIcon})})]}));O2.displayName=P2.displayName;const OU=R.forwardRef(({className:s,...e},t)=>P.jsx(I2,{ref:t,className:`${di.selectSeparator} ${s||""}`,...e}));OU.displayName=I2.displayName;const FU="_badge_1m09g_2",jU="_destructive_1m09g_27",BU="_secondary_1m09g_37",$U="_outline_1m09g_47",zU="_success_1m09g_57",HU="_warning_1m09g_67",QC={badge:FU,default:"_default_1m09g_17",destructive:jU,secondary:BU,outline:$U,success:zU,warning:HU},JC=({variant:s="default",className:e,children:t,...n})=>P.jsx("div",{className:`${QC.badge} ${QC[s]} ${e||""}`,...n,children:t}),UU="_multiPdfViewer_1lx2c_1",VU="_controlsContainer_1lx2c_8",WU="_documentSelector_1lx2c_19",GU="_selectorLabel_1lx2c_27",qU="_documentTrigger_1lx2c_38",YU="_downloadButton_1lx2c_43",XU="_documentOption_1lx2c_49",KU="_documentHeader_1lx2c_57",QU="_documentTitle_1lx2c_65",JU="_statusBadge_1lx2c_73",ZU="_documentDescription_1lx2c_79",e5="_documentInfo_1lx2c_85",t5="_documentMeta_1lx2c_92",n5="_currentDocTitle_1lx2c_99",r5="_metaRow_1lx2c_107",i5="_currentDocDescription_1lx2c_114",s5="_pdfViewer_1lx2c_121",o5="_errorState_1lx2c_129",En={multiPdfViewer:UU,controlsContainer:VU,documentSelector:WU,selectorLabel:GU,documentTrigger:qU,downloadButton:YU,documentOption:XU,documentHeader:KU,documentTitle:QU,statusBadge:JU,documentDescription:ZU,documentInfo:e5,documentMeta:t5,currentDocTitle:n5,metaRow:r5,currentDocDescription:i5,pdfViewer:s5,errorState:o5},a5=[{id:"gsoc-2025-final-report",title:"GSOC 2025 - Final Project Report",url:"https://mozilla.github.io/pdf.js/web/compressed.tracemonkey-pldi-09.pdf",description:"Complete GSOC 2025 project documentation and implementation details",status:"current"},{id:"gsoc-2025-weekly-reports",title:"GSOC 2025 - Weekly Progress Reports",url:"https://mozilla.github.io/pdf.js/web/compressed.tracemonkey-pldi-09.pdf",description:"Weekly progress updates and milestone achievements",status:"current"},{id:"vlc-architecture-analysis",title:"VLC Media Player Architecture Analysis",url:"https://mozilla.github.io/pdf.js/web/compressed.tracemonkey-pldi-09.pdf",description:"Technical deep-dive into VLC's modular architecture and audio pipeline",status:"current"},{id:"audio-filters-implementation",title:"Advanced Audio Filtering Implementation Guide",url:"https://mozilla.github.io/pdf.js/web/compressed.tracemonkey-pldi-09.pdf",description:"Detailed implementation of spatializer and reverb effects for VLC",status:"current"},{id:"gsoc-2026-proposal",title:"GSOC 2026 - Project Proposal",url:"https://mozilla.github.io/pdf.js/web/compressed.tracemonkey-pldi-09.pdf",description:"Proposed enhancements and new features for GSOC 2026",status:"future"},{id:"portfolio-overview",title:"Technical Portfolio Overview",url:"https://mozilla.github.io/pdf.js/web/compressed.tracemonkey-pldi-09.pdf",description:"Comprehensive overview of technical projects and contributions",status:"completed"}],ZC={current:"default",future:"secondary",completed:"outline"},l5=({documents:s=a5,defaultDocument:e,className:t})=>{var l;const[n,r]=R.useState(e||((l=s[0])==null?void 0:l.id)||""),o=s.find(c=>c.id===n);return o?P.jsxs("div",{className:`${En.multiPdfViewer} ${t||""}`,children:[P.jsxs("div",{className:En.controlsContainer,children:[P.jsxs("div",{className:En.documentSelector,children:[P.jsxs("label",{className:En.selectorLabel,children:[P.jsx(lC,{size:16}),"Select Document:"]}),P.jsxs(NU,{value:n,onValueChange:r,children:[P.jsx(L2,{className:En.documentTrigger,children:P.jsx(MU,{placeholder:"Choose a document..."})}),P.jsx(D2,{children:s.map(c=>P.jsx(O2,{value:c.id,children:P.jsxs("div",{className:En.documentOption,children:[P.jsxs("div",{className:En.documentHeader,children:[P.jsx("div",{className:En.documentTitle,children:c.title}),c.status&&P.jsx(JC,{variant:ZC[c.status],className:En.statusBadge,children:c.status})]}),c.description&&P.jsx("div",{className:En.documentDescription,children:c.description})]})},c.id))})]})]}),P.jsx(os,{variant:"outline",size:"md",asChild:!0,className:En.downloadButton,children:P.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:[P.jsx(EP,{size:16}),"Download PDF"]})})]}),P.jsxs("div",{className:En.documentInfo,children:[P.jsxs("div",{className:En.documentMeta,children:[P.jsx("h3",{className:En.currentDocTitle,children:o.title}),P.jsx("div",{className:En.metaRow,children:P.jsx(JC,{variant:ZC[o.status||"current"],children:o.status||"current"})})]}),o.description&&P.jsx("p",{className:En.currentDocDescription,children:o.description})]}),P.jsx(JH,{file:o.url,title:o.title,showDownload:!1,className:En.pdfViewer})]}):P.jsxs("div",{className:En.errorState,children:[P.jsx(lC,{size:48}),P.jsx("p",{children:"No documents available"})]})},c5="_pageContainer_1v74d_1",u5="_header_1v74d_8",d5="_headerContent_1v74d_14",h5="_vlcLogo_1v74d_21",f5="_headerText_1v74d_25",p5="_title_1v74d_30",g5="_subtitle_1v74d_39",m5="_attribution_1v74d_47",y5="_mainContent_1v74d_67",v5="_documentationSection_1v74d_73",w5="_technicalSection_1v74d_77",b5="_sectionTitle_1v74d_81",x5="_multiPdfViewerContainer_1v74d_92",_5="_contributionsSection_1v74d_97",S5="_contributionsTitle_1v74d_103",E5="_mrList_1v74d_114",A5="_mrItem_1v74d_120",C5="_mrIcon_1v74d_140",T5="_mrDetails_1v74d_145",P5="_footer_1v74d_172",R5="_footerContent_1v74d_179",k5="_footerBranding_1v74d_187",I5="_footerAttribution_1v74d_195",pt={pageContainer:c5,header:u5,headerContent:d5,vlcLogo:h5,headerText:f5,title:p5,subtitle:g5,attribution:m5,mainContent:y5,documentationSection:v5,technicalSection:w5,sectionTitle:b5,multiPdfViewerContainer:x5,contributionsSection:_5,contributionsTitle:S5,mrList:E5,mrItem:A5,mrIcon:C5,mrDetails:T5,footer:P5,footerContent:R5,footerBranding:k5,footerAttribution:I5},L5=`
# Clone the VLC repository
git clone https://code.videolan.org/videolan/vlc.git
cd vlc

# Follow the official build instructions for your OS
# On Debian/Ubuntu:
./bootstrap
./configure
make
sudo make install
`,N5=`
// Accessing the spatializer filter
vlc_object_t *p_filter = vlc_object_create(p_instance, sizeof(*p_filter), "spatializer");

// Set parameters
config_PutFloat(p_filter, "spatializer-width", 1.5f);

// ... add filter to chain
`,M5=()=>P.jsxs(P.Fragment,{children:[P.jsxs(_v,{children:[P.jsx("title",{children:"Documentation - Benny Perumalla"}),P.jsx("meta",{name:"description",content:"Technical documentation and reports by Benny Perumalla for the GSOC 2025 VLC audio processing project, including implementation details and contribution summaries."})]}),P.jsxs("div",{className:pt.pageContainer,children:[P.jsx("header",{className:pt.header,children:P.jsxs("div",{className:pt.headerContent,children:[P.jsx(Ev,{size:"md",className:pt.vlcLogo}),P.jsxs("div",{className:pt.headerText,children:[P.jsx("h1",{className:pt.title,children:"Project Documentation"}),P.jsx("p",{className:pt.subtitle,children:"Comprehensive project reports, technical documentation, and contribution summaries for the VLC audio processing enhancement project by Benny Perumalla."}),P.jsx("div",{className:pt.attribution,children:P.jsxs("p",{children:["By ",P.jsx("strong",{children:"Benny Perumalla"})]})})]})]})}),P.jsxs("main",{className:pt.mainContent,children:[P.jsxs("section",{className:pt.documentationSection,children:[P.jsx("h2",{className:pt.sectionTitle,children:"Project Documentation"}),P.jsx(l5,{defaultDocument:"gsoc-2025-final-report",className:pt.multiPdfViewerContainer})]}),P.jsxs("section",{className:pt.technicalSection,children:[P.jsx("h2",{className:pt.sectionTitle,children:"Technical Details"}),P.jsxs(X$,{type:"single",collapsible:!0,defaultValue:"item-1",children:[P.jsxs(kf,{value:"item-1",children:[P.jsx(If,{children:"Installation & Build Process"}),P.jsxs(Lf,{children:[P.jsx("p",{children:"The audio filters are part of the main VLC source tree. To use them, you need to compile VLC from source. Ensure you have the required build dependencies for your operating system."}),P.jsx(Sv,{code:L5,language:"bash"})]})]}),P.jsxs(kf,{value:"item-2",children:[P.jsx(If,{children:"API Usage"}),P.jsxs(Lf,{children:[P.jsx("p",{children:"Filters can be instantiated and configured programmatically using the VLC core API. This is useful for developers looking to integrate these filters into their own VLC-based applications."}),P.jsx(Sv,{code:N5,language:"c"})]})]}),P.jsxs(kf,{value:"item-3",children:[P.jsx(If,{children:"Spatializer Algorithm"}),P.jsx(Lf,{children:"The spatializer uses a combination of panning laws and phase shifting to create the perception of a wider stereo image. The core of the algorithm is a simplified matrix transformation applied to the stereo audio samples, which can be adjusted in real-time via the 'width' parameter."})]}),P.jsxs(kf,{value:"item-4",children:[P.jsx(If,{children:"Reverb Implementation"}),P.jsx(Lf,{children:"Our reverb engine is based on the Schroeder reverberator model, which combines multiple comb filters in parallel and all-pass filters in series. This provides a computationally efficient way to simulate the complex reflections of a room. Performance is further enhanced by using FFT-based convolution for longer reverb tails."})]})]}),P.jsxs("div",{className:pt.contributionsSection,children:[P.jsx("h3",{className:pt.contributionsTitle,children:"Code Contributions"}),P.jsxs("div",{className:pt.mrList,children:[P.jsxs("div",{className:pt.mrItem,children:[P.jsx(Zf,{size:18,className:pt.mrIcon}),P.jsxs("div",{className:pt.mrDetails,children:[P.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer",children:"feat(audio): Add new spatializer audio filter"}),P.jsx("span",{children:"Status: Merged"})]})]}),P.jsxs("div",{className:pt.mrItem,children:[P.jsx(Zf,{size:18,className:pt.mrIcon}),P.jsxs("div",{className:pt.mrDetails,children:[P.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer",children:"fix(reverb): Optimize convolution algorithm"}),P.jsx("span",{children:"Status: Merged"})]})]}),P.jsxs("div",{className:pt.mrItem,children:[P.jsx(Zf,{size:18,className:pt.mrIcon}),P.jsxs("div",{className:pt.mrDetails,children:[P.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer",children:"refactor(dsp): Unify audio buffer handling"}),P.jsx("span",{children:"Status: Merged"})]})]})]})]})]})]}),P.jsx("footer",{className:pt.footer,children:P.jsxs("div",{className:pt.footerContent,children:[P.jsxs("div",{className:pt.footerBranding,children:[P.jsx(Ev,{size:"sm"}),P.jsx("span",{children:"GSOC Report 2025 - VLC Audio Processing"})]}),P.jsxs("div",{className:pt.footerAttribution,children:[P.jsxs("p",{children:["Created by ",P.jsx("strong",{children:"Benny Perumalla"})]}),P.jsx("p",{children:"© 2024 - Contributing to VLC Media Player"})]})]})})]})]}),D5=[WP];window.requestIdleCallback||(window.requestIdleCallback=(s,e)=>window.setTimeout(()=>{s({didTimeout:!1,timeRemaining:()=>Math.max(0,50-performance.now()%50)})},1));const O5=new Map([["./pages/_index.tsx","/"],["./pages/documentation.tsx","/documentation"]]),F5=new Map([["./pages/_index.tsx",l$],["./pages/documentation.tsx",M5]]);function j5(s){const e=F5.get(s);return e?se.createElement(e):null}function F2({trie:s,fileNameToRoute:e,makePageRoute:t}){return[...s.topLevel.map(n=>P.jsx(gv,{path:e.get(n),element:t(n)})),...Array.from(s.trie.entries()).map(([n,r])=>P.jsx(gv,{element:P.jsx(n,{children:P.jsx(FM,{})}),children:F2({trie:r,fileNameToRoute:e,makePageRoute:t})}))]}function B5(s){const e={topLevel:[],trie:new Map};return Object.entries(s).forEach(([t,n])=>{let r=e;for(const o of n)r.trie.has(o)||r.trie.set(o,{topLevel:[],trie:new Map}),r=r.trie.get(o);r.topLevel.push(t)}),e}function $5(){return P.jsxs("div",{children:[P.jsx("h1",{children:"Not Found"}),P.jsx("p",{children:"The page you are looking for does not exist."}),P.jsxs("p",{children:["Go back to the ",P.jsx("a",{href:"/",style:{color:"blue"},children:"home page"}),"."]})]})}function z5(){return P.jsx(GM,{children:P.jsx(Ej,{children:P.jsxs(BM,{children:[F2({trie:B5({"./pages/_index.tsx":E$,"./pages/documentation.tsx":D5}),fileNameToRoute:O5,makePageRoute:j5}),P.jsx(gv,{path:"*",element:P.jsx($5,{})})]})})})}var j2=(s=>(s.BASE="base",s.BODY="body",s.HEAD="head",s.HTML="html",s.LINK="link",s.META="meta",s.NOSCRIPT="noscript",s.SCRIPT="script",s.STYLE="style",s.TITLE="title",s.FRAGMENT="Symbol(react.fragment)",s))(j2||{}),Xb={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}};Object.values(j2);var I1={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"};Object.entries(I1).reduce((s,[e,t])=>(s[t]=e,s),{});var yp="data-rh",H5=s=>Array.isArray(s)?s.join(""):s,U5=(s,e)=>{const t=Object.keys(s);for(let n=0;n<t.length;n+=1)if(e[t[n]]&&e[t[n]].includes(s[t[n]]))return!0;return!1},Kb=(s,e)=>Array.isArray(s)?s.reduce((t,n)=>(U5(n,e)?t.priority.push(n):t.default.push(n),t),{priority:[],default:[]}):{default:s,priority:[]},V5=["noscript","script","style"],B_=(s,e=!0)=>e===!1?String(s):String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),B2=s=>Object.keys(s).reduce((e,t)=>{const n=typeof s[t]<"u"?`${t}="${s[t]}"`:`${t}`;return e?`${e} ${n}`:n},""),W5=(s,e,t,n)=>{const r=B2(t),o=H5(e);return r?`<${s} ${yp}="true" ${r}>${B_(o,n)}</${s}>`:`<${s} ${yp}="true">${B_(o,n)}</${s}>`},G5=(s,e,t=!0)=>e.reduce((n,r)=>{const o=r,l=Object.keys(o).filter(f=>!(f==="innerHTML"||f==="cssText")).reduce((f,p)=>{const g=typeof o[p]>"u"?p:`${p}="${B_(o[p],t)}"`;return f?`${f} ${g}`:g},""),c=o.innerHTML||o.cssText||"",d=V5.indexOf(s)===-1;return`${n}<${s} ${yp}="true" ${l}${d?"/>":`>${c}</${s}>`}`},""),$2=(s,e={})=>Object.keys(s).reduce((t,n)=>{const r=I1[n];return t[r||n]=s[n],t},e),q5=(s,e,t)=>{const n={key:e,[yp]:!0},r=$2(t,n);return[se.createElement("title",r,e)]},fv=(s,e)=>e.map((t,n)=>{const r={key:n,[yp]:!0};return Object.keys(t).forEach(o=>{const c=I1[o]||o;if(c==="innerHTML"||c==="cssText"){const d=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:d}}else r[c]=t[o]}),se.createElement(s,r)}),_i=(s,e,t=!0)=>{switch(s){case"title":return{toComponent:()=>q5(s,e.title,e.titleAttributes),toString:()=>W5(s,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>$2(e),toString:()=>B2(e)};default:return{toComponent:()=>fv(s,e),toString:()=>G5(s,e,t)}}},Y5=({metaTags:s,linkTags:e,scriptTags:t,encode:n})=>{const r=Kb(s,Xb.meta),o=Kb(e,Xb.link),l=Kb(t,Xb.script);return{priorityMethods:{toComponent:()=>[...fv("meta",r.priority),...fv("link",o.priority),...fv("script",l.priority)],toString:()=>`${_i("meta",r.priority,n)} ${_i("link",o.priority,n)} ${_i("script",l.priority,n)}`},metaTags:r.default,linkTags:o.default,scriptTags:l.default}},X5=s=>{const{baseTag:e,bodyAttributes:t,encode:n=!0,htmlAttributes:r,noscriptTags:o,styleTags:l,title:c="",titleAttributes:d,prioritizeSeoTags:f}=s;let{linkTags:p,metaTags:g,scriptTags:y}=s,w={toComponent:()=>{},toString:()=>""};return f&&({priorityMethods:w,linkTags:p,metaTags:g,scriptTags:y}=Y5(s)),{priority:w,base:_i("base",e,n),bodyAttributes:_i("bodyAttributes",t,n),htmlAttributes:_i("htmlAttributes",r,n),link:_i("link",p,n),meta:_i("meta",g,n),noscript:_i("noscript",o,n),script:_i("script",y,n),style:_i("style",l,n),title:_i("title",{title:c,titleAttributes:d},n)}},K5=X5,ky=[],z2=!!(typeof window<"u"&&window.document&&window.document.createElement),Q5=class{constructor(s,e){me(this,"instances",[]);me(this,"canUseDOM",z2);me(this,"context");me(this,"value",{setHelmet:s=>{this.context.helmet=s},helmetInstances:{get:()=>this.canUseDOM?ky:this.instances,add:s=>{(this.canUseDOM?ky:this.instances).push(s)},remove:s=>{const e=(this.canUseDOM?ky:this.instances).indexOf(s);(this.canUseDOM?ky:this.instances).splice(e,1)}}});this.context=s,this.canUseDOM=e||!1,e||(s.helmet=K5({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},J5={},Z5=se.createContext(J5),fu,e8=(fu=class extends R.Component{constructor(t){super(t);me(this,"helmetData");this.helmetData=new Q5(this.props.context||{},fu.canUseDOM)}render(){return se.createElement(Z5.Provider,{value:this.helmetData.value},this.props.children)}},me(fu,"canUseDOM",z2),fu);const t8=document.getElementById("root");WN.createRoot(t8).render(P.jsx(e8,{children:P.jsx(z5,{})}));

var aD=Object.defineProperty;var YA=i=>{throw TypeError(i)};var lD=(i,e,t)=>e in i?aD(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var ye=(i,e,t)=>lD(i,typeof e!="symbol"?e+"":e,t),Fb=(i,e,t)=>e.has(i)||YA("Cannot "+t);var u=(i,e,t)=>(Fb(i,e,"read from private field"),t?t.call(i):e.get(i)),I=(i,e,t)=>e.has(i)?YA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),C=(i,e,t,n)=>(Fb(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t),N=(i,e,t)=>(Fb(i,e,"access private method"),t);var En=(i,e,t,n)=>({set _(r){C(i,e,r,t)},get _(){return u(i,e,n)}});function cD(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in i)){const o=Object.getOwnPropertyDescriptor(n,r);o&&Object.defineProperty(i,r,o.get?o:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function Cu(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jb={exports:{}},Ff={},Bb={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA;function uD(){if(XA)return tt;XA=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=m&&H[m]||H["@@iterator"],typeof H=="function"?H:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function A(H,ee,ue){this.props=H,this.context=ee,this.refs=b,this.updater=ue||w}A.prototype.isReactComponent={},A.prototype.setState=function(H,ee){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ee,"setState")},A.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function R(){}R.prototype=A.prototype;function k(H,ee,ue){this.props=H,this.context=ee,this.refs=b,this.updater=ue||w}var M=k.prototype=new R;M.constructor=k,x(M,A.prototype),M.isPureReactComponent=!0;var L=Array.isArray,F=Object.prototype.hasOwnProperty,$={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function V(H,ee,ue){var de,ve={},_e=null,ae=null;if(ee!=null)for(de in ee.ref!==void 0&&(ae=ee.ref),ee.key!==void 0&&(_e=""+ee.key),ee)F.call(ee,de)&&!B.hasOwnProperty(de)&&(ve[de]=ee[de]);var me=arguments.length-2;if(me===1)ve.children=ue;else if(1<me){for(var Ae=Array(me),Ee=0;Ee<me;Ee++)Ae[Ee]=arguments[Ee+2];ve.children=Ae}if(H&&H.defaultProps)for(de in me=H.defaultProps,me)ve[de]===void 0&&(ve[de]=me[de]);return{$$typeof:i,type:H,key:_e,ref:ae,props:ve,_owner:$.current}}function q(H,ee){return{$$typeof:i,type:H.type,key:ee,ref:H.ref,props:H.props,_owner:H._owner}}function J(H){return typeof H=="object"&&H!==null&&H.$$typeof===i}function ie(H){var ee={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ue){return ee[ue]})}var we=/\/+/g;function he(H,ee){return typeof H=="object"&&H!==null&&H.key!=null?ie(""+H.key):ee.toString(36)}function ce(H,ee,ue,de,ve){var _e=typeof H;(_e==="undefined"||_e==="boolean")&&(H=null);var ae=!1;if(H===null)ae=!0;else switch(_e){case"string":case"number":ae=!0;break;case"object":switch(H.$$typeof){case i:case e:ae=!0}}if(ae)return ae=H,ve=ve(ae),H=de===""?"."+he(ae,0):de,L(ve)?(ue="",H!=null&&(ue=H.replace(we,"$&/")+"/"),ce(ve,ee,ue,"",function(Ee){return Ee})):ve!=null&&(J(ve)&&(ve=q(ve,ue+(!ve.key||ae&&ae.key===ve.key?"":(""+ve.key).replace(we,"$&/")+"/")+H)),ee.push(ve)),1;if(ae=0,de=de===""?".":de+":",L(H))for(var me=0;me<H.length;me++){_e=H[me];var Ae=de+he(_e,me);ae+=ce(_e,ee,ue,Ae,ve)}else if(Ae=y(H),typeof Ae=="function")for(H=Ae.call(H),me=0;!(_e=H.next()).done;)_e=_e.value,Ae=de+he(_e,me++),ae+=ce(_e,ee,ue,Ae,ve);else if(_e==="object")throw ee=String(H),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return ae}function Se(H,ee,ue){if(H==null)return H;var de=[],ve=0;return ce(H,de,"","",function(_e){return ee.call(ue,_e,ve++)}),de}function K(H){if(H._status===-1){var ee=H._result;ee=ee(),ee.then(function(ue){(H._status===0||H._status===-1)&&(H._status=1,H._result=ue)},function(ue){(H._status===0||H._status===-1)&&(H._status=2,H._result=ue)}),H._status===-1&&(H._status=0,H._result=ee)}if(H._status===1)return H._result.default;throw H._result}var Z={current:null},X={transition:null},re={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:X,ReactCurrentOwner:$};function se(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:Se,forEach:function(H,ee,ue){Se(H,function(){ee.apply(this,arguments)},ue)},count:function(H){var ee=0;return Se(H,function(){ee++}),ee},toArray:function(H){return Se(H,function(ee){return ee})||[]},only:function(H){if(!J(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},tt.Component=A,tt.Fragment=t,tt.Profiler=r,tt.PureComponent=k,tt.StrictMode=n,tt.Suspense=d,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,tt.act=se,tt.cloneElement=function(H,ee,ue){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var de=x({},H.props),ve=H.key,_e=H.ref,ae=H._owner;if(ee!=null){if(ee.ref!==void 0&&(_e=ee.ref,ae=$.current),ee.key!==void 0&&(ve=""+ee.key),H.type&&H.type.defaultProps)var me=H.type.defaultProps;for(Ae in ee)F.call(ee,Ae)&&!B.hasOwnProperty(Ae)&&(de[Ae]=ee[Ae]===void 0&&me!==void 0?me[Ae]:ee[Ae])}var Ae=arguments.length-2;if(Ae===1)de.children=ue;else if(1<Ae){me=Array(Ae);for(var Ee=0;Ee<Ae;Ee++)me[Ee]=arguments[Ee+2];de.children=me}return{$$typeof:i,type:H.type,key:ve,ref:_e,props:de,_owner:ae}},tt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:o,_context:H},H.Consumer=H},tt.createElement=V,tt.createFactory=function(H){var ee=V.bind(null,H);return ee.type=H,ee},tt.createRef=function(){return{current:null}},tt.forwardRef=function(H){return{$$typeof:c,render:H}},tt.isValidElement=J,tt.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:K}},tt.memo=function(H,ee){return{$$typeof:p,type:H,compare:ee===void 0?null:ee}},tt.startTransition=function(H){var ee=X.transition;X.transition={};try{H()}finally{X.transition=ee}},tt.unstable_act=se,tt.useCallback=function(H,ee){return Z.current.useCallback(H,ee)},tt.useContext=function(H){return Z.current.useContext(H)},tt.useDebugValue=function(){},tt.useDeferredValue=function(H){return Z.current.useDeferredValue(H)},tt.useEffect=function(H,ee){return Z.current.useEffect(H,ee)},tt.useId=function(){return Z.current.useId()},tt.useImperativeHandle=function(H,ee,ue){return Z.current.useImperativeHandle(H,ee,ue)},tt.useInsertionEffect=function(H,ee){return Z.current.useInsertionEffect(H,ee)},tt.useLayoutEffect=function(H,ee){return Z.current.useLayoutEffect(H,ee)},tt.useMemo=function(H,ee){return Z.current.useMemo(H,ee)},tt.useReducer=function(H,ee,ue){return Z.current.useReducer(H,ee,ue)},tt.useRef=function(H){return Z.current.useRef(H)},tt.useState=function(H){return Z.current.useState(H)},tt.useSyncExternalStore=function(H,ee,ue){return Z.current.useSyncExternalStore(H,ee,ue)},tt.useTransition=function(){return Z.current.useTransition()},tt.version="18.3.1",tt}var QA;function v0(){return QA||(QA=1,Bb.exports=uD()),Bb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA;function dD(){if(ZA)return Ff;ZA=1;var i=v0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var f,m={},y=null,w=null;p!==void 0&&(y=""+p),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(w=d.ref);for(f in d)n.call(d,f)&&!o.hasOwnProperty(f)&&(m[f]=d[f]);if(c&&c.defaultProps)for(f in d=c.defaultProps,d)m[f]===void 0&&(m[f]=d[f]);return{$$typeof:e,type:c,key:y,ref:w,props:m,_owner:r.current}}return Ff.Fragment=t,Ff.jsx=l,Ff.jsxs=l,Ff}var JA;function hD(){return JA||(JA=1,jb.exports=dD()),jb.exports}var _=hD(),Ty={},$b={exports:{}},Mr={},zb={exports:{}},Hb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eC;function fD(){return eC||(eC=1,(function(i){function e(X,re){var se=X.length;X.push(re);e:for(;0<se;){var H=se-1>>>1,ee=X[H];if(0<r(ee,re))X[H]=re,X[se]=ee,se=H;else break e}}function t(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var re=X[0],se=X.pop();if(se!==re){X[0]=se;e:for(var H=0,ee=X.length,ue=ee>>>1;H<ue;){var de=2*(H+1)-1,ve=X[de],_e=de+1,ae=X[_e];if(0>r(ve,se))_e<ee&&0>r(ae,ve)?(X[H]=ae,X[_e]=se,H=_e):(X[H]=ve,X[de]=se,H=de);else if(_e<ee&&0>r(ae,se))X[H]=ae,X[_e]=se,H=_e;else break e}}return re}function r(X,re){var se=X.sortIndex-re.sortIndex;return se!==0?se:X.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();i.unstable_now=function(){return l.now()-c}}var d=[],p=[],f=1,m=null,y=3,w=!1,x=!1,b=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(X){for(var re=t(p);re!==null;){if(re.callback===null)n(p);else if(re.startTime<=X)n(p),re.sortIndex=re.expirationTime,e(d,re);else break;re=t(p)}}function L(X){if(b=!1,M(X),!x)if(t(d)!==null)x=!0,K(F);else{var re=t(p);re!==null&&Z(L,re.startTime-X)}}function F(X,re){x=!1,b&&(b=!1,R(V),V=-1),w=!0;var se=y;try{for(M(re),m=t(d);m!==null&&(!(m.expirationTime>re)||X&&!ie());){var H=m.callback;if(typeof H=="function"){m.callback=null,y=m.priorityLevel;var ee=H(m.expirationTime<=re);re=i.unstable_now(),typeof ee=="function"?m.callback=ee:m===t(d)&&n(d),M(re)}else n(d);m=t(d)}if(m!==null)var ue=!0;else{var de=t(p);de!==null&&Z(L,de.startTime-re),ue=!1}return ue}finally{m=null,y=se,w=!1}}var $=!1,B=null,V=-1,q=5,J=-1;function ie(){return!(i.unstable_now()-J<q)}function we(){if(B!==null){var X=i.unstable_now();J=X;var re=!0;try{re=B(!0,X)}finally{re?he():($=!1,B=null)}}else $=!1}var he;if(typeof k=="function")he=function(){k(we)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,Se=ce.port2;ce.port1.onmessage=we,he=function(){Se.postMessage(null)}}else he=function(){A(we,0)};function K(X){B=X,$||($=!0,he())}function Z(X,re){V=A(function(){X(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_continueExecution=function(){x||w||(x=!0,K(F))},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_getFirstCallbackNode=function(){return t(d)},i.unstable_next=function(X){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var se=y;y=re;try{return X()}finally{y=se}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var se=y;y=X;try{return re()}finally{y=se}},i.unstable_scheduleCallback=function(X,re,se){var H=i.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?H+se:H):se=H,X){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=se+ee,X={id:f++,callback:re,priorityLevel:X,startTime:se,expirationTime:ee,sortIndex:-1},se>H?(X.sortIndex=se,e(p,X),t(d)===null&&X===t(p)&&(b?(R(V),V=-1):b=!0,Z(L,se-H))):(X.sortIndex=ee,e(d,X),x||w||(x=!0,K(F))),X},i.unstable_shouldYield=ie,i.unstable_wrapCallback=function(X){var re=y;return function(){var se=y;y=re;try{return X.apply(this,arguments)}finally{y=se}}}})(Hb)),Hb}var tC;function pD(){return tC||(tC=1,zb.exports=fD()),zb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nC;function mD(){if(nC)return Mr;nC=1;var i=v0(),e=pD();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,r={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(r[s]=a,s=0;s<a.length;s++)n.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function y(s){return d.call(m,s)?!0:d.call(f,s)?!1:p.test(s)?m[s]=!0:(f[s]=!0,!1)}function w(s,a,h,g){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function x(s,a,h,g){if(a===null||typeof a>"u"||w(s,a,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(s,a,h,g,v,S,D){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=v,this.mustUseProperty=h,this.propertyName=s,this.type=a,this.sanitizeURL=S,this.removeEmptyString=D}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){A[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];A[a]=new b(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){A[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){A[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){A[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){A[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){A[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){A[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){A[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(R,k);A[a]=new b(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(R,k);A[a]=new b(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(R,k);A[a]=new b(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){A[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),A.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){A[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function M(s,a,h,g){var v=A.hasOwnProperty(a)?A[a]:null;(v!==null?v.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(x(a,h,v,g)&&(h=null),g||v===null?y(a)&&(h===null?s.removeAttribute(a):s.setAttribute(a,""+h)):v.mustUseProperty?s[v.propertyName]=h===null?v.type===3?!1:"":h:(a=v.attributeName,g=v.attributeNamespace,h===null?s.removeAttribute(a):(v=v.type,h=v===3||v===4&&h===!0?"":""+h,g?s.setAttributeNS(g,a,h):s.setAttribute(a,h))))}var L=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),$=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),ie=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),X=Symbol.iterator;function re(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,H;function ee(s){if(H===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);H=a&&a[1]||""}return`
`+H+s}var ue=!1;function de(s,a){if(!s||ue)return"";ue=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ne){var g=ne}Reflect.construct(s,[],a)}else{try{a.call()}catch(ne){g=ne}s.call(a.prototype)}else{try{throw Error()}catch(ne){g=ne}s()}}catch(ne){if(ne&&g&&typeof ne.stack=="string"){for(var v=ne.stack.split(`
`),S=g.stack.split(`
`),D=v.length-1,z=S.length-1;1<=D&&0<=z&&v[D]!==S[z];)z--;for(;1<=D&&0<=z;D--,z--)if(v[D]!==S[z]){if(D!==1||z!==1)do if(D--,z--,0>z||v[D]!==S[z]){var U=`
`+v[D].replace(" at new "," at ");return s.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",s.displayName)),U}while(1<=D&&0<=z);break}}}finally{ue=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?ee(s):""}function ve(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=de(s.type,!1),s;case 11:return s=de(s.type.render,!1),s;case 1:return s=de(s.type,!0),s;default:return""}}function _e(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case B:return"Fragment";case $:return"Portal";case q:return"Profiler";case V:return"StrictMode";case he:return"Suspense";case ce:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case ie:return(s.displayName||"Context")+".Consumer";case J:return(s._context.displayName||"Context")+".Provider";case we:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Se:return a=s.displayName||null,a!==null?a:_e(s.type)||"Memo";case K:a=s._payload,s=s._init;try{return _e(s(a))}catch{}}return null}function ae(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(a);case 8:return a===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ae(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ee(s){var a=Ae(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),g=""+s[a];if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,S=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return v.call(this)},set:function(D){g=""+D,S.call(this,D)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(D){g=""+D},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Fe(s){s._valueTracker||(s._valueTracker=Ee(s))}function Be(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var h=a.getValue(),g="";return s&&(g=Ae(s)?s.checked?"true":"false":s.value),s=g,s!==h?(a.setValue(s),!0):!1}function je(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ve(s,a){var h=a.checked;return se({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function lt(s,a){var h=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;h=me(a.value!=null?a.value:h),s._wrapperState={initialChecked:g,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function rt(s,a){a=a.checked,a!=null&&M(s,"checked",a,!1)}function vt(s,a){rt(s,a);var h=me(a.value),g=a.type;if(h!=null)g==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Mt(s,a.type,h):a.hasOwnProperty("defaultValue")&&Mt(s,a.type,me(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function ar(s,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,h||a===s.value||(s.value=a),s.defaultValue=a}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function Mt(s,a,h){(a!=="number"||je(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var zr=Array.isArray;function lr(s,a,h,g){if(s=s.options,a){a={};for(var v=0;v<h.length;v++)a["$"+h[v]]=!0;for(h=0;h<s.length;h++)v=a.hasOwnProperty("$"+s[h].value),s[h].selected!==v&&(s[h].selected=v),v&&g&&(s[h].defaultSelected=!0)}else{for(h=""+me(h),a=null,v=0;v<s.length;v++){if(s[v].value===h){s[v].selected=!0,g&&(s[v].defaultSelected=!0);return}a!==null||s[v].disabled||(a=s[v])}a!==null&&(a.selected=!0)}}function Xt(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Cr(s,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(t(92));if(zr(h)){if(1<h.length)throw Error(t(93));h=h[0]}a=h}a==null&&(a=""),h=a}s._wrapperState={initialValue:me(h)}}function $i(s,a){var h=me(a.value),g=me(a.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),a.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),g!=null&&(s.defaultValue=""+g)}function Dn(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Hr(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kn(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Hr(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var zt,On=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,g,v){MSApp.execUnsafeLocalFunction(function(){return s(a,h,g,v)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(zt=zt||document.createElement("div"),zt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=zt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function O(s,a){if(a){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=a;return}}s.textContent=a}var E={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T=["Webkit","ms","Moz","O"];Object.keys(E).forEach(function(s){T.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),E[a]=E[s]})});function j(s,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||E.hasOwnProperty(s)&&E[s]?(""+a).trim():a+"px"}function W(s,a){s=s.style;for(var h in a)if(a.hasOwnProperty(h)){var g=h.indexOf("--")===0,v=j(h,a[h],g);h==="float"&&(h="cssFloat"),g?s.setProperty(h,v):s[h]=v}}var te=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oe(s,a){if(a){if(te[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Ke(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pt=null;function it(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var wt=null,ot=null,co=null;function tf(s){if(s=xf(s)){if(typeof wt!="function")throw Error(t(280));var a=s.stateNode;a&&(a=Hg(a),wt(s.stateNode,s.type,a))}}function We(s){ot?co?co.push(s):co=[s]:ot=s}function Qt(){if(ot){var s=ot,a=co;if(co=ot=null,tf(s),a)for(s=0;s<a.length;s++)tf(a[s])}}function fn(s,a){return s(a)}function Yn(){}var ma=!1;function an(s,a,h){if(ma)return s(a,h);ma=!0;try{return fn(s,a,h)}finally{ma=!1,(ot!==null||co!==null)&&(Yn(),Qt())}}function bn(s,a){var h=s.stateNode;if(h===null)return null;var g=Hg(h);if(g===null)return null;h=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(t(231,a,typeof h));return h}var ga=!1;if(c)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){ga=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{ga=!1}function Ur(s,a,h,g,v,S,D,z,U){var ne=Array.prototype.slice.call(arguments,3);try{a.apply(h,ne)}catch(pe){this.onError(pe)}}var ya=!1,yi=null,nf=!1,nw=null,pN={onError:function(s){ya=!0,yi=s}};function mN(s,a,h,g,v,S,D,z,U){ya=!1,yi=null,Ur.apply(pN,arguments)}function gN(s,a,h,g,v,S,D,z,U){if(mN.apply(this,arguments),ya){if(ya){var ne=yi;ya=!1,yi=null}else throw Error(t(198));nf||(nf=!0,nw=ne)}}function $l(s){var a=s,h=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(h=a.return),s=a.return;while(s)}return a.tag===3?h:null}function vS(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function wS(s){if($l(s)!==s)throw Error(t(188))}function yN(s){var a=s.alternate;if(!a){if(a=$l(s),a===null)throw Error(t(188));return a!==s?null:s}for(var h=s,g=a;;){var v=h.return;if(v===null)break;var S=v.alternate;if(S===null){if(g=v.return,g!==null){h=g;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===h)return wS(v),s;if(S===g)return wS(v),a;S=S.sibling}throw Error(t(188))}if(h.return!==g.return)h=v,g=S;else{for(var D=!1,z=v.child;z;){if(z===h){D=!0,h=v,g=S;break}if(z===g){D=!0,g=v,h=S;break}z=z.sibling}if(!D){for(z=S.child;z;){if(z===h){D=!0,h=S,g=v;break}if(z===g){D=!0,g=S,h=v;break}z=z.sibling}if(!D)throw Error(t(189))}}if(h.alternate!==g)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?s:a}function bS(s){return s=yN(s),s!==null?_S(s):null}function _S(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=_S(s);if(a!==null)return a;s=s.sibling}return null}var xS=e.unstable_scheduleCallback,SS=e.unstable_cancelCallback,vN=e.unstable_shouldYield,wN=e.unstable_requestPaint,Zt=e.unstable_now,bN=e.unstable_getCurrentPriorityLevel,rw=e.unstable_ImmediatePriority,ES=e.unstable_UserBlockingPriority,xg=e.unstable_NormalPriority,_N=e.unstable_LowPriority,AS=e.unstable_IdlePriority,Sg=null,ws=null;function xN(s){if(ws&&typeof ws.onCommitFiberRoot=="function")try{ws.onCommitFiberRoot(Sg,s,void 0,(s.current.flags&128)===128)}catch{}}var zi=Math.clz32?Math.clz32:AN,SN=Math.log,EN=Math.LN2;function AN(s){return s>>>=0,s===0?32:31-(SN(s)/EN|0)|0}var Eg=64,Ag=4194304;function rf(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Cg(s,a){var h=s.pendingLanes;if(h===0)return 0;var g=0,v=s.suspendedLanes,S=s.pingedLanes,D=h&268435455;if(D!==0){var z=D&~v;z!==0?g=rf(z):(S&=D,S!==0&&(g=rf(S)))}else D=h&~v,D!==0?g=rf(D):S!==0&&(g=rf(S));if(g===0)return 0;if(a!==0&&a!==g&&(a&v)===0&&(v=g&-g,S=a&-a,v>=S||v===16&&(S&4194240)!==0))return a;if((g&4)!==0&&(g|=h&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=g;0<a;)h=31-zi(a),v=1<<h,g|=s[h],a&=~v;return g}function CN(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TN(s,a){for(var h=s.suspendedLanes,g=s.pingedLanes,v=s.expirationTimes,S=s.pendingLanes;0<S;){var D=31-zi(S),z=1<<D,U=v[D];U===-1?((z&h)===0||(z&g)!==0)&&(v[D]=CN(z,a)):U<=a&&(s.expiredLanes|=z),S&=~z}}function iw(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function CS(){var s=Eg;return Eg<<=1,(Eg&4194240)===0&&(Eg=64),s}function sw(s){for(var a=[],h=0;31>h;h++)a.push(s);return a}function sf(s,a,h){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-zi(a),s[a]=h}function RN(s,a){var h=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<h;){var v=31-zi(h),S=1<<v;a[v]=0,g[v]=-1,s[v]=-1,h&=~S}}function ow(s,a){var h=s.entangledLanes|=a;for(s=s.entanglements;h;){var g=31-zi(h),v=1<<g;v&a|s[g]&a&&(s[g]|=a),h&=~v}}var gt=0;function TS(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var RS,aw,PS,kS,IS,lw=!1,Tg=[],va=null,wa=null,ba=null,of=new Map,af=new Map,_a=[],PN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function MS(s,a){switch(s){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":of.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":af.delete(a.pointerId)}}function lf(s,a,h,g,v,S){return s===null||s.nativeEvent!==S?(s={blockedOn:a,domEventName:h,eventSystemFlags:g,nativeEvent:S,targetContainers:[v]},a!==null&&(a=xf(a),a!==null&&aw(a)),s):(s.eventSystemFlags|=g,a=s.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),s)}function kN(s,a,h,g,v){switch(a){case"focusin":return va=lf(va,s,a,h,g,v),!0;case"dragenter":return wa=lf(wa,s,a,h,g,v),!0;case"mouseover":return ba=lf(ba,s,a,h,g,v),!0;case"pointerover":var S=v.pointerId;return of.set(S,lf(of.get(S)||null,s,a,h,g,v)),!0;case"gotpointercapture":return S=v.pointerId,af.set(S,lf(af.get(S)||null,s,a,h,g,v)),!0}return!1}function NS(s){var a=zl(s.target);if(a!==null){var h=$l(a);if(h!==null){if(a=h.tag,a===13){if(a=vS(h),a!==null){s.blockedOn=a,IS(s.priority,function(){PS(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Rg(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var h=uw(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var g=new h.constructor(h.type,h);pt=g,h.target.dispatchEvent(g),pt=null}else return a=xf(h),a!==null&&aw(a),s.blockedOn=h,!1;a.shift()}return!0}function LS(s,a,h){Rg(s)&&h.delete(a)}function IN(){lw=!1,va!==null&&Rg(va)&&(va=null),wa!==null&&Rg(wa)&&(wa=null),ba!==null&&Rg(ba)&&(ba=null),of.forEach(LS),af.forEach(LS)}function cf(s,a){s.blockedOn===a&&(s.blockedOn=null,lw||(lw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,IN)))}function uf(s){function a(v){return cf(v,s)}if(0<Tg.length){cf(Tg[0],s);for(var h=1;h<Tg.length;h++){var g=Tg[h];g.blockedOn===s&&(g.blockedOn=null)}}for(va!==null&&cf(va,s),wa!==null&&cf(wa,s),ba!==null&&cf(ba,s),of.forEach(a),af.forEach(a),h=0;h<_a.length;h++)g=_a[h],g.blockedOn===s&&(g.blockedOn=null);for(;0<_a.length&&(h=_a[0],h.blockedOn===null);)NS(h),h.blockedOn===null&&_a.shift()}var Nu=L.ReactCurrentBatchConfig,Pg=!0;function MN(s,a,h,g){var v=gt,S=Nu.transition;Nu.transition=null;try{gt=1,cw(s,a,h,g)}finally{gt=v,Nu.transition=S}}function NN(s,a,h,g){var v=gt,S=Nu.transition;Nu.transition=null;try{gt=4,cw(s,a,h,g)}finally{gt=v,Nu.transition=S}}function cw(s,a,h,g){if(Pg){var v=uw(s,a,h,g);if(v===null)Tw(s,a,g,kg,h),MS(s,g);else if(kN(v,s,a,h,g))g.stopPropagation();else if(MS(s,g),a&4&&-1<PN.indexOf(s)){for(;v!==null;){var S=xf(v);if(S!==null&&RS(S),S=uw(s,a,h,g),S===null&&Tw(s,a,g,kg,h),S===v)break;v=S}v!==null&&g.stopPropagation()}else Tw(s,a,g,null,h)}}var kg=null;function uw(s,a,h,g){if(kg=null,s=it(g),s=zl(s),s!==null)if(a=$l(s),a===null)s=null;else if(h=a.tag,h===13){if(s=vS(a),s!==null)return s;s=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return kg=s,null}function DS(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bN()){case rw:return 1;case ES:return 4;case xg:case _N:return 16;case AS:return 536870912;default:return 16}default:return 16}}var xa=null,dw=null,Ig=null;function OS(){if(Ig)return Ig;var s,a=dw,h=a.length,g,v="value"in xa?xa.value:xa.textContent,S=v.length;for(s=0;s<h&&a[s]===v[s];s++);var D=h-s;for(g=1;g<=D&&a[h-g]===v[S-g];g++);return Ig=v.slice(s,1<g?1-g:void 0)}function Mg(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ng(){return!0}function FS(){return!1}function Vr(s){function a(h,g,v,S,D){this._reactName=h,this._targetInst=v,this.type=g,this.nativeEvent=S,this.target=D,this.currentTarget=null;for(var z in s)s.hasOwnProperty(z)&&(h=s[z],this[z]=h?h(S):S[z]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Ng:FS,this.isPropagationStopped=FS,this}return se(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ng)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ng)},persist:function(){},isPersistent:Ng}),a}var Lu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hw=Vr(Lu),df=se({},Lu,{view:0,detail:0}),LN=Vr(df),fw,pw,hf,Lg=se({},df,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gw,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==hf&&(hf&&s.type==="mousemove"?(fw=s.screenX-hf.screenX,pw=s.screenY-hf.screenY):pw=fw=0,hf=s),fw)},movementY:function(s){return"movementY"in s?s.movementY:pw}}),jS=Vr(Lg),DN=se({},Lg,{dataTransfer:0}),ON=Vr(DN),FN=se({},df,{relatedTarget:0}),mw=Vr(FN),jN=se({},Lu,{animationName:0,elapsedTime:0,pseudoElement:0}),BN=Vr(jN),$N=se({},Lu,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),zN=Vr($N),HN=se({},Lu,{data:0}),BS=Vr(HN),UN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WN(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=GN[s])?!!a[s]:!1}function gw(){return WN}var qN=se({},df,{key:function(s){if(s.key){var a=UN[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Mg(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?VN[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gw,charCode:function(s){return s.type==="keypress"?Mg(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Mg(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),KN=Vr(qN),YN=se({},Lg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$S=Vr(YN),XN=se({},df,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gw}),QN=Vr(XN),ZN=se({},Lu,{propertyName:0,elapsedTime:0,pseudoElement:0}),JN=Vr(ZN),eL=se({},Lg,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),tL=Vr(eL),nL=[9,13,27,32],yw=c&&"CompositionEvent"in window,ff=null;c&&"documentMode"in document&&(ff=document.documentMode);var rL=c&&"TextEvent"in window&&!ff,zS=c&&(!yw||ff&&8<ff&&11>=ff),HS=" ",US=!1;function VS(s,a){switch(s){case"keyup":return nL.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GS(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Du=!1;function iL(s,a){switch(s){case"compositionend":return GS(a);case"keypress":return a.which!==32?null:(US=!0,HS);case"textInput":return s=a.data,s===HS&&US?null:s;default:return null}}function sL(s,a){if(Du)return s==="compositionend"||!yw&&VS(s,a)?(s=OS(),Ig=dw=xa=null,Du=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return zS&&a.locale!=="ko"?null:a.data;default:return null}}var oL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WS(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!oL[s.type]:a==="textarea"}function qS(s,a,h,g){We(g),a=Bg(a,"onChange"),0<a.length&&(h=new hw("onChange","change",null,h,g),s.push({event:h,listeners:a}))}var pf=null,mf=null;function aL(s){dE(s,0)}function Dg(s){var a=$u(s);if(Be(a))return s}function lL(s,a){if(s==="change")return a}var KS=!1;if(c){var vw;if(c){var ww="oninput"in document;if(!ww){var YS=document.createElement("div");YS.setAttribute("oninput","return;"),ww=typeof YS.oninput=="function"}vw=ww}else vw=!1;KS=vw&&(!document.documentMode||9<document.documentMode)}function XS(){pf&&(pf.detachEvent("onpropertychange",QS),mf=pf=null)}function QS(s){if(s.propertyName==="value"&&Dg(mf)){var a=[];qS(a,mf,s,it(s)),an(aL,a)}}function cL(s,a,h){s==="focusin"?(XS(),pf=a,mf=h,pf.attachEvent("onpropertychange",QS)):s==="focusout"&&XS()}function uL(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Dg(mf)}function dL(s,a){if(s==="click")return Dg(a)}function hL(s,a){if(s==="input"||s==="change")return Dg(a)}function fL(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Hi=typeof Object.is=="function"?Object.is:fL;function gf(s,a){if(Hi(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var h=Object.keys(s),g=Object.keys(a);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var v=h[g];if(!d.call(a,v)||!Hi(s[v],a[v]))return!1}return!0}function ZS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function JS(s,a){var h=ZS(s);s=0;for(var g;h;){if(h.nodeType===3){if(g=s+h.textContent.length,s<=a&&g>=a)return{node:h,offset:a-s};s=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=ZS(h)}}function eE(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?eE(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function tE(){for(var s=window,a=je();a instanceof s.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)s=a.contentWindow;else break;a=je(s.document)}return a}function bw(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function pL(s){var a=tE(),h=s.focusedElem,g=s.selectionRange;if(a!==h&&h&&h.ownerDocument&&eE(h.ownerDocument.documentElement,h)){if(g!==null&&bw(h)){if(a=g.start,s=g.end,s===void 0&&(s=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(s,h.value.length);else if(s=(a=h.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var v=h.textContent.length,S=Math.min(g.start,v);g=g.end===void 0?S:Math.min(g.end,v),!s.extend&&S>g&&(v=g,g=S,S=v),v=JS(h,S);var D=JS(h,g);v&&D&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==D.node||s.focusOffset!==D.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),s.removeAllRanges(),S>g?(s.addRange(a),s.extend(D.node,D.offset)):(a.setEnd(D.node,D.offset),s.addRange(a)))}}for(a=[],s=h;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)s=a[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var mL=c&&"documentMode"in document&&11>=document.documentMode,Ou=null,_w=null,yf=null,xw=!1;function nE(s,a,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;xw||Ou==null||Ou!==je(g)||(g=Ou,"selectionStart"in g&&bw(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),yf&&gf(yf,g)||(yf=g,g=Bg(_w,"onSelect"),0<g.length&&(a=new hw("onSelect","select",null,a,h),s.push({event:a,listeners:g}),a.target=Ou)))}function Og(s,a){var h={};return h[s.toLowerCase()]=a.toLowerCase(),h["Webkit"+s]="webkit"+a,h["Moz"+s]="moz"+a,h}var Fu={animationend:Og("Animation","AnimationEnd"),animationiteration:Og("Animation","AnimationIteration"),animationstart:Og("Animation","AnimationStart"),transitionend:Og("Transition","TransitionEnd")},Sw={},rE={};c&&(rE=document.createElement("div").style,"AnimationEvent"in window||(delete Fu.animationend.animation,delete Fu.animationiteration.animation,delete Fu.animationstart.animation),"TransitionEvent"in window||delete Fu.transitionend.transition);function Fg(s){if(Sw[s])return Sw[s];if(!Fu[s])return s;var a=Fu[s],h;for(h in a)if(a.hasOwnProperty(h)&&h in rE)return Sw[s]=a[h];return s}var iE=Fg("animationend"),sE=Fg("animationiteration"),oE=Fg("animationstart"),aE=Fg("transitionend"),lE=new Map,cE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sa(s,a){lE.set(s,a),o(a,[s])}for(var Ew=0;Ew<cE.length;Ew++){var Aw=cE[Ew],gL=Aw.toLowerCase(),yL=Aw[0].toUpperCase()+Aw.slice(1);Sa(gL,"on"+yL)}Sa(iE,"onAnimationEnd"),Sa(sE,"onAnimationIteration"),Sa(oE,"onAnimationStart"),Sa("dblclick","onDoubleClick"),Sa("focusin","onFocus"),Sa("focusout","onBlur"),Sa(aE,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vL=new Set("cancel close invalid load scroll toggle".split(" ").concat(vf));function uE(s,a,h){var g=s.type||"unknown-event";s.currentTarget=h,gN(g,a,void 0,s),s.currentTarget=null}function dE(s,a){a=(a&4)!==0;for(var h=0;h<s.length;h++){var g=s[h],v=g.event;g=g.listeners;e:{var S=void 0;if(a)for(var D=g.length-1;0<=D;D--){var z=g[D],U=z.instance,ne=z.currentTarget;if(z=z.listener,U!==S&&v.isPropagationStopped())break e;uE(v,z,ne),S=U}else for(D=0;D<g.length;D++){if(z=g[D],U=z.instance,ne=z.currentTarget,z=z.listener,U!==S&&v.isPropagationStopped())break e;uE(v,z,ne),S=U}}}if(nf)throw s=nw,nf=!1,nw=null,s}function kt(s,a){var h=a[Nw];h===void 0&&(h=a[Nw]=new Set);var g=s+"__bubble";h.has(g)||(hE(a,s,2,!1),h.add(g))}function Cw(s,a,h){var g=0;a&&(g|=4),hE(h,s,g,a)}var jg="_reactListening"+Math.random().toString(36).slice(2);function wf(s){if(!s[jg]){s[jg]=!0,n.forEach(function(h){h!=="selectionchange"&&(vL.has(h)||Cw(h,!1,s),Cw(h,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[jg]||(a[jg]=!0,Cw("selectionchange",!1,a))}}function hE(s,a,h,g){switch(DS(a)){case 1:var v=MN;break;case 4:v=NN;break;default:v=cw}h=v.bind(null,a,h,s),v=void 0,!ga||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),g?v!==void 0?s.addEventListener(a,h,{capture:!0,passive:v}):s.addEventListener(a,h,!0):v!==void 0?s.addEventListener(a,h,{passive:v}):s.addEventListener(a,h,!1)}function Tw(s,a,h,g,v){var S=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var D=g.tag;if(D===3||D===4){var z=g.stateNode.containerInfo;if(z===v||z.nodeType===8&&z.parentNode===v)break;if(D===4)for(D=g.return;D!==null;){var U=D.tag;if((U===3||U===4)&&(U=D.stateNode.containerInfo,U===v||U.nodeType===8&&U.parentNode===v))return;D=D.return}for(;z!==null;){if(D=zl(z),D===null)return;if(U=D.tag,U===5||U===6){g=S=D;continue e}z=z.parentNode}}g=g.return}an(function(){var ne=S,pe=it(h),ge=[];e:{var fe=lE.get(s);if(fe!==void 0){var Ce=hw,Ie=s;switch(s){case"keypress":if(Mg(h)===0)break e;case"keydown":case"keyup":Ce=KN;break;case"focusin":Ie="focus",Ce=mw;break;case"focusout":Ie="blur",Ce=mw;break;case"beforeblur":case"afterblur":Ce=mw;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=jS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=ON;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=QN;break;case iE:case sE:case oE:Ce=BN;break;case aE:Ce=JN;break;case"scroll":Ce=LN;break;case"wheel":Ce=tL;break;case"copy":case"cut":case"paste":Ce=zN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=$S}var Me=(a&4)!==0,Jt=!Me&&s==="scroll",Y=Me?fe!==null?fe+"Capture":null:fe;Me=[];for(var G=ne,Q;G!==null;){Q=G;var be=Q.stateNode;if(Q.tag===5&&be!==null&&(Q=be,Y!==null&&(be=bn(G,Y),be!=null&&Me.push(bf(G,be,Q)))),Jt)break;G=G.return}0<Me.length&&(fe=new Ce(fe,Ie,null,h,pe),ge.push({event:fe,listeners:Me}))}}if((a&7)===0){e:{if(fe=s==="mouseover"||s==="pointerover",Ce=s==="mouseout"||s==="pointerout",fe&&h!==pt&&(Ie=h.relatedTarget||h.fromElement)&&(zl(Ie)||Ie[uo]))break e;if((Ce||fe)&&(fe=pe.window===pe?pe:(fe=pe.ownerDocument)?fe.defaultView||fe.parentWindow:window,Ce?(Ie=h.relatedTarget||h.toElement,Ce=ne,Ie=Ie?zl(Ie):null,Ie!==null&&(Jt=$l(Ie),Ie!==Jt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Ce=null,Ie=ne),Ce!==Ie)){if(Me=jS,be="onMouseLeave",Y="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Me=$S,be="onPointerLeave",Y="onPointerEnter",G="pointer"),Jt=Ce==null?fe:$u(Ce),Q=Ie==null?fe:$u(Ie),fe=new Me(be,G+"leave",Ce,h,pe),fe.target=Jt,fe.relatedTarget=Q,be=null,zl(pe)===ne&&(Me=new Me(Y,G+"enter",Ie,h,pe),Me.target=Q,Me.relatedTarget=Jt,be=Me),Jt=be,Ce&&Ie)t:{for(Me=Ce,Y=Ie,G=0,Q=Me;Q;Q=ju(Q))G++;for(Q=0,be=Y;be;be=ju(be))Q++;for(;0<G-Q;)Me=ju(Me),G--;for(;0<Q-G;)Y=ju(Y),Q--;for(;G--;){if(Me===Y||Y!==null&&Me===Y.alternate)break t;Me=ju(Me),Y=ju(Y)}Me=null}else Me=null;Ce!==null&&fE(ge,fe,Ce,Me,!1),Ie!==null&&Jt!==null&&fE(ge,Jt,Ie,Me,!0)}}e:{if(fe=ne?$u(ne):window,Ce=fe.nodeName&&fe.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&fe.type==="file")var Le=lL;else if(WS(fe))if(KS)Le=hL;else{Le=uL;var $e=cL}else(Ce=fe.nodeName)&&Ce.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Le=dL);if(Le&&(Le=Le(s,ne))){qS(ge,Le,h,pe);break e}$e&&$e(s,fe,ne),s==="focusout"&&($e=fe._wrapperState)&&$e.controlled&&fe.type==="number"&&Mt(fe,"number",fe.value)}switch($e=ne?$u(ne):window,s){case"focusin":(WS($e)||$e.contentEditable==="true")&&(Ou=$e,_w=ne,yf=null);break;case"focusout":yf=_w=Ou=null;break;case"mousedown":xw=!0;break;case"contextmenu":case"mouseup":case"dragend":xw=!1,nE(ge,h,pe);break;case"selectionchange":if(mL)break;case"keydown":case"keyup":nE(ge,h,pe)}var ze;if(yw)e:{switch(s){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Du?VS(s,h)&&(Ue="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(Ue="onCompositionStart");Ue&&(zS&&h.locale!=="ko"&&(Du||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Du&&(ze=OS()):(xa=pe,dw="value"in xa?xa.value:xa.textContent,Du=!0)),$e=Bg(ne,Ue),0<$e.length&&(Ue=new BS(Ue,s,null,h,pe),ge.push({event:Ue,listeners:$e}),ze?Ue.data=ze:(ze=GS(h),ze!==null&&(Ue.data=ze)))),(ze=rL?iL(s,h):sL(s,h))&&(ne=Bg(ne,"onBeforeInput"),0<ne.length&&(pe=new BS("onBeforeInput","beforeinput",null,h,pe),ge.push({event:pe,listeners:ne}),pe.data=ze))}dE(ge,a)})}function bf(s,a,h){return{instance:s,listener:a,currentTarget:h}}function Bg(s,a){for(var h=a+"Capture",g=[];s!==null;){var v=s,S=v.stateNode;v.tag===5&&S!==null&&(v=S,S=bn(s,h),S!=null&&g.unshift(bf(s,S,v)),S=bn(s,a),S!=null&&g.push(bf(s,S,v))),s=s.return}return g}function ju(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function fE(s,a,h,g,v){for(var S=a._reactName,D=[];h!==null&&h!==g;){var z=h,U=z.alternate,ne=z.stateNode;if(U!==null&&U===g)break;z.tag===5&&ne!==null&&(z=ne,v?(U=bn(h,S),U!=null&&D.unshift(bf(h,U,z))):v||(U=bn(h,S),U!=null&&D.push(bf(h,U,z)))),h=h.return}D.length!==0&&s.push({event:a,listeners:D})}var wL=/\r\n?/g,bL=/\u0000|\uFFFD/g;function pE(s){return(typeof s=="string"?s:""+s).replace(wL,`
`).replace(bL,"")}function $g(s,a,h){if(a=pE(a),pE(s)!==a&&h)throw Error(t(425))}function zg(){}var Rw=null,Pw=null;function kw(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Iw=typeof setTimeout=="function"?setTimeout:void 0,_L=typeof clearTimeout=="function"?clearTimeout:void 0,mE=typeof Promise=="function"?Promise:void 0,xL=typeof queueMicrotask=="function"?queueMicrotask:typeof mE<"u"?function(s){return mE.resolve(null).then(s).catch(SL)}:Iw;function SL(s){setTimeout(function(){throw s})}function Mw(s,a){var h=a,g=0;do{var v=h.nextSibling;if(s.removeChild(h),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(g===0){s.removeChild(v),uf(a);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=v}while(h);uf(a)}function Ea(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function gE(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return s;a--}else h==="/$"&&a++}s=s.previousSibling}return null}var Bu=Math.random().toString(36).slice(2),bs="__reactFiber$"+Bu,_f="__reactProps$"+Bu,uo="__reactContainer$"+Bu,Nw="__reactEvents$"+Bu,EL="__reactListeners$"+Bu,AL="__reactHandles$"+Bu;function zl(s){var a=s[bs];if(a)return a;for(var h=s.parentNode;h;){if(a=h[uo]||h[bs]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(s=gE(s);s!==null;){if(h=s[bs])return h;s=gE(s)}return a}s=h,h=s.parentNode}return null}function xf(s){return s=s[bs]||s[uo],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function $u(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Hg(s){return s[_f]||null}var Lw=[],zu=-1;function Aa(s){return{current:s}}function It(s){0>zu||(s.current=Lw[zu],Lw[zu]=null,zu--)}function Tt(s,a){zu++,Lw[zu]=s.current,s.current=a}var Ca={},Xn=Aa(Ca),Tr=Aa(!1),Hl=Ca;function Hu(s,a){var h=s.type.contextTypes;if(!h)return Ca;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var v={},S;for(S in h)v[S]=a[S];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=v),v}function Rr(s){return s=s.childContextTypes,s!=null}function Ug(){It(Tr),It(Xn)}function yE(s,a,h){if(Xn.current!==Ca)throw Error(t(168));Tt(Xn,a),Tt(Tr,h)}function vE(s,a,h){var g=s.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var v in g)if(!(v in a))throw Error(t(108,ae(s)||"Unknown",v));return se({},h,g)}function Vg(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ca,Hl=Xn.current,Tt(Xn,s),Tt(Tr,Tr.current),!0}function wE(s,a,h){var g=s.stateNode;if(!g)throw Error(t(169));h?(s=vE(s,a,Hl),g.__reactInternalMemoizedMergedChildContext=s,It(Tr),It(Xn),Tt(Xn,s)):It(Tr),Tt(Tr,h)}var ho=null,Gg=!1,Dw=!1;function bE(s){ho===null?ho=[s]:ho.push(s)}function CL(s){Gg=!0,bE(s)}function Ta(){if(!Dw&&ho!==null){Dw=!0;var s=0,a=gt;try{var h=ho;for(gt=1;s<h.length;s++){var g=h[s];do g=g(!0);while(g!==null)}ho=null,Gg=!1}catch(v){throw ho!==null&&(ho=ho.slice(s+1)),xS(rw,Ta),v}finally{gt=a,Dw=!1}}return null}var Uu=[],Vu=0,Wg=null,qg=0,vi=[],wi=0,Ul=null,fo=1,po="";function Vl(s,a){Uu[Vu++]=qg,Uu[Vu++]=Wg,Wg=s,qg=a}function _E(s,a,h){vi[wi++]=fo,vi[wi++]=po,vi[wi++]=Ul,Ul=s;var g=fo;s=po;var v=32-zi(g)-1;g&=~(1<<v),h+=1;var S=32-zi(a)+v;if(30<S){var D=v-v%5;S=(g&(1<<D)-1).toString(32),g>>=D,v-=D,fo=1<<32-zi(a)+v|h<<v|g,po=S+s}else fo=1<<S|h<<v|g,po=s}function Ow(s){s.return!==null&&(Vl(s,1),_E(s,1,0))}function Fw(s){for(;s===Wg;)Wg=Uu[--Vu],Uu[Vu]=null,qg=Uu[--Vu],Uu[Vu]=null;for(;s===Ul;)Ul=vi[--wi],vi[wi]=null,po=vi[--wi],vi[wi]=null,fo=vi[--wi],vi[wi]=null}var Gr=null,Wr=null,Nt=!1,Ui=null;function xE(s,a){var h=Si(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=s,a=s.deletions,a===null?(s.deletions=[h],s.flags|=16):a.push(h)}function SE(s,a){switch(s.tag){case 5:var h=s.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Gr=s,Wr=Ea(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Gr=s,Wr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=Ul!==null?{id:fo,overflow:po}:null,s.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=Si(18,null,null,0),h.stateNode=a,h.return=s,s.child=h,Gr=s,Wr=null,!0):!1;default:return!1}}function jw(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Bw(s){if(Nt){var a=Wr;if(a){var h=a;if(!SE(s,a)){if(jw(s))throw Error(t(418));a=Ea(h.nextSibling);var g=Gr;a&&SE(s,a)?xE(g,h):(s.flags=s.flags&-4097|2,Nt=!1,Gr=s)}}else{if(jw(s))throw Error(t(418));s.flags=s.flags&-4097|2,Nt=!1,Gr=s}}}function EE(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Gr=s}function Kg(s){if(s!==Gr)return!1;if(!Nt)return EE(s),Nt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!kw(s.type,s.memoizedProps)),a&&(a=Wr)){if(jw(s))throw AE(),Error(t(418));for(;a;)xE(s,a),a=Ea(a.nextSibling)}if(EE(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(a===0){Wr=Ea(s.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}s=s.nextSibling}Wr=null}}else Wr=Gr?Ea(s.stateNode.nextSibling):null;return!0}function AE(){for(var s=Wr;s;)s=Ea(s.nextSibling)}function Gu(){Wr=Gr=null,Nt=!1}function $w(s){Ui===null?Ui=[s]:Ui.push(s)}var TL=L.ReactCurrentBatchConfig;function Sf(s,a,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var g=h.stateNode}if(!g)throw Error(t(147,s));var v=g,S=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===S?a.ref:(a=function(D){var z=v.refs;D===null?delete z[S]:z[S]=D},a._stringRef=S,a)}if(typeof s!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,s))}return s}function Yg(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function CE(s){var a=s._init;return a(s._payload)}function TE(s){function a(Y,G){if(s){var Q=Y.deletions;Q===null?(Y.deletions=[G],Y.flags|=16):Q.push(G)}}function h(Y,G){if(!s)return null;for(;G!==null;)a(Y,G),G=G.sibling;return null}function g(Y,G){for(Y=new Map;G!==null;)G.key!==null?Y.set(G.key,G):Y.set(G.index,G),G=G.sibling;return Y}function v(Y,G){return Y=Da(Y,G),Y.index=0,Y.sibling=null,Y}function S(Y,G,Q){return Y.index=Q,s?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<G?(Y.flags|=2,G):Q):(Y.flags|=2,G)):(Y.flags|=1048576,G)}function D(Y){return s&&Y.alternate===null&&(Y.flags|=2),Y}function z(Y,G,Q,be){return G===null||G.tag!==6?(G=Ib(Q,Y.mode,be),G.return=Y,G):(G=v(G,Q),G.return=Y,G)}function U(Y,G,Q,be){var Le=Q.type;return Le===B?pe(Y,G,Q.props.children,be,Q.key):G!==null&&(G.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===K&&CE(Le)===G.type)?(be=v(G,Q.props),be.ref=Sf(Y,G,Q),be.return=Y,be):(be=wy(Q.type,Q.key,Q.props,null,Y.mode,be),be.ref=Sf(Y,G,Q),be.return=Y,be)}function ne(Y,G,Q,be){return G===null||G.tag!==4||G.stateNode.containerInfo!==Q.containerInfo||G.stateNode.implementation!==Q.implementation?(G=Mb(Q,Y.mode,be),G.return=Y,G):(G=v(G,Q.children||[]),G.return=Y,G)}function pe(Y,G,Q,be,Le){return G===null||G.tag!==7?(G=Zl(Q,Y.mode,be,Le),G.return=Y,G):(G=v(G,Q),G.return=Y,G)}function ge(Y,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number")return G=Ib(""+G,Y.mode,Q),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case F:return Q=wy(G.type,G.key,G.props,null,Y.mode,Q),Q.ref=Sf(Y,null,G),Q.return=Y,Q;case $:return G=Mb(G,Y.mode,Q),G.return=Y,G;case K:var be=G._init;return ge(Y,be(G._payload),Q)}if(zr(G)||re(G))return G=Zl(G,Y.mode,Q,null),G.return=Y,G;Yg(Y,G)}return null}function fe(Y,G,Q,be){var Le=G!==null?G.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Le!==null?null:z(Y,G,""+Q,be);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return Q.key===Le?U(Y,G,Q,be):null;case $:return Q.key===Le?ne(Y,G,Q,be):null;case K:return Le=Q._init,fe(Y,G,Le(Q._payload),be)}if(zr(Q)||re(Q))return Le!==null?null:pe(Y,G,Q,be,null);Yg(Y,Q)}return null}function Ce(Y,G,Q,be,Le){if(typeof be=="string"&&be!==""||typeof be=="number")return Y=Y.get(Q)||null,z(G,Y,""+be,Le);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case F:return Y=Y.get(be.key===null?Q:be.key)||null,U(G,Y,be,Le);case $:return Y=Y.get(be.key===null?Q:be.key)||null,ne(G,Y,be,Le);case K:var $e=be._init;return Ce(Y,G,Q,$e(be._payload),Le)}if(zr(be)||re(be))return Y=Y.get(Q)||null,pe(G,Y,be,Le,null);Yg(G,be)}return null}function Ie(Y,G,Q,be){for(var Le=null,$e=null,ze=G,Ue=G=0,Sn=null;ze!==null&&Ue<Q.length;Ue++){ze.index>Ue?(Sn=ze,ze=null):Sn=ze.sibling;var ht=fe(Y,ze,Q[Ue],be);if(ht===null){ze===null&&(ze=Sn);break}s&&ze&&ht.alternate===null&&a(Y,ze),G=S(ht,G,Ue),$e===null?Le=ht:$e.sibling=ht,$e=ht,ze=Sn}if(Ue===Q.length)return h(Y,ze),Nt&&Vl(Y,Ue),Le;if(ze===null){for(;Ue<Q.length;Ue++)ze=ge(Y,Q[Ue],be),ze!==null&&(G=S(ze,G,Ue),$e===null?Le=ze:$e.sibling=ze,$e=ze);return Nt&&Vl(Y,Ue),Le}for(ze=g(Y,ze);Ue<Q.length;Ue++)Sn=Ce(ze,Y,Ue,Q[Ue],be),Sn!==null&&(s&&Sn.alternate!==null&&ze.delete(Sn.key===null?Ue:Sn.key),G=S(Sn,G,Ue),$e===null?Le=Sn:$e.sibling=Sn,$e=Sn);return s&&ze.forEach(function(Oa){return a(Y,Oa)}),Nt&&Vl(Y,Ue),Le}function Me(Y,G,Q,be){var Le=re(Q);if(typeof Le!="function")throw Error(t(150));if(Q=Le.call(Q),Q==null)throw Error(t(151));for(var $e=Le=null,ze=G,Ue=G=0,Sn=null,ht=Q.next();ze!==null&&!ht.done;Ue++,ht=Q.next()){ze.index>Ue?(Sn=ze,ze=null):Sn=ze.sibling;var Oa=fe(Y,ze,ht.value,be);if(Oa===null){ze===null&&(ze=Sn);break}s&&ze&&Oa.alternate===null&&a(Y,ze),G=S(Oa,G,Ue),$e===null?Le=Oa:$e.sibling=Oa,$e=Oa,ze=Sn}if(ht.done)return h(Y,ze),Nt&&Vl(Y,Ue),Le;if(ze===null){for(;!ht.done;Ue++,ht=Q.next())ht=ge(Y,ht.value,be),ht!==null&&(G=S(ht,G,Ue),$e===null?Le=ht:$e.sibling=ht,$e=ht);return Nt&&Vl(Y,Ue),Le}for(ze=g(Y,ze);!ht.done;Ue++,ht=Q.next())ht=Ce(ze,Y,Ue,ht.value,be),ht!==null&&(s&&ht.alternate!==null&&ze.delete(ht.key===null?Ue:ht.key),G=S(ht,G,Ue),$e===null?Le=ht:$e.sibling=ht,$e=ht);return s&&ze.forEach(function(oD){return a(Y,oD)}),Nt&&Vl(Y,Ue),Le}function Jt(Y,G,Q,be){if(typeof Q=="object"&&Q!==null&&Q.type===B&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:e:{for(var Le=Q.key,$e=G;$e!==null;){if($e.key===Le){if(Le=Q.type,Le===B){if($e.tag===7){h(Y,$e.sibling),G=v($e,Q.props.children),G.return=Y,Y=G;break e}}else if($e.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===K&&CE(Le)===$e.type){h(Y,$e.sibling),G=v($e,Q.props),G.ref=Sf(Y,$e,Q),G.return=Y,Y=G;break e}h(Y,$e);break}else a(Y,$e);$e=$e.sibling}Q.type===B?(G=Zl(Q.props.children,Y.mode,be,Q.key),G.return=Y,Y=G):(be=wy(Q.type,Q.key,Q.props,null,Y.mode,be),be.ref=Sf(Y,G,Q),be.return=Y,Y=be)}return D(Y);case $:e:{for($e=Q.key;G!==null;){if(G.key===$e)if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){h(Y,G.sibling),G=v(G,Q.children||[]),G.return=Y,Y=G;break e}else{h(Y,G);break}else a(Y,G);G=G.sibling}G=Mb(Q,Y.mode,be),G.return=Y,Y=G}return D(Y);case K:return $e=Q._init,Jt(Y,G,$e(Q._payload),be)}if(zr(Q))return Ie(Y,G,Q,be);if(re(Q))return Me(Y,G,Q,be);Yg(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,G!==null&&G.tag===6?(h(Y,G.sibling),G=v(G,Q),G.return=Y,Y=G):(h(Y,G),G=Ib(Q,Y.mode,be),G.return=Y,Y=G),D(Y)):h(Y,G)}return Jt}var Wu=TE(!0),RE=TE(!1),Xg=Aa(null),Qg=null,qu=null,zw=null;function Hw(){zw=qu=Qg=null}function Uw(s){var a=Xg.current;It(Xg),s._currentValue=a}function Vw(s,a,h){for(;s!==null;){var g=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),s===h)break;s=s.return}}function Ku(s,a){Qg=s,zw=qu=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Pr=!0),s.firstContext=null)}function bi(s){var a=s._currentValue;if(zw!==s)if(s={context:s,memoizedValue:a,next:null},qu===null){if(Qg===null)throw Error(t(308));qu=s,Qg.dependencies={lanes:0,firstContext:s}}else qu=qu.next=s;return a}var Gl=null;function Gw(s){Gl===null?Gl=[s]:Gl.push(s)}function PE(s,a,h,g){var v=a.interleaved;return v===null?(h.next=h,Gw(a)):(h.next=v.next,v.next=h),a.interleaved=h,mo(s,g)}function mo(s,a){s.lanes|=a;var h=s.alternate;for(h!==null&&(h.lanes|=a),h=s,s=s.return;s!==null;)s.childLanes|=a,h=s.alternate,h!==null&&(h.childLanes|=a),h=s,s=s.return;return h.tag===3?h.stateNode:null}var Ra=!1;function Ww(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kE(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function go(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Pa(s,a,h){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(ct&2)!==0){var v=g.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),g.pending=a,mo(s,h)}return v=g.interleaved,v===null?(a.next=a,Gw(g)):(a.next=v.next,v.next=a),g.interleaved=a,mo(s,h)}function Zg(s,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var g=a.lanes;g&=s.pendingLanes,h|=g,a.lanes=h,ow(s,h)}}function IE(s,a){var h=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var v=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var D={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};S===null?v=S=D:S=S.next=D,h=h.next}while(h!==null);S===null?v=S=a:S=S.next=a}else v=S=a;h={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:g.shared,effects:g.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=a:s.next=a,h.lastBaseUpdate=a}function Jg(s,a,h,g){var v=s.updateQueue;Ra=!1;var S=v.firstBaseUpdate,D=v.lastBaseUpdate,z=v.shared.pending;if(z!==null){v.shared.pending=null;var U=z,ne=U.next;U.next=null,D===null?S=ne:D.next=ne,D=U;var pe=s.alternate;pe!==null&&(pe=pe.updateQueue,z=pe.lastBaseUpdate,z!==D&&(z===null?pe.firstBaseUpdate=ne:z.next=ne,pe.lastBaseUpdate=U))}if(S!==null){var ge=v.baseState;D=0,pe=ne=U=null,z=S;do{var fe=z.lane,Ce=z.eventTime;if((g&fe)===fe){pe!==null&&(pe=pe.next={eventTime:Ce,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Ie=s,Me=z;switch(fe=a,Ce=h,Me.tag){case 1:if(Ie=Me.payload,typeof Ie=="function"){ge=Ie.call(Ce,ge,fe);break e}ge=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Me.payload,fe=typeof Ie=="function"?Ie.call(Ce,ge,fe):Ie,fe==null)break e;ge=se({},ge,fe);break e;case 2:Ra=!0}}z.callback!==null&&z.lane!==0&&(s.flags|=64,fe=v.effects,fe===null?v.effects=[z]:fe.push(z))}else Ce={eventTime:Ce,lane:fe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},pe===null?(ne=pe=Ce,U=ge):pe=pe.next=Ce,D|=fe;if(z=z.next,z===null){if(z=v.shared.pending,z===null)break;fe=z,z=fe.next,fe.next=null,v.lastBaseUpdate=fe,v.shared.pending=null}}while(!0);if(pe===null&&(U=ge),v.baseState=U,v.firstBaseUpdate=ne,v.lastBaseUpdate=pe,a=v.shared.interleaved,a!==null){v=a;do D|=v.lane,v=v.next;while(v!==a)}else S===null&&(v.shared.lanes=0);Kl|=D,s.lanes=D,s.memoizedState=ge}}function ME(s,a,h){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var g=s[a],v=g.callback;if(v!==null){if(g.callback=null,g=h,typeof v!="function")throw Error(t(191,v));v.call(g)}}}var Ef={},_s=Aa(Ef),Af=Aa(Ef),Cf=Aa(Ef);function Wl(s){if(s===Ef)throw Error(t(174));return s}function qw(s,a){switch(Tt(Cf,a),Tt(Af,s),Tt(_s,Ef),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Kn(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Kn(a,s)}It(_s),Tt(_s,a)}function Yu(){It(_s),It(Af),It(Cf)}function NE(s){Wl(Cf.current);var a=Wl(_s.current),h=Kn(a,s.type);a!==h&&(Tt(Af,s),Tt(_s,h))}function Kw(s){Af.current===s&&(It(_s),It(Af))}var Ht=Aa(0);function ey(s){for(var a=s;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Yw=[];function Xw(){for(var s=0;s<Yw.length;s++)Yw[s]._workInProgressVersionPrimary=null;Yw.length=0}var ty=L.ReactCurrentDispatcher,Qw=L.ReactCurrentBatchConfig,ql=0,Ut=null,pn=null,_n=null,ny=!1,Tf=!1,Rf=0,RL=0;function Qn(){throw Error(t(321))}function Zw(s,a){if(a===null)return!1;for(var h=0;h<a.length&&h<s.length;h++)if(!Hi(s[h],a[h]))return!1;return!0}function Jw(s,a,h,g,v,S){if(ql=S,Ut=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ty.current=s===null||s.memoizedState===null?ML:NL,s=h(g,v),Tf){S=0;do{if(Tf=!1,Rf=0,25<=S)throw Error(t(301));S+=1,_n=pn=null,a.updateQueue=null,ty.current=LL,s=h(g,v)}while(Tf)}if(ty.current=sy,a=pn!==null&&pn.next!==null,ql=0,_n=pn=Ut=null,ny=!1,a)throw Error(t(300));return s}function eb(){var s=Rf!==0;return Rf=0,s}function xs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Ut.memoizedState=_n=s:_n=_n.next=s,_n}function _i(){if(pn===null){var s=Ut.alternate;s=s!==null?s.memoizedState:null}else s=pn.next;var a=_n===null?Ut.memoizedState:_n.next;if(a!==null)_n=a,pn=s;else{if(s===null)throw Error(t(310));pn=s,s={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},_n===null?Ut.memoizedState=_n=s:_n=_n.next=s}return _n}function Pf(s,a){return typeof a=="function"?a(s):a}function tb(s){var a=_i(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=s;var g=pn,v=g.baseQueue,S=h.pending;if(S!==null){if(v!==null){var D=v.next;v.next=S.next,S.next=D}g.baseQueue=v=S,h.pending=null}if(v!==null){S=v.next,g=g.baseState;var z=D=null,U=null,ne=S;do{var pe=ne.lane;if((ql&pe)===pe)U!==null&&(U=U.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),g=ne.hasEagerState?ne.eagerState:s(g,ne.action);else{var ge={lane:pe,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};U===null?(z=U=ge,D=g):U=U.next=ge,Ut.lanes|=pe,Kl|=pe}ne=ne.next}while(ne!==null&&ne!==S);U===null?D=g:U.next=z,Hi(g,a.memoizedState)||(Pr=!0),a.memoizedState=g,a.baseState=D,a.baseQueue=U,h.lastRenderedState=g}if(s=h.interleaved,s!==null){v=s;do S=v.lane,Ut.lanes|=S,Kl|=S,v=v.next;while(v!==s)}else v===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function nb(s){var a=_i(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=s;var g=h.dispatch,v=h.pending,S=a.memoizedState;if(v!==null){h.pending=null;var D=v=v.next;do S=s(S,D.action),D=D.next;while(D!==v);Hi(S,a.memoizedState)||(Pr=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),h.lastRenderedState=S}return[S,g]}function LE(){}function DE(s,a){var h=Ut,g=_i(),v=a(),S=!Hi(g.memoizedState,v);if(S&&(g.memoizedState=v,Pr=!0),g=g.queue,rb(jE.bind(null,h,g,s),[s]),g.getSnapshot!==a||S||_n!==null&&_n.memoizedState.tag&1){if(h.flags|=2048,kf(9,FE.bind(null,h,g,v,a),void 0,null),xn===null)throw Error(t(349));(ql&30)!==0||OE(h,a,v)}return v}function OE(s,a,h){s.flags|=16384,s={getSnapshot:a,value:h},a=Ut.updateQueue,a===null?(a={lastEffect:null,stores:null},Ut.updateQueue=a,a.stores=[s]):(h=a.stores,h===null?a.stores=[s]:h.push(s))}function FE(s,a,h,g){a.value=h,a.getSnapshot=g,BE(a)&&$E(s)}function jE(s,a,h){return h(function(){BE(a)&&$E(s)})}function BE(s){var a=s.getSnapshot;s=s.value;try{var h=a();return!Hi(s,h)}catch{return!0}}function $E(s){var a=mo(s,1);a!==null&&qi(a,s,1,-1)}function zE(s){var a=xs();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pf,lastRenderedState:s},a.queue=s,s=s.dispatch=IL.bind(null,Ut,s),[a.memoizedState,s]}function kf(s,a,h,g){return s={tag:s,create:a,destroy:h,deps:g,next:null},a=Ut.updateQueue,a===null?(a={lastEffect:null,stores:null},Ut.updateQueue=a,a.lastEffect=s.next=s):(h=a.lastEffect,h===null?a.lastEffect=s.next=s:(g=h.next,h.next=s,s.next=g,a.lastEffect=s)),s}function HE(){return _i().memoizedState}function ry(s,a,h,g){var v=xs();Ut.flags|=s,v.memoizedState=kf(1|a,h,void 0,g===void 0?null:g)}function iy(s,a,h,g){var v=_i();g=g===void 0?null:g;var S=void 0;if(pn!==null){var D=pn.memoizedState;if(S=D.destroy,g!==null&&Zw(g,D.deps)){v.memoizedState=kf(a,h,S,g);return}}Ut.flags|=s,v.memoizedState=kf(1|a,h,S,g)}function UE(s,a){return ry(8390656,8,s,a)}function rb(s,a){return iy(2048,8,s,a)}function VE(s,a){return iy(4,2,s,a)}function GE(s,a){return iy(4,4,s,a)}function WE(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function qE(s,a,h){return h=h!=null?h.concat([s]):null,iy(4,4,WE.bind(null,a,s),h)}function ib(){}function KE(s,a){var h=_i();a=a===void 0?null:a;var g=h.memoizedState;return g!==null&&a!==null&&Zw(a,g[1])?g[0]:(h.memoizedState=[s,a],s)}function YE(s,a){var h=_i();a=a===void 0?null:a;var g=h.memoizedState;return g!==null&&a!==null&&Zw(a,g[1])?g[0]:(s=s(),h.memoizedState=[s,a],s)}function XE(s,a,h){return(ql&21)===0?(s.baseState&&(s.baseState=!1,Pr=!0),s.memoizedState=h):(Hi(h,a)||(h=CS(),Ut.lanes|=h,Kl|=h,s.baseState=!0),a)}function PL(s,a){var h=gt;gt=h!==0&&4>h?h:4,s(!0);var g=Qw.transition;Qw.transition={};try{s(!1),a()}finally{gt=h,Qw.transition=g}}function QE(){return _i().memoizedState}function kL(s,a,h){var g=Na(s);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},ZE(s))JE(a,h);else if(h=PE(s,a,h,g),h!==null){var v=ur();qi(h,s,g,v),eA(h,a,g)}}function IL(s,a,h){var g=Na(s),v={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(ZE(s))JE(a,v);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var D=a.lastRenderedState,z=S(D,h);if(v.hasEagerState=!0,v.eagerState=z,Hi(z,D)){var U=a.interleaved;U===null?(v.next=v,Gw(a)):(v.next=U.next,U.next=v),a.interleaved=v;return}}catch{}finally{}h=PE(s,a,v,g),h!==null&&(v=ur(),qi(h,s,g,v),eA(h,a,g))}}function ZE(s){var a=s.alternate;return s===Ut||a!==null&&a===Ut}function JE(s,a){Tf=ny=!0;var h=s.pending;h===null?a.next=a:(a.next=h.next,h.next=a),s.pending=a}function eA(s,a,h){if((h&4194240)!==0){var g=a.lanes;g&=s.pendingLanes,h|=g,a.lanes=h,ow(s,h)}}var sy={readContext:bi,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},ML={readContext:bi,useCallback:function(s,a){return xs().memoizedState=[s,a===void 0?null:a],s},useContext:bi,useEffect:UE,useImperativeHandle:function(s,a,h){return h=h!=null?h.concat([s]):null,ry(4194308,4,WE.bind(null,a,s),h)},useLayoutEffect:function(s,a){return ry(4194308,4,s,a)},useInsertionEffect:function(s,a){return ry(4,2,s,a)},useMemo:function(s,a){var h=xs();return a=a===void 0?null:a,s=s(),h.memoizedState=[s,a],s},useReducer:function(s,a,h){var g=xs();return a=h!==void 0?h(a):a,g.memoizedState=g.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},g.queue=s,s=s.dispatch=kL.bind(null,Ut,s),[g.memoizedState,s]},useRef:function(s){var a=xs();return s={current:s},a.memoizedState=s},useState:zE,useDebugValue:ib,useDeferredValue:function(s){return xs().memoizedState=s},useTransition:function(){var s=zE(!1),a=s[0];return s=PL.bind(null,s[1]),xs().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,h){var g=Ut,v=xs();if(Nt){if(h===void 0)throw Error(t(407));h=h()}else{if(h=a(),xn===null)throw Error(t(349));(ql&30)!==0||OE(g,a,h)}v.memoizedState=h;var S={value:h,getSnapshot:a};return v.queue=S,UE(jE.bind(null,g,S,s),[s]),g.flags|=2048,kf(9,FE.bind(null,g,S,h,a),void 0,null),h},useId:function(){var s=xs(),a=xn.identifierPrefix;if(Nt){var h=po,g=fo;h=(g&~(1<<32-zi(g)-1)).toString(32)+h,a=":"+a+"R"+h,h=Rf++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=RL++,a=":"+a+"r"+h.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},NL={readContext:bi,useCallback:KE,useContext:bi,useEffect:rb,useImperativeHandle:qE,useInsertionEffect:VE,useLayoutEffect:GE,useMemo:YE,useReducer:tb,useRef:HE,useState:function(){return tb(Pf)},useDebugValue:ib,useDeferredValue:function(s){var a=_i();return XE(a,pn.memoizedState,s)},useTransition:function(){var s=tb(Pf)[0],a=_i().memoizedState;return[s,a]},useMutableSource:LE,useSyncExternalStore:DE,useId:QE,unstable_isNewReconciler:!1},LL={readContext:bi,useCallback:KE,useContext:bi,useEffect:rb,useImperativeHandle:qE,useInsertionEffect:VE,useLayoutEffect:GE,useMemo:YE,useReducer:nb,useRef:HE,useState:function(){return nb(Pf)},useDebugValue:ib,useDeferredValue:function(s){var a=_i();return pn===null?a.memoizedState=s:XE(a,pn.memoizedState,s)},useTransition:function(){var s=nb(Pf)[0],a=_i().memoizedState;return[s,a]},useMutableSource:LE,useSyncExternalStore:DE,useId:QE,unstable_isNewReconciler:!1};function Vi(s,a){if(s&&s.defaultProps){a=se({},a),s=s.defaultProps;for(var h in s)a[h]===void 0&&(a[h]=s[h]);return a}return a}function sb(s,a,h,g){a=s.memoizedState,h=h(g,a),h=h==null?a:se({},a,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var oy={isMounted:function(s){return(s=s._reactInternals)?$l(s)===s:!1},enqueueSetState:function(s,a,h){s=s._reactInternals;var g=ur(),v=Na(s),S=go(g,v);S.payload=a,h!=null&&(S.callback=h),a=Pa(s,S,v),a!==null&&(qi(a,s,v,g),Zg(a,s,v))},enqueueReplaceState:function(s,a,h){s=s._reactInternals;var g=ur(),v=Na(s),S=go(g,v);S.tag=1,S.payload=a,h!=null&&(S.callback=h),a=Pa(s,S,v),a!==null&&(qi(a,s,v,g),Zg(a,s,v))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var h=ur(),g=Na(s),v=go(h,g);v.tag=2,a!=null&&(v.callback=a),a=Pa(s,v,g),a!==null&&(qi(a,s,g,h),Zg(a,s,g))}};function tA(s,a,h,g,v,S,D){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,S,D):a.prototype&&a.prototype.isPureReactComponent?!gf(h,g)||!gf(v,S):!0}function nA(s,a,h){var g=!1,v=Ca,S=a.contextType;return typeof S=="object"&&S!==null?S=bi(S):(v=Rr(a)?Hl:Xn.current,g=a.contextTypes,S=(g=g!=null)?Hu(s,v):Ca),a=new a(h,S),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=oy,s.stateNode=a,a._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=S),a}function rA(s,a,h,g){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,g),a.state!==s&&oy.enqueueReplaceState(a,a.state,null)}function ob(s,a,h,g){var v=s.stateNode;v.props=h,v.state=s.memoizedState,v.refs={},Ww(s);var S=a.contextType;typeof S=="object"&&S!==null?v.context=bi(S):(S=Rr(a)?Hl:Xn.current,v.context=Hu(s,S)),v.state=s.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(sb(s,a,S,h),v.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&oy.enqueueReplaceState(v,v.state,null),Jg(s,h,v,g),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function Xu(s,a){try{var h="",g=a;do h+=ve(g),g=g.return;while(g);var v=h}catch(S){v=`
Error generating stack: `+S.message+`
`+S.stack}return{value:s,source:a,stack:v,digest:null}}function ab(s,a,h){return{value:s,source:null,stack:h??null,digest:a??null}}function lb(s,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var DL=typeof WeakMap=="function"?WeakMap:Map;function iA(s,a,h){h=go(-1,h),h.tag=3,h.payload={element:null};var g=a.value;return h.callback=function(){fy||(fy=!0,Sb=g),lb(s,a)},h}function sA(s,a,h){h=go(-1,h),h.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var v=a.value;h.payload=function(){return g(v)},h.callback=function(){lb(s,a)}}var S=s.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(h.callback=function(){lb(s,a),typeof g!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var D=a.stack;this.componentDidCatch(a.value,{componentStack:D!==null?D:""})}),h}function oA(s,a,h){var g=s.pingCache;if(g===null){g=s.pingCache=new DL;var v=new Set;g.set(a,v)}else v=g.get(a),v===void 0&&(v=new Set,g.set(a,v));v.has(h)||(v.add(h),s=YL.bind(null,s,a,h),a.then(s,s))}function aA(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function lA(s,a,h,g,v){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=go(-1,1),a.tag=2,Pa(h,a,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=v,s)}var OL=L.ReactCurrentOwner,Pr=!1;function cr(s,a,h,g){a.child=s===null?RE(a,null,h,g):Wu(a,s.child,h,g)}function cA(s,a,h,g,v){h=h.render;var S=a.ref;return Ku(a,v),g=Jw(s,a,h,g,S,v),h=eb(),s!==null&&!Pr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,yo(s,a,v)):(Nt&&h&&Ow(a),a.flags|=1,cr(s,a,g,v),a.child)}function uA(s,a,h,g,v){if(s===null){var S=h.type;return typeof S=="function"&&!kb(S)&&S.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=S,dA(s,a,S,g,v)):(s=wy(h.type,null,g,a,a.mode,v),s.ref=a.ref,s.return=a,a.child=s)}if(S=s.child,(s.lanes&v)===0){var D=S.memoizedProps;if(h=h.compare,h=h!==null?h:gf,h(D,g)&&s.ref===a.ref)return yo(s,a,v)}return a.flags|=1,s=Da(S,g),s.ref=a.ref,s.return=a,a.child=s}function dA(s,a,h,g,v){if(s!==null){var S=s.memoizedProps;if(gf(S,g)&&s.ref===a.ref)if(Pr=!1,a.pendingProps=g=S,(s.lanes&v)!==0)(s.flags&131072)!==0&&(Pr=!0);else return a.lanes=s.lanes,yo(s,a,v)}return cb(s,a,h,g,v)}function hA(s,a,h){var g=a.pendingProps,v=g.children,S=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Zu,qr),qr|=h;else{if((h&1073741824)===0)return s=S!==null?S.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Tt(Zu,qr),qr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:h,Tt(Zu,qr),qr|=g}else S!==null?(g=S.baseLanes|h,a.memoizedState=null):g=h,Tt(Zu,qr),qr|=g;return cr(s,a,v,h),a.child}function fA(s,a){var h=a.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function cb(s,a,h,g,v){var S=Rr(h)?Hl:Xn.current;return S=Hu(a,S),Ku(a,v),h=Jw(s,a,h,g,S,v),g=eb(),s!==null&&!Pr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,yo(s,a,v)):(Nt&&g&&Ow(a),a.flags|=1,cr(s,a,h,v),a.child)}function pA(s,a,h,g,v){if(Rr(h)){var S=!0;Vg(a)}else S=!1;if(Ku(a,v),a.stateNode===null)ly(s,a),nA(a,h,g),ob(a,h,g,v),g=!0;else if(s===null){var D=a.stateNode,z=a.memoizedProps;D.props=z;var U=D.context,ne=h.contextType;typeof ne=="object"&&ne!==null?ne=bi(ne):(ne=Rr(h)?Hl:Xn.current,ne=Hu(a,ne));var pe=h.getDerivedStateFromProps,ge=typeof pe=="function"||typeof D.getSnapshotBeforeUpdate=="function";ge||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(z!==g||U!==ne)&&rA(a,D,g,ne),Ra=!1;var fe=a.memoizedState;D.state=fe,Jg(a,g,D,v),U=a.memoizedState,z!==g||fe!==U||Tr.current||Ra?(typeof pe=="function"&&(sb(a,h,pe,g),U=a.memoizedState),(z=Ra||tA(a,h,z,g,fe,U,ne))?(ge||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(a.flags|=4194308)):(typeof D.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=U),D.props=g,D.state=U,D.context=ne,g=z):(typeof D.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{D=a.stateNode,kE(s,a),z=a.memoizedProps,ne=a.type===a.elementType?z:Vi(a.type,z),D.props=ne,ge=a.pendingProps,fe=D.context,U=h.contextType,typeof U=="object"&&U!==null?U=bi(U):(U=Rr(h)?Hl:Xn.current,U=Hu(a,U));var Ce=h.getDerivedStateFromProps;(pe=typeof Ce=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(z!==ge||fe!==U)&&rA(a,D,g,U),Ra=!1,fe=a.memoizedState,D.state=fe,Jg(a,g,D,v);var Ie=a.memoizedState;z!==ge||fe!==Ie||Tr.current||Ra?(typeof Ce=="function"&&(sb(a,h,Ce,g),Ie=a.memoizedState),(ne=Ra||tA(a,h,ne,g,fe,Ie,U)||!1)?(pe||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(g,Ie,U),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(g,Ie,U)),typeof D.componentDidUpdate=="function"&&(a.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof D.componentDidUpdate!="function"||z===s.memoizedProps&&fe===s.memoizedState||(a.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&fe===s.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=Ie),D.props=g,D.state=Ie,D.context=U,g=ne):(typeof D.componentDidUpdate!="function"||z===s.memoizedProps&&fe===s.memoizedState||(a.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&fe===s.memoizedState||(a.flags|=1024),g=!1)}return ub(s,a,h,g,S,v)}function ub(s,a,h,g,v,S){fA(s,a);var D=(a.flags&128)!==0;if(!g&&!D)return v&&wE(a,h,!1),yo(s,a,S);g=a.stateNode,OL.current=a;var z=D&&typeof h.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,s!==null&&D?(a.child=Wu(a,s.child,null,S),a.child=Wu(a,null,z,S)):cr(s,a,z,S),a.memoizedState=g.state,v&&wE(a,h,!0),a.child}function mA(s){var a=s.stateNode;a.pendingContext?yE(s,a.pendingContext,a.pendingContext!==a.context):a.context&&yE(s,a.context,!1),qw(s,a.containerInfo)}function gA(s,a,h,g,v){return Gu(),$w(v),a.flags|=256,cr(s,a,h,g),a.child}var db={dehydrated:null,treeContext:null,retryLane:0};function hb(s){return{baseLanes:s,cachePool:null,transitions:null}}function yA(s,a,h){var g=a.pendingProps,v=Ht.current,S=!1,D=(a.flags&128)!==0,z;if((z=D)||(z=s!==null&&s.memoizedState===null?!1:(v&2)!==0),z?(S=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),Tt(Ht,v&1),s===null)return Bw(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(D=g.children,s=g.fallback,S?(g=a.mode,S=a.child,D={mode:"hidden",children:D},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=D):S=by(D,g,0,null),s=Zl(s,g,h,null),S.return=a,s.return=a,S.sibling=s,a.child=S,a.child.memoizedState=hb(h),a.memoizedState=db,s):fb(a,D));if(v=s.memoizedState,v!==null&&(z=v.dehydrated,z!==null))return FL(s,a,D,g,z,v,h);if(S){S=g.fallback,D=a.mode,v=s.child,z=v.sibling;var U={mode:"hidden",children:g.children};return(D&1)===0&&a.child!==v?(g=a.child,g.childLanes=0,g.pendingProps=U,a.deletions=null):(g=Da(v,U),g.subtreeFlags=v.subtreeFlags&14680064),z!==null?S=Da(z,S):(S=Zl(S,D,h,null),S.flags|=2),S.return=a,g.return=a,g.sibling=S,a.child=g,g=S,S=a.child,D=s.child.memoizedState,D=D===null?hb(h):{baseLanes:D.baseLanes|h,cachePool:null,transitions:D.transitions},S.memoizedState=D,S.childLanes=s.childLanes&~h,a.memoizedState=db,g}return S=s.child,s=S.sibling,g=Da(S,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=h),g.return=a,g.sibling=null,s!==null&&(h=a.deletions,h===null?(a.deletions=[s],a.flags|=16):h.push(s)),a.child=g,a.memoizedState=null,g}function fb(s,a){return a=by({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function ay(s,a,h,g){return g!==null&&$w(g),Wu(a,s.child,null,h),s=fb(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function FL(s,a,h,g,v,S,D){if(h)return a.flags&256?(a.flags&=-257,g=ab(Error(t(422))),ay(s,a,D,g)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(S=g.fallback,v=a.mode,g=by({mode:"visible",children:g.children},v,0,null),S=Zl(S,v,D,null),S.flags|=2,g.return=a,S.return=a,g.sibling=S,a.child=g,(a.mode&1)!==0&&Wu(a,s.child,null,D),a.child.memoizedState=hb(D),a.memoizedState=db,S);if((a.mode&1)===0)return ay(s,a,D,null);if(v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var z=g.dgst;return g=z,S=Error(t(419)),g=ab(S,g,void 0),ay(s,a,D,g)}if(z=(D&s.childLanes)!==0,Pr||z){if(g=xn,g!==null){switch(D&-D){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(g.suspendedLanes|D))!==0?0:v,v!==0&&v!==S.retryLane&&(S.retryLane=v,mo(s,v),qi(g,s,v,-1))}return Pb(),g=ab(Error(t(421))),ay(s,a,D,g)}return v.data==="$?"?(a.flags|=128,a.child=s.child,a=XL.bind(null,s),v._reactRetry=a,null):(s=S.treeContext,Wr=Ea(v.nextSibling),Gr=a,Nt=!0,Ui=null,s!==null&&(vi[wi++]=fo,vi[wi++]=po,vi[wi++]=Ul,fo=s.id,po=s.overflow,Ul=a),a=fb(a,g.children),a.flags|=4096,a)}function vA(s,a,h){s.lanes|=a;var g=s.alternate;g!==null&&(g.lanes|=a),Vw(s.return,a,h)}function pb(s,a,h,g,v){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:v}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=h,S.tailMode=v)}function wA(s,a,h){var g=a.pendingProps,v=g.revealOrder,S=g.tail;if(cr(s,a,g.children,h),g=Ht.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&vA(s,h,a);else if(s.tag===19)vA(s,h,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(Tt(Ht,g),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(h=a.child,v=null;h!==null;)s=h.alternate,s!==null&&ey(s)===null&&(v=h),h=h.sibling;h=v,h===null?(v=a.child,a.child=null):(v=h.sibling,h.sibling=null),pb(a,!1,v,h,S);break;case"backwards":for(h=null,v=a.child,a.child=null;v!==null;){if(s=v.alternate,s!==null&&ey(s)===null){a.child=v;break}s=v.sibling,v.sibling=h,h=v,v=s}pb(a,!0,h,null,S);break;case"together":pb(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ly(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function yo(s,a,h){if(s!==null&&(a.dependencies=s.dependencies),Kl|=a.lanes,(h&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,h=Da(s,s.pendingProps),a.child=h,h.return=a;s.sibling!==null;)s=s.sibling,h=h.sibling=Da(s,s.pendingProps),h.return=a;h.sibling=null}return a.child}function jL(s,a,h){switch(a.tag){case 3:mA(a),Gu();break;case 5:NE(a);break;case 1:Rr(a.type)&&Vg(a);break;case 4:qw(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,v=a.memoizedProps.value;Tt(Xg,g._currentValue),g._currentValue=v;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(Tt(Ht,Ht.current&1),a.flags|=128,null):(h&a.child.childLanes)!==0?yA(s,a,h):(Tt(Ht,Ht.current&1),s=yo(s,a,h),s!==null?s.sibling:null);Tt(Ht,Ht.current&1);break;case 19:if(g=(h&a.childLanes)!==0,(s.flags&128)!==0){if(g)return wA(s,a,h);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Tt(Ht,Ht.current),g)break;return null;case 22:case 23:return a.lanes=0,hA(s,a,h)}return yo(s,a,h)}var bA,mb,_A,xA;bA=function(s,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},mb=function(){},_A=function(s,a,h,g){var v=s.memoizedProps;if(v!==g){s=a.stateNode,Wl(_s.current);var S=null;switch(h){case"input":v=Ve(s,v),g=Ve(s,g),S=[];break;case"select":v=se({},v,{value:void 0}),g=se({},g,{value:void 0}),S=[];break;case"textarea":v=Xt(s,v),g=Xt(s,g),S=[];break;default:typeof v.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=zg)}oe(h,g);var D;h=null;for(ne in v)if(!g.hasOwnProperty(ne)&&v.hasOwnProperty(ne)&&v[ne]!=null)if(ne==="style"){var z=v[ne];for(D in z)z.hasOwnProperty(D)&&(h||(h={}),h[D]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(r.hasOwnProperty(ne)?S||(S=[]):(S=S||[]).push(ne,null));for(ne in g){var U=g[ne];if(z=v!=null?v[ne]:void 0,g.hasOwnProperty(ne)&&U!==z&&(U!=null||z!=null))if(ne==="style")if(z){for(D in z)!z.hasOwnProperty(D)||U&&U.hasOwnProperty(D)||(h||(h={}),h[D]="");for(D in U)U.hasOwnProperty(D)&&z[D]!==U[D]&&(h||(h={}),h[D]=U[D])}else h||(S||(S=[]),S.push(ne,h)),h=U;else ne==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,z=z?z.__html:void 0,U!=null&&z!==U&&(S=S||[]).push(ne,U)):ne==="children"?typeof U!="string"&&typeof U!="number"||(S=S||[]).push(ne,""+U):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(r.hasOwnProperty(ne)?(U!=null&&ne==="onScroll"&&kt("scroll",s),S||z===U||(S=[])):(S=S||[]).push(ne,U))}h&&(S=S||[]).push("style",h);var ne=S;(a.updateQueue=ne)&&(a.flags|=4)}},xA=function(s,a,h,g){h!==g&&(a.flags|=4)};function If(s,a){if(!Nt)switch(s.tailMode){case"hidden":a=s.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Zn(s){var a=s.alternate!==null&&s.alternate.child===s.child,h=0,g=0;if(a)for(var v=s.child;v!==null;)h|=v.lanes|v.childLanes,g|=v.subtreeFlags&14680064,g|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)h|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=g,s.childLanes=h,a}function BL(s,a,h){var g=a.pendingProps;switch(Fw(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(a),null;case 1:return Rr(a.type)&&Ug(),Zn(a),null;case 3:return g=a.stateNode,Yu(),It(Tr),It(Xn),Xw(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(Kg(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ui!==null&&(Cb(Ui),Ui=null))),mb(s,a),Zn(a),null;case 5:Kw(a);var v=Wl(Cf.current);if(h=a.type,s!==null&&a.stateNode!=null)_A(s,a,h,g,v),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(t(166));return Zn(a),null}if(s=Wl(_s.current),Kg(a)){g=a.stateNode,h=a.type;var S=a.memoizedProps;switch(g[bs]=a,g[_f]=S,s=(a.mode&1)!==0,h){case"dialog":kt("cancel",g),kt("close",g);break;case"iframe":case"object":case"embed":kt("load",g);break;case"video":case"audio":for(v=0;v<vf.length;v++)kt(vf[v],g);break;case"source":kt("error",g);break;case"img":case"image":case"link":kt("error",g),kt("load",g);break;case"details":kt("toggle",g);break;case"input":lt(g,S),kt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},kt("invalid",g);break;case"textarea":Cr(g,S),kt("invalid",g)}oe(h,S),v=null;for(var D in S)if(S.hasOwnProperty(D)){var z=S[D];D==="children"?typeof z=="string"?g.textContent!==z&&(S.suppressHydrationWarning!==!0&&$g(g.textContent,z,s),v=["children",z]):typeof z=="number"&&g.textContent!==""+z&&(S.suppressHydrationWarning!==!0&&$g(g.textContent,z,s),v=["children",""+z]):r.hasOwnProperty(D)&&z!=null&&D==="onScroll"&&kt("scroll",g)}switch(h){case"input":Fe(g),ar(g,S,!0);break;case"textarea":Fe(g),Dn(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=zg)}g=v,a.updateQueue=g,g!==null&&(a.flags|=4)}else{D=v.nodeType===9?v:v.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Hr(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=D.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=D.createElement(h,{is:g.is}):(s=D.createElement(h),h==="select"&&(D=s,g.multiple?D.multiple=!0:g.size&&(D.size=g.size))):s=D.createElementNS(s,h),s[bs]=a,s[_f]=g,bA(s,a,!1,!1),a.stateNode=s;e:{switch(D=Ke(h,g),h){case"dialog":kt("cancel",s),kt("close",s),v=g;break;case"iframe":case"object":case"embed":kt("load",s),v=g;break;case"video":case"audio":for(v=0;v<vf.length;v++)kt(vf[v],s);v=g;break;case"source":kt("error",s),v=g;break;case"img":case"image":case"link":kt("error",s),kt("load",s),v=g;break;case"details":kt("toggle",s),v=g;break;case"input":lt(s,g),v=Ve(s,g),kt("invalid",s);break;case"option":v=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},v=se({},g,{value:void 0}),kt("invalid",s);break;case"textarea":Cr(s,g),v=Xt(s,g),kt("invalid",s);break;default:v=g}oe(h,v),z=v;for(S in z)if(z.hasOwnProperty(S)){var U=z[S];S==="style"?W(s,U):S==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&On(s,U)):S==="children"?typeof U=="string"?(h!=="textarea"||U!=="")&&O(s,U):typeof U=="number"&&O(s,""+U):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(r.hasOwnProperty(S)?U!=null&&S==="onScroll"&&kt("scroll",s):U!=null&&M(s,S,U,D))}switch(h){case"input":Fe(s),ar(s,g,!1);break;case"textarea":Fe(s),Dn(s);break;case"option":g.value!=null&&s.setAttribute("value",""+me(g.value));break;case"select":s.multiple=!!g.multiple,S=g.value,S!=null?lr(s,!!g.multiple,S,!1):g.defaultValue!=null&&lr(s,!!g.multiple,g.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=zg)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Zn(a),null;case 6:if(s&&a.stateNode!=null)xA(s,a,s.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(t(166));if(h=Wl(Cf.current),Wl(_s.current),Kg(a)){if(g=a.stateNode,h=a.memoizedProps,g[bs]=a,(S=g.nodeValue!==h)&&(s=Gr,s!==null))switch(s.tag){case 3:$g(g.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&$g(g.nodeValue,h,(s.mode&1)!==0)}S&&(a.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[bs]=a,a.stateNode=g}return Zn(a),null;case 13:if(It(Ht),g=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Nt&&Wr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)AE(),Gu(),a.flags|=98560,S=!1;else if(S=Kg(a),g!==null&&g.dehydrated!==null){if(s===null){if(!S)throw Error(t(318));if(S=a.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(t(317));S[bs]=a}else Gu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Zn(a),S=!1}else Ui!==null&&(Cb(Ui),Ui=null),S=!0;if(!S)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=h,a):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Ht.current&1)!==0?mn===0&&(mn=3):Pb())),a.updateQueue!==null&&(a.flags|=4),Zn(a),null);case 4:return Yu(),mb(s,a),s===null&&wf(a.stateNode.containerInfo),Zn(a),null;case 10:return Uw(a.type._context),Zn(a),null;case 17:return Rr(a.type)&&Ug(),Zn(a),null;case 19:if(It(Ht),S=a.memoizedState,S===null)return Zn(a),null;if(g=(a.flags&128)!==0,D=S.rendering,D===null)if(g)If(S,!1);else{if(mn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(D=ey(s),D!==null){for(a.flags|=128,If(S,!1),g=D.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=h,h=a.child;h!==null;)S=h,s=g,S.flags&=14680066,D=S.alternate,D===null?(S.childLanes=0,S.lanes=s,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=D.childLanes,S.lanes=D.lanes,S.child=D.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=D.memoizedProps,S.memoizedState=D.memoizedState,S.updateQueue=D.updateQueue,S.type=D.type,s=D.dependencies,S.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return Tt(Ht,Ht.current&1|2),a.child}s=s.sibling}S.tail!==null&&Zt()>Ju&&(a.flags|=128,g=!0,If(S,!1),a.lanes=4194304)}else{if(!g)if(s=ey(D),s!==null){if(a.flags|=128,g=!0,h=s.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),If(S,!0),S.tail===null&&S.tailMode==="hidden"&&!D.alternate&&!Nt)return Zn(a),null}else 2*Zt()-S.renderingStartTime>Ju&&h!==1073741824&&(a.flags|=128,g=!0,If(S,!1),a.lanes=4194304);S.isBackwards?(D.sibling=a.child,a.child=D):(h=S.last,h!==null?h.sibling=D:a.child=D,S.last=D)}return S.tail!==null?(a=S.tail,S.rendering=a,S.tail=a.sibling,S.renderingStartTime=Zt(),a.sibling=null,h=Ht.current,Tt(Ht,g?h&1|2:h&1),a):(Zn(a),null);case 22:case 23:return Rb(),g=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(qr&1073741824)!==0&&(Zn(a),a.subtreeFlags&6&&(a.flags|=8192)):Zn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function $L(s,a){switch(Fw(a),a.tag){case 1:return Rr(a.type)&&Ug(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Yu(),It(Tr),It(Xn),Xw(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Kw(a),null;case 13:if(It(Ht),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Gu()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return It(Ht),null;case 4:return Yu(),null;case 10:return Uw(a.type._context),null;case 22:case 23:return Rb(),null;case 24:return null;default:return null}}var cy=!1,Jn=!1,zL=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Qu(s,a){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){Wt(s,a,g)}else h.current=null}function gb(s,a,h){try{h()}catch(g){Wt(s,a,g)}}var SA=!1;function HL(s,a){if(Rw=Pg,s=tE(),bw(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var v=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var D=0,z=-1,U=-1,ne=0,pe=0,ge=s,fe=null;t:for(;;){for(var Ce;ge!==h||v!==0&&ge.nodeType!==3||(z=D+v),ge!==S||g!==0&&ge.nodeType!==3||(U=D+g),ge.nodeType===3&&(D+=ge.nodeValue.length),(Ce=ge.firstChild)!==null;)fe=ge,ge=Ce;for(;;){if(ge===s)break t;if(fe===h&&++ne===v&&(z=D),fe===S&&++pe===g&&(U=D),(Ce=ge.nextSibling)!==null)break;ge=fe,fe=ge.parentNode}ge=Ce}h=z===-1||U===-1?null:{start:z,end:U}}else h=null}h=h||{start:0,end:0}}else h=null;for(Pw={focusedElem:s,selectionRange:h},Pg=!1,Pe=a;Pe!==null;)if(a=Pe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Pe=s;else for(;Pe!==null;){a=Pe;try{var Ie=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Me=Ie.memoizedProps,Jt=Ie.memoizedState,Y=a.stateNode,G=Y.getSnapshotBeforeUpdate(a.elementType===a.type?Me:Vi(a.type,Me),Jt);Y.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var Q=a.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(be){Wt(a,a.return,be)}if(s=a.sibling,s!==null){s.return=a.return,Pe=s;break}Pe=a.return}return Ie=SA,SA=!1,Ie}function Mf(s,a,h){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var v=g=g.next;do{if((v.tag&s)===s){var S=v.destroy;v.destroy=void 0,S!==void 0&&gb(a,h,S)}v=v.next}while(v!==g)}}function uy(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&s)===s){var g=h.create;h.destroy=g()}h=h.next}while(h!==a)}}function yb(s){var a=s.ref;if(a!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof a=="function"?a(s):a.current=s}}function EA(s){var a=s.alternate;a!==null&&(s.alternate=null,EA(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[bs],delete a[_f],delete a[Nw],delete a[EL],delete a[AL])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function AA(s){return s.tag===5||s.tag===3||s.tag===4}function CA(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||AA(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function vb(s,a,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(s,a):h.insertBefore(s,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(s,h)):(a=h,a.appendChild(s)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=zg));else if(g!==4&&(s=s.child,s!==null))for(vb(s,a,h),s=s.sibling;s!==null;)vb(s,a,h),s=s.sibling}function wb(s,a,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,a?h.insertBefore(s,a):h.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(wb(s,a,h),s=s.sibling;s!==null;)wb(s,a,h),s=s.sibling}var jn=null,Gi=!1;function ka(s,a,h){for(h=h.child;h!==null;)TA(s,a,h),h=h.sibling}function TA(s,a,h){if(ws&&typeof ws.onCommitFiberUnmount=="function")try{ws.onCommitFiberUnmount(Sg,h)}catch{}switch(h.tag){case 5:Jn||Qu(h,a);case 6:var g=jn,v=Gi;jn=null,ka(s,a,h),jn=g,Gi=v,jn!==null&&(Gi?(s=jn,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):jn.removeChild(h.stateNode));break;case 18:jn!==null&&(Gi?(s=jn,h=h.stateNode,s.nodeType===8?Mw(s.parentNode,h):s.nodeType===1&&Mw(s,h),uf(s)):Mw(jn,h.stateNode));break;case 4:g=jn,v=Gi,jn=h.stateNode.containerInfo,Gi=!0,ka(s,a,h),jn=g,Gi=v;break;case 0:case 11:case 14:case 15:if(!Jn&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){v=g=g.next;do{var S=v,D=S.destroy;S=S.tag,D!==void 0&&((S&2)!==0||(S&4)!==0)&&gb(h,a,D),v=v.next}while(v!==g)}ka(s,a,h);break;case 1:if(!Jn&&(Qu(h,a),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(z){Wt(h,a,z)}ka(s,a,h);break;case 21:ka(s,a,h);break;case 22:h.mode&1?(Jn=(g=Jn)||h.memoizedState!==null,ka(s,a,h),Jn=g):ka(s,a,h);break;default:ka(s,a,h)}}function RA(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new zL),a.forEach(function(g){var v=QL.bind(null,s,g);h.has(g)||(h.add(g),g.then(v,v))})}}function Wi(s,a){var h=a.deletions;if(h!==null)for(var g=0;g<h.length;g++){var v=h[g];try{var S=s,D=a,z=D;e:for(;z!==null;){switch(z.tag){case 5:jn=z.stateNode,Gi=!1;break e;case 3:jn=z.stateNode.containerInfo,Gi=!0;break e;case 4:jn=z.stateNode.containerInfo,Gi=!0;break e}z=z.return}if(jn===null)throw Error(t(160));TA(S,D,v),jn=null,Gi=!1;var U=v.alternate;U!==null&&(U.return=null),v.return=null}catch(ne){Wt(v,a,ne)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)PA(a,s),a=a.sibling}function PA(s,a){var h=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Wi(a,s),Ss(s),g&4){try{Mf(3,s,s.return),uy(3,s)}catch(Me){Wt(s,s.return,Me)}try{Mf(5,s,s.return)}catch(Me){Wt(s,s.return,Me)}}break;case 1:Wi(a,s),Ss(s),g&512&&h!==null&&Qu(h,h.return);break;case 5:if(Wi(a,s),Ss(s),g&512&&h!==null&&Qu(h,h.return),s.flags&32){var v=s.stateNode;try{O(v,"")}catch(Me){Wt(s,s.return,Me)}}if(g&4&&(v=s.stateNode,v!=null)){var S=s.memoizedProps,D=h!==null?h.memoizedProps:S,z=s.type,U=s.updateQueue;if(s.updateQueue=null,U!==null)try{z==="input"&&S.type==="radio"&&S.name!=null&&rt(v,S),Ke(z,D);var ne=Ke(z,S);for(D=0;D<U.length;D+=2){var pe=U[D],ge=U[D+1];pe==="style"?W(v,ge):pe==="dangerouslySetInnerHTML"?On(v,ge):pe==="children"?O(v,ge):M(v,pe,ge,ne)}switch(z){case"input":vt(v,S);break;case"textarea":$i(v,S);break;case"select":var fe=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!S.multiple;var Ce=S.value;Ce!=null?lr(v,!!S.multiple,Ce,!1):fe!==!!S.multiple&&(S.defaultValue!=null?lr(v,!!S.multiple,S.defaultValue,!0):lr(v,!!S.multiple,S.multiple?[]:"",!1))}v[_f]=S}catch(Me){Wt(s,s.return,Me)}}break;case 6:if(Wi(a,s),Ss(s),g&4){if(s.stateNode===null)throw Error(t(162));v=s.stateNode,S=s.memoizedProps;try{v.nodeValue=S}catch(Me){Wt(s,s.return,Me)}}break;case 3:if(Wi(a,s),Ss(s),g&4&&h!==null&&h.memoizedState.isDehydrated)try{uf(a.containerInfo)}catch(Me){Wt(s,s.return,Me)}break;case 4:Wi(a,s),Ss(s);break;case 13:Wi(a,s),Ss(s),v=s.child,v.flags&8192&&(S=v.memoizedState!==null,v.stateNode.isHidden=S,!S||v.alternate!==null&&v.alternate.memoizedState!==null||(xb=Zt())),g&4&&RA(s);break;case 22:if(pe=h!==null&&h.memoizedState!==null,s.mode&1?(Jn=(ne=Jn)||pe,Wi(a,s),Jn=ne):Wi(a,s),Ss(s),g&8192){if(ne=s.memoizedState!==null,(s.stateNode.isHidden=ne)&&!pe&&(s.mode&1)!==0)for(Pe=s,pe=s.child;pe!==null;){for(ge=Pe=pe;Pe!==null;){switch(fe=Pe,Ce=fe.child,fe.tag){case 0:case 11:case 14:case 15:Mf(4,fe,fe.return);break;case 1:Qu(fe,fe.return);var Ie=fe.stateNode;if(typeof Ie.componentWillUnmount=="function"){g=fe,h=fe.return;try{a=g,Ie.props=a.memoizedProps,Ie.state=a.memoizedState,Ie.componentWillUnmount()}catch(Me){Wt(g,h,Me)}}break;case 5:Qu(fe,fe.return);break;case 22:if(fe.memoizedState!==null){MA(ge);continue}}Ce!==null?(Ce.return=fe,Pe=Ce):MA(ge)}pe=pe.sibling}e:for(pe=null,ge=s;;){if(ge.tag===5){if(pe===null){pe=ge;try{v=ge.stateNode,ne?(S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(z=ge.stateNode,U=ge.memoizedProps.style,D=U!=null&&U.hasOwnProperty("display")?U.display:null,z.style.display=j("display",D))}catch(Me){Wt(s,s.return,Me)}}}else if(ge.tag===6){if(pe===null)try{ge.stateNode.nodeValue=ne?"":ge.memoizedProps}catch(Me){Wt(s,s.return,Me)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===s)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===s)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===s)break e;pe===ge&&(pe=null),ge=ge.return}pe===ge&&(pe=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:Wi(a,s),Ss(s),g&4&&RA(s);break;case 21:break;default:Wi(a,s),Ss(s)}}function Ss(s){var a=s.flags;if(a&2){try{e:{for(var h=s.return;h!==null;){if(AA(h)){var g=h;break e}h=h.return}throw Error(t(160))}switch(g.tag){case 5:var v=g.stateNode;g.flags&32&&(O(v,""),g.flags&=-33);var S=CA(s);wb(s,S,v);break;case 3:case 4:var D=g.stateNode.containerInfo,z=CA(s);vb(s,z,D);break;default:throw Error(t(161))}}catch(U){Wt(s,s.return,U)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function UL(s,a,h){Pe=s,kA(s)}function kA(s,a,h){for(var g=(s.mode&1)!==0;Pe!==null;){var v=Pe,S=v.child;if(v.tag===22&&g){var D=v.memoizedState!==null||cy;if(!D){var z=v.alternate,U=z!==null&&z.memoizedState!==null||Jn;z=cy;var ne=Jn;if(cy=D,(Jn=U)&&!ne)for(Pe=v;Pe!==null;)D=Pe,U=D.child,D.tag===22&&D.memoizedState!==null?NA(v):U!==null?(U.return=D,Pe=U):NA(v);for(;S!==null;)Pe=S,kA(S),S=S.sibling;Pe=v,cy=z,Jn=ne}IA(s)}else(v.subtreeFlags&8772)!==0&&S!==null?(S.return=v,Pe=S):IA(s)}}function IA(s){for(;Pe!==null;){var a=Pe;if((a.flags&8772)!==0){var h=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Jn||uy(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!Jn)if(h===null)g.componentDidMount();else{var v=a.elementType===a.type?h.memoizedProps:Vi(a.type,h.memoizedProps);g.componentDidUpdate(v,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=a.updateQueue;S!==null&&ME(a,S,g);break;case 3:var D=a.updateQueue;if(D!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}ME(a,D,h)}break;case 5:var z=a.stateNode;if(h===null&&a.flags&4){h=z;var U=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&h.focus();break;case"img":U.src&&(h.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ne=a.alternate;if(ne!==null){var pe=ne.memoizedState;if(pe!==null){var ge=pe.dehydrated;ge!==null&&uf(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Jn||a.flags&512&&yb(a)}catch(fe){Wt(a,a.return,fe)}}if(a===s){Pe=null;break}if(h=a.sibling,h!==null){h.return=a.return,Pe=h;break}Pe=a.return}}function MA(s){for(;Pe!==null;){var a=Pe;if(a===s){Pe=null;break}var h=a.sibling;if(h!==null){h.return=a.return,Pe=h;break}Pe=a.return}}function NA(s){for(;Pe!==null;){var a=Pe;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{uy(4,a)}catch(U){Wt(a,h,U)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var v=a.return;try{g.componentDidMount()}catch(U){Wt(a,v,U)}}var S=a.return;try{yb(a)}catch(U){Wt(a,S,U)}break;case 5:var D=a.return;try{yb(a)}catch(U){Wt(a,D,U)}}}catch(U){Wt(a,a.return,U)}if(a===s){Pe=null;break}var z=a.sibling;if(z!==null){z.return=a.return,Pe=z;break}Pe=a.return}}var VL=Math.ceil,dy=L.ReactCurrentDispatcher,bb=L.ReactCurrentOwner,xi=L.ReactCurrentBatchConfig,ct=0,xn=null,ln=null,Bn=0,qr=0,Zu=Aa(0),mn=0,Nf=null,Kl=0,hy=0,_b=0,Lf=null,kr=null,xb=0,Ju=1/0,vo=null,fy=!1,Sb=null,Ia=null,py=!1,Ma=null,my=0,Df=0,Eb=null,gy=-1,yy=0;function ur(){return(ct&6)!==0?Zt():gy!==-1?gy:gy=Zt()}function Na(s){return(s.mode&1)===0?1:(ct&2)!==0&&Bn!==0?Bn&-Bn:TL.transition!==null?(yy===0&&(yy=CS()),yy):(s=gt,s!==0||(s=window.event,s=s===void 0?16:DS(s.type)),s)}function qi(s,a,h,g){if(50<Df)throw Df=0,Eb=null,Error(t(185));sf(s,h,g),((ct&2)===0||s!==xn)&&(s===xn&&((ct&2)===0&&(hy|=h),mn===4&&La(s,Bn)),Ir(s,g),h===1&&ct===0&&(a.mode&1)===0&&(Ju=Zt()+500,Gg&&Ta()))}function Ir(s,a){var h=s.callbackNode;TN(s,a);var g=Cg(s,s===xn?Bn:0);if(g===0)h!==null&&SS(h),s.callbackNode=null,s.callbackPriority=0;else if(a=g&-g,s.callbackPriority!==a){if(h!=null&&SS(h),a===1)s.tag===0?CL(DA.bind(null,s)):bE(DA.bind(null,s)),xL(function(){(ct&6)===0&&Ta()}),h=null;else{switch(TS(g)){case 1:h=rw;break;case 4:h=ES;break;case 16:h=xg;break;case 536870912:h=AS;break;default:h=xg}h=UA(h,LA.bind(null,s))}s.callbackPriority=a,s.callbackNode=h}}function LA(s,a){if(gy=-1,yy=0,(ct&6)!==0)throw Error(t(327));var h=s.callbackNode;if(ed()&&s.callbackNode!==h)return null;var g=Cg(s,s===xn?Bn:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||a)a=vy(s,g);else{a=g;var v=ct;ct|=2;var S=FA();(xn!==s||Bn!==a)&&(vo=null,Ju=Zt()+500,Xl(s,a));do try{qL();break}catch(z){OA(s,z)}while(!0);Hw(),dy.current=S,ct=v,ln!==null?a=0:(xn=null,Bn=0,a=mn)}if(a!==0){if(a===2&&(v=iw(s),v!==0&&(g=v,a=Ab(s,v))),a===1)throw h=Nf,Xl(s,0),La(s,g),Ir(s,Zt()),h;if(a===6)La(s,g);else{if(v=s.current.alternate,(g&30)===0&&!GL(v)&&(a=vy(s,g),a===2&&(S=iw(s),S!==0&&(g=S,a=Ab(s,S))),a===1))throw h=Nf,Xl(s,0),La(s,g),Ir(s,Zt()),h;switch(s.finishedWork=v,s.finishedLanes=g,a){case 0:case 1:throw Error(t(345));case 2:Ql(s,kr,vo);break;case 3:if(La(s,g),(g&130023424)===g&&(a=xb+500-Zt(),10<a)){if(Cg(s,0)!==0)break;if(v=s.suspendedLanes,(v&g)!==g){ur(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=Iw(Ql.bind(null,s,kr,vo),a);break}Ql(s,kr,vo);break;case 4:if(La(s,g),(g&4194240)===g)break;for(a=s.eventTimes,v=-1;0<g;){var D=31-zi(g);S=1<<D,D=a[D],D>v&&(v=D),g&=~S}if(g=v,g=Zt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*VL(g/1960))-g,10<g){s.timeoutHandle=Iw(Ql.bind(null,s,kr,vo),g);break}Ql(s,kr,vo);break;case 5:Ql(s,kr,vo);break;default:throw Error(t(329))}}}return Ir(s,Zt()),s.callbackNode===h?LA.bind(null,s):null}function Ab(s,a){var h=Lf;return s.current.memoizedState.isDehydrated&&(Xl(s,a).flags|=256),s=vy(s,a),s!==2&&(a=kr,kr=h,a!==null&&Cb(a)),s}function Cb(s){kr===null?kr=s:kr.push.apply(kr,s)}function GL(s){for(var a=s;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var v=h[g],S=v.getSnapshot;v=v.value;try{if(!Hi(S(),v))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function La(s,a){for(a&=~_b,a&=~hy,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var h=31-zi(a),g=1<<h;s[h]=-1,a&=~g}}function DA(s){if((ct&6)!==0)throw Error(t(327));ed();var a=Cg(s,0);if((a&1)===0)return Ir(s,Zt()),null;var h=vy(s,a);if(s.tag!==0&&h===2){var g=iw(s);g!==0&&(a=g,h=Ab(s,g))}if(h===1)throw h=Nf,Xl(s,0),La(s,a),Ir(s,Zt()),h;if(h===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Ql(s,kr,vo),Ir(s,Zt()),null}function Tb(s,a){var h=ct;ct|=1;try{return s(a)}finally{ct=h,ct===0&&(Ju=Zt()+500,Gg&&Ta())}}function Yl(s){Ma!==null&&Ma.tag===0&&(ct&6)===0&&ed();var a=ct;ct|=1;var h=xi.transition,g=gt;try{if(xi.transition=null,gt=1,s)return s()}finally{gt=g,xi.transition=h,ct=a,(ct&6)===0&&Ta()}}function Rb(){qr=Zu.current,It(Zu)}function Xl(s,a){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,_L(h)),ln!==null)for(h=ln.return;h!==null;){var g=h;switch(Fw(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Ug();break;case 3:Yu(),It(Tr),It(Xn),Xw();break;case 5:Kw(g);break;case 4:Yu();break;case 13:It(Ht);break;case 19:It(Ht);break;case 10:Uw(g.type._context);break;case 22:case 23:Rb()}h=h.return}if(xn=s,ln=s=Da(s.current,null),Bn=qr=a,mn=0,Nf=null,_b=hy=Kl=0,kr=Lf=null,Gl!==null){for(a=0;a<Gl.length;a++)if(h=Gl[a],g=h.interleaved,g!==null){h.interleaved=null;var v=g.next,S=h.pending;if(S!==null){var D=S.next;S.next=v,g.next=D}h.pending=g}Gl=null}return s}function OA(s,a){do{var h=ln;try{if(Hw(),ty.current=sy,ny){for(var g=Ut.memoizedState;g!==null;){var v=g.queue;v!==null&&(v.pending=null),g=g.next}ny=!1}if(ql=0,_n=pn=Ut=null,Tf=!1,Rf=0,bb.current=null,h===null||h.return===null){mn=1,Nf=a,ln=null;break}e:{var S=s,D=h.return,z=h,U=a;if(a=Bn,z.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var ne=U,pe=z,ge=pe.tag;if((pe.mode&1)===0&&(ge===0||ge===11||ge===15)){var fe=pe.alternate;fe?(pe.updateQueue=fe.updateQueue,pe.memoizedState=fe.memoizedState,pe.lanes=fe.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Ce=aA(D);if(Ce!==null){Ce.flags&=-257,lA(Ce,D,z,S,a),Ce.mode&1&&oA(S,ne,a),a=Ce,U=ne;var Ie=a.updateQueue;if(Ie===null){var Me=new Set;Me.add(U),a.updateQueue=Me}else Ie.add(U);break e}else{if((a&1)===0){oA(S,ne,a),Pb();break e}U=Error(t(426))}}else if(Nt&&z.mode&1){var Jt=aA(D);if(Jt!==null){(Jt.flags&65536)===0&&(Jt.flags|=256),lA(Jt,D,z,S,a),$w(Xu(U,z));break e}}S=U=Xu(U,z),mn!==4&&(mn=2),Lf===null?Lf=[S]:Lf.push(S),S=D;do{switch(S.tag){case 3:S.flags|=65536,a&=-a,S.lanes|=a;var Y=iA(S,U,a);IE(S,Y);break e;case 1:z=U;var G=S.type,Q=S.stateNode;if((S.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Ia===null||!Ia.has(Q)))){S.flags|=65536,a&=-a,S.lanes|=a;var be=sA(S,z,a);IE(S,be);break e}}S=S.return}while(S!==null)}BA(h)}catch(Le){a=Le,ln===h&&h!==null&&(ln=h=h.return);continue}break}while(!0)}function FA(){var s=dy.current;return dy.current=sy,s===null?sy:s}function Pb(){(mn===0||mn===3||mn===2)&&(mn=4),xn===null||(Kl&268435455)===0&&(hy&268435455)===0||La(xn,Bn)}function vy(s,a){var h=ct;ct|=2;var g=FA();(xn!==s||Bn!==a)&&(vo=null,Xl(s,a));do try{WL();break}catch(v){OA(s,v)}while(!0);if(Hw(),ct=h,dy.current=g,ln!==null)throw Error(t(261));return xn=null,Bn=0,mn}function WL(){for(;ln!==null;)jA(ln)}function qL(){for(;ln!==null&&!vN();)jA(ln)}function jA(s){var a=HA(s.alternate,s,qr);s.memoizedProps=s.pendingProps,a===null?BA(s):ln=a,bb.current=null}function BA(s){var a=s;do{var h=a.alternate;if(s=a.return,(a.flags&32768)===0){if(h=BL(h,a,qr),h!==null){ln=h;return}}else{if(h=$L(h,a),h!==null){h.flags&=32767,ln=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{mn=6,ln=null;return}}if(a=a.sibling,a!==null){ln=a;return}ln=a=s}while(a!==null);mn===0&&(mn=5)}function Ql(s,a,h){var g=gt,v=xi.transition;try{xi.transition=null,gt=1,KL(s,a,h,g)}finally{xi.transition=v,gt=g}return null}function KL(s,a,h,g){do ed();while(Ma!==null);if((ct&6)!==0)throw Error(t(327));h=s.finishedWork;var v=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var S=h.lanes|h.childLanes;if(RN(s,S),s===xn&&(ln=xn=null,Bn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||py||(py=!0,UA(xg,function(){return ed(),null})),S=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||S){S=xi.transition,xi.transition=null;var D=gt;gt=1;var z=ct;ct|=4,bb.current=null,HL(s,h),PA(h,s),pL(Pw),Pg=!!Rw,Pw=Rw=null,s.current=h,UL(h),wN(),ct=z,gt=D,xi.transition=S}else s.current=h;if(py&&(py=!1,Ma=s,my=v),S=s.pendingLanes,S===0&&(Ia=null),xN(h.stateNode),Ir(s,Zt()),a!==null)for(g=s.onRecoverableError,h=0;h<a.length;h++)v=a[h],g(v.value,{componentStack:v.stack,digest:v.digest});if(fy)throw fy=!1,s=Sb,Sb=null,s;return(my&1)!==0&&s.tag!==0&&ed(),S=s.pendingLanes,(S&1)!==0?s===Eb?Df++:(Df=0,Eb=s):Df=0,Ta(),null}function ed(){if(Ma!==null){var s=TS(my),a=xi.transition,h=gt;try{if(xi.transition=null,gt=16>s?16:s,Ma===null)var g=!1;else{if(s=Ma,Ma=null,my=0,(ct&6)!==0)throw Error(t(331));var v=ct;for(ct|=4,Pe=s.current;Pe!==null;){var S=Pe,D=S.child;if((Pe.flags&16)!==0){var z=S.deletions;if(z!==null){for(var U=0;U<z.length;U++){var ne=z[U];for(Pe=ne;Pe!==null;){var pe=Pe;switch(pe.tag){case 0:case 11:case 15:Mf(8,pe,S)}var ge=pe.child;if(ge!==null)ge.return=pe,Pe=ge;else for(;Pe!==null;){pe=Pe;var fe=pe.sibling,Ce=pe.return;if(EA(pe),pe===ne){Pe=null;break}if(fe!==null){fe.return=Ce,Pe=fe;break}Pe=Ce}}}var Ie=S.alternate;if(Ie!==null){var Me=Ie.child;if(Me!==null){Ie.child=null;do{var Jt=Me.sibling;Me.sibling=null,Me=Jt}while(Me!==null)}}Pe=S}}if((S.subtreeFlags&2064)!==0&&D!==null)D.return=S,Pe=D;else e:for(;Pe!==null;){if(S=Pe,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Mf(9,S,S.return)}var Y=S.sibling;if(Y!==null){Y.return=S.return,Pe=Y;break e}Pe=S.return}}var G=s.current;for(Pe=G;Pe!==null;){D=Pe;var Q=D.child;if((D.subtreeFlags&2064)!==0&&Q!==null)Q.return=D,Pe=Q;else e:for(D=G;Pe!==null;){if(z=Pe,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:uy(9,z)}}catch(Le){Wt(z,z.return,Le)}if(z===D){Pe=null;break e}var be=z.sibling;if(be!==null){be.return=z.return,Pe=be;break e}Pe=z.return}}if(ct=v,Ta(),ws&&typeof ws.onPostCommitFiberRoot=="function")try{ws.onPostCommitFiberRoot(Sg,s)}catch{}g=!0}return g}finally{gt=h,xi.transition=a}}return!1}function $A(s,a,h){a=Xu(h,a),a=iA(s,a,1),s=Pa(s,a,1),a=ur(),s!==null&&(sf(s,1,a),Ir(s,a))}function Wt(s,a,h){if(s.tag===3)$A(s,s,h);else for(;a!==null;){if(a.tag===3){$A(a,s,h);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ia===null||!Ia.has(g))){s=Xu(h,s),s=sA(a,s,1),a=Pa(a,s,1),s=ur(),a!==null&&(sf(a,1,s),Ir(a,s));break}}a=a.return}}function YL(s,a,h){var g=s.pingCache;g!==null&&g.delete(a),a=ur(),s.pingedLanes|=s.suspendedLanes&h,xn===s&&(Bn&h)===h&&(mn===4||mn===3&&(Bn&130023424)===Bn&&500>Zt()-xb?Xl(s,0):_b|=h),Ir(s,a)}function zA(s,a){a===0&&((s.mode&1)===0?a=1:(a=Ag,Ag<<=1,(Ag&130023424)===0&&(Ag=4194304)));var h=ur();s=mo(s,a),s!==null&&(sf(s,a,h),Ir(s,h))}function XL(s){var a=s.memoizedState,h=0;a!==null&&(h=a.retryLane),zA(s,h)}function QL(s,a){var h=0;switch(s.tag){case 13:var g=s.stateNode,v=s.memoizedState;v!==null&&(h=v.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(a),zA(s,h)}var HA;HA=function(s,a,h){if(s!==null)if(s.memoizedProps!==a.pendingProps||Tr.current)Pr=!0;else{if((s.lanes&h)===0&&(a.flags&128)===0)return Pr=!1,jL(s,a,h);Pr=(s.flags&131072)!==0}else Pr=!1,Nt&&(a.flags&1048576)!==0&&_E(a,qg,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;ly(s,a),s=a.pendingProps;var v=Hu(a,Xn.current);Ku(a,h),v=Jw(null,a,g,s,v,h);var S=eb();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Rr(g)?(S=!0,Vg(a)):S=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Ww(a),v.updater=oy,a.stateNode=v,v._reactInternals=a,ob(a,g,s,h),a=ub(null,a,g,!0,S,h)):(a.tag=0,Nt&&S&&Ow(a),cr(null,a,v,h),a=a.child),a;case 16:g=a.elementType;e:{switch(ly(s,a),s=a.pendingProps,v=g._init,g=v(g._payload),a.type=g,v=a.tag=JL(g),s=Vi(g,s),v){case 0:a=cb(null,a,g,s,h);break e;case 1:a=pA(null,a,g,s,h);break e;case 11:a=cA(null,a,g,s,h);break e;case 14:a=uA(null,a,g,Vi(g.type,s),h);break e}throw Error(t(306,g,""))}return a;case 0:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:Vi(g,v),cb(s,a,g,v,h);case 1:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:Vi(g,v),pA(s,a,g,v,h);case 3:e:{if(mA(a),s===null)throw Error(t(387));g=a.pendingProps,S=a.memoizedState,v=S.element,kE(s,a),Jg(a,g,null,h);var D=a.memoizedState;if(g=D.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},a.updateQueue.baseState=S,a.memoizedState=S,a.flags&256){v=Xu(Error(t(423)),a),a=gA(s,a,g,h,v);break e}else if(g!==v){v=Xu(Error(t(424)),a),a=gA(s,a,g,h,v);break e}else for(Wr=Ea(a.stateNode.containerInfo.firstChild),Gr=a,Nt=!0,Ui=null,h=RE(a,null,g,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Gu(),g===v){a=yo(s,a,h);break e}cr(s,a,g,h)}a=a.child}return a;case 5:return NE(a),s===null&&Bw(a),g=a.type,v=a.pendingProps,S=s!==null?s.memoizedProps:null,D=v.children,kw(g,v)?D=null:S!==null&&kw(g,S)&&(a.flags|=32),fA(s,a),cr(s,a,D,h),a.child;case 6:return s===null&&Bw(a),null;case 13:return yA(s,a,h);case 4:return qw(a,a.stateNode.containerInfo),g=a.pendingProps,s===null?a.child=Wu(a,null,g,h):cr(s,a,g,h),a.child;case 11:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:Vi(g,v),cA(s,a,g,v,h);case 7:return cr(s,a,a.pendingProps,h),a.child;case 8:return cr(s,a,a.pendingProps.children,h),a.child;case 12:return cr(s,a,a.pendingProps.children,h),a.child;case 10:e:{if(g=a.type._context,v=a.pendingProps,S=a.memoizedProps,D=v.value,Tt(Xg,g._currentValue),g._currentValue=D,S!==null)if(Hi(S.value,D)){if(S.children===v.children&&!Tr.current){a=yo(s,a,h);break e}}else for(S=a.child,S!==null&&(S.return=a);S!==null;){var z=S.dependencies;if(z!==null){D=S.child;for(var U=z.firstContext;U!==null;){if(U.context===g){if(S.tag===1){U=go(-1,h&-h),U.tag=2;var ne=S.updateQueue;if(ne!==null){ne=ne.shared;var pe=ne.pending;pe===null?U.next=U:(U.next=pe.next,pe.next=U),ne.pending=U}}S.lanes|=h,U=S.alternate,U!==null&&(U.lanes|=h),Vw(S.return,h,a),z.lanes|=h;break}U=U.next}}else if(S.tag===10)D=S.type===a.type?null:S.child;else if(S.tag===18){if(D=S.return,D===null)throw Error(t(341));D.lanes|=h,z=D.alternate,z!==null&&(z.lanes|=h),Vw(D,h,a),D=S.sibling}else D=S.child;if(D!==null)D.return=S;else for(D=S;D!==null;){if(D===a){D=null;break}if(S=D.sibling,S!==null){S.return=D.return,D=S;break}D=D.return}S=D}cr(s,a,v.children,h),a=a.child}return a;case 9:return v=a.type,g=a.pendingProps.children,Ku(a,h),v=bi(v),g=g(v),a.flags|=1,cr(s,a,g,h),a.child;case 14:return g=a.type,v=Vi(g,a.pendingProps),v=Vi(g.type,v),uA(s,a,g,v,h);case 15:return dA(s,a,a.type,a.pendingProps,h);case 17:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:Vi(g,v),ly(s,a),a.tag=1,Rr(g)?(s=!0,Vg(a)):s=!1,Ku(a,h),nA(a,g,v),ob(a,g,v,h),ub(null,a,g,!0,s,h);case 19:return wA(s,a,h);case 22:return hA(s,a,h)}throw Error(t(156,a.tag))};function UA(s,a){return xS(s,a)}function ZL(s,a,h,g){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(s,a,h,g){return new ZL(s,a,h,g)}function kb(s){return s=s.prototype,!(!s||!s.isReactComponent)}function JL(s){if(typeof s=="function")return kb(s)?1:0;if(s!=null){if(s=s.$$typeof,s===we)return 11;if(s===Se)return 14}return 2}function Da(s,a){var h=s.alternate;return h===null?(h=Si(s.tag,a,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=a,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,a=s.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function wy(s,a,h,g,v,S){var D=2;if(g=s,typeof s=="function")kb(s)&&(D=1);else if(typeof s=="string")D=5;else e:switch(s){case B:return Zl(h.children,v,S,a);case V:D=8,v|=8;break;case q:return s=Si(12,h,a,v|2),s.elementType=q,s.lanes=S,s;case he:return s=Si(13,h,a,v),s.elementType=he,s.lanes=S,s;case ce:return s=Si(19,h,a,v),s.elementType=ce,s.lanes=S,s;case Z:return by(h,v,S,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case J:D=10;break e;case ie:D=9;break e;case we:D=11;break e;case Se:D=14;break e;case K:D=16,g=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Si(D,h,a,v),a.elementType=s,a.type=g,a.lanes=S,a}function Zl(s,a,h,g){return s=Si(7,s,g,a),s.lanes=h,s}function by(s,a,h,g){return s=Si(22,s,g,a),s.elementType=Z,s.lanes=h,s.stateNode={isHidden:!1},s}function Ib(s,a,h){return s=Si(6,s,null,a),s.lanes=h,s}function Mb(s,a,h){return a=Si(4,s.children!==null?s.children:[],s.key,a),a.lanes=h,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function eD(s,a,h,g,v){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sw(0),this.expirationTimes=sw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sw(0),this.identifierPrefix=g,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Nb(s,a,h,g,v,S,D,z,U){return s=new eD(s,a,h,z,U),a===1?(a=1,S===!0&&(a|=8)):a=0,S=Si(3,null,null,a),s.current=S,S.stateNode=s,S.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ww(S),s}function tD(s,a,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:g==null?null:""+g,children:s,containerInfo:a,implementation:h}}function VA(s){if(!s)return Ca;s=s._reactInternals;e:{if($l(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Rr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var h=s.type;if(Rr(h))return vE(s,h,a)}return a}function GA(s,a,h,g,v,S,D,z,U){return s=Nb(h,g,!0,s,v,S,D,z,U),s.context=VA(null),h=s.current,g=ur(),v=Na(h),S=go(g,v),S.callback=a??null,Pa(h,S,v),s.current.lanes=v,sf(s,v,g),Ir(s,g),s}function _y(s,a,h,g){var v=a.current,S=ur(),D=Na(v);return h=VA(h),a.context===null?a.context=h:a.pendingContext=h,a=go(S,D),a.payload={element:s},g=g===void 0?null:g,g!==null&&(a.callback=g),s=Pa(v,a,D),s!==null&&(qi(s,v,D,S),Zg(s,v,D)),D}function xy(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function WA(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<a?h:a}}function Lb(s,a){WA(s,a),(s=s.alternate)&&WA(s,a)}function nD(){return null}var qA=typeof reportError=="function"?reportError:function(s){console.error(s)};function Db(s){this._internalRoot=s}Sy.prototype.render=Db.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));_y(s,a,null,null)},Sy.prototype.unmount=Db.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Yl(function(){_y(null,s,null,null)}),a[uo]=null}};function Sy(s){this._internalRoot=s}Sy.prototype.unstable_scheduleHydration=function(s){if(s){var a=kS();s={blockedOn:null,target:s,priority:a};for(var h=0;h<_a.length&&a!==0&&a<_a[h].priority;h++);_a.splice(h,0,s),h===0&&NS(s)}};function Ob(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ey(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function KA(){}function rD(s,a,h,g,v){if(v){if(typeof g=="function"){var S=g;g=function(){var ne=xy(D);S.call(ne)}}var D=GA(a,g,s,0,null,!1,!1,"",KA);return s._reactRootContainer=D,s[uo]=D.current,wf(s.nodeType===8?s.parentNode:s),Yl(),D}for(;v=s.lastChild;)s.removeChild(v);if(typeof g=="function"){var z=g;g=function(){var ne=xy(U);z.call(ne)}}var U=Nb(s,0,!1,null,null,!1,!1,"",KA);return s._reactRootContainer=U,s[uo]=U.current,wf(s.nodeType===8?s.parentNode:s),Yl(function(){_y(a,U,h,g)}),U}function Ay(s,a,h,g,v){var S=h._reactRootContainer;if(S){var D=S;if(typeof v=="function"){var z=v;v=function(){var U=xy(D);z.call(U)}}_y(a,D,s,v)}else D=rD(h,a,s,v,g);return xy(D)}RS=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var h=rf(a.pendingLanes);h!==0&&(ow(a,h|1),Ir(a,Zt()),(ct&6)===0&&(Ju=Zt()+500,Ta()))}break;case 13:Yl(function(){var g=mo(s,1);if(g!==null){var v=ur();qi(g,s,1,v)}}),Lb(s,1)}},aw=function(s){if(s.tag===13){var a=mo(s,134217728);if(a!==null){var h=ur();qi(a,s,134217728,h)}Lb(s,134217728)}},PS=function(s){if(s.tag===13){var a=Na(s),h=mo(s,a);if(h!==null){var g=ur();qi(h,s,a,g)}Lb(s,a)}},kS=function(){return gt},IS=function(s,a){var h=gt;try{return gt=s,a()}finally{gt=h}},wt=function(s,a,h){switch(a){case"input":if(vt(s,h),a=h.name,h.type==="radio"&&a!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var g=h[a];if(g!==s&&g.form===s.form){var v=Hg(g);if(!v)throw Error(t(90));Be(g),vt(g,v)}}}break;case"textarea":$i(s,h);break;case"select":a=h.value,a!=null&&lr(s,!!h.multiple,a,!1)}},fn=Tb,Yn=Yl;var iD={usingClientEntryPoint:!1,Events:[xf,$u,Hg,We,Qt,Tb]},Of={findFiberByHostInstance:zl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sD={bundleType:Of.bundleType,version:Of.version,rendererPackageName:Of.rendererPackageName,rendererConfig:Of.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=bS(s),s===null?null:s.stateNode},findFiberByHostInstance:Of.findFiberByHostInstance||nD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cy.isDisabled&&Cy.supportsFiber)try{Sg=Cy.inject(sD),ws=Cy}catch{}}return Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iD,Mr.createPortal=function(s,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ob(a))throw Error(t(200));return tD(s,a,null,h)},Mr.createRoot=function(s,a){if(!Ob(s))throw Error(t(299));var h=!1,g="",v=qA;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Nb(s,1,!1,null,null,h,!1,g,v),s[uo]=a.current,wf(s.nodeType===8?s.parentNode:s),new Db(a)},Mr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=bS(a),s=s===null?null:s.stateNode,s},Mr.flushSync=function(s){return Yl(s)},Mr.hydrate=function(s,a,h){if(!Ey(a))throw Error(t(200));return Ay(null,s,a,!0,h)},Mr.hydrateRoot=function(s,a,h){if(!Ob(s))throw Error(t(405));var g=h!=null&&h.hydratedSources||null,v=!1,S="",D=qA;if(h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onRecoverableError!==void 0&&(D=h.onRecoverableError)),a=GA(a,null,s,1,h??null,v,!1,S,D),s[uo]=a.current,wf(s),g)for(s=0;s<g.length;s++)h=g[s],v=h._getVersion,v=v(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,v]:a.mutableSourceEagerHydrationData.push(h,v);return new Sy(a)},Mr.render=function(s,a,h){if(!Ey(a))throw Error(t(200));return Ay(null,s,a,!1,h)},Mr.unmountComponentAtNode=function(s){if(!Ey(s))throw Error(t(40));return s._reactRootContainer?(Yl(function(){Ay(null,null,s,!1,function(){s._reactRootContainer=null,s[uo]=null})}),!0):!1},Mr.unstable_batchedUpdates=Tb,Mr.unstable_renderSubtreeIntoContainer=function(s,a,h,g){if(!Ey(h))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Ay(s,a,h,!1,g)},Mr.version="18.3.1-next-f1338f8080-20240426",Mr}var rC;function JT(){if(rC)return $b.exports;rC=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),$b.exports=mD(),$b.exports}var iC;function gD(){if(iC)return Ty;iC=1;var i=JT();return Ty.createRoot=i.createRoot,Ty.hydrateRoot=i.hydrateRoot,Ty}var yD=gD(),P=v0();const le=Cu(P),d1=cD({__proto__:null,default:le},[P]);var og=JT();const eR=Cu(og);/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hp(){return hp=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},hp.apply(this,arguments)}var Rl;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Rl||(Rl={}));const sC="popstate";function vD(i){i===void 0&&(i={});function e(r,o){let{pathname:l="/",search:c="",hash:d=""}=Tu(r.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),x_("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){let l=r.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let d=r.location.href,p=d.indexOf("#");c=p===-1?d:d.slice(0,p)}return c+"#"+(typeof o=="string"?o:kv(o))}function n(r,o){h1(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return bD(e,t,n,i)}function dn(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function h1(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wD(){return Math.random().toString(36).substr(2,8)}function oC(i,e){return{usr:i.state,key:i.key,idx:e}}function x_(i,e,t,n){return t===void 0&&(t=null),hp({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?Tu(e):e,{state:t,key:e&&e.key||n||wD()})}function kv(i){let{pathname:e="/",search:t="",hash:n=""}=i;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Tu(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substr(t),i=i.substr(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substr(n),i=i.substr(0,n)),i&&(e.pathname=i)}return e}function bD(i,e,t,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:o=!1}=n,l=r.history,c=Rl.Pop,d=null,p=f();p==null&&(p=0,l.replaceState(hp({},l.state,{idx:p}),""));function f(){return(l.state||{idx:null}).idx}function m(){c=Rl.Pop;let A=f(),R=A==null?null:A-p;p=A,d&&d({action:c,location:b.location,delta:R})}function y(A,R){c=Rl.Push;let k=x_(b.location,A,R);t&&t(k,A),p=f()+1;let M=oC(k,p),L=b.createHref(k);try{l.pushState(M,"",L)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;r.location.assign(L)}o&&d&&d({action:c,location:b.location,delta:1})}function w(A,R){c=Rl.Replace;let k=x_(b.location,A,R);t&&t(k,A),p=f();let M=oC(k,p),L=b.createHref(k);l.replaceState(M,"",L),o&&d&&d({action:c,location:b.location,delta:0})}function x(A){let R=r.location.origin!=="null"?r.location.origin:r.location.href,k=typeof A=="string"?A:kv(A);return k=k.replace(/ $/,"%20"),dn(R,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,R)}let b={get action(){return c},get location(){return i(r,l)},listen(A){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(sC,m),d=A,()=>{r.removeEventListener(sC,m),d=null}},createHref(A){return e(r,A)},createURL:x,encodeLocation(A){let R=x(A);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:y,replace:w,go(A){return l.go(A)}};return b}var aC;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(aC||(aC={}));function _D(i,e,t){return t===void 0&&(t="/"),xD(i,e,t)}function xD(i,e,t,n){let r=typeof e=="string"?Tu(e):e,o=f1(r.pathname||"/",t);if(o==null)return null;let l=tR(i);SD(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=DD(o);c=MD(l[d],p)}return c}function tR(i,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let r=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(dn(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let p=Pl([n,d.relativePath]),f=t.concat(d);o.children&&o.children.length>0&&(dn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),tR(o.children,e,f,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:kD(p,o.index),routesMeta:f})};return i.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))r(o,l);else for(let d of nR(o.path))r(o,l,d)}),e}function nR(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return r?[o,""]:[o];let l=nR(n.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&c.push(...l),c.map(d=>i.startsWith("/")&&d===""?"/":d)}function SD(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:ID(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const ED=/^:[\w-]+$/,AD=3,CD=2,TD=1,RD=10,PD=-2,lC=i=>i==="*";function kD(i,e){let t=i.split("/"),n=t.length;return t.some(lC)&&(n+=PD),e&&(n+=CD),t.filter(r=>!lC(r)).reduce((r,o)=>r+(ED.test(o)?AD:o===""?TD:RD),n)}function ID(i,e){return i.length===e.length&&i.slice(0,-1).every((n,r)=>n===e[r])?i[i.length-1]-e[e.length-1]:0}function MD(i,e,t){let{routesMeta:n}=i,r={},o="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],p=c===n.length-1,f=o==="/"?e:e.slice(o.length)||"/",m=ND({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},f),y=d.route;if(!m)return null;Object.assign(r,m.params),l.push({params:r,pathname:Pl([o,m.pathname]),pathnameBase:BD(Pl([o,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(o=Pl([o,m.pathnameBase]))}return l}function ND(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=LD(i.path,i.caseSensitive,i.end),r=e.match(t);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:n.reduce((p,f,m)=>{let{paramName:y,isOptional:w}=f;if(y==="*"){let b=c[m]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const x=c[m];return w&&!x?p[y]=void 0:p[y]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:i}}function LD(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),h1(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let n=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(n.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function DD(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return h1(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function f1(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}function OD(i,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:r=""}=typeof i=="string"?Tu(i):i;return{pathname:t?t.startsWith("/")?t:FD(t,e):e,search:$D(n),hash:zD(r)}}function FD(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Ub(i,e,t,n){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jD(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rR(i,e){let t=jD(i);return e?t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function iR(i,e,t,n){n===void 0&&(n=!1);let r;typeof i=="string"?r=Tu(i):(r=hp({},i),dn(!r.pathname||!r.pathname.includes("?"),Ub("?","pathname","search",r)),dn(!r.pathname||!r.pathname.includes("#"),Ub("#","pathname","hash",r)),dn(!r.search||!r.search.includes("#"),Ub("#","search","hash",r)));let o=i===""||r.pathname==="",l=o?"/":r.pathname,c;if(l==null)c=t;else{let m=e.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),m-=1;r.pathname=y.join("/")}c=m>=0?e[m]:"/"}let d=OD(r,c),p=l&&l!=="/"&&l.endsWith("/"),f=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||f)&&(d.pathname+="/"),d}const Pl=i=>i.join("/").replace(/\/\/+/g,"/"),BD=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),$D=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,zD=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function HD(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const sR=["post","put","patch","delete"];new Set(sR);const UD=["get",...sR];new Set(UD);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fp(){return fp=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},fp.apply(this,arguments)}const p1=P.createContext(null),VD=P.createContext(null),Ru=P.createContext(null),w0=P.createContext(null),Fl=P.createContext({outlet:null,matches:[],isDataRoute:!1}),oR=P.createContext(null);function GD(i,e){let{relative:t}=e===void 0?{}:e;ag()||dn(!1);let{basename:n,navigator:r}=P.useContext(Ru),{hash:o,pathname:l,search:c}=lR(i,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:Pl([n,l])),r.createHref({pathname:d,search:c,hash:o})}function ag(){return P.useContext(w0)!=null}function Yh(){return ag()||dn(!1),P.useContext(w0).location}function aR(i){P.useContext(Ru).static||P.useLayoutEffect(i)}function WD(){let{isDataRoute:i}=P.useContext(Fl);return i?aO():qD()}function qD(){ag()||dn(!1);let i=P.useContext(p1),{basename:e,future:t,navigator:n}=P.useContext(Ru),{matches:r}=P.useContext(Fl),{pathname:o}=Yh(),l=JSON.stringify(rR(r,t.v7_relativeSplatPath)),c=P.useRef(!1);return aR(()=>{c.current=!0}),P.useCallback(function(p,f){if(f===void 0&&(f={}),!c.current)return;if(typeof p=="number"){n.go(p);return}let m=iR(p,JSON.parse(l),o,f.relative==="path");i==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Pl([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,l,o,i])}const KD=P.createContext(null);function YD(i){let e=P.useContext(Fl).outlet;return e&&P.createElement(KD.Provider,{value:i},e)}function lR(i,e){let{relative:t}=e===void 0?{}:e,{future:n}=P.useContext(Ru),{matches:r}=P.useContext(Fl),{pathname:o}=Yh(),l=JSON.stringify(rR(r,n.v7_relativeSplatPath));return P.useMemo(()=>iR(i,JSON.parse(l),o,t==="path"),[i,l,o,t])}function XD(i,e){return QD(i,e)}function QD(i,e,t,n){ag()||dn(!1);let{navigator:r}=P.useContext(Ru),{matches:o}=P.useContext(Fl),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let p=Yh(),f;if(e){var m;let A=typeof e=="string"?Tu(e):e;d==="/"||(m=A.pathname)!=null&&m.startsWith(d)||dn(!1),f=A}else f=p;let y=f.pathname||"/",w=y;if(d!=="/"){let A=d.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(A.length).join("/")}let x=_D(i,{pathname:w}),b=nO(x&&x.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:Pl([d,r.encodeLocation?r.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:Pl([d,r.encodeLocation?r.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,t,n);return e&&b?P.createElement(w0.Provider,{value:{location:fp({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Rl.Pop}},b):b}function ZD(){let i=oO(),e=HD(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:r},t):null,null)}const JD=P.createElement(ZD,null);class eO extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(Fl.Provider,{value:this.props.routeContext},P.createElement(oR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tO(i){let{routeContext:e,match:t,children:n}=i,r=P.useContext(p1);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Fl.Provider,{value:e},n)}function nO(i,e,t,n){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),i==null){var o;if(!t)return null;if(t.errors)i=t.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let l=i,c=(r=t)==null?void 0:r.errors;if(c!=null){let f=l.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);f>=0||dn(!1),l=l.slice(0,Math.min(l.length,f+1))}let d=!1,p=-1;if(t&&n&&n.v7_partialHydration)for(let f=0;f<l.length;f++){let m=l[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=f),m.route.id){let{loaderData:y,errors:w}=t,x=m.route.loader&&y[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||x){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((f,m,y)=>{let w,x=!1,b=null,A=null;t&&(w=c&&m.route.id?c[m.route.id]:void 0,b=m.route.errorElement||JD,d&&(p<0&&y===0?(lO("route-fallback"),x=!0,A=null):p===y&&(x=!0,A=m.route.hydrateFallbackElement||null)));let R=e.concat(l.slice(0,y+1)),k=()=>{let M;return w?M=b:x?M=A:m.route.Component?M=P.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=f,P.createElement(tO,{match:m,routeContext:{outlet:f,matches:R,isDataRoute:t!=null},children:M})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?P.createElement(eO,{location:t.location,revalidation:t.revalidation,component:b,error:w,children:k(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):k()},null)}var cR=(function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i})(cR||{}),uR=(function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i})(uR||{});function rO(i){let e=P.useContext(p1);return e||dn(!1),e}function iO(i){let e=P.useContext(VD);return e||dn(!1),e}function sO(i){let e=P.useContext(Fl);return e||dn(!1),e}function dR(i){let e=sO(),t=e.matches[e.matches.length-1];return t.route.id||dn(!1),t.route.id}function oO(){var i;let e=P.useContext(oR),t=iO(uR.UseRouteError),n=dR();return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function aO(){let{router:i}=rO(cR.UseNavigateStable),e=dR(),t=P.useRef(!1);return aR(()=>{t.current=!0}),P.useCallback(function(r,o){o===void 0&&(o={}),t.current&&(typeof r=="number"?i.navigate(r):i.navigate(r,fp({fromRouteId:e},o)))},[i,e])}const cC={};function lO(i,e,t){cC[i]||(cC[i]=!0)}function cO(i){return YD(i.context)}function Iv(i){dn(!1)}function uO(i){let{basename:e="/",children:t=null,location:n,navigationType:r=Rl.Pop,navigator:o,static:l=!1,future:c}=i;ag()&&dn(!1);let d=e.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:d,navigator:o,static:l,future:fp({v7_relativeSplatPath:!1},c)}),[d,c,o,l]);typeof n=="string"&&(n=Tu(n));let{pathname:f="/",search:m="",hash:y="",state:w=null,key:x="default"}=n,b=P.useMemo(()=>{let A=f1(f,d);return A==null?null:{location:{pathname:A,search:m,hash:y,state:w,key:x},navigationType:r}},[d,f,m,y,w,x,r]);return b==null?null:P.createElement(Ru.Provider,{value:p},P.createElement(w0.Provider,{children:t,value:b}))}function dO(i){let{children:e,location:t}=i;return XD(S_(e),t)}new Promise(()=>{});function S_(i,e){e===void 0&&(e=[]);let t=[];return P.Children.forEach(i,(n,r)=>{if(!P.isValidElement(n))return;let o=[...e,r];if(n.type===P.Fragment){t.push.apply(t,S_(n.props.children,o));return}n.type!==Iv&&dn(!1),!n.props.index||!n.props.children||dn(!1);let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=S_(n.props.children,o)),t.push(l)}),t}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function E_(){return E_=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},E_.apply(this,arguments)}function hO(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,o;for(o=0;o<n.length;o++)r=n[o],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}function fO(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function pO(i,e){return i.button===0&&(!e||e==="_self")&&!fO(i)}const mO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],gO="6";try{window.__reactRouterVersion=gO}catch{}const yO="startTransition",uC=d1[yO];function vO(i){let{basename:e,children:t,future:n,window:r}=i,o=P.useRef();o.current==null&&(o.current=vD({window:r,v5Compat:!0}));let l=o.current,[c,d]=P.useState({action:l.action,location:l.location}),{v7_startTransition:p}=n||{},f=P.useCallback(m=>{p&&uC?uC(()=>d(m)):d(m)},[d,p]);return P.useLayoutEffect(()=>l.listen(f),[l,f]),P.createElement(uO,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,future:n})}const wO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gy=P.forwardRef(function(e,t){let{onClick:n,relative:r,reloadDocument:o,replace:l,state:c,target:d,to:p,preventScrollReset:f,unstable_viewTransition:m}=e,y=hO(e,mO),{basename:w}=P.useContext(Ru),x,b=!1;if(typeof p=="string"&&bO.test(p)&&(x=p,wO))try{let M=new URL(window.location.href),L=p.startsWith("//")?new URL(M.protocol+p):new URL(p),F=f1(L.pathname,w);L.origin===M.origin&&F!=null?p=F+L.search+L.hash:b=!0}catch{}let A=GD(p,{relative:r}),R=_O(p,{replace:l,state:c,target:d,preventScrollReset:f,relative:r,unstable_viewTransition:m});function k(M){n&&n(M),M.defaultPrevented||R(M)}return P.createElement("a",E_({},y,{href:x||A,onClick:b||o?n:k,ref:t,target:d}))});var dC;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(dC||(dC={}));var hC;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(hC||(hC={}));function _O(i,e){let{target:t,replace:n,state:r,preventScrollReset:o,relative:l,unstable_viewTransition:c}=e===void 0?{}:e,d=WD(),p=Yh(),f=lR(i,{relative:l});return P.useCallback(m=>{if(pO(m,t)){m.preventDefault();let y=n!==void 0?n:kv(p)===kv(f);d(i,{replace:y,state:r,preventScrollReset:o,relative:l,unstable_viewTransition:c})}},[p,d,f,n,r,t,i,o,l,c])}var b0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_0=typeof window>"u"||"Deno"in globalThis;function Xi(){}function xO(i,e){return typeof i=="function"?i(e):i}function SO(i){return typeof i=="number"&&i>=0&&i!==1/0}function EO(i,e){return Math.max(i+(e||0)-Date.now(),0)}function A_(i,e){return typeof i=="function"?i(e):i}function AO(i,e){return typeof i=="function"?i(e):i}function fC(i,e){const{type:t="all",exact:n,fetchStatus:r,predicate:o,queryKey:l,stale:c}=i;if(l){if(n){if(e.queryHash!==m1(l,e.options))return!1}else if(!mp(e.queryKey,l))return!1}if(t!=="all"){const d=e.isActive();if(t==="active"&&!d||t==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||r&&r!==e.state.fetchStatus||o&&!o(e))}function pC(i,e){const{exact:t,status:n,predicate:r,mutationKey:o}=i;if(o){if(!e.options.mutationKey)return!1;if(t){if(pp(e.options.mutationKey)!==pp(o))return!1}else if(!mp(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||r&&!r(e))}function m1(i,e){return((e==null?void 0:e.queryKeyHashFn)||pp)(i)}function pp(i){return JSON.stringify(i,(e,t)=>C_(t)?Object.keys(t).sort().reduce((n,r)=>(n[r]=t[r],n),{}):t)}function mp(i,e){return i===e?!0:typeof i!=typeof e?!1:i&&e&&typeof i=="object"&&typeof e=="object"?Object.keys(e).every(t=>mp(i[t],e[t])):!1}function hR(i,e){if(i===e)return i;const t=mC(i)&&mC(e);if(t||C_(i)&&C_(e)){const n=t?i:Object.keys(i),r=n.length,o=t?e:Object.keys(e),l=o.length,c=t?[]:{},d=new Set(n);let p=0;for(let f=0;f<l;f++){const m=t?f:o[f];(!t&&d.has(m)||t)&&i[m]===void 0&&e[m]===void 0?(c[m]=void 0,p++):(c[m]=hR(i[m],e[m]),c[m]===i[m]&&i[m]!==void 0&&p++)}return r===l&&p===r?i:c}return e}function mC(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function C_(i){if(!gC(i))return!1;const e=i.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!gC(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function gC(i){return Object.prototype.toString.call(i)==="[object Object]"}function CO(i){return new Promise(e=>{setTimeout(e,i)})}function TO(i,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(i,e):t.structuralSharing!==!1?hR(i,e):e}function RO(i,e,t=0){const n=[...i,e];return t&&n.length>t?n.slice(1):n}function PO(i,e,t=0){const n=[e,...i];return t&&n.length>t?n.slice(0,-1):n}var g1=Symbol();function fR(i,e){return!i.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!i.queryFn||i.queryFn===g1?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}var oc,$a,Rd,UT,kO=(UT=class extends b0{constructor(){super();I(this,oc);I(this,$a);I(this,Rd);C(this,Rd,e=>{if(!_0&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){u(this,$a)||this.setEventListener(u(this,Rd))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,$a))==null||e.call(this),C(this,$a,void 0))}setEventListener(e){var t;C(this,Rd,e),(t=u(this,$a))==null||t.call(this),C(this,$a,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){u(this,oc)!==e&&(C(this,oc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof u(this,oc)=="boolean"?u(this,oc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},oc=new WeakMap,$a=new WeakMap,Rd=new WeakMap,UT),pR=new kO,Pd,za,kd,VT,IO=(VT=class extends b0{constructor(){super();I(this,Pd,!0);I(this,za);I(this,kd);C(this,kd,e=>{if(!_0&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){u(this,za)||this.setEventListener(u(this,kd))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,za))==null||e.call(this),C(this,za,void 0))}setEventListener(e){var t;C(this,kd,e),(t=u(this,za))==null||t.call(this),C(this,za,e(this.setOnline.bind(this)))}setOnline(e){u(this,Pd)!==e&&(C(this,Pd,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return u(this,Pd)}},Pd=new WeakMap,za=new WeakMap,kd=new WeakMap,VT),Mv=new IO;function MO(){let i,e;const t=new Promise((r,o)=>{i=r,e=o});t.status="pending",t.catch(()=>{});function n(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{n({status:"fulfilled",value:r}),i(r)},t.reject=r=>{n({status:"rejected",reason:r}),e(r)},t}function NO(i){return Math.min(1e3*2**i,3e4)}function mR(i){return(i??"online")==="online"?Mv.isOnline():!0}var T_=class extends Error{constructor(i){super("CancelledError"),this.revert=i==null?void 0:i.revert,this.silent=i==null?void 0:i.silent}};function gR(i){let e=!1,t=0,n;const r=MO(),o=()=>r.status!=="pending",l=b=>{var A;if(!o()){const R=new T_(b);y(R),(A=i.onCancel)==null||A.call(i,R)}},c=()=>{e=!0},d=()=>{e=!1},p=()=>pR.isFocused()&&(i.networkMode==="always"||Mv.isOnline())&&i.canRun(),f=()=>mR(i.networkMode)&&i.canRun(),m=b=>{o()||(n==null||n(),r.resolve(b))},y=b=>{o()||(n==null||n(),r.reject(b))},w=()=>new Promise(b=>{var A;n=R=>{(o()||p())&&b(R)},(A=i.onPause)==null||A.call(i)}).then(()=>{var b;n=void 0,o()||(b=i.onContinue)==null||b.call(i)}),x=()=>{if(o())return;let b;const A=t===0?i.initialPromise:void 0;try{b=A??i.fn()}catch(R){b=Promise.reject(R)}Promise.resolve(b).then(m).catch(R=>{var $;if(o())return;const k=i.retry??(_0?0:3),M=i.retryDelay??NO,L=typeof M=="function"?M(t,R):M,F=k===!0||typeof k=="number"&&t<k||typeof k=="function"&&k(t,R);if(e||!F){y(R);return}t++,($=i.onFail)==null||$.call(i,t,R),CO(L).then(()=>p()?void 0:w()).then(()=>{e?y(R):x()})})};return{promise:r,status:()=>r.status,cancel:l,continue:()=>(n==null||n(),r),cancelRetry:c,continueRetry:d,canStart:f,start:()=>(f()?x():w().then(x),r)}}var LO=i=>setTimeout(i,0);function DO(){let i=[],e=0,t=c=>{c()},n=c=>{c()},r=LO;const o=c=>{e?i.push(c):r(()=>{t(c)})},l=()=>{const c=i;i=[],c.length&&r(()=>{n(()=>{c.forEach(d=>{t(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||l()}return d},batchCalls:c=>(...d)=>{o(()=>{c(...d)})},schedule:o,setNotifyFunction:c=>{t=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{r=c}}}var br=DO(),ac,GT,yR=(GT=class{constructor(){I(this,ac)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),SO(this.gcTime)&&C(this,ac,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(_0?1/0:300*1e3))}clearGcTimeout(){u(this,ac)&&(clearTimeout(u(this,ac)),C(this,ac,void 0))}},ac=new WeakMap,GT),Id,Md,Ti,lc,Cn,kp,cc,Qi,_o,WT,OO=(WT=class extends yR{constructor(e){super();I(this,Qi);I(this,Id);I(this,Md);I(this,Ti);I(this,lc);I(this,Cn);I(this,kp);I(this,cc);C(this,cc,!1),C(this,kp,e.defaultOptions),this.setOptions(e.options),this.observers=[],C(this,lc,e.client),C(this,Ti,u(this,lc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,C(this,Id,jO(this.options)),this.state=e.state??u(this,Id),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=u(this,Cn))==null?void 0:e.promise}setOptions(e){this.options={...u(this,kp),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&u(this,Ti).remove(this)}setData(e,t){const n=TO(this.state.data,e,this.options);return N(this,Qi,_o).call(this,{data:n,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),n}setState(e,t){N(this,Qi,_o).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var n,r;const t=(n=u(this,Cn))==null?void 0:n.promise;return(r=u(this,Cn))==null||r.cancel(e),t?t.then(Xi).catch(Xi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(u(this,Id))}isActive(){return this.observers.some(e=>AO(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===g1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>A_(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!EO(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=u(this,Cn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=u(this,Cn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),u(this,Ti).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(u(this,Cn)&&(u(this,cc)?u(this,Cn).cancel({revert:!0}):u(this,Cn).cancelRetry()),this.scheduleGc()),u(this,Ti).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||N(this,Qi,_o).call(this,{type:"invalidate"})}async fetch(e,t){var d,p,f,m,y,w,x,b,A,R,k,M;if(this.state.fetchStatus!=="idle"&&((d=u(this,Cn))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(u(this,Cn))return u(this,Cn).continueRetry(),u(this,Cn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const L=this.observers.find(F=>F.options.queryFn);L&&this.setOptions(L.options)}const n=new AbortController,r=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>(C(this,cc,!0),n.signal)})},o=()=>{const L=fR(this.options,t),$=(()=>{const B={client:u(this,lc),queryKey:this.queryKey,meta:this.meta};return r(B),B})();return C(this,cc,!1),this.options.persister?this.options.persister(L,$,this):L($)},c=(()=>{const L={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:u(this,lc),state:this.state,fetchFn:o};return r(L),L})();(p=this.options.behavior)==null||p.onFetch(c,this),C(this,Md,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&N(this,Qi,_o).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta}),C(this,Cn,gR({initialPromise:t==null?void 0:t.initialPromise,fn:c.fetchFn,onCancel:L=>{L instanceof T_&&L.revert&&this.setState({...u(this,Md),fetchStatus:"idle"}),n.abort()},onFail:(L,F)=>{N(this,Qi,_o).call(this,{type:"failed",failureCount:L,error:F})},onPause:()=>{N(this,Qi,_o).call(this,{type:"pause"})},onContinue:()=>{N(this,Qi,_o).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const L=await u(this,Cn).start();if(L===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(L),(w=(y=u(this,Ti).config).onSuccess)==null||w.call(y,L,this),(b=(x=u(this,Ti).config).onSettled)==null||b.call(x,L,this.state.error,this),L}catch(L){if(L instanceof T_){if(L.silent)return u(this,Cn).promise;if(L.revert){if(this.state.data===void 0)throw L;return this.state.data}}throw N(this,Qi,_o).call(this,{type:"error",error:L}),(R=(A=u(this,Ti).config).onError)==null||R.call(A,L,this),(M=(k=u(this,Ti).config).onSettled)==null||M.call(k,this.state.data,L,this),L}finally{this.scheduleGc()}}},Id=new WeakMap,Md=new WeakMap,Ti=new WeakMap,lc=new WeakMap,Cn=new WeakMap,kp=new WeakMap,cc=new WeakMap,Qi=new WeakSet,_o=function(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...FO(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return C(this,Md,e.manual?r:void 0),r;case"error":const o=e.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),br.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),u(this,Ti).notify({query:this,type:"updated",action:e})})},WT);function FO(i,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mR(e.networkMode)?"fetching":"paused",...i===void 0&&{error:null,status:"pending"}}}function jO(i){const e=typeof i.initialData=="function"?i.initialData():i.initialData,t=e!==void 0,n=t?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var ks,qT,BO=(qT=class extends b0{constructor(e={}){super();I(this,ks);this.config=e,C(this,ks,new Map)}build(e,t,n){const r=t.queryKey,o=t.queryHash??m1(r,t);let l=this.get(o);return l||(l=new OO({client:e,queryKey:r,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(l)),l}add(e){u(this,ks).has(e.queryHash)||(u(this,ks).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=u(this,ks).get(e.queryHash);t&&(e.destroy(),t===e&&u(this,ks).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){br.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return u(this,ks).get(e)}getAll(){return[...u(this,ks).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>fC(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>fC(e,n)):t}notify(e){br.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){br.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){br.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ks=new WeakMap,qT),Is,mr,uc,Ms,Fa,KT,$O=(KT=class extends yR{constructor(e){super();I(this,Ms);I(this,Is);I(this,mr);I(this,uc);this.mutationId=e.mutationId,C(this,mr,e.mutationCache),C(this,Is,[]),this.state=e.state||zO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){u(this,Is).includes(e)||(u(this,Is).push(e),this.clearGcTimeout(),u(this,mr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){C(this,Is,u(this,Is).filter(t=>t!==e)),this.scheduleGc(),u(this,mr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){u(this,Is).length||(this.state.status==="pending"?this.scheduleGc():u(this,mr).remove(this))}continue(){var e;return((e=u(this,uc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,d,p,f,m,y,w,x,b,A,R,k,M,L,F,$,B,V;const t=()=>{N(this,Ms,Fa).call(this,{type:"continue"})};C(this,uc,gR({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(q,J)=>{N(this,Ms,Fa).call(this,{type:"failed",failureCount:q,error:J})},onPause:()=>{N(this,Ms,Fa).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>u(this,mr).canRun(this)}));const n=this.state.status==="pending",r=!u(this,uc).canStart();try{if(n)t();else{N(this,Ms,Fa).call(this,{type:"pending",variables:e,isPaused:r}),await((l=(o=u(this,mr).config).onMutate)==null?void 0:l.call(o,e,this));const J=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,e));J!==this.state.context&&N(this,Ms,Fa).call(this,{type:"pending",context:J,variables:e,isPaused:r})}const q=await u(this,uc).start();return await((f=(p=u(this,mr).config).onSuccess)==null?void 0:f.call(p,q,e,this.state.context,this)),await((y=(m=this.options).onSuccess)==null?void 0:y.call(m,q,e,this.state.context)),await((x=(w=u(this,mr).config).onSettled)==null?void 0:x.call(w,q,null,this.state.variables,this.state.context,this)),await((A=(b=this.options).onSettled)==null?void 0:A.call(b,q,null,e,this.state.context)),N(this,Ms,Fa).call(this,{type:"success",data:q}),q}catch(q){try{throw await((k=(R=u(this,mr).config).onError)==null?void 0:k.call(R,q,e,this.state.context,this)),await((L=(M=this.options).onError)==null?void 0:L.call(M,q,e,this.state.context)),await(($=(F=u(this,mr).config).onSettled)==null?void 0:$.call(F,void 0,q,this.state.variables,this.state.context,this)),await((V=(B=this.options).onSettled)==null?void 0:V.call(B,void 0,q,e,this.state.context)),q}finally{N(this,Ms,Fa).call(this,{type:"error",error:q})}}finally{u(this,mr).runNext(this)}}},Is=new WeakMap,mr=new WeakMap,uc=new WeakMap,Ms=new WeakSet,Fa=function(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),br.batch(()=>{u(this,Is).forEach(n=>{n.onMutationUpdate(e)}),u(this,mr).notify({mutation:this,type:"updated",action:e})})},KT);function zO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var To,Zi,Ip,YT,HO=(YT=class extends b0{constructor(e={}){super();I(this,To);I(this,Zi);I(this,Ip);this.config=e,C(this,To,new Set),C(this,Zi,new Map),C(this,Ip,0)}build(e,t,n){const r=new $O({mutationCache:this,mutationId:++En(this,Ip)._,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){u(this,To).add(e);const t=Ry(e);if(typeof t=="string"){const n=u(this,Zi).get(t);n?n.push(e):u(this,Zi).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(u(this,To).delete(e)){const t=Ry(e);if(typeof t=="string"){const n=u(this,Zi).get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&u(this,Zi).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Ry(e);if(typeof t=="string"){const n=u(this,Zi).get(t),r=n==null?void 0:n.find(o=>o.state.status==="pending");return!r||r===e}else return!0}runNext(e){var n;const t=Ry(e);if(typeof t=="string"){const r=(n=u(this,Zi).get(t))==null?void 0:n.find(o=>o!==e&&o.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){br.batch(()=>{u(this,To).forEach(e=>{this.notify({type:"removed",mutation:e})}),u(this,To).clear(),u(this,Zi).clear()})}getAll(){return Array.from(u(this,To))}find(e){const t={exact:!0,...e};return this.getAll().find(n=>pC(t,n))}findAll(e={}){return this.getAll().filter(t=>pC(e,t))}notify(e){br.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return br.batch(()=>Promise.all(e.map(t=>t.continue().catch(Xi))))}},To=new WeakMap,Zi=new WeakMap,Ip=new WeakMap,YT);function Ry(i){var e;return(e=i.options.scope)==null?void 0:e.id}function yC(i){return{onFetch:(e,t)=>{var f,m,y,w,x;const n=e.options,r=(y=(m=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:y.direction,o=((w=e.state.data)==null?void 0:w.pages)||[],l=((x=e.state.data)==null?void 0:x.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const p=async()=>{let b=!1;const A=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},R=fR(e.options,e.fetchOptions),k=async(M,L,F)=>{if(b)return Promise.reject();if(L==null&&M.pages.length)return Promise.resolve(M);const B=(()=>{const ie={client:e.client,queryKey:e.queryKey,pageParam:L,direction:F?"backward":"forward",meta:e.options.meta};return A(ie),ie})(),V=await R(B),{maxPages:q}=e.options,J=F?PO:RO;return{pages:J(M.pages,V,q),pageParams:J(M.pageParams,L,q)}};if(r&&o.length){const M=r==="backward",L=M?UO:vC,F={pages:o,pageParams:l},$=L(n,F);c=await k(F,$,M)}else{const M=i??o.length;do{const L=d===0?l[0]??n.initialPageParam:vC(n,c);if(d>0&&L==null)break;c=await k(c,L),d++}while(d<M)}return c};e.options.persister?e.fetchFn=()=>{var b,A;return(A=(b=e.options).persister)==null?void 0:A.call(b,p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=p}}}function vC(i,{pages:e,pageParams:t}){const n=e.length-1;return e.length>0?i.getNextPageParam(e[n],e,t[n],t):void 0}function UO(i,{pages:e,pageParams:t}){var n;return e.length>0?(n=i.getPreviousPageParam)==null?void 0:n.call(i,e[0],e,t[0],t):void 0}var qt,Ha,Ua,Nd,Ld,Va,Dd,Od,XT,VO=(XT=class{constructor(i={}){I(this,qt);I(this,Ha);I(this,Ua);I(this,Nd);I(this,Ld);I(this,Va);I(this,Dd);I(this,Od);C(this,qt,i.queryCache||new BO),C(this,Ha,i.mutationCache||new HO),C(this,Ua,i.defaultOptions||{}),C(this,Nd,new Map),C(this,Ld,new Map),C(this,Va,0)}mount(){En(this,Va)._++,u(this,Va)===1&&(C(this,Dd,pR.subscribe(async i=>{i&&(await this.resumePausedMutations(),u(this,qt).onFocus())})),C(this,Od,Mv.subscribe(async i=>{i&&(await this.resumePausedMutations(),u(this,qt).onOnline())})))}unmount(){var i,e;En(this,Va)._--,u(this,Va)===0&&((i=u(this,Dd))==null||i.call(this),C(this,Dd,void 0),(e=u(this,Od))==null||e.call(this),C(this,Od,void 0))}isFetching(i){return u(this,qt).findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return u(this,Ha).findAll({...i,status:"pending"}).length}getQueryData(i){var t;const e=this.defaultQueryOptions({queryKey:i});return(t=u(this,qt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(i){const e=this.defaultQueryOptions(i),t=u(this,qt).build(this,e),n=t.state.data;return n===void 0?this.fetchQuery(i):(i.revalidateIfStale&&t.isStaleByTime(A_(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(i){return u(this,qt).findAll(i).map(({queryKey:e,state:t})=>{const n=t.data;return[e,n]})}setQueryData(i,e,t){const n=this.defaultQueryOptions({queryKey:i}),r=u(this,qt).get(n.queryHash),o=r==null?void 0:r.state.data,l=xO(e,o);if(l!==void 0)return u(this,qt).build(this,n).setData(l,{...t,manual:!0})}setQueriesData(i,e,t){return br.batch(()=>u(this,qt).findAll(i).map(({queryKey:n})=>[n,this.setQueryData(n,e,t)]))}getQueryState(i){var t;const e=this.defaultQueryOptions({queryKey:i});return(t=u(this,qt).get(e.queryHash))==null?void 0:t.state}removeQueries(i){const e=u(this,qt);br.batch(()=>{e.findAll(i).forEach(t=>{e.remove(t)})})}resetQueries(i,e){const t=u(this,qt);return br.batch(()=>(t.findAll(i).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...i},e)))}cancelQueries(i,e={}){const t={revert:!0,...e},n=br.batch(()=>u(this,qt).findAll(i).map(r=>r.cancel(t)));return Promise.all(n).then(Xi).catch(Xi)}invalidateQueries(i,e={}){return br.batch(()=>(u(this,qt).findAll(i).forEach(t=>{t.invalidate()}),(i==null?void 0:i.refetchType)==="none"?Promise.resolve():this.refetchQueries({...i,type:(i==null?void 0:i.refetchType)??(i==null?void 0:i.type)??"active"},e)))}refetchQueries(i,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},n=br.batch(()=>u(this,qt).findAll(i).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let o=r.fetch(void 0,t);return t.throwOnError||(o=o.catch(Xi)),r.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Xi)}fetchQuery(i){const e=this.defaultQueryOptions(i);e.retry===void 0&&(e.retry=!1);const t=u(this,qt).build(this,e);return t.isStaleByTime(A_(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(Xi).catch(Xi)}fetchInfiniteQuery(i){return i.behavior=yC(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(Xi).catch(Xi)}ensureInfiniteQueryData(i){return i.behavior=yC(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return Mv.isOnline()?u(this,Ha).resumePausedMutations():Promise.resolve()}getQueryCache(){return u(this,qt)}getMutationCache(){return u(this,Ha)}getDefaultOptions(){return u(this,Ua)}setDefaultOptions(i){C(this,Ua,i)}setQueryDefaults(i,e){u(this,Nd).set(pp(i),{queryKey:i,defaultOptions:e})}getQueryDefaults(i){const e=[...u(this,Nd).values()],t={};return e.forEach(n=>{mp(i,n.queryKey)&&Object.assign(t,n.defaultOptions)}),t}setMutationDefaults(i,e){u(this,Ld).set(pp(i),{mutationKey:i,defaultOptions:e})}getMutationDefaults(i){const e=[...u(this,Ld).values()],t={};return e.forEach(n=>{mp(i,n.mutationKey)&&Object.assign(t,n.defaultOptions)}),t}defaultQueryOptions(i){if(i._defaulted)return i;const e={...u(this,Ua).queries,...this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return e.queryHash||(e.queryHash=m1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===g1&&(e.enabled=!1),e}defaultMutationOptions(i){return i!=null&&i._defaulted?i:{...u(this,Ua).mutations,...(i==null?void 0:i.mutationKey)&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){u(this,qt).clear(),u(this,Ha).clear()}},qt=new WeakMap,Ha=new WeakMap,Ua=new WeakMap,Nd=new WeakMap,Ld=new WeakMap,Va=new WeakMap,Dd=new WeakMap,Od=new WeakMap,XT),GO=P.createContext(void 0),WO=({client:i,children:e})=>(P.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),_.jsx(GO.Provider,{value:i,children:e}));function Ne(i,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(i==null||i(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function wC(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function x0(...i){return e=>{let t=!1;const n=i.map(r=>{const o=wC(r,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let r=0;r<n.length;r++){const o=n[r];typeof o=="function"?o():wC(i[r],null)}}}}function Et(...i){return P.useCallback(x0(...i),i)}function ao(i,e=[]){let t=[];function n(o,l){const c=P.createContext(l),d=t.length;t=[...t,l];const p=m=>{var R;const{scope:y,children:w,...x}=m,b=((R=y==null?void 0:y[i])==null?void 0:R[d])||c,A=P.useMemo(()=>x,Object.values(x));return _.jsx(b.Provider,{value:A,children:w})};p.displayName=o+"Provider";function f(m,y){var b;const w=((b=y==null?void 0:y[i])==null?void 0:b[d])||c,x=P.useContext(w);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[p,f]}const r=()=>{const o=t.map(l=>P.createContext(l));return function(c){const d=(c==null?void 0:c[i])||o;return P.useMemo(()=>({[`__scope${i}`]:{...c,[i]:d}}),[c,d])}};return r.scopeName=i,[n,qO(r,...e)]}function qO(...i){const e=i[0];if(i.length===1)return e;const t=()=>{const n=i.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(o){const l=n.reduce((c,{useScope:d,scopeName:p})=>{const m=d(o)[`__scope${p}`];return{...c,...m}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function Uh(i){const e=YO(i),t=P.forwardRef((n,r)=>{const{children:o,...l}=n,c=P.Children.toArray(o),d=c.find(QO);if(d){const p=d.props.children,f=c.map(m=>m===d?P.Children.count(p)>1?P.Children.only(null):P.isValidElement(p)?p.props.children:null:m);return _.jsx(e,{...l,ref:r,children:P.isValidElement(p)?P.cloneElement(p,void 0,f):null})}return _.jsx(e,{...l,ref:r,children:o})});return t.displayName=`${i}.Slot`,t}var KO=Uh("Slot");function YO(i){const e=P.forwardRef((t,n)=>{const{children:r,...o}=t;if(P.isValidElement(r)){const l=JO(r),c=ZO(o,r.props);return r.type!==P.Fragment&&(c.ref=n?x0(n,l):l),P.cloneElement(r,c)}return P.Children.count(r)>1?P.Children.only(null):null});return e.displayName=`${i}.SlotClone`,e}var vR=Symbol("radix.slottable");function XO(i){const e=({children:t})=>_.jsx(_.Fragment,{children:t});return e.displayName=`${i}.Slottable`,e.__radixId=vR,e}function QO(i){return P.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===vR}function ZO(i,e){const t={...e};for(const n in e){const r=i[n],o=e[n];/^on[A-Z]/.test(n)?r&&o?t[n]=(...c)=>{const d=o(...c);return r(...c),d}:r&&(t[n]=r):n==="style"?t[n]={...r,...o}:n==="className"&&(t[n]=[r,o].filter(Boolean).join(" "))}return{...i,...t}}function JO(i){var n,r;let e=(n=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=(r=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}var eF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],et=eF.reduce((i,e)=>{const t=Uh(`Primitive.${e}`),n=P.forwardRef((r,o)=>{const{asChild:l,...c}=r,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(d,{...c,ref:o})});return n.displayName=`Primitive.${e}`,{...i,[e]:n}},{});function wR(i,e){i&&og.flushSync(()=>i.dispatchEvent(e))}function ro(i){const e=P.useRef(i);return P.useEffect(()=>{e.current=i}),P.useMemo(()=>(...t)=>{var n;return(n=e.current)==null?void 0:n.call(e,...t)},[])}function tF(i,e=globalThis==null?void 0:globalThis.document){const t=ro(i);P.useEffect(()=>{const n=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[t,e])}var nF="DismissableLayer",R_="dismissableLayer.update",rF="dismissableLayer.pointerDownOutside",iF="dismissableLayer.focusOutside",bC,bR=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),S0=P.forwardRef((i,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=i,p=P.useContext(bR),[f,m]=P.useState(null),y=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=P.useState({}),x=Et(e,B=>m(B)),b=Array.from(p.layers),[A]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),R=b.indexOf(A),k=f?b.indexOf(f):-1,M=p.layersWithOutsidePointerEventsDisabled.size>0,L=k>=R,F=aF(B=>{const V=B.target,q=[...p.branches].some(J=>J.contains(V));!L||q||(r==null||r(B),l==null||l(B),B.defaultPrevented||c==null||c())},y),$=lF(B=>{const V=B.target;[...p.branches].some(J=>J.contains(V))||(o==null||o(B),l==null||l(B),B.defaultPrevented||c==null||c())},y);return tF(B=>{k===p.layers.size-1&&(n==null||n(B),!B.defaultPrevented&&c&&(B.preventDefault(),c()))},y),P.useEffect(()=>{if(f)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(bC=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(f)),p.layers.add(f),_C(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=bC)}},[f,y,t,p]),P.useEffect(()=>()=>{f&&(p.layers.delete(f),p.layersWithOutsidePointerEventsDisabled.delete(f),_C())},[f,p]),P.useEffect(()=>{const B=()=>w({});return document.addEventListener(R_,B),()=>document.removeEventListener(R_,B)},[]),_.jsx(et.div,{...d,ref:x,style:{pointerEvents:M?L?"auto":"none":void 0,...i.style},onFocusCapture:Ne(i.onFocusCapture,$.onFocusCapture),onBlurCapture:Ne(i.onBlurCapture,$.onBlurCapture),onPointerDownCapture:Ne(i.onPointerDownCapture,F.onPointerDownCapture)})});S0.displayName=nF;var sF="DismissableLayerBranch",oF=P.forwardRef((i,e)=>{const t=P.useContext(bR),n=P.useRef(null),r=Et(e,n);return P.useEffect(()=>{const o=n.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),_.jsx(et.div,{...i,ref:r})});oF.displayName=sF;function aF(i,e=globalThis==null?void 0:globalThis.document){const t=ro(i),n=P.useRef(!1),r=P.useRef(()=>{});return P.useEffect(()=>{const o=c=>{if(c.target&&!n.current){let d=function(){_R(rF,t,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=d,e.addEventListener("click",r.current,{once:!0})):d()}else e.removeEventListener("click",r.current);n.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function lF(i,e=globalThis==null?void 0:globalThis.document){const t=ro(i),n=P.useRef(!1);return P.useEffect(()=>{const r=o=>{o.target&&!n.current&&_R(iF,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function _C(){const i=new CustomEvent(R_);document.dispatchEvent(i)}function _R(i,e,t,{discrete:n}){const r=t.originalEvent.target,o=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(i,e,{once:!0}),n?wR(r,o):r.dispatchEvent(o)}var qn=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},cF=d1[" useId ".trim().toString()]||(()=>{}),uF=0;function io(i){const[e,t]=P.useState(cF());return qn(()=>{t(n=>n??String(uF++))},[i]),e?`radix-${e}`:""}const dF=["top","right","bottom","left"],kl=Math.min,di=Math.max,Nv=Math.round,Py=Math.floor,to=i=>({x:i,y:i}),hF={left:"right",right:"left",bottom:"top",top:"bottom"},fF={start:"end",end:"start"};function P_(i,e,t){return di(i,kl(e,t))}function aa(i,e){return typeof i=="function"?i(e):i}function la(i){return i.split("-")[0]}function Xh(i){return i.split("-")[1]}function y1(i){return i==="x"?"y":"x"}function v1(i){return i==="y"?"height":"width"}const pF=new Set(["top","bottom"]);function eo(i){return pF.has(la(i))?"y":"x"}function w1(i){return y1(eo(i))}function mF(i,e,t){t===void 0&&(t=!1);const n=Xh(i),r=w1(i),o=v1(r);let l=r==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Lv(l)),[l,Lv(l)]}function gF(i){const e=Lv(i);return[k_(i),e,k_(e)]}function k_(i){return i.replace(/start|end/g,e=>fF[e])}const xC=["left","right"],SC=["right","left"],yF=["top","bottom"],vF=["bottom","top"];function wF(i,e,t){switch(i){case"top":case"bottom":return t?e?SC:xC:e?xC:SC;case"left":case"right":return e?yF:vF;default:return[]}}function bF(i,e,t,n){const r=Xh(i);let o=wF(la(i),t==="start",n);return r&&(o=o.map(l=>l+"-"+r),e&&(o=o.concat(o.map(k_)))),o}function Lv(i){return i.replace(/left|right|bottom|top/g,e=>hF[e])}function _F(i){return{top:0,right:0,bottom:0,left:0,...i}}function xR(i){return typeof i!="number"?_F(i):{top:i,right:i,bottom:i,left:i}}function Dv(i){const{x:e,y:t,width:n,height:r}=i;return{width:n,height:r,top:t,left:e,right:e+n,bottom:t+r,x:e,y:t}}function EC(i,e,t){let{reference:n,floating:r}=i;const o=eo(e),l=w1(e),c=v1(l),d=la(e),p=o==="y",f=n.x+n.width/2-r.width/2,m=n.y+n.height/2-r.height/2,y=n[c]/2-r[c]/2;let w;switch(d){case"top":w={x:f,y:n.y-r.height};break;case"bottom":w={x:f,y:n.y+n.height};break;case"right":w={x:n.x+n.width,y:m};break;case"left":w={x:n.x-r.width,y:m};break;default:w={x:n.x,y:n.y}}switch(Xh(e)){case"start":w[l]-=y*(t&&p?-1:1);break;case"end":w[l]+=y*(t&&p?-1:1);break}return w}const xF=async(i,e,t)=>{const{placement:n="bottom",strategy:r="absolute",middleware:o=[],platform:l}=t,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:i,floating:e,strategy:r}),{x:f,y:m}=EC(p,n,d),y=n,w={},x=0;for(let b=0;b<c.length;b++){const{name:A,fn:R}=c[b],{x:k,y:M,data:L,reset:F}=await R({x:f,y:m,initialPlacement:n,placement:y,strategy:r,middlewareData:w,rects:p,platform:l,elements:{reference:i,floating:e}});f=k??f,m=M??m,w={...w,[A]:{...w[A],...L}},F&&x<=50&&(x++,typeof F=="object"&&(F.placement&&(y=F.placement),F.rects&&(p=F.rects===!0?await l.getElementRects({reference:i,floating:e,strategy:r}):F.rects),{x:f,y:m}=EC(p,y,d)),b=-1)}return{x:f,y:m,placement:y,strategy:r,middlewareData:w}};async function gp(i,e){var t;e===void 0&&(e={});const{x:n,y:r,platform:o,rects:l,elements:c,strategy:d}=i,{boundary:p="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:y=!1,padding:w=0}=aa(e,i),x=xR(w),A=c[y?m==="floating"?"reference":"floating":m],R=Dv(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(A)))==null||t?A:A.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:p,rootBoundary:f,strategy:d})),k=m==="floating"?{x:n,y:r,width:l.floating.width,height:l.floating.height}:l.reference,M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),L=await(o.isElement==null?void 0:o.isElement(M))?await(o.getScale==null?void 0:o.getScale(M))||{x:1,y:1}:{x:1,y:1},F=Dv(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:k,offsetParent:M,strategy:d}):k);return{top:(R.top-F.top+x.top)/L.y,bottom:(F.bottom-R.bottom+x.bottom)/L.y,left:(R.left-F.left+x.left)/L.x,right:(F.right-R.right+x.right)/L.x}}const SF=i=>({name:"arrow",options:i,async fn(e){const{x:t,y:n,placement:r,rects:o,platform:l,elements:c,middlewareData:d}=e,{element:p,padding:f=0}=aa(i,e)||{};if(p==null)return{};const m=xR(f),y={x:t,y:n},w=w1(r),x=v1(w),b=await l.getDimensions(p),A=w==="y",R=A?"top":"left",k=A?"bottom":"right",M=A?"clientHeight":"clientWidth",L=o.reference[x]+o.reference[w]-y[w]-o.floating[x],F=y[w]-o.reference[w],$=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let B=$?$[M]:0;(!B||!await(l.isElement==null?void 0:l.isElement($)))&&(B=c.floating[M]||o.floating[x]);const V=L/2-F/2,q=B/2-b[x]/2-1,J=kl(m[R],q),ie=kl(m[k],q),we=J,he=B-b[x]-ie,ce=B/2-b[x]/2+V,Se=P_(we,ce,he),K=!d.arrow&&Xh(r)!=null&&ce!==Se&&o.reference[x]/2-(ce<we?J:ie)-b[x]/2<0,Z=K?ce<we?ce-we:ce-he:0;return{[w]:y[w]+Z,data:{[w]:Se,centerOffset:ce-Se-Z,...K&&{alignmentOffset:Z}},reset:K}}}),EF=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(e){var t,n;const{placement:r,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:p}=e,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:b=!0,...A}=aa(i,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const R=la(r),k=eo(c),M=la(c)===c,L=await(d.isRTL==null?void 0:d.isRTL(p.floating)),F=y||(M||!b?[Lv(c)]:gF(c)),$=x!=="none";!y&&$&&F.push(...bF(c,b,x,L));const B=[c,...F],V=await gp(e,A),q=[];let J=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&q.push(V[R]),m){const ce=mF(r,l,L);q.push(V[ce[0]],V[ce[1]])}if(J=[...J,{placement:r,overflows:q}],!q.every(ce=>ce<=0)){var ie,we;const ce=(((ie=o.flip)==null?void 0:ie.index)||0)+1,Se=B[ce];if(Se&&(!(m==="alignment"?k!==eo(Se):!1)||J.every(X=>eo(X.placement)===k?X.overflows[0]>0:!0)))return{data:{index:ce,overflows:J},reset:{placement:Se}};let K=(we=J.filter(Z=>Z.overflows[0]<=0).sort((Z,X)=>Z.overflows[1]-X.overflows[1])[0])==null?void 0:we.placement;if(!K)switch(w){case"bestFit":{var he;const Z=(he=J.filter(X=>{if($){const re=eo(X.placement);return re===k||re==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(re=>re>0).reduce((re,se)=>re+se,0)]).sort((X,re)=>X[1]-re[1])[0])==null?void 0:he[0];Z&&(K=Z);break}case"initialPlacement":K=c;break}if(r!==K)return{reset:{placement:K}}}return{}}}};function AC(i,e){return{top:i.top-e.height,right:i.right-e.width,bottom:i.bottom-e.height,left:i.left-e.width}}function CC(i){return dF.some(e=>i[e]>=0)}const AF=function(i){return i===void 0&&(i={}),{name:"hide",options:i,async fn(e){const{rects:t}=e,{strategy:n="referenceHidden",...r}=aa(i,e);switch(n){case"referenceHidden":{const o=await gp(e,{...r,elementContext:"reference"}),l=AC(o,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:CC(l)}}}case"escaped":{const o=await gp(e,{...r,altBoundary:!0}),l=AC(o,t.floating);return{data:{escapedOffsets:l,escaped:CC(l)}}}default:return{}}}}},SR=new Set(["left","top"]);async function CF(i,e){const{placement:t,platform:n,elements:r}=i,o=await(n.isRTL==null?void 0:n.isRTL(r.floating)),l=la(t),c=Xh(t),d=eo(t)==="y",p=SR.has(l)?-1:1,f=o&&d?-1:1,m=aa(e,i);let{mainAxis:y,crossAxis:w,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof x=="number"&&(w=c==="end"?x*-1:x),d?{x:w*f,y:y*p}:{x:y*p,y:w*f}}const TF=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(e){var t,n;const{x:r,y:o,placement:l,middlewareData:c}=e,d=await CF(e,i);return l===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:r+d.x,y:o+d.y,data:{...d,placement:l}}}}},RF=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(e){const{x:t,y:n,placement:r}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:A=>{let{x:R,y:k}=A;return{x:R,y:k}}},...d}=aa(i,e),p={x:t,y:n},f=await gp(e,d),m=eo(la(r)),y=y1(m);let w=p[y],x=p[m];if(o){const A=y==="y"?"top":"left",R=y==="y"?"bottom":"right",k=w+f[A],M=w-f[R];w=P_(k,w,M)}if(l){const A=m==="y"?"top":"left",R=m==="y"?"bottom":"right",k=x+f[A],M=x-f[R];x=P_(k,x,M)}const b=c.fn({...e,[y]:w,[m]:x});return{...b,data:{x:b.x-t,y:b.y-n,enabled:{[y]:o,[m]:l}}}}}},PF=function(i){return i===void 0&&(i={}),{options:i,fn(e){const{x:t,y:n,placement:r,rects:o,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:p=!0}=aa(i,e),f={x:t,y:n},m=eo(r),y=y1(m);let w=f[y],x=f[m];const b=aa(c,e),A=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const M=y==="y"?"height":"width",L=o.reference[y]-o.floating[M]+A.mainAxis,F=o.reference[y]+o.reference[M]-A.mainAxis;w<L?w=L:w>F&&(w=F)}if(p){var R,k;const M=y==="y"?"width":"height",L=SR.has(la(r)),F=o.reference[m]-o.floating[M]+(L&&((R=l.offset)==null?void 0:R[m])||0)+(L?0:A.crossAxis),$=o.reference[m]+o.reference[M]+(L?0:((k=l.offset)==null?void 0:k[m])||0)-(L?A.crossAxis:0);x<F?x=F:x>$&&(x=$)}return{[y]:w,[m]:x}}}},kF=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(e){var t,n;const{placement:r,rects:o,platform:l,elements:c}=e,{apply:d=()=>{},...p}=aa(i,e),f=await gp(e,p),m=la(r),y=Xh(r),w=eo(r)==="y",{width:x,height:b}=o.floating;let A,R;m==="top"||m==="bottom"?(A=m,R=y===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(R=m,A=y==="end"?"top":"bottom");const k=b-f.top-f.bottom,M=x-f.left-f.right,L=kl(b-f[A],k),F=kl(x-f[R],M),$=!e.middlewareData.shift;let B=L,V=F;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(V=M),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(B=k),$&&!y){const J=di(f.left,0),ie=di(f.right,0),we=di(f.top,0),he=di(f.bottom,0);w?V=x-2*(J!==0||ie!==0?J+ie:di(f.left,f.right)):B=b-2*(we!==0||he!==0?we+he:di(f.top,f.bottom))}await d({...e,availableWidth:V,availableHeight:B});const q=await l.getDimensions(c.floating);return x!==q.width||b!==q.height?{reset:{rects:!0}}:{}}}};function E0(){return typeof window<"u"}function Qh(i){return ER(i)?(i.nodeName||"").toLowerCase():"#document"}function pi(i){var e;return(i==null||(e=i.ownerDocument)==null?void 0:e.defaultView)||window}function lo(i){var e;return(e=(ER(i)?i.ownerDocument:i.document)||window.document)==null?void 0:e.documentElement}function ER(i){return E0()?i instanceof Node||i instanceof pi(i).Node:!1}function ps(i){return E0()?i instanceof Element||i instanceof pi(i).Element:!1}function so(i){return E0()?i instanceof HTMLElement||i instanceof pi(i).HTMLElement:!1}function TC(i){return!E0()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof pi(i).ShadowRoot}const IF=new Set(["inline","contents"]);function lg(i){const{overflow:e,overflowX:t,overflowY:n,display:r}=ms(i);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!IF.has(r)}const MF=new Set(["table","td","th"]);function NF(i){return MF.has(Qh(i))}const LF=[":popover-open",":modal"];function A0(i){return LF.some(e=>{try{return i.matches(e)}catch{return!1}})}const DF=["transform","translate","scale","rotate","perspective"],OF=["transform","translate","scale","rotate","perspective","filter"],FF=["paint","layout","strict","content"];function b1(i){const e=_1(),t=ps(i)?ms(i):i;return DF.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||OF.some(n=>(t.willChange||"").includes(n))||FF.some(n=>(t.contain||"").includes(n))}function jF(i){let e=Il(i);for(;so(e)&&!Vh(e);){if(b1(e))return e;if(A0(e))return null;e=Il(e)}return null}function _1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const BF=new Set(["html","body","#document"]);function Vh(i){return BF.has(Qh(i))}function ms(i){return pi(i).getComputedStyle(i)}function C0(i){return ps(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function Il(i){if(Qh(i)==="html")return i;const e=i.assignedSlot||i.parentNode||TC(i)&&i.host||lo(i);return TC(e)?e.host:e}function AR(i){const e=Il(i);return Vh(e)?i.ownerDocument?i.ownerDocument.body:i.body:so(e)&&lg(e)?e:AR(e)}function yp(i,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=AR(i),o=r===((n=i.ownerDocument)==null?void 0:n.body),l=pi(r);if(o){const c=I_(l);return e.concat(l,l.visualViewport||[],lg(r)?r:[],c&&t?yp(c):[])}return e.concat(r,yp(r,[],t))}function I_(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function CR(i){const e=ms(i);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=so(i),o=r?i.offsetWidth:t,l=r?i.offsetHeight:n,c=Nv(t)!==o||Nv(n)!==l;return c&&(t=o,n=l),{width:t,height:n,$:c}}function x1(i){return ps(i)?i:i.contextElement}function bd(i){const e=x1(i);if(!so(e))return to(1);const t=e.getBoundingClientRect(),{width:n,height:r,$:o}=CR(e);let l=(o?Nv(t.width):t.width)/n,c=(o?Nv(t.height):t.height)/r;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const $F=to(0);function TR(i){const e=pi(i);return!_1()||!e.visualViewport?$F:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zF(i,e,t){return e===void 0&&(e=!1),!t||e&&t!==pi(i)?!1:e}function _u(i,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=i.getBoundingClientRect(),o=x1(i);let l=to(1);e&&(n?ps(n)&&(l=bd(n)):l=bd(i));const c=zF(o,t,n)?TR(o):to(0);let d=(r.left+c.x)/l.x,p=(r.top+c.y)/l.y,f=r.width/l.x,m=r.height/l.y;if(o){const y=pi(o),w=n&&ps(n)?pi(n):n;let x=y,b=I_(x);for(;b&&n&&w!==x;){const A=bd(b),R=b.getBoundingClientRect(),k=ms(b),M=R.left+(b.clientLeft+parseFloat(k.paddingLeft))*A.x,L=R.top+(b.clientTop+parseFloat(k.paddingTop))*A.y;d*=A.x,p*=A.y,f*=A.x,m*=A.y,d+=M,p+=L,x=pi(b),b=I_(x)}}return Dv({width:f,height:m,x:d,y:p})}function T0(i,e){const t=C0(i).scrollLeft;return e?e.left+t:_u(lo(i)).left+t}function RR(i,e){const t=i.getBoundingClientRect(),n=t.left+e.scrollLeft-T0(i,t),r=t.top+e.scrollTop;return{x:n,y:r}}function HF(i){let{elements:e,rect:t,offsetParent:n,strategy:r}=i;const o=r==="fixed",l=lo(n),c=e?A0(e.floating):!1;if(n===l||c&&o)return t;let d={scrollLeft:0,scrollTop:0},p=to(1);const f=to(0),m=so(n);if((m||!m&&!o)&&((Qh(n)!=="body"||lg(l))&&(d=C0(n)),so(n))){const w=_u(n);p=bd(n),f.x=w.x+n.clientLeft,f.y=w.y+n.clientTop}const y=l&&!m&&!o?RR(l,d):to(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-d.scrollLeft*p.x+f.x+y.x,y:t.y*p.y-d.scrollTop*p.y+f.y+y.y}}function UF(i){return Array.from(i.getClientRects())}function VF(i){const e=lo(i),t=C0(i),n=i.ownerDocument.body,r=di(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=di(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+T0(i);const c=-t.scrollTop;return ms(n).direction==="rtl"&&(l+=di(e.clientWidth,n.clientWidth)-r),{width:r,height:o,x:l,y:c}}const RC=25;function GF(i,e){const t=pi(i),n=lo(i),r=t.visualViewport;let o=n.clientWidth,l=n.clientHeight,c=0,d=0;if(r){o=r.width,l=r.height;const f=_1();(!f||f&&e==="fixed")&&(c=r.offsetLeft,d=r.offsetTop)}const p=T0(n);if(p<=0){const f=n.ownerDocument,m=f.body,y=getComputedStyle(m),w=f.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,x=Math.abs(n.clientWidth-m.clientWidth-w);x<=RC&&(o-=x)}else p<=RC&&(o+=p);return{width:o,height:l,x:c,y:d}}const WF=new Set(["absolute","fixed"]);function qF(i,e){const t=_u(i,!0,e==="fixed"),n=t.top+i.clientTop,r=t.left+i.clientLeft,o=so(i)?bd(i):to(1),l=i.clientWidth*o.x,c=i.clientHeight*o.y,d=r*o.x,p=n*o.y;return{width:l,height:c,x:d,y:p}}function PC(i,e,t){let n;if(e==="viewport")n=GF(i,t);else if(e==="document")n=VF(lo(i));else if(ps(e))n=qF(e,t);else{const r=TR(i);n={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Dv(n)}function PR(i,e){const t=Il(i);return t===e||!ps(t)||Vh(t)?!1:ms(t).position==="fixed"||PR(t,e)}function KF(i,e){const t=e.get(i);if(t)return t;let n=yp(i,[],!1).filter(c=>ps(c)&&Qh(c)!=="body"),r=null;const o=ms(i).position==="fixed";let l=o?Il(i):i;for(;ps(l)&&!Vh(l);){const c=ms(l),d=b1(l);!d&&c.position==="fixed"&&(r=null),(o?!d&&!r:!d&&c.position==="static"&&!!r&&WF.has(r.position)||lg(l)&&!d&&PR(i,l))?n=n.filter(f=>f!==l):r=c,l=Il(l)}return e.set(i,n),n}function YF(i){let{element:e,boundary:t,rootBoundary:n,strategy:r}=i;const l=[...t==="clippingAncestors"?A0(e)?[]:KF(e,this._c):[].concat(t),n],c=l[0],d=l.reduce((p,f)=>{const m=PC(e,f,r);return p.top=di(m.top,p.top),p.right=kl(m.right,p.right),p.bottom=kl(m.bottom,p.bottom),p.left=di(m.left,p.left),p},PC(e,c,r));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function XF(i){const{width:e,height:t}=CR(i);return{width:e,height:t}}function QF(i,e,t){const n=so(e),r=lo(e),o=t==="fixed",l=_u(i,!0,o,e);let c={scrollLeft:0,scrollTop:0};const d=to(0);function p(){d.x=T0(r)}if(n||!n&&!o)if((Qh(e)!=="body"||lg(r))&&(c=C0(e)),n){const w=_u(e,!0,o,e);d.x=w.x+e.clientLeft,d.y=w.y+e.clientTop}else r&&p();o&&!n&&r&&p();const f=r&&!n&&!o?RR(r,c):to(0),m=l.left+c.scrollLeft-d.x-f.x,y=l.top+c.scrollTop-d.y-f.y;return{x:m,y,width:l.width,height:l.height}}function Vb(i){return ms(i).position==="static"}function kC(i,e){if(!so(i)||ms(i).position==="fixed")return null;if(e)return e(i);let t=i.offsetParent;return lo(i)===t&&(t=t.ownerDocument.body),t}function kR(i,e){const t=pi(i);if(A0(i))return t;if(!so(i)){let r=Il(i);for(;r&&!Vh(r);){if(ps(r)&&!Vb(r))return r;r=Il(r)}return t}let n=kC(i,e);for(;n&&NF(n)&&Vb(n);)n=kC(n,e);return n&&Vh(n)&&Vb(n)&&!b1(n)?t:n||jF(i)||t}const ZF=async function(i){const e=this.getOffsetParent||kR,t=this.getDimensions,n=await t(i.floating);return{reference:QF(i.reference,await e(i.floating),i.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function JF(i){return ms(i).direction==="rtl"}const ej={convertOffsetParentRelativeRectToViewportRelativeRect:HF,getDocumentElement:lo,getClippingRect:YF,getOffsetParent:kR,getElementRects:ZF,getClientRects:UF,getDimensions:XF,getScale:bd,isElement:ps,isRTL:JF};function IR(i,e){return i.x===e.x&&i.y===e.y&&i.width===e.width&&i.height===e.height}function tj(i,e){let t=null,n;const r=lo(i);function o(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const p=i.getBoundingClientRect(),{left:f,top:m,width:y,height:w}=p;if(c||e(),!y||!w)return;const x=Py(m),b=Py(r.clientWidth-(f+y)),A=Py(r.clientHeight-(m+w)),R=Py(f),M={rootMargin:-x+"px "+-b+"px "+-A+"px "+-R+"px",threshold:di(0,kl(1,d))||1};let L=!0;function F($){const B=$[0].intersectionRatio;if(B!==d){if(!L)return l();B?l(!1,B):n=setTimeout(()=>{l(!1,1e-7)},1e3)}B===1&&!IR(p,i.getBoundingClientRect())&&l(),L=!1}try{t=new IntersectionObserver(F,{...M,root:r.ownerDocument})}catch{t=new IntersectionObserver(F,M)}t.observe(i)}return l(!0),o}function nj(i,e,t,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,p=x1(i),f=r||o?[...p?yp(p):[],...yp(e)]:[];f.forEach(R=>{r&&R.addEventListener("scroll",t,{passive:!0}),o&&R.addEventListener("resize",t)});const m=p&&c?tj(p,t):null;let y=-1,w=null;l&&(w=new ResizeObserver(R=>{let[k]=R;k&&k.target===p&&w&&(w.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var M;(M=w)==null||M.observe(e)})),t()}),p&&!d&&w.observe(p),w.observe(e));let x,b=d?_u(i):null;d&&A();function A(){const R=_u(i);b&&!IR(b,R)&&t(),b=R,x=requestAnimationFrame(A)}return t(),()=>{var R;f.forEach(k=>{r&&k.removeEventListener("scroll",t),o&&k.removeEventListener("resize",t)}),m==null||m(),(R=w)==null||R.disconnect(),w=null,d&&cancelAnimationFrame(x)}}const rj=TF,ij=RF,sj=EF,oj=kF,aj=AF,IC=SF,lj=PF,cj=(i,e,t)=>{const n=new Map,r={platform:ej,...t},o={...r.platform,_c:n};return xF(i,e,{...r,platform:o})};var uj=typeof document<"u",dj=function(){},Wy=uj?P.useLayoutEffect:dj;function Ov(i,e){if(i===e)return!0;if(typeof i!=typeof e)return!1;if(typeof i=="function"&&i.toString()===e.toString())return!0;let t,n,r;if(i&&e&&typeof i=="object"){if(Array.isArray(i)){if(t=i.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Ov(i[n],e[n]))return!1;return!0}if(r=Object.keys(i),t=r.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,r[n]))return!1;for(n=t;n--!==0;){const o=r[n];if(!(o==="_owner"&&i.$$typeof)&&!Ov(i[o],e[o]))return!1}return!0}return i!==i&&e!==e}function MR(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function MC(i,e){const t=MR(i);return Math.round(e*t)/t}function Gb(i){const e=P.useRef(i);return Wy(()=>{e.current=i}),e}function hj(i){i===void 0&&(i={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:r,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:p}=i,[f,m]=P.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[y,w]=P.useState(n);Ov(y,n)||w(n);const[x,b]=P.useState(null),[A,R]=P.useState(null),k=P.useCallback(X=>{X!==$.current&&($.current=X,b(X))},[]),M=P.useCallback(X=>{X!==B.current&&(B.current=X,R(X))},[]),L=o||x,F=l||A,$=P.useRef(null),B=P.useRef(null),V=P.useRef(f),q=d!=null,J=Gb(d),ie=Gb(r),we=Gb(p),he=P.useCallback(()=>{if(!$.current||!B.current)return;const X={placement:e,strategy:t,middleware:y};ie.current&&(X.platform=ie.current),cj($.current,B.current,X).then(re=>{const se={...re,isPositioned:we.current!==!1};ce.current&&!Ov(V.current,se)&&(V.current=se,og.flushSync(()=>{m(se)}))})},[y,e,t,ie,we]);Wy(()=>{p===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,m(X=>({...X,isPositioned:!1})))},[p]);const ce=P.useRef(!1);Wy(()=>(ce.current=!0,()=>{ce.current=!1}),[]),Wy(()=>{if(L&&($.current=L),F&&(B.current=F),L&&F){if(J.current)return J.current(L,F,he);he()}},[L,F,he,J,q]);const Se=P.useMemo(()=>({reference:$,floating:B,setReference:k,setFloating:M}),[k,M]),K=P.useMemo(()=>({reference:L,floating:F}),[L,F]),Z=P.useMemo(()=>{const X={position:t,left:0,top:0};if(!K.floating)return X;const re=MC(K.floating,f.x),se=MC(K.floating,f.y);return c?{...X,transform:"translate("+re+"px, "+se+"px)",...MR(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:re,top:se}},[t,c,K.floating,f.x,f.y]);return P.useMemo(()=>({...f,update:he,refs:Se,elements:K,floatingStyles:Z}),[f,he,Se,K,Z])}const fj=i=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:i,fn(t){const{element:n,padding:r}=typeof i=="function"?i(t):i;return n&&e(n)?n.current!=null?IC({element:n.current,padding:r}).fn(t):{}:n?IC({element:n,padding:r}).fn(t):{}}}},pj=(i,e)=>({...rj(i),options:[i,e]}),mj=(i,e)=>({...ij(i),options:[i,e]}),gj=(i,e)=>({...lj(i),options:[i,e]}),yj=(i,e)=>({...sj(i),options:[i,e]}),vj=(i,e)=>({...oj(i),options:[i,e]}),wj=(i,e)=>({...aj(i),options:[i,e]}),bj=(i,e)=>({...fj(i),options:[i,e]});var _j="Arrow",NR=P.forwardRef((i,e)=>{const{children:t,width:n=10,height:r=5,...o}=i;return _.jsx(et.svg,{...o,ref:e,width:n,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:i.asChild?t:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});NR.displayName=_j;var xj=NR;function Sj(i){const[e,t]=P.useState(void 0);return qn(()=>{if(i){t({width:i.offsetWidth,height:i.offsetHeight});const n=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const o=r[0];let l,c;if("borderBoxSize"in o){const d=o.borderBoxSize,p=Array.isArray(d)?d[0]:d;l=p.inlineSize,c=p.blockSize}else l=i.offsetWidth,c=i.offsetHeight;t({width:l,height:c})});return n.observe(i,{box:"border-box"}),()=>n.unobserve(i)}else t(void 0)},[i]),e}var S1="Popper",[LR,Zh]=ao(S1),[Ej,DR]=LR(S1),OR=i=>{const{__scopePopper:e,children:t}=i,[n,r]=P.useState(null);return _.jsx(Ej,{scope:e,anchor:n,onAnchorChange:r,children:t})};OR.displayName=S1;var FR="PopperAnchor",jR=P.forwardRef((i,e)=>{const{__scopePopper:t,virtualRef:n,...r}=i,o=DR(FR,t),l=P.useRef(null),c=Et(e,l),d=P.useRef(null);return P.useEffect(()=>{const p=d.current;d.current=(n==null?void 0:n.current)||l.current,p!==d.current&&o.onAnchorChange(d.current)}),n?null:_.jsx(et.div,{...r,ref:c})});jR.displayName=FR;var E1="PopperContent",[Aj,Cj]=LR(E1),BR=P.forwardRef((i,e)=>{var ae,me,Ae,Ee,Fe,Be;const{__scopePopper:t,side:n="bottom",sideOffset:r=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:w="optimized",onPlaced:x,...b}=i,A=DR(E1,t),[R,k]=P.useState(null),M=Et(e,je=>k(je)),[L,F]=P.useState(null),$=Sj(L),B=($==null?void 0:$.width)??0,V=($==null?void 0:$.height)??0,q=n+(o!=="center"?"-"+o:""),J=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},ie=Array.isArray(p)?p:[p],we=ie.length>0,he={padding:J,boundary:ie.filter(Rj),altBoundary:we},{refs:ce,floatingStyles:Se,placement:K,isPositioned:Z,middlewareData:X}=hj({strategy:"fixed",placement:q,whileElementsMounted:(...je)=>nj(...je,{animationFrame:w==="always"}),elements:{reference:A.anchor},middleware:[pj({mainAxis:r+V,alignmentAxis:l}),d&&mj({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?gj():void 0,...he}),d&&yj({...he}),vj({...he,apply:({elements:je,rects:Ve,availableWidth:lt,availableHeight:rt})=>{const{width:vt,height:ar}=Ve.reference,Mt=je.floating.style;Mt.setProperty("--radix-popper-available-width",`${lt}px`),Mt.setProperty("--radix-popper-available-height",`${rt}px`),Mt.setProperty("--radix-popper-anchor-width",`${vt}px`),Mt.setProperty("--radix-popper-anchor-height",`${ar}px`)}}),L&&bj({element:L,padding:c}),Pj({arrowWidth:B,arrowHeight:V}),y&&wj({strategy:"referenceHidden",...he})]}),[re,se]=HR(K),H=ro(x);qn(()=>{Z&&(H==null||H())},[Z,H]);const ee=(ae=X.arrow)==null?void 0:ae.x,ue=(me=X.arrow)==null?void 0:me.y,de=((Ae=X.arrow)==null?void 0:Ae.centerOffset)!==0,[ve,_e]=P.useState();return qn(()=>{R&&_e(window.getComputedStyle(R).zIndex)},[R]),_.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...Se,transform:Z?Se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(Ee=X.transformOrigin)==null?void 0:Ee.x,(Fe=X.transformOrigin)==null?void 0:Fe.y].join(" "),...((Be=X.hide)==null?void 0:Be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:i.dir,children:_.jsx(Aj,{scope:t,placedSide:re,onArrowChange:F,arrowX:ee,arrowY:ue,shouldHideArrow:de,children:_.jsx(et.div,{"data-side":re,"data-align":se,...b,ref:M,style:{...b.style,animation:Z?void 0:"none"}})})})});BR.displayName=E1;var $R="PopperArrow",Tj={top:"bottom",right:"left",bottom:"top",left:"right"},zR=P.forwardRef(function(e,t){const{__scopePopper:n,...r}=e,o=Cj($R,n),l=Tj[o.placedSide];return _.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:_.jsx(xj,{...r,ref:t,style:{...r.style,display:"block"}})})});zR.displayName=$R;function Rj(i){return i!==null}var Pj=i=>({name:"transformOrigin",options:i,fn(e){var A,R,k;const{placement:t,rects:n,middlewareData:r}=e,l=((A=r.arrow)==null?void 0:A.centerOffset)!==0,c=l?0:i.arrowWidth,d=l?0:i.arrowHeight,[p,f]=HR(t),m={start:"0%",center:"50%",end:"100%"}[f],y=(((R=r.arrow)==null?void 0:R.x)??0)+c/2,w=(((k=r.arrow)==null?void 0:k.y)??0)+d/2;let x="",b="";return p==="bottom"?(x=l?m:`${y}px`,b=`${-d}px`):p==="top"?(x=l?m:`${y}px`,b=`${n.floating.height+d}px`):p==="right"?(x=`${-d}px`,b=l?m:`${w}px`):p==="left"&&(x=`${n.floating.width+d}px`,b=l?m:`${w}px`),{data:{x,y:b}}}});function HR(i){const[e,t="center"]=i.split("-");return[e,t]}var A1=OR,C1=jR,T1=BR,R1=zR,kj="Portal",R0=P.forwardRef((i,e)=>{var c;const{container:t,...n}=i,[r,o]=P.useState(!1);qn(()=>o(!0),[]);const l=t||r&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?eR.createPortal(_.jsx(et.div,{...n,ref:e}),l):null});R0.displayName=kj;function Ij(i,e){return P.useReducer((t,n)=>e[t][n]??t,i)}var fa=i=>{const{present:e,children:t}=i,n=Mj(e),r=typeof t=="function"?t({present:n.isPresent}):P.Children.only(t),o=Et(n.ref,Nj(r));return typeof t=="function"||n.isPresent?P.cloneElement(r,{ref:o}):null};fa.displayName="Presence";function Mj(i){const[e,t]=P.useState(),n=P.useRef(null),r=P.useRef(i),o=P.useRef("none"),l=i?"mounted":"unmounted",[c,d]=Ij(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const p=ky(n.current);o.current=c==="mounted"?p:"none"},[c]),qn(()=>{const p=n.current,f=r.current;if(f!==i){const y=o.current,w=ky(p);i?d("MOUNT"):w==="none"||(p==null?void 0:p.display)==="none"?d("UNMOUNT"):d(f&&y!==w?"ANIMATION_OUT":"UNMOUNT"),r.current=i}},[i,d]),qn(()=>{if(e){let p;const f=e.ownerDocument.defaultView??window,m=w=>{const b=ky(n.current).includes(CSS.escape(w.animationName));if(w.target===e&&b&&(d("ANIMATION_END"),!r.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",p=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},y=w=>{w.target===e&&(o.current=ky(n.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(p),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:P.useCallback(p=>{n.current=p?getComputedStyle(p):null,t(p)},[])}}function ky(i){return(i==null?void 0:i.animationName)||"none"}function Nj(i){var n,r;let e=(n=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=(r=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}var Lj=d1[" useInsertionEffect ".trim().toString()]||qn;function ca({prop:i,defaultProp:e,onChange:t=()=>{},caller:n}){const[r,o,l]=Dj({defaultProp:e,onChange:t}),c=i!==void 0,d=c?i:r;{const f=P.useRef(i!==void 0);P.useEffect(()=>{const m=f.current;m!==c&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,n])}const p=P.useCallback(f=>{var m;if(c){const y=Oj(f)?f(i):f;y!==i&&((m=l.current)==null||m.call(l,y))}else o(f)},[c,i,o,l]);return[d,p]}function Dj({defaultProp:i,onChange:e}){const[t,n]=P.useState(i),r=P.useRef(t),o=P.useRef(e);return Lj(()=>{o.current=e},[e]),P.useEffect(()=>{var l;r.current!==t&&((l=o.current)==null||l.call(o,t),r.current=t)},[t,r]),[t,n,o]}function Oj(i){return typeof i=="function"}var UR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Fj="VisuallyHidden",VR=P.forwardRef((i,e)=>_.jsx(et.span,{...i,ref:e,style:{...UR,...i.style}}));VR.displayName=Fj;var jj=VR,[P0,zW]=ao("Tooltip",[Zh]),k0=Zh(),GR="TooltipProvider",Bj=700,M_="tooltip.open",[$j,P1]=P0(GR),WR=i=>{const{__scopeTooltip:e,delayDuration:t=Bj,skipDelayDuration:n=300,disableHoverableContent:r=!1,children:o}=i,l=P.useRef(!0),c=P.useRef(!1),d=P.useRef(0);return P.useEffect(()=>{const p=d.current;return()=>window.clearTimeout(p)},[]),_.jsx($j,{scope:e,isOpenDelayedRef:l,delayDuration:t,onOpen:P.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:P.useCallback(p=>{c.current=p},[]),disableHoverableContent:r,children:o})};WR.displayName=GR;var vp="Tooltip",[zj,cg]=P0(vp),qR=i=>{const{__scopeTooltip:e,children:t,open:n,defaultOpen:r,onOpenChange:o,disableHoverableContent:l,delayDuration:c}=i,d=P1(vp,i.__scopeTooltip),p=k0(e),[f,m]=P.useState(null),y=io(),w=P.useRef(0),x=l??d.disableHoverableContent,b=c??d.delayDuration,A=P.useRef(!1),[R,k]=ca({prop:n,defaultProp:r??!1,onChange:B=>{B?(d.onOpen(),document.dispatchEvent(new CustomEvent(M_))):d.onClose(),o==null||o(B)},caller:vp}),M=P.useMemo(()=>R?A.current?"delayed-open":"instant-open":"closed",[R]),L=P.useCallback(()=>{window.clearTimeout(w.current),w.current=0,A.current=!1,k(!0)},[k]),F=P.useCallback(()=>{window.clearTimeout(w.current),w.current=0,k(!1)},[k]),$=P.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{A.current=!0,k(!0),w.current=0},b)},[b,k]);return P.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),_.jsx(A1,{...p,children:_.jsx(zj,{scope:e,contentId:y,open:R,stateAttribute:M,trigger:f,onTriggerChange:m,onTriggerEnter:P.useCallback(()=>{d.isOpenDelayedRef.current?$():L()},[d.isOpenDelayedRef,$,L]),onTriggerLeave:P.useCallback(()=>{x?F():(window.clearTimeout(w.current),w.current=0)},[F,x]),onOpen:L,onClose:F,disableHoverableContent:x,children:t})})};qR.displayName=vp;var N_="TooltipTrigger",KR=P.forwardRef((i,e)=>{const{__scopeTooltip:t,...n}=i,r=cg(N_,t),o=P1(N_,t),l=k0(t),c=P.useRef(null),d=Et(e,c,r.onTriggerChange),p=P.useRef(!1),f=P.useRef(!1),m=P.useCallback(()=>p.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),_.jsx(C1,{asChild:!0,...l,children:_.jsx(et.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...n,ref:d,onPointerMove:Ne(i.onPointerMove,y=>{y.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(r.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ne(i.onPointerLeave,()=>{r.onTriggerLeave(),f.current=!1}),onPointerDown:Ne(i.onPointerDown,()=>{r.open&&r.onClose(),p.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ne(i.onFocus,()=>{p.current||r.onOpen()}),onBlur:Ne(i.onBlur,r.onClose),onClick:Ne(i.onClick,r.onClose)})})});KR.displayName=N_;var k1="TooltipPortal",[Hj,Uj]=P0(k1,{forceMount:void 0}),YR=i=>{const{__scopeTooltip:e,forceMount:t,children:n,container:r}=i,o=cg(k1,e);return _.jsx(Hj,{scope:e,forceMount:t,children:_.jsx(fa,{present:t||o.open,children:_.jsx(R0,{asChild:!0,container:r,children:n})})})};YR.displayName=k1;var Gh="TooltipContent",XR=P.forwardRef((i,e)=>{const t=Uj(Gh,i.__scopeTooltip),{forceMount:n=t.forceMount,side:r="top",...o}=i,l=cg(Gh,i.__scopeTooltip);return _.jsx(fa,{present:n||l.open,children:l.disableHoverableContent?_.jsx(QR,{side:r,...o,ref:e}):_.jsx(Vj,{side:r,...o,ref:e})})}),Vj=P.forwardRef((i,e)=>{const t=cg(Gh,i.__scopeTooltip),n=P1(Gh,i.__scopeTooltip),r=P.useRef(null),o=Et(e,r),[l,c]=P.useState(null),{trigger:d,onClose:p}=t,f=r.current,{onPointerInTransitChange:m}=n,y=P.useCallback(()=>{c(null),m(!1)},[m]),w=P.useCallback((x,b)=>{const A=x.currentTarget,R={x:x.clientX,y:x.clientY},k=Yj(R,A.getBoundingClientRect()),M=Xj(R,k),L=Qj(b.getBoundingClientRect()),F=Jj([...M,...L]);c(F),m(!0)},[m]);return P.useEffect(()=>()=>y(),[y]),P.useEffect(()=>{if(d&&f){const x=A=>w(A,f),b=A=>w(A,d);return d.addEventListener("pointerleave",x),f.addEventListener("pointerleave",b),()=>{d.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",b)}}},[d,f,w,y]),P.useEffect(()=>{if(l){const x=b=>{const A=b.target,R={x:b.clientX,y:b.clientY},k=(d==null?void 0:d.contains(A))||(f==null?void 0:f.contains(A)),M=!Zj(R,l);k?y():M&&(y(),p())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[d,f,l,p,y]),_.jsx(QR,{...i,ref:o})}),[Gj,Wj]=P0(vp,{isInside:!1}),qj=XO("TooltipContent"),QR=P.forwardRef((i,e)=>{const{__scopeTooltip:t,children:n,"aria-label":r,onEscapeKeyDown:o,onPointerDownOutside:l,...c}=i,d=cg(Gh,t),p=k0(t),{onClose:f}=d;return P.useEffect(()=>(document.addEventListener(M_,f),()=>document.removeEventListener(M_,f)),[f]),P.useEffect(()=>{if(d.trigger){const m=y=>{const w=y.target;w!=null&&w.contains(d.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,f]),_.jsx(S0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:_.jsxs(T1,{"data-state":d.stateAttribute,...p,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[_.jsx(qj,{children:n}),_.jsx(Gj,{scope:t,isInside:!0,children:_.jsx(jj,{id:d.contentId,role:"tooltip",children:r||n})})]})})});XR.displayName=Gh;var ZR="TooltipArrow",Kj=P.forwardRef((i,e)=>{const{__scopeTooltip:t,...n}=i,r=k0(t);return Wj(ZR,t).isInside?null:_.jsx(R1,{...r,...n,ref:e})});Kj.displayName=ZR;function Yj(i,e){const t=Math.abs(e.top-i.y),n=Math.abs(e.bottom-i.y),r=Math.abs(e.right-i.x),o=Math.abs(e.left-i.x);switch(Math.min(t,n,r,o)){case o:return"left";case r:return"right";case t:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Xj(i,e,t=5){const n=[];switch(e){case"top":n.push({x:i.x-t,y:i.y+t},{x:i.x+t,y:i.y+t});break;case"bottom":n.push({x:i.x-t,y:i.y-t},{x:i.x+t,y:i.y-t});break;case"left":n.push({x:i.x+t,y:i.y-t},{x:i.x+t,y:i.y+t});break;case"right":n.push({x:i.x-t,y:i.y-t},{x:i.x-t,y:i.y+t});break}return n}function Qj(i){const{top:e,right:t,bottom:n,left:r}=i;return[{x:r,y:e},{x:t,y:e},{x:t,y:n},{x:r,y:n}]}function Zj(i,e){const{x:t,y:n}=i;let r=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const c=e[o],d=e[l],p=c.x,f=c.y,m=d.x,y=d.y;f>n!=y>n&&t<(m-p)*(n-f)/(y-f)+p&&(r=!r)}return r}function Jj(i){const e=i.slice();return e.sort((t,n)=>t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0),eB(e)}function eB(i){if(i.length<=1)return i.slice();const e=[];for(let n=0;n<i.length;n++){const r=i[n];for(;e.length>=2;){const o=e[e.length-1],l=e[e.length-2];if((o.x-l.x)*(r.y-l.y)>=(o.y-l.y)*(r.x-l.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let n=i.length-1;n>=0;n--){const r=i[n];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(r.y-l.y)>=(o.y-l.y)*(r.x-l.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var tB=WR,nB=qR,rB=KR,iB=YR,JR=XR;const sB="_content_1hxhe_2",oB={content:sB},aB=tB,lB=nB,cB=rB,eP=P.forwardRef(({className:i,sideOffset:e=4,...t},n)=>_.jsx(iB,{children:_.jsx(JR,{ref:n,sideOffset:e,className:`${oB.content} ${i||""}`,...t})}));eP.displayName=JR.displayName;function uB(i){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i))}const dB=i=>{switch(i){case"success":return pB;case"info":return gB;case"warning":return mB;case"error":return yB;default:return null}},hB=Array(12).fill(0),fB=({visible:i,className:e})=>le.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":i},le.createElement("div",{className:"sonner-spinner"},hB.map((t,n)=>le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),pB=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mB=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gB=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),yB=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vB=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),wB=()=>{const[i,e]=le.useState(document.hidden);return le.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),i};let L_=1;class bB{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n,...r}=e,o=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:L_++,l=this.toasts.find(d=>d.id===o),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(d=>d.id===o?(this.publish({...d,...e,id:o,title:n}),{...d,...e,id:o,dismissible:c,title:n}):d):this.addToast({title:n,...r,dismissible:c,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let o=n!==void 0,l;const c=r.then(async p=>{if(l=["resolve",p],le.isValidElement(p))o=!1,this.create({id:n,type:"default",message:p});else if(xB(p)&&!p.ok){o=!1;const m=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,y=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description,x=typeof m=="object"&&!le.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:y,...x})}else if(p instanceof Error){o=!1;const m=typeof t.error=="function"?await t.error(p):t.error,y=typeof t.description=="function"?await t.description(p):t.description,x=typeof m=="object"&&!le.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:y,...x})}else if(t.success!==void 0){o=!1;const m=typeof t.success=="function"?await t.success(p):t.success,y=typeof t.description=="function"?await t.description(p):t.description,x=typeof m=="object"&&!le.isValidElement(m)?m:{message:m};this.create({id:n,type:"success",description:y,...x})}}).catch(async p=>{if(l=["reject",p],t.error!==void 0){o=!1;const f=typeof t.error=="function"?await t.error(p):t.error,m=typeof t.description=="function"?await t.description(p):t.description,w=typeof f=="object"&&!le.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:m,...w})}}).finally(()=>{o&&(this.dismiss(n),n=void 0),t.finally==null||t.finally.call(t)}),d=()=>new Promise((p,f)=>c.then(()=>l[0]==="reject"?f(l[1]):p(l[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(e,t)=>{const n=(t==null?void 0:t.id)||L_++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Br=new bB,_B=(i,e)=>{const t=(e==null?void 0:e.id)||L_++;return Br.addToast({title:i,...e,id:t}),t},xB=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",SB=_B,EB=()=>Br.toasts,AB=()=>Br.getActiveToasts();Object.assign(SB,{success:Br.success,info:Br.info,warning:Br.warning,error:Br.error,custom:Br.custom,message:Br.message,promise:Br.promise,dismiss:Br.dismiss,loading:Br.loading},{getHistory:EB,getToasts:AB});uB("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Iy(i){return i.label!==void 0}const CB=3,TB="24px",RB="16px",NC=4e3,PB=356,kB=14,IB=45,MB=200;function Es(...i){return i.filter(Boolean).join(" ")}function NB(i){const[e,t]=i.split("-"),n=[];return e&&n.push(e),t&&n.push(t),n}const LB=i=>{var e,t,n,r,o,l,c,d,p;const{invert:f,toast:m,unstyled:y,interacting:w,setHeights:x,visibleToasts:b,heights:A,index:R,toasts:k,expanded:M,removeToast:L,defaultRichColors:F,closeButton:$,style:B,cancelButtonStyle:V,actionButtonStyle:q,className:J="",descriptionClassName:ie="",duration:we,position:he,gap:ce,expandByDefault:Se,classNames:K,icons:Z,closeButtonAriaLabel:X="Close toast"}=i,[re,se]=le.useState(null),[H,ee]=le.useState(null),[ue,de]=le.useState(!1),[ve,_e]=le.useState(!1),[ae,me]=le.useState(!1),[Ae,Ee]=le.useState(!1),[Fe,Be]=le.useState(!1),[je,Ve]=le.useState(0),[lt,rt]=le.useState(0),vt=le.useRef(m.duration||we||NC),ar=le.useRef(null),Mt=le.useRef(null),zr=R===0,lr=R+1<=b,Xt=m.type,Cr=m.dismissible!==!1,$i=m.className||"",Dn=m.descriptionClassName||"",Hr=le.useMemo(()=>A.findIndex(We=>We.toastId===m.id)||0,[A,m.id]),Kn=le.useMemo(()=>{var We;return(We=m.closeButton)!=null?We:$},[m.closeButton,$]),zt=le.useMemo(()=>m.duration||we||NC,[m.duration,we]),On=le.useRef(0),O=le.useRef(0),E=le.useRef(0),T=le.useRef(null),[j,W]=he.split("-"),te=le.useMemo(()=>A.reduce((We,Qt,fn)=>fn>=Hr?We:We+Qt.height,0),[A,Hr]),oe=wB(),Ke=m.invert||f,pt=Xt==="loading";O.current=le.useMemo(()=>Hr*ce+te,[Hr,te]),le.useEffect(()=>{vt.current=zt},[zt]),le.useEffect(()=>{de(!0)},[]),le.useEffect(()=>{const We=Mt.current;if(We){const Qt=We.getBoundingClientRect().height;return rt(Qt),x(fn=>[{toastId:m.id,height:Qt,position:m.position},...fn]),()=>x(fn=>fn.filter(Yn=>Yn.toastId!==m.id))}},[x,m.id]),le.useLayoutEffect(()=>{if(!ue)return;const We=Mt.current,Qt=We.style.height;We.style.height="auto";const fn=We.getBoundingClientRect().height;We.style.height=Qt,rt(fn),x(Yn=>Yn.find(an=>an.toastId===m.id)?Yn.map(an=>an.toastId===m.id?{...an,height:fn}:an):[{toastId:m.id,height:fn,position:m.position},...Yn])},[ue,m.title,m.description,x,m.id,m.jsx,m.action,m.cancel]);const it=le.useCallback(()=>{_e(!0),Ve(O.current),x(We=>We.filter(Qt=>Qt.toastId!==m.id)),setTimeout(()=>{L(m)},MB)},[m,L,x,O]);le.useEffect(()=>{if(m.promise&&Xt==="loading"||m.duration===1/0||m.type==="loading")return;let We;return M||w||oe?(()=>{if(E.current<On.current){const Yn=new Date().getTime()-On.current;vt.current=vt.current-Yn}E.current=new Date().getTime()})():(()=>{vt.current!==1/0&&(On.current=new Date().getTime(),We=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),it()},vt.current))})(),()=>clearTimeout(We)},[M,w,m,Xt,oe,it]),le.useEffect(()=>{m.delete&&(it(),m.onDismiss==null||m.onDismiss.call(m,m))},[it,m.delete]);function wt(){var We;if(Z!=null&&Z.loading){var Qt;return le.createElement("div",{className:Es(K==null?void 0:K.loader,m==null||(Qt=m.classNames)==null?void 0:Qt.loader,"sonner-loader"),"data-visible":Xt==="loading"},Z.loading)}return le.createElement(fB,{className:Es(K==null?void 0:K.loader,m==null||(We=m.classNames)==null?void 0:We.loader),visible:Xt==="loading"})}const ot=m.icon||(Z==null?void 0:Z[Xt])||dB(Xt);var co,tf;return le.createElement("li",{tabIndex:0,ref:Mt,className:Es(J,$i,K==null?void 0:K.toast,m==null||(e=m.classNames)==null?void 0:e.toast,K==null?void 0:K.default,K==null?void 0:K[Xt],m==null||(t=m.classNames)==null?void 0:t[Xt]),"data-sonner-toast":"","data-rich-colors":(co=m.richColors)!=null?co:F,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":ue,"data-promise":!!m.promise,"data-swiped":Fe,"data-removed":ve,"data-visible":lr,"data-y-position":j,"data-x-position":W,"data-index":R,"data-front":zr,"data-swiping":ae,"data-dismissible":Cr,"data-type":Xt,"data-invert":Ke,"data-swipe-out":Ae,"data-swipe-direction":H,"data-expanded":!!(M||Se&&ue),"data-testid":m.testId,style:{"--index":R,"--toasts-before":R,"--z-index":k.length-R,"--offset":`${ve?je:O.current}px`,"--initial-height":Se?"auto":`${lt}px`,...B,...m.style},onDragEnd:()=>{me(!1),se(null),T.current=null},onPointerDown:We=>{We.button!==2&&(pt||!Cr||(ar.current=new Date,Ve(O.current),We.target.setPointerCapture(We.pointerId),We.target.tagName!=="BUTTON"&&(me(!0),T.current={x:We.clientX,y:We.clientY})))},onPointerUp:()=>{var We,Qt,fn;if(Ae||!Cr)return;T.current=null;const Yn=Number(((We=Mt.current)==null?void 0:We.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ma=Number(((Qt=Mt.current)==null?void 0:Qt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),an=new Date().getTime()-((fn=ar.current)==null?void 0:fn.getTime()),bn=re==="x"?Yn:ma,ga=Math.abs(bn)/an;if(Math.abs(bn)>=IB||ga>.11){Ve(O.current),m.onDismiss==null||m.onDismiss.call(m,m),ee(re==="x"?Yn>0?"right":"left":ma>0?"down":"up"),it(),Ee(!0);return}else{var Fn,Ur;(Fn=Mt.current)==null||Fn.style.setProperty("--swipe-amount-x","0px"),(Ur=Mt.current)==null||Ur.style.setProperty("--swipe-amount-y","0px")}Be(!1),me(!1),se(null)},onPointerMove:We=>{var Qt,fn,Yn;if(!T.current||!Cr||((Qt=window.getSelection())==null?void 0:Qt.toString().length)>0)return;const an=We.clientY-T.current.y,bn=We.clientX-T.current.x;var ga;const Fn=(ga=i.swipeDirections)!=null?ga:NB(he);!re&&(Math.abs(bn)>1||Math.abs(an)>1)&&se(Math.abs(bn)>Math.abs(an)?"x":"y");let Ur={x:0,y:0};const ya=yi=>1/(1.5+Math.abs(yi)/20);if(re==="y"){if(Fn.includes("top")||Fn.includes("bottom"))if(Fn.includes("top")&&an<0||Fn.includes("bottom")&&an>0)Ur.y=an;else{const yi=an*ya(an);Ur.y=Math.abs(yi)<Math.abs(an)?yi:an}}else if(re==="x"&&(Fn.includes("left")||Fn.includes("right")))if(Fn.includes("left")&&bn<0||Fn.includes("right")&&bn>0)Ur.x=bn;else{const yi=bn*ya(bn);Ur.x=Math.abs(yi)<Math.abs(bn)?yi:bn}(Math.abs(Ur.x)>0||Math.abs(Ur.y)>0)&&Be(!0),(fn=Mt.current)==null||fn.style.setProperty("--swipe-amount-x",`${Ur.x}px`),(Yn=Mt.current)==null||Yn.style.setProperty("--swipe-amount-y",`${Ur.y}px`)}},Kn&&!m.jsx&&Xt!=="loading"?le.createElement("button",{"aria-label":X,"data-disabled":pt,"data-close-button":!0,onClick:pt||!Cr?()=>{}:()=>{it(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Es(K==null?void 0:K.closeButton,m==null||(n=m.classNames)==null?void 0:n.closeButton)},(tf=Z==null?void 0:Z.close)!=null?tf:vB):null,(Xt||m.icon||m.promise)&&m.icon!==null&&((Z==null?void 0:Z[Xt])!==null||m.icon)?le.createElement("div",{"data-icon":"",className:Es(K==null?void 0:K.icon,m==null||(r=m.classNames)==null?void 0:r.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||wt():null,m.type!=="loading"?ot:null):null,le.createElement("div",{"data-content":"",className:Es(K==null?void 0:K.content,m==null||(o=m.classNames)==null?void 0:o.content)},le.createElement("div",{"data-title":"",className:Es(K==null?void 0:K.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?le.createElement("div",{"data-description":"",className:Es(ie,Dn,K==null?void 0:K.description,m==null||(c=m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),le.isValidElement(m.cancel)?m.cancel:m.cancel&&Iy(m.cancel)?le.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||V,onClick:We=>{Iy(m.cancel)&&Cr&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,We),it())},className:Es(K==null?void 0:K.cancelButton,m==null||(d=m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,le.isValidElement(m.action)?m.action:m.action&&Iy(m.action)?le.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||q,onClick:We=>{Iy(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,We),!We.defaultPrevented&&it())},className:Es(K==null?void 0:K.actionButton,m==null||(p=m.classNames)==null?void 0:p.actionButton)},m.action.label):null)};function LC(){if(typeof window>"u"||typeof document>"u")return"ltr";const i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function DB(i,e){const t={};return[i,e].forEach((n,r)=>{const o=r===1,l=o?"--mobile-offset":"--offset",c=o?RB:TB;function d(p){["top","right","bottom","left"].forEach(f=>{t[`${l}-${f}`]=typeof p=="number"?`${p}px`:p})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(p=>{n[p]===void 0?t[`${l}-${p}`]=c:t[`${l}-${p}`]=typeof n[p]=="number"?`${n[p]}px`:n[p]}):d(c)}),t}const OB=le.forwardRef(function(e,t){const{id:n,invert:r,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:d,className:p,offset:f,mobileOffset:m,theme:y="light",richColors:w,duration:x,style:b,visibleToasts:A=CB,toastOptions:R,dir:k=LC(),gap:M=kB,icons:L,containerAriaLabel:F="Notifications"}=e,[$,B]=le.useState([]),V=le.useMemo(()=>n?$.filter(ue=>ue.toasterId===n):$.filter(ue=>!ue.toasterId),[$,n]),q=le.useMemo(()=>Array.from(new Set([o].concat(V.filter(ue=>ue.position).map(ue=>ue.position)))),[V,o]),[J,ie]=le.useState([]),[we,he]=le.useState(!1),[ce,Se]=le.useState(!1),[K,Z]=le.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=le.useRef(null),re=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),se=le.useRef(null),H=le.useRef(!1),ee=le.useCallback(ue=>{B(de=>{var ve;return(ve=de.find(_e=>_e.id===ue.id))!=null&&ve.delete||Br.dismiss(ue.id),de.filter(({id:_e})=>_e!==ue.id)})},[]);return le.useEffect(()=>Br.subscribe(ue=>{if(ue.dismiss){requestAnimationFrame(()=>{B(de=>de.map(ve=>ve.id===ue.id?{...ve,delete:!0}:ve))});return}setTimeout(()=>{eR.flushSync(()=>{B(de=>{const ve=de.findIndex(_e=>_e.id===ue.id);return ve!==-1?[...de.slice(0,ve),{...de[ve],...ue},...de.slice(ve+1)]:[ue,...de]})})})}),[$]),le.useEffect(()=>{if(y!=="system"){Z(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;const ue=window.matchMedia("(prefers-color-scheme: dark)");try{ue.addEventListener("change",({matches:de})=>{Z(de?"dark":"light")})}catch{ue.addListener(({matches:ve})=>{try{Z(ve?"dark":"light")}catch(_e){console.error(_e)}})}},[y]),le.useEffect(()=>{$.length<=1&&he(!1)},[$]),le.useEffect(()=>{const ue=de=>{var ve;if(l.every(me=>de[me]||de.code===me)){var ae;he(!0),(ae=X.current)==null||ae.focus()}de.code==="Escape"&&(document.activeElement===X.current||(ve=X.current)!=null&&ve.contains(document.activeElement))&&he(!1)};return document.addEventListener("keydown",ue),()=>document.removeEventListener("keydown",ue)},[l]),le.useEffect(()=>{if(X.current)return()=>{se.current&&(se.current.focus({preventScroll:!0}),se.current=null,H.current=!1)}},[X.current]),le.createElement("section",{ref:t,"aria-label":`${F} ${re}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},q.map((ue,de)=>{var ve;const[_e,ae]=ue.split("-");return V.length?le.createElement("ol",{key:ue,dir:k==="auto"?LC():k,tabIndex:-1,ref:X,className:p,"data-sonner-toaster":!0,"data-sonner-theme":K,"data-y-position":_e,"data-x-position":ae,style:{"--front-toast-height":`${((ve=J[0])==null?void 0:ve.height)||0}px`,"--width":`${PB}px`,"--gap":`${M}px`,...b,...DB(f,m)},onBlur:me=>{H.current&&!me.currentTarget.contains(me.relatedTarget)&&(H.current=!1,se.current&&(se.current.focus({preventScroll:!0}),se.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||H.current||(H.current=!0,se.current=me.relatedTarget)},onMouseEnter:()=>he(!0),onMouseMove:()=>he(!0),onMouseLeave:()=>{ce||he(!1)},onDragEnd:()=>he(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||Se(!0)},onPointerUp:()=>Se(!1)},V.filter(me=>!me.position&&de===0||me.position===ue).map((me,Ae)=>{var Ee,Fe;return le.createElement(LB,{key:me.id,icons:L,index:Ae,toast:me,defaultRichColors:w,duration:(Ee=R==null?void 0:R.duration)!=null?Ee:x,className:R==null?void 0:R.className,descriptionClassName:R==null?void 0:R.descriptionClassName,invert:r,visibleToasts:A,closeButton:(Fe=R==null?void 0:R.closeButton)!=null?Fe:d,interacting:ce,position:ue,style:R==null?void 0:R.style,unstyled:R==null?void 0:R.unstyled,classNames:R==null?void 0:R.classNames,cancelButtonStyle:R==null?void 0:R.cancelButtonStyle,actionButtonStyle:R==null?void 0:R.actionButtonStyle,closeButtonAriaLabel:R==null?void 0:R.closeButtonAriaLabel,removeToast:ee,toasts:V.filter(Be=>Be.position==me.position),heights:J.filter(Be=>Be.position==me.position),setHeights:ie,expandByDefault:c,gap:M,expanded:we,swipeDirections:e.swipeDirections})})):null}))}),FB="_toaster_uhdob_2",jB="_toast_uhdob_2",BB="_content_uhdob_35",$B="_title_uhdob_43",zB="_description_uhdob_50",HB="_icon_uhdob_56",UB="_actionButton_uhdob_66",VB="_cancelButton_uhdob_93",GB="_closeButton_uhdob_119",wo={toaster:FB,toast:jB,content:BB,title:$B,description:zB,icon:HB,actionButton:UB,cancelButton:VB,closeButton:GB},WB=({className:i,...e})=>_.jsx(OB,{className:`${wo.toaster} ${i??""}`,toastOptions:{unstyled:!0,classNames:{toast:wo.toast,content:wo.content,title:wo.title,actionButton:wo.actionButton,cancelButton:wo.cancelButton,closeButton:wo.closeButton,description:wo.description,icon:wo.icon}},...e}),qB=()=>{let i=Yh(),e=P.useMemo(()=>{let t=i.hash;const n=r=>r.slice(1);return t?document.getElementById(n(t)):null},[i]);return P.useEffect(()=>{e&&e.scrollIntoView({behavior:"smooth",inline:"nearest"})},[e]),null},KB=new VO({defaultOptions:{queries:{staleTime:60*1e3}}}),YB=({children:i})=>_.jsxs(WO,{client:KB,children:[_.jsx(qB,{}),_.jsxs(aB,{children:[i,_.jsx(WB,{})]})]}),tP=globalThis||void 0||self;var Wb={exports:{}},qb,DC;function XB(){if(DC)return qb;DC=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qb=i,qb}var Kb,OC;function QB(){if(OC)return Kb;OC=1;var i=XB();function e(){}function t(){}return t.resetWarningCache=e,Kb=function(){function n(l,c,d,p,f,m){if(m!==i){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function r(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Kb}var FC;function ZB(){return FC||(FC=1,Wb.exports=QB()()),Wb.exports}var JB=ZB();const Lt=Cu(JB);var Yb,jC;function e3(){if(jC)return Yb;jC=1;function i(c){return c&&typeof c=="object"&&"default"in c?c.default:c}var e=v0(),t=i(e);function n(c,d,p){return d in c?Object.defineProperty(c,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):c[d]=p,c}function r(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var o=!!(typeof window<"u"&&window.document&&window.document.createElement);function l(c,d,p){if(typeof c!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof d!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof p<"u"&&typeof p!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function f(m){return m.displayName||m.name||"Component"}return function(y){if(typeof y!="function")throw new Error("Expected WrappedComponent to be a React component.");var w=[],x;function b(){x=c(w.map(function(R){return R.props})),A.canUseDOM?d(x):p&&(x=p(x))}var A=(function(R){r(k,R);function k(){return R.apply(this,arguments)||this}k.peek=function(){return x},k.rewind=function(){if(k.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var F=x;return x=void 0,w=[],F};var M=k.prototype;return M.UNSAFE_componentWillMount=function(){w.push(this),b()},M.componentDidUpdate=function(){b()},M.componentWillUnmount=function(){var F=w.indexOf(this);w.splice(F,1),b()},M.render=function(){return t.createElement(y,this.props)},k})(e.PureComponent);return n(A,"displayName","SideEffect("+f(y)+")"),n(A,"canUseDOM",o),A}}return Yb=l,Yb}var t3=e3();const n3=Cu(t3);var Xb,BC;function r3(){if(BC)return Xb;BC=1;var i=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function r(o,l){if(o===l)return!0;if(o&&l&&typeof o=="object"&&typeof l=="object"){if(o.constructor!==l.constructor)return!1;var c,d,p;if(Array.isArray(o)){if(c=o.length,c!=l.length)return!1;for(d=c;d--!==0;)if(!r(o[d],l[d]))return!1;return!0}var f;if(e&&o instanceof Map&&l instanceof Map){if(o.size!==l.size)return!1;for(f=o.entries();!(d=f.next()).done;)if(!l.has(d.value[0]))return!1;for(f=o.entries();!(d=f.next()).done;)if(!r(d.value[1],l.get(d.value[0])))return!1;return!0}if(t&&o instanceof Set&&l instanceof Set){if(o.size!==l.size)return!1;for(f=o.entries();!(d=f.next()).done;)if(!l.has(d.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(l)){if(c=o.length,c!=l.length)return!1;for(d=c;d--!==0;)if(o[d]!==l[d])return!1;return!0}if(o.constructor===RegExp)return o.source===l.source&&o.flags===l.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof l.valueOf=="function")return o.valueOf()===l.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof l.toString=="function")return o.toString()===l.toString();if(p=Object.keys(o),c=p.length,c!==Object.keys(l).length)return!1;for(d=c;d--!==0;)if(!Object.prototype.hasOwnProperty.call(l,p[d]))return!1;if(i&&o instanceof Element)return!1;for(d=c;d--!==0;)if(!((p[d]==="_owner"||p[d]==="__v"||p[d]==="__o")&&o.$$typeof)&&!r(o[p[d]],l[p[d]]))return!1;return!0}return o!==o&&l!==l}return Xb=function(l,c){try{return r(l,c)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},Xb}var i3=r3();const s3=Cu(i3);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Qb,$C;function o3(){if($C)return Qb;$C=1;var i=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function n(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function r(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var l={},c=0;c<10;c++)l["_"+String.fromCharCode(c)]=c;var d=Object.getOwnPropertyNames(l).map(function(f){return l[f]});if(d.join("")!=="0123456789")return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(f){p[f]=f}),Object.keys(Object.assign({},p)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Qb=r()?Object.assign:function(o,l){for(var c,d=n(o),p,f=1;f<arguments.length;f++){c=Object(arguments[f]);for(var m in c)e.call(c,m)&&(d[m]=c[m]);if(i){p=i(c);for(var y=0;y<p.length;y++)t.call(c,p[y])&&(d[p[y]]=c[p[y]])}}return d},Qb}var a3=o3();const l3=Cu(a3);var bu={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ye={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ye).map(function(i){return Ye[i]});var jt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Fv={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},wp={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},c3=Object.keys(Fv).reduce(function(i,e){return i[Fv[e]]=e,i},{}),u3=[Ye.NOSCRIPT,Ye.SCRIPT,Ye.STYLE],hs="data-react-helmet",d3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},h3=function(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")},f3=(function(){function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}})(),Nr=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},p3=function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)},zC=function(i,e){var t={};for(var n in i)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);return t},m3=function(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:i},D_=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},g3=function(e){var t=_d(e,Ye.TITLE),n=_d(e,wp.TITLE_TEMPLATE);if(n&&t)return n.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var r=_d(e,wp.DEFAULT_TITLE);return t||r||void 0},y3=function(e){return _d(e,wp.ON_CHANGE_CLIENT_STATE)||function(){}},Zb=function(e,t){return t.filter(function(n){return typeof n[e]<"u"}).map(function(n){return n[e]}).reduce(function(n,r){return Nr({},n,r)},{})},v3=function(e,t){return t.filter(function(n){return typeof n[Ye.BASE]<"u"}).map(function(n){return n[Ye.BASE]}).reverse().reduce(function(n,r){if(!n.length)for(var o=Object.keys(r),l=0;l<o.length;l++){var c=o[l],d=c.toLowerCase();if(e.indexOf(d)!==-1&&r[d])return n.concat(r)}return n},[])},jf=function(e,t,n){var r={};return n.filter(function(o){return Array.isArray(o[e])?!0:(typeof o[e]<"u"&&x3("Helmet: "+e+' should be of type "Array". Instead found type "'+d3(o[e])+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,l){var c={};l.filter(function(y){for(var w=void 0,x=Object.keys(y),b=0;b<x.length;b++){var A=x[b],R=A.toLowerCase();t.indexOf(R)!==-1&&!(w===jt.REL&&y[w].toLowerCase()==="canonical")&&!(R===jt.REL&&y[R].toLowerCase()==="stylesheet")&&(w=R),t.indexOf(A)!==-1&&(A===jt.INNER_HTML||A===jt.CSS_TEXT||A===jt.ITEM_PROP)&&(w=A)}if(!w||!y[w])return!1;var k=y[w].toLowerCase();return r[w]||(r[w]={}),c[w]||(c[w]={}),r[w][k]?!1:(c[w][k]=!0,!0)}).reverse().forEach(function(y){return o.push(y)});for(var d=Object.keys(c),p=0;p<d.length;p++){var f=d[p],m=l3({},r[f],c[f]);r[f]=m}return o},[]).reverse()},_d=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},w3=function(e){return{baseTag:v3([jt.HREF,jt.TARGET],e),bodyAttributes:Zb(bu.BODY,e),defer:_d(e,wp.DEFER),encode:_d(e,wp.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Zb(bu.HTML,e),linkTags:jf(Ye.LINK,[jt.REL,jt.HREF],e),metaTags:jf(Ye.META,[jt.NAME,jt.CHARSET,jt.HTTPEQUIV,jt.PROPERTY,jt.ITEM_PROP],e),noscriptTags:jf(Ye.NOSCRIPT,[jt.INNER_HTML],e),onChangeClientState:y3(e),scriptTags:jf(Ye.SCRIPT,[jt.SRC,jt.INNER_HTML],e),styleTags:jf(Ye.STYLE,[jt.CSS_TEXT],e),title:g3(e),titleAttributes:Zb(bu.TITLE,e)}},O_=(function(){var i=Date.now();return function(e){var t=Date.now();t-i>16?(i=t,e(t)):setTimeout(function(){O_(e)},0)}})(),HC=function(e){return clearTimeout(e)},b3=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||O_:tP.requestAnimationFrame||O_,_3=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||HC:tP.cancelAnimationFrame||HC,x3=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Bf=null,S3=function(e){Bf&&_3(Bf),e.defer?Bf=b3(function(){UC(e,function(){Bf=null})}):(UC(e),Bf=null)},UC=function(e,t){var n=e.baseTag,r=e.bodyAttributes,o=e.htmlAttributes,l=e.linkTags,c=e.metaTags,d=e.noscriptTags,p=e.onChangeClientState,f=e.scriptTags,m=e.styleTags,y=e.title,w=e.titleAttributes;F_(Ye.BODY,r),F_(Ye.HTML,o),E3(y,w);var x={baseTag:td(Ye.BASE,n),linkTags:td(Ye.LINK,l),metaTags:td(Ye.META,c),noscriptTags:td(Ye.NOSCRIPT,d),scriptTags:td(Ye.SCRIPT,f),styleTags:td(Ye.STYLE,m)},b={},A={};Object.keys(x).forEach(function(R){var k=x[R],M=k.newTags,L=k.oldTags;M.length&&(b[R]=M),L.length&&(A[R]=x[R].oldTags)}),t&&t(),p(e,b,A)},nP=function(e){return Array.isArray(e)?e.join(""):e},E3=function(e,t){typeof e<"u"&&document.title!==e&&(document.title=nP(e)),F_(Ye.TITLE,t)},F_=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(hs),o=r?r.split(","):[],l=[].concat(o),c=Object.keys(t),d=0;d<c.length;d++){var p=c[d],f=t[p]||"";n.getAttribute(p)!==f&&n.setAttribute(p,f),o.indexOf(p)===-1&&o.push(p);var m=l.indexOf(p);m!==-1&&l.splice(m,1)}for(var y=l.length-1;y>=0;y--)n.removeAttribute(l[y]);o.length===l.length?n.removeAttribute(hs):n.getAttribute(hs)!==c.join(",")&&n.setAttribute(hs,c.join(","))}},td=function(e,t){var n=document.head||document.querySelector(Ye.HEAD),r=n.querySelectorAll(e+"["+hs+"]"),o=Array.prototype.slice.call(r),l=[],c=void 0;return t&&t.length&&t.forEach(function(d){var p=document.createElement(e);for(var f in d)if(d.hasOwnProperty(f))if(f===jt.INNER_HTML)p.innerHTML=d.innerHTML;else if(f===jt.CSS_TEXT)p.styleSheet?p.styleSheet.cssText=d.cssText:p.appendChild(document.createTextNode(d.cssText));else{var m=typeof d[f]>"u"?"":d[f];p.setAttribute(f,m)}p.setAttribute(hs,"true"),o.some(function(y,w){return c=w,p.isEqualNode(y)})?o.splice(c,1):l.push(p)}),o.forEach(function(d){return d.parentNode.removeChild(d)}),l.forEach(function(d){return n.appendChild(d)}),{oldTags:o,newTags:l}},rP=function(e){return Object.keys(e).reduce(function(t,n){var r=typeof e[n]<"u"?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r},"")},A3=function(e,t,n,r){var o=rP(n),l=nP(t);return o?"<"+e+" "+hs+'="true" '+o+">"+D_(l,r)+"</"+e+">":"<"+e+" "+hs+'="true">'+D_(l,r)+"</"+e+">"},C3=function(e,t,n){return t.reduce(function(r,o){var l=Object.keys(o).filter(function(p){return!(p===jt.INNER_HTML||p===jt.CSS_TEXT)}).reduce(function(p,f){var m=typeof o[f]>"u"?f:f+'="'+D_(o[f],n)+'"';return p?p+" "+m:m},""),c=o.innerHTML||o.cssText||"",d=u3.indexOf(e)===-1;return r+"<"+e+" "+hs+'="true" '+l+(d?"/>":">"+c+"</"+e+">")},"")},iP=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,r){return n[Fv[r]||r]=e[r],n},t)},T3=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,r){return n[c3[r]||r]=e[r],n},t)},R3=function(e,t,n){var r,o=(r={key:t},r[hs]=!0,r),l=iP(n,o);return[le.createElement(Ye.TITLE,l,t)]},P3=function(e,t){return t.map(function(n,r){var o,l=(o={key:r},o[hs]=!0,o);return Object.keys(n).forEach(function(c){var d=Fv[c]||c;if(d===jt.INNER_HTML||d===jt.CSS_TEXT){var p=n.innerHTML||n.cssText;l.dangerouslySetInnerHTML={__html:p}}else l[d]=n[c]}),le.createElement(e,l)})},bo=function(e,t,n){switch(e){case Ye.TITLE:return{toComponent:function(){return R3(e,t.title,t.titleAttributes)},toString:function(){return A3(e,t.title,t.titleAttributes,n)}};case bu.BODY:case bu.HTML:return{toComponent:function(){return iP(t)},toString:function(){return rP(t)}};default:return{toComponent:function(){return P3(e,t)},toString:function(){return C3(e,t,n)}}}},sP=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,o=e.htmlAttributes,l=e.linkTags,c=e.metaTags,d=e.noscriptTags,p=e.scriptTags,f=e.styleTags,m=e.title,y=m===void 0?"":m,w=e.titleAttributes;return{base:bo(Ye.BASE,t,r),bodyAttributes:bo(bu.BODY,n,r),htmlAttributes:bo(bu.HTML,o,r),link:bo(Ye.LINK,l,r),meta:bo(Ye.META,c,r),noscript:bo(Ye.NOSCRIPT,d,r),script:bo(Ye.SCRIPT,p,r),style:bo(Ye.STYLE,f,r),title:bo(Ye.TITLE,{title:y,titleAttributes:w},r)}},k3=function(e){var t,n;return n=t=(function(r){p3(o,r);function o(){return h3(this,o),m3(this,r.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(c){return!s3(this.props,c)},o.prototype.mapNestedChildrenToProps=function(c,d){if(!d)return null;switch(c.type){case Ye.SCRIPT:case Ye.NOSCRIPT:return{innerHTML:d};case Ye.STYLE:return{cssText:d}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(c){var d,p=c.child,f=c.arrayTypeChildren,m=c.newChildProps,y=c.nestedChildren;return Nr({},f,(d={},d[p.type]=[].concat(f[p.type]||[],[Nr({},m,this.mapNestedChildrenToProps(p,y))]),d))},o.prototype.mapObjectTypeChildren=function(c){var d,p,f=c.child,m=c.newProps,y=c.newChildProps,w=c.nestedChildren;switch(f.type){case Ye.TITLE:return Nr({},m,(d={},d[f.type]=w,d.titleAttributes=Nr({},y),d));case Ye.BODY:return Nr({},m,{bodyAttributes:Nr({},y)});case Ye.HTML:return Nr({},m,{htmlAttributes:Nr({},y)})}return Nr({},m,(p={},p[f.type]=Nr({},y),p))},o.prototype.mapArrayTypeChildrenToProps=function(c,d){var p=Nr({},d);return Object.keys(c).forEach(function(f){var m;p=Nr({},p,(m={},m[f]=c[f],m))}),p},o.prototype.warnOnInvalidChildren=function(c,d){return!0},o.prototype.mapChildrenToProps=function(c,d){var p=this,f={};return le.Children.forEach(c,function(m){if(!(!m||!m.props)){var y=m.props,w=y.children,x=zC(y,["children"]),b=T3(x);switch(p.warnOnInvalidChildren(m,w),m.type){case Ye.LINK:case Ye.META:case Ye.NOSCRIPT:case Ye.SCRIPT:case Ye.STYLE:f=p.flattenArrayTypeChildren({child:m,arrayTypeChildren:f,newChildProps:b,nestedChildren:w});break;default:d=p.mapObjectTypeChildren({child:m,newProps:d,newChildProps:b,nestedChildren:w});break}}}),d=this.mapArrayTypeChildrenToProps(f,d),d},o.prototype.render=function(){var c=this.props,d=c.children,p=zC(c,["children"]),f=Nr({},p);return d&&(f=this.mapChildrenToProps(d,f)),le.createElement(e,f)},f3(o,null,[{key:"canUseDOM",set:function(c){e.canUseDOM=c}}]),o})(le.Component),t.propTypes={base:Lt.object,bodyAttributes:Lt.object,children:Lt.oneOfType([Lt.arrayOf(Lt.node),Lt.node]),defaultTitle:Lt.string,defer:Lt.bool,encodeSpecialCharacters:Lt.bool,htmlAttributes:Lt.object,link:Lt.arrayOf(Lt.object),meta:Lt.arrayOf(Lt.object),noscript:Lt.arrayOf(Lt.object),onChangeClientState:Lt.func,script:Lt.arrayOf(Lt.object),style:Lt.arrayOf(Lt.object),title:Lt.string,titleAttributes:Lt.object,titleTemplate:Lt.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var r=e.rewind();return r||(r=sP({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),r},n},I3=function(){return null},M3=n3(w3,S3,sP)(I3),jv=k3(M3);jv.renderStatic=jv.rewind;/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oP=(...i)=>i.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=P.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:r="",children:o,iconNode:l,...c},d)=>P.createElement("svg",{ref:d,...L3,width:e,height:e,stroke:i,strokeWidth:n?Number(t)*24/Number(e):t,className:oP("lucide",r),...c},[...l.map(([p,f])=>P.createElement(p,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=(i,e)=>{const t=P.forwardRef(({className:n,...r},o)=>P.createElement(D3,{ref:o,iconNode:e,className:oP(`lucide-${N3(i)}`,n),...r}));return t.displayName=`${i}`,t};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],F3=$t("ArrowRight",O3);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],I1=$t("Check",j3);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],M1=$t("ChevronDown",B3);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],z3=$t("ChevronLeft",$3);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],aP=$t("ChevronRight",H3);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],V3=$t("ChevronUp",U3);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"m20.9 18.55-8-15.98a1 1 0 0 0-1.8 0l-8 15.98",key:"53pte7"}],["ellipse",{cx:"12",cy:"19",rx:"9",ry:"3",key:"1ji25f"}]],W3=$t("Cone",G3);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],K3=$t("Copy",q3);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],lP=$t("Download",Y3);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],VC=$t("FileText",X3);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],GC=$t("GitMerge",Q3);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],WC=$t("Github",Z3);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],e$=$t("Layers",J3);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],Wh=$t("Linkedin",t$);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],r$=$t("Menu",n$);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],qC=$t("Moon",i$);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],o$=$t("RotateCcw",s$);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],l$=$t("SlidersHorizontal",a$);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["path",{d:"M12 8a2.83 2.83 0 0 0 4 4 4 4 0 1 1-4-4",key:"1fu5g2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.9 4.9 1.4 1.4",key:"b9915j"}],["path",{d:"m17.7 17.7 1.4 1.4",key:"qc3ed3"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.3 17.7-1.4 1.4",key:"5gca6"}],["path",{d:"m19.1 4.9-1.4 1.4",key:"wpu9u6"}]],KC=$t("SunMoon",c$);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Jb=$t("Sun",u$);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],h$=$t("Waves",d$);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],YC=$t("X",f$);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],m$=$t("ZoomIn",p$);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],y$=$t("ZoomOut",g$),v$="_button_1jq7i_2",w$="_sm_1jq7i_32",b$="_md_1jq7i_38",_$="_lg_1jq7i_44",x$="_icon_1jq7i_52",S$="_primary_1jq7i_97",E$="_secondary_1jq7i_115",A$="_destructive_1jq7i_131",C$="_outline_1jq7i_155",T$="_ghost_1jq7i_175",R$="_link_1jq7i_192",P$="_disabled_1jq7i_224",k$="_dark_1jq7i_231",My={button:v$,sm:w$,md:b$,lg:_$,icon:x$,"icon-md":"_icon-md_1jq7i_53","icon-sm":"_icon-sm_1jq7i_59","icon-lg":"_icon-lg_1jq7i_65",primary:S$,secondary:E$,destructive:A$,outline:C$,ghost:T$,link:R$,disabled:P$,dark:k$},Di=le.forwardRef(({children:i,variant:e="primary",size:t="md",asChild:n=!1,className:r,disabled:o,type:l="button",...c},d)=>{const p=n?KO:"button";return _.jsx(p,{ref:d,type:l,className:`
        ${My.button} 
        ${My[e]} 
        ${My[t]} 
        ${o?My.disabled:""} 
        ${r||""}
      `,disabled:o,...c,children:i})});Di.displayName="Button";function I0(i){const e=i+"CollectionProvider",[t,n]=ao(e),[r,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=b=>{const{scope:A,children:R}=b,k=le.useRef(null),M=le.useRef(new Map).current;return _.jsx(r,{scope:A,itemMap:M,collectionRef:k,children:R})};l.displayName=e;const c=i+"CollectionSlot",d=Uh(c),p=le.forwardRef((b,A)=>{const{scope:R,children:k}=b,M=o(c,R),L=Et(A,M.collectionRef);return _.jsx(d,{ref:L,children:k})});p.displayName=c;const f=i+"CollectionItemSlot",m="data-radix-collection-item",y=Uh(f),w=le.forwardRef((b,A)=>{const{scope:R,children:k,...M}=b,L=le.useRef(null),F=Et(A,L),$=o(f,R);return le.useEffect(()=>($.itemMap.set(L,{ref:L,...M}),()=>void $.itemMap.delete(L))),_.jsx(y,{[m]:"",ref:F,children:k})});w.displayName=f;function x(b){const A=o(i+"CollectionConsumer",b);return le.useCallback(()=>{const k=A.collectionRef.current;if(!k)return[];const M=Array.from(k.querySelectorAll(`[${m}]`));return Array.from(A.itemMap.values()).sort(($,B)=>M.indexOf($.ref.current)-M.indexOf(B.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:l,Slot:p,ItemSlot:w},x,n]}var I$=P.createContext(void 0);function ug(i){const e=P.useContext(I$);return i||e||"ltr"}var e_="rovingFocusGroup.onEntryFocus",M$={bubbles:!1,cancelable:!0},dg="RovingFocusGroup",[j_,cP,N$]=I0(dg),[L$,M0]=ao(dg,[N$]),[D$,O$]=L$(dg),uP=P.forwardRef((i,e)=>_.jsx(j_.Provider,{scope:i.__scopeRovingFocusGroup,children:_.jsx(j_.Slot,{scope:i.__scopeRovingFocusGroup,children:_.jsx(F$,{...i,ref:e})})}));uP.displayName=dg;var F$=P.forwardRef((i,e)=>{const{__scopeRovingFocusGroup:t,orientation:n,loop:r=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:p,preventScrollOnEntryFocus:f=!1,...m}=i,y=P.useRef(null),w=Et(e,y),x=ug(o),[b,A]=ca({prop:l,defaultProp:c??null,onChange:d,caller:dg}),[R,k]=P.useState(!1),M=ro(p),L=cP(t),F=P.useRef(!1),[$,B]=P.useState(0);return P.useEffect(()=>{const V=y.current;if(V)return V.addEventListener(e_,M),()=>V.removeEventListener(e_,M)},[M]),_.jsx(D$,{scope:t,orientation:n,dir:x,loop:r,currentTabStopId:b,onItemFocus:P.useCallback(V=>A(V),[A]),onItemShiftTab:P.useCallback(()=>k(!0),[]),onFocusableItemAdd:P.useCallback(()=>B(V=>V+1),[]),onFocusableItemRemove:P.useCallback(()=>B(V=>V-1),[]),children:_.jsx(et.div,{tabIndex:R||$===0?-1:0,"data-orientation":n,...m,ref:w,style:{outline:"none",...i.style},onMouseDown:Ne(i.onMouseDown,()=>{F.current=!0}),onFocus:Ne(i.onFocus,V=>{const q=!F.current;if(V.target===V.currentTarget&&q&&!R){const J=new CustomEvent(e_,M$);if(V.currentTarget.dispatchEvent(J),!J.defaultPrevented){const ie=L().filter(K=>K.focusable),we=ie.find(K=>K.active),he=ie.find(K=>K.id===b),Se=[we,he,...ie].filter(Boolean).map(K=>K.ref.current);fP(Se,f)}}F.current=!1}),onBlur:Ne(i.onBlur,()=>k(!1))})})}),dP="RovingFocusGroupItem",hP=P.forwardRef((i,e)=>{const{__scopeRovingFocusGroup:t,focusable:n=!0,active:r=!1,tabStopId:o,children:l,...c}=i,d=io(),p=o||d,f=O$(dP,t),m=f.currentTabStopId===p,y=cP(t),{onFocusableItemAdd:w,onFocusableItemRemove:x,currentTabStopId:b}=f;return P.useEffect(()=>{if(n)return w(),()=>x()},[n,w,x]),_.jsx(j_.ItemSlot,{scope:t,id:p,focusable:n,active:r,children:_.jsx(et.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...c,ref:e,onMouseDown:Ne(i.onMouseDown,A=>{n?f.onItemFocus(p):A.preventDefault()}),onFocus:Ne(i.onFocus,()=>f.onItemFocus(p)),onKeyDown:Ne(i.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){f.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const R=$$(A,f.orientation,f.dir);if(R!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let M=y().filter(L=>L.focusable).map(L=>L.ref.current);if(R==="last")M.reverse();else if(R==="prev"||R==="next"){R==="prev"&&M.reverse();const L=M.indexOf(A.currentTarget);M=f.loop?z$(M,L+1):M.slice(L+1)}setTimeout(()=>fP(M))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:b!=null}):l})})});hP.displayName=dP;var j$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function B$(i,e){return e!=="rtl"?i:i==="ArrowLeft"?"ArrowRight":i==="ArrowRight"?"ArrowLeft":i}function $$(i,e,t){const n=B$(i.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return j$[n]}function fP(i,e=!1){const t=document.activeElement;for(const n of i)if(n===t||(n.focus({preventScroll:e}),document.activeElement!==t))return}function z$(i,e){return i.map((t,n)=>i[(e+n)%i.length])}var pP=uP,mP=hP,N0="Tabs",[H$,HW]=ao(N0,[M0]),gP=M0(),[U$,N1]=H$(N0),yP=P.forwardRef((i,e)=>{const{__scopeTabs:t,value:n,onValueChange:r,defaultValue:o,orientation:l="horizontal",dir:c,activationMode:d="automatic",...p}=i,f=ug(c),[m,y]=ca({prop:n,onChange:r,defaultProp:o??"",caller:N0});return _.jsx(U$,{scope:t,baseId:io(),value:m,onValueChange:y,orientation:l,dir:f,activationMode:d,children:_.jsx(et.div,{dir:f,"data-orientation":l,...p,ref:e})})});yP.displayName=N0;var vP="TabsList",wP=P.forwardRef((i,e)=>{const{__scopeTabs:t,loop:n=!0,...r}=i,o=N1(vP,t),l=gP(t);return _.jsx(pP,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:n,children:_.jsx(et.div,{role:"tablist","aria-orientation":o.orientation,...r,ref:e})})});wP.displayName=vP;var bP="TabsTrigger",_P=P.forwardRef((i,e)=>{const{__scopeTabs:t,value:n,disabled:r=!1,...o}=i,l=N1(bP,t),c=gP(t),d=EP(l.baseId,n),p=AP(l.baseId,n),f=n===l.value;return _.jsx(mP,{asChild:!0,...c,focusable:!r,active:f,children:_.jsx(et.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":p,"data-state":f?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:d,...o,ref:e,onMouseDown:Ne(i.onMouseDown,m=>{!r&&m.button===0&&m.ctrlKey===!1?l.onValueChange(n):m.preventDefault()}),onKeyDown:Ne(i.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(n)}),onFocus:Ne(i.onFocus,()=>{const m=l.activationMode!=="manual";!f&&!r&&m&&l.onValueChange(n)})})})});_P.displayName=bP;var xP="TabsContent",SP=P.forwardRef((i,e)=>{const{__scopeTabs:t,value:n,forceMount:r,children:o,...l}=i,c=N1(xP,t),d=EP(c.baseId,n),p=AP(c.baseId,n),f=n===c.value,m=P.useRef(f);return P.useEffect(()=>{const y=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(y)},[]),_.jsx(fa,{present:r||f,children:({present:y})=>_.jsx(et.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!y,id:p,tabIndex:0,...l,ref:e,style:{...i.style,animationDuration:m.current?"0s":void 0},children:y&&o})})});SP.displayName=xP;function EP(i,e){return`${i}-trigger-${e}`}function AP(i,e){return`${i}-content-${e}`}var V$=yP,CP=wP,TP=_P,RP=SP;const G$="_tabsList_22vco_2",W$="_tabsTrigger_22vco_16",q$="_tabsContent_22vco_92",L1={tabsList:G$,tabsTrigger:W$,tabsContent:q$},K$=V$,PP=P.forwardRef(({className:i,...e},t)=>_.jsx(CP,{ref:t,className:`${L1.tabsList} ${i||""}`,...e}));PP.displayName=CP.displayName;const qy=P.forwardRef(({className:i,...e},t)=>_.jsx(TP,{ref:t,className:`${L1.tabsTrigger} ${i||""}`,...e}));qy.displayName=TP.displayName;const Ky=P.forwardRef(({className:i,...e},t)=>_.jsx(RP,{ref:t,className:`${L1.tabsContent} ${i||""}`,...e}));Ky.displayName=RP.displayName;const Y$="_container_rhvl3_1",X$="_header_rhvl3_10",Q$="_language_rhvl3_18",Z$="_checkIcon_rhvl3_24",J$="_pre_rhvl3_28",e4="_code_rhvl3_35",nd={container:Y$,header:X$,language:Q$,checkIcon:Z$,pre:J$,code:e4},Bv=({code:i,language:e,className:t})=>{const[n,r]=le.useState(!1),o=()=>{navigator.clipboard.writeText(i.trim()).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)})};return _.jsxs("div",{className:`${nd.container} ${t||""}`,children:[_.jsxs("div",{className:nd.header,children:[_.jsx("span",{className:nd.language,children:e}),_.jsxs(lB,{children:[_.jsx(cB,{asChild:!0,children:_.jsx(Di,{variant:"ghost",size:"icon-sm",onClick:o,"aria-label":"Copy code",children:n?_.jsx(I1,{size:14,className:nd.checkIcon}):_.jsx(K3,{size:14})})}),_.jsx(eP,{children:n?"Copied!":"Copy to clipboard"})]})]}),_.jsx("pre",{className:nd.pre,children:_.jsx("code",{className:nd.code,children:i.trim()})})]})},t4="_vlcLogo_17igu_1",n4="_logoImage_17igu_7",r4="_sm_17igu_18",i4="_md_17igu_23",s4="_lg_17igu_28",t_={vlcLogo:t4,logoImage:n4,sm:r4,md:i4,lg:s4},$v=({size:i="md",className:e})=>_.jsx("div",{className:`${t_.vlcLogo} ${t_[i]} ${e||""}`,children:_.jsx("img",{src:"https://assets.floot.app/10659a76-df27-42f7-82d3-f6600928fb02/c77f672d-462e-4609-b03b-8b70cd76d09c.png",alt:"VLC Media Player Logo",className:t_.logoImage})}),o4="_pageContainer_13vtj_1",a4="_main_13vtj_8",l4="_hero_13vtj_15",c4="_heroContent_13vtj_25",u4="_heroHeader_13vtj_31",d4="_vlcLogo_13vtj_38",h4="_heroTitle_13vtj_42",f4="_heroSubtitle_13vtj_75",p4="_attribution_13vtj_82",m4="_heroActions_13vtj_100",g4="_heroVisual_13vtj_106",y4="_heroIcon_13vtj_113",v4="_featuresSection_13vtj_135",w4="_sectionTitle_13vtj_141",b4="_sectionDescription_13vtj_149",_4="_tabs_13vtj_157",x4="_tabContent_13vtj_162",S4="_featureGrid_13vtj_172",E4="_featureText_13vtj_180",A4="_featureVisual_13vtj_239",C4="_reverbParams_13vtj_245",T4="_contributionsList_13vtj_276",R4="_contributionItem_13vtj_294",P4="_footer_13vtj_328",k4="_footerContent_13vtj_335",I4="_footerBranding_13vtj_349",M4="_footerAttribution_13vtj_356",N4="_mentorThanks_13vtj_368",L4="_mentorHeading_13vtj_377",D4="_mentorList_13vtj_384",O4="_mentorLink_13vtj_392",F4="_codeSnippetFixed_13vtj_422",Qe={pageContainer:o4,main:a4,hero:l4,heroContent:c4,heroHeader:u4,vlcLogo:d4,heroTitle:h4,heroSubtitle:f4,attribution:p4,heroActions:m4,heroVisual:g4,heroIcon:y4,featuresSection:v4,sectionTitle:w4,sectionDescription:b4,tabs:_4,tabContent:x4,featureGrid:S4,featureText:E4,featureVisual:A4,reverbParams:C4,contributionsList:T4,contributionItem:R4,footer:P4,footerContent:k4,footerBranding:I4,footerAttribution:M4,mentorThanks:N4,mentorHeading:L4,mentorList:D4,mentorLink:O4,codeSnippetFixed:F4},j4=`
// A New Preset Callback Implementation in spatializer.cpp
static int PresetCallback( vlc_object_t *p_aout, char const *, vlc_value_t, vlc_value_t newval, void *p_data )
{
    filter_sys_t *p_sys = (filter_sys_t*)p_data;
    const char *psz_preset = newval.psz_string;

    if (!psz_preset || strcmp(psz_preset, "custom") == 0)
        return VLC_SUCCESS;

    int preset_idx = -1;
    for (size_t i = 0; i < g_spatializerPresets.size(); ++i)
    {
        if (strcmp(psz_preset, g_spatializerPresets[i].name) == 0)
        {
            preset_idx = i;
            break;
        }
    }

    if (preset_idx < 0)
        return VLC_EGENERIC;

    const auto& preset = g_spatializerPresets[preset_idx];
    msg_Dbg( p_aout, "Applying preset: %s", preset.name );

    for (const auto& cb : callbacks)
        var_DelCallback(p_aout, cb.psz_name, cb.fp_callback, p_sys);

    {
        vlc_mutex_locker locker( &p_sys->lock );
        p_sys->p_reverbm->setroomsize(preset.roomSize);
        p_sys->p_reverbm->setwidth(preset.width);
        p_sys->p_reverbm->setwet(preset.wet);
        p_sys->p_reverbm->setdry(preset.dry);
        p_sys->p_reverbm->setdamp(preset.damp);
    }

    var_SetFloat(p_aout, "spatializer-roomsize", preset.roomSize);
    var_SetFloat(p_aout, "spatializer-width",    preset.width);
    var_SetFloat(p_aout, "spatializer-wet",      preset.wet);
    var_SetFloat(p_aout, "spatializer-dry",      preset.dry);
    var_SetFloat(p_aout, "spatializer-damp",     preset.damp);

    for (const auto& cb : callbacks)
        var_AddCallback(p_aout, cb.psz_name, cb.fp_callback, p_sys);

    return VLC_SUCCESS;
}
`,B4=`
static block_t *DoWork(filter_t *p_filter, block_t *p_in_buf)
{
    filter_sys_t *p_sys = p_filter->p_sys;
    block_t *p_out_buf = NULL;
    int i_ret;

    /* Prepare input frame */
    AVFrame *p_in_frame = p_sys->p_frame;
    p_in_frame->sample_rate = p_filter->fmt_in.audio.i_rate;
    p_in_frame->nb_samples = p_in_buf->i_nb_samples;
    p_in_frame->format = AV_SAMPLE_FMT_FLT;

    vlc_to_av_channel_layout(&p_in_frame->ch_layout, &p_filter->fmt_in.audio);

    p_in_frame->data[0] = p_in_buf->p_buffer;
    /* CAUTION: For planar float FL32, there is only one data plane. Setting
     * linesize to 0 tells FFmpeg the buffer is contiguous, but setting it to
     * the actual buffer size might be more robust. */
    p_in_frame->linesize[0] = 0;
    p_in_frame->pts = p_in_buf->i_pts;

    i_ret = av_buffersrc_add_frame_flags(p_sys->p_src_ctx, p_in_frame, AV_BUFFERSRC_FLAG_KEEP_REF);
    if (i_ret < 0)
    {
        msg_Warn(p_filter, "Error submitting frame to the filter graph");
        block_Release(p_in_buf);
        av_channel_layout_uninit(&p_in_frame->ch_layout);
        return NULL;
    }

    while (true)
    {
        AVFrame *p_filtered_frame = av_frame_alloc();
        if (!p_filtered_frame)
        {
            msg_Err(p_filter, "Could not allocate filtered frame");
            break;
        }

        i_ret = av_buffersink_get_frame(p_sys->p_sink_ctx, p_filtered_frame);
        if (i_ret == AVERROR(EAGAIN) || i_ret == AVERROR_EOF)
        {
            av_frame_free(&p_filtered_frame);
            break;
        }
        else if (i_ret < 0)
        {
            msg_Warn(p_filter, "Error receiving frame from the filter graph");
            av_frame_free(&p_filtered_frame);
            break;
        }

        const int i_size = p_filtered_frame->nb_samples * p_filter->fmt_out.audio.i_bytes_per_frame;
        p_out_buf = block_Alloc(i_size);
        if (p_out_buf)
        {
            p_out_buf->i_nb_samples = p_filtered_frame->nb_samples;
            p_out_buf->i_dts = p_filtered_frame->pts;
            p_out_buf->i_pts = p_filtered_frame->pts;
            p_out_buf->i_length = vlc_tick_from_samples(p_out_buf->i_nb_samples,
                                                        p_filter->fmt_out.audio.i_rate);
            memcpy(p_out_buf->p_buffer, p_filtered_frame->data[0], i_size);
        }
        av_frame_free(&p_filtered_frame);
    }

    block_Release(p_in_buf);
    av_channel_layout_uninit(&p_in_frame->ch_layout);
    return p_out_buf;
}
`,$4=()=>_.jsxs(_.Fragment,{children:[_.jsxs(jv,{children:[_.jsx("title",{children:"GSOC Report 2025 - Benny Perumalla"}),_.jsx("meta",{name:"description",content:"GSOC 2025 project report by Benny Perumalla documenting advanced audio filters and DSP development for VLC Media Player, including spatializer's configurable presets, Dynaudnorm, and filtering implementations."})]}),_.jsxs("div",{className:Qe.pageContainer,children:[_.jsxs("main",{className:Qe.main,children:[_.jsxs("section",{className:Qe.hero,children:[_.jsxs("div",{className:Qe.heroContent,children:[_.jsxs("div",{className:Qe.heroHeader,children:[_.jsx($v,{size:"lg",className:Qe.vlcLogo}),_.jsx("h1",{className:Qe.heroTitle,children:"GSOC 2025: Advanced Audio Processing for VLC"})]}),_.jsx("p",{className:Qe.heroSubtitle,children:"A comprehensive Google Summer of Code 2025 project focused on developing advanced audio processing capabilities for VLC Media Player, featuring spatializer's configurable presets, Dynaudnorm, and high-performance filtering."}),_.jsx("div",{className:Qe.attribution,children:_.jsxs("p",{children:["By ",_.jsx("strong",{children:"Benny Perumalla"})]})}),_.jsxs("div",{className:Qe.heroActions,children:[_.jsx(Di,{asChild:!0,size:"lg",children:_.jsxs(Gy,{to:"/documentation",children:["View Documentation ",_.jsx(F3,{size:20})]})}),_.jsx(Di,{asChild:!0,variant:"outline",size:"lg",children:_.jsxs("a",{href:"https://code.videolan.org/BY01R/vlc-gsoc-audio",target:"_blank",rel:"noopener noreferrer",children:["Explore Code ",_.jsx(GC,{size:20})]})})]})]}),_.jsx("div",{className:Qe.heroVisual,children:_.jsx(h$,{className:Qe.heroIcon})})]}),_.jsxs("section",{className:Qe.featuresSection,children:[_.jsx("h2",{className:Qe.sectionTitle,children:"Core Contributions"}),_.jsx("p",{className:Qe.sectionDescription,children:"Explore the key features developed to improve the audio experience in VLC."}),_.jsxs(K$,{defaultValue:"spatializer",className:Qe.tabs,children:[_.jsxs(PP,{children:[_.jsxs(qy,{value:"spatializer",children:[_.jsx(e$,{size:16})," Spatializer"]}),_.jsxs(qy,{value:"Dynaudnorm",children:[_.jsx(l$,{size:16})," Dynaudnorm"]}),_.jsxs(qy,{value:"contributions",children:[_.jsx(GC,{size:16})," Contributions"]})]}),_.jsx(Ky,{value:"spatializer",className:Qe.tabContent,children:_.jsxs("div",{className:Qe.featureGrid,children:[_.jsxs("div",{className:Qe.featureText,children:[_.jsx("h3",{children:"Spatializer: configurable presets"}),_.jsx("p",{children:`The new preset system has been implemented that adds a dropdown menu to the filter's configuration panel. Users can now select from environments like "Auditorium," "Great Hall," or "Small Room." Selecting a preset automatically configures the underlying parameters.`}),_.jsxs("ul",{children:[_.jsx("li",{children:"New Presets Library (`spatializer_presets.h`)"}),_.jsx("li",{children:"UI and Logic Integration (`spatializer.cpp`)"}),_.jsx("li",{children:"Callback and State Management"})]})]}),_.jsx("div",{className:Qe.featureVisual,children:_.jsx("div",{className:Qe.codeSnippetFixed,children:_.jsx(Bv,{code:j4,language:"c"})})})]})}),_.jsx(Ky,{value:"Dynaudnorm",className:Qe.tabContent,children:_.jsxs("div",{className:Qe.featureGrid,children:[_.jsxs("div",{className:Qe.featureText,children:[_.jsx("h3",{children:"FFmpeg Dynaudnorm Audio Filter"}),_.jsx("p",{children:"The filter is designed to solve the common problem of inconsistent audio volume, providing a much smoother and more enjoyable listening experience without requiring constant manual volume adjustments."}),_.jsxs("div",{className:Qe.reverbParams,children:[_.jsx("h4",{children:"Key Parameters:"}),_.jsx("table",{children:_.jsxs("tbody",{children:[_.jsxs("tr",{children:[_.jsx("td",{children:"framelen"}),_.jsx("td",{children:"0.1 - 1.0"})]}),_.jsxs("tr",{children:[_.jsx("td",{children:"gausssize"}),_.jsx("td",{children:"0.0 - 1.0"})]}),_.jsxs("tr",{children:[_.jsx("td",{children:"peak"}),_.jsx("td",{children:"0.0 - 1.0"})]}),_.jsxs("tr",{children:[_.jsx("td",{children:"max-gain"}),_.jsx("td",{children:"0.0 - 1.0"})]}),_.jsxs("tr",{children:[_.jsx("td",{children:"target-rms"}),_.jsx("td",{children:"0.0 - 1.0"})]})]})})]})]}),_.jsx("div",{className:Qe.featureVisual,children:_.jsx("div",{className:Qe.codeSnippetFixed,children:_.jsx(Bv,{code:B4,language:"c"})})})]})}),_.jsx(Ky,{value:"contributions",className:Qe.tabContent,children:_.jsxs("div",{className:Qe.contributionsList,children:[_.jsx("h3",{children:"Merge Requests & Code Contributions"}),_.jsx("p",{children:"Our work is contributed directly to the VLC project. Below is a summary of our key merge requests."}),_.jsxs("div",{className:Qe.contributionItem,children:[_.jsx("h4",{children:_.jsx("a",{href:"https://code.videolan.org/BY01R/vlc-gsoc-audio/-/merge_requests/6",target:"_blank",rel:"noopener noreferrer",children:"feat(audio): Add new spatiafeat(audio): Add FFmpeg Dynaudnorm Audio Filterlizer audio filter"})}),_.jsx("p",{children:"The dynaudnorm filter addresses this by dynamically compressing the audio's dynamic range to maintain a consistent volume level, enhancing the overall listening experience."})]}),_.jsxs("div",{className:Qe.contributionItem,children:[_.jsx("h4",{children:_.jsx("a",{href:"https://code.videolan.org/BY01R/vlc-gsoc-audio/-/merge_requests/5",target:"_blank",rel:"noopener noreferrer",children:"Spatializer: configurable presets for the reverb settings"})}),_.jsx("p",{children:"A user-friendly preset system to the Audio Spatializer filter, improving usability by allowing users to quickly select from a range of pre-configured reverb environments."})]}),_.jsxs("div",{className:Qe.contributionItem,children:[_.jsx("h4",{children:_.jsx("a",{href:"https://code.videolan.org/BY01R/vlc-gsoc-audio/-/merge_requests/1",target:"_blank",rel:"noopener noreferrer",children:"feat: Implement multiband compressor functionality"})}),_.jsx("p",{children:"The integration of a multiband compressor into the existing compressor functionality within VLC. This enhancement significantly improves audio processing capabilities by allowing independent compression across different frequency bands."})]})]})})]})]})]}),_.jsx("footer",{className:Qe.footer,children:_.jsxs("div",{className:Qe.footerContent,children:[_.jsxs("div",{className:Qe.footerBranding,children:[_.jsx($v,{size:"sm"}),_.jsx("span",{children:"GSOC Report 2025 - VLC Audio Processing"})]}),_.jsxs("div",{className:Qe.footerAttribution,children:[_.jsxs("p",{children:["Created by ",_.jsx("strong",{children:"Benny Perumalla"})]}),_.jsx("p",{children:" 2025 - Contributing to VLC Media Player"})]}),_.jsxs("div",{className:Qe.mentorThanks,children:[_.jsx("p",{className:Qe.mentorHeading,children:"With gratitude to my mentors"}),_.jsxs("div",{className:Qe.mentorList,children:[_.jsxs("a",{className:Qe.mentorLink,href:"http://linkedin.com/in/thomasguillem/",target:"_blank",rel:"noopener noreferrer","aria-label":"Thomas Guillem on LinkedIn",children:[_.jsx(Wh,{size:16}),_.jsx("span",{children:"Thomas Guillem"})]}),_.jsxs("a",{className:Qe.mentorLink,href:"https://www.linkedin.com/in/fcartegnie/",target:"_blank",rel:"noopener noreferrer","aria-label":"Francois Cartegnie on LinkedIn",children:[_.jsx(Wh,{size:16}),_.jsx("span",{children:"Francois Cartegnie"})]})]})]})]})})]})]}),z4="_layout_10s1l_1",H4="_header_10s1l_10",U4="_headerContent_10s1l_19",V4="_logo_10s1l_29",G4="_logoIcon_10s1l_37",W4="_logoText_10s1l_43",q4="_nav_10s1l_48",K4="_navLink_10s1l_53",Y4="_active_10s1l_67",X4="_githubLink_10s1l_88",Q4="_headerActions_10s1l_97",Z4="_menuToggle_10s1l_103",J4="_mobileMenu_10s1l_118",ez="_mobileMenuContent_10s1l_124",tz="_backdrop_10s1l_143",nz="_open_10s1l_156",rz="_mobileMenuHeader_10s1l_168",iz="_mobileMenuTitle_10s1l_174",sz="_menuClose_10s1l_178",oz="_mobileNav_10s1l_215",az="_mobileNavLink_10s1l_221",lz="_mobileActions_10s1l_232",cz="_mobileIconLink_10s1l_246",uz="_main_10s1l_262",dz="_footer_10s1l_266",hz="_footerContent_10s1l_272",fz="_footerWaveform_10s1l_283",pz="_bar_10s1l_290",Je={layout:z4,header:H4,headerContent:U4,logo:V4,logoIcon:G4,logoText:W4,nav:q4,navLink:K4,active:Y4,githubLink:X4,headerActions:Q4,menuToggle:Z4,mobileMenu:J4,mobileMenuContent:ez,backdrop:tz,open:nz,mobileMenuHeader:rz,mobileMenuTitle:iz,menuClose:sz,mobileNav:oz,mobileNavLink:az,mobileActions:lz,mobileIconLink:cz,main:uz,footer:dz,footerContent:hz,footerWaveform:fz,bar:pz};var n_=0;function kP(){P.useEffect(()=>{const i=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",i[0]??XC()),document.body.insertAdjacentElement("beforeend",i[1]??XC()),n_++,()=>{n_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),n_--}},[])}function XC(){const i=document.createElement("span");return i.setAttribute("data-radix-focus-guard",""),i.tabIndex=0,i.style.outline="none",i.style.opacity="0",i.style.position="fixed",i.style.pointerEvents="none",i}var r_="focusScope.autoFocusOnMount",i_="focusScope.autoFocusOnUnmount",QC={bubbles:!1,cancelable:!0},mz="FocusScope",D1=P.forwardRef((i,e)=>{const{loop:t=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:o,...l}=i,[c,d]=P.useState(null),p=ro(r),f=ro(o),m=P.useRef(null),y=Et(e,b=>d(b)),w=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(n){let b=function(M){if(w.paused||!c)return;const L=M.target;c.contains(L)?m.current=L:ja(m.current,{select:!0})},A=function(M){if(w.paused||!c)return;const L=M.relatedTarget;L!==null&&(c.contains(L)||ja(m.current,{select:!0}))},R=function(M){if(document.activeElement===document.body)for(const F of M)F.removedNodes.length>0&&ja(c)};document.addEventListener("focusin",b),document.addEventListener("focusout",A);const k=new MutationObserver(R);return c&&k.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",A),k.disconnect()}}},[n,c,w.paused]),P.useEffect(()=>{if(c){JC.add(w);const b=document.activeElement;if(!c.contains(b)){const R=new CustomEvent(r_,QC);c.addEventListener(r_,p),c.dispatchEvent(R),R.defaultPrevented||(gz(_z(IP(c)),{select:!0}),document.activeElement===b&&ja(c))}return()=>{c.removeEventListener(r_,p),setTimeout(()=>{const R=new CustomEvent(i_,QC);c.addEventListener(i_,f),c.dispatchEvent(R),R.defaultPrevented||ja(b??document.body,{select:!0}),c.removeEventListener(i_,f),JC.remove(w)},0)}}},[c,p,f,w]);const x=P.useCallback(b=>{if(!t&&!n||w.paused)return;const A=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,R=document.activeElement;if(A&&R){const k=b.currentTarget,[M,L]=yz(k);M&&L?!b.shiftKey&&R===L?(b.preventDefault(),t&&ja(M,{select:!0})):b.shiftKey&&R===M&&(b.preventDefault(),t&&ja(L,{select:!0})):R===k&&b.preventDefault()}},[t,n,w.paused]);return _.jsx(et.div,{tabIndex:-1,...l,ref:y,onKeyDown:x})});D1.displayName=mz;function gz(i,{select:e=!1}={}){const t=document.activeElement;for(const n of i)if(ja(n,{select:e}),document.activeElement!==t)return}function yz(i){const e=IP(i),t=ZC(e,i),n=ZC(e.reverse(),i);return[t,n]}function IP(i){const e=[],t=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function ZC(i,e){for(const t of i)if(!vz(t,{upTo:e}))return t}function vz(i,{upTo:e}){if(getComputedStyle(i).visibility==="hidden")return!0;for(;i;){if(e!==void 0&&i===e)return!1;if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1}function wz(i){return i instanceof HTMLInputElement&&"select"in i}function ja(i,{select:e=!1}={}){if(i&&i.focus){const t=document.activeElement;i.focus({preventScroll:!0}),i!==t&&wz(i)&&e&&i.select()}}var JC=bz();function bz(){let i=[];return{add(e){const t=i[0];e!==t&&(t==null||t.pause()),i=eT(i,e),i.unshift(e)},remove(e){var t;i=eT(i,e),(t=i[0])==null||t.resume()}}}function eT(i,e){const t=[...i],n=t.indexOf(e);return n!==-1&&t.splice(n,1),t}function _z(i){return i.filter(e=>e.tagName!=="A")}var xz=function(i){if(typeof document>"u")return null;var e=Array.isArray(i)?i[0]:i;return e.ownerDocument.body},rd=new WeakMap,Ny=new WeakMap,Ly={},s_=0,MP=function(i){return i&&(i.host||MP(i.parentNode))},Sz=function(i,e){return e.map(function(t){if(i.contains(t))return t;var n=MP(t);return n&&i.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",i,". Doing nothing"),null)}).filter(function(t){return!!t})},Ez=function(i,e,t,n){var r=Sz(e,Array.isArray(i)?i:[i]);Ly[t]||(Ly[t]=new WeakMap);var o=Ly[t],l=[],c=new Set,d=new Set(r),p=function(m){!m||c.has(m)||(c.add(m),p(m.parentNode))};r.forEach(p);var f=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(y){if(c.has(y))f(y);else try{var w=y.getAttribute(n),x=w!==null&&w!=="false",b=(rd.get(y)||0)+1,A=(o.get(y)||0)+1;rd.set(y,b),o.set(y,A),l.push(y),b===1&&x&&Ny.set(y,!0),A===1&&y.setAttribute(t,"true"),x||y.setAttribute(n,"true")}catch(R){console.error("aria-hidden: cannot operate on ",y,R)}})};return f(e),c.clear(),s_++,function(){l.forEach(function(m){var y=rd.get(m)-1,w=o.get(m)-1;rd.set(m,y),o.set(m,w),y||(Ny.has(m)||m.removeAttribute(n),Ny.delete(m)),w||m.removeAttribute(t)}),s_--,s_||(rd=new WeakMap,rd=new WeakMap,Ny=new WeakMap,Ly={})}},NP=function(i,e,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(i)?i:[i]),r=xz(i);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live], script"))),Ez(n,r,t,"aria-hidden")):function(){return null}},Xs=function(){return Xs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Xs.apply(this,arguments)};function LP(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t}function Az(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))}var Yy="right-scroll-bar-position",Xy="width-before-scroll-bar",Cz="with-scroll-bars-hidden",Tz="--removed-body-scroll-bar-size";function o_(i,e){return typeof i=="function"?i(e):i&&(i.current=e),i}function Rz(i,e){var t=P.useState(function(){return{value:i,callback:e,facade:{get current(){return t.value},set current(n){var r=t.value;r!==n&&(t.value=n,t.callback(n,r))}}}})[0];return t.callback=e,t.facade}var Pz=typeof window<"u"?P.useLayoutEffect:P.useEffect,tT=new WeakMap;function kz(i,e){var t=Rz(null,function(n){return i.forEach(function(r){return o_(r,n)})});return Pz(function(){var n=tT.get(t);if(n){var r=new Set(n),o=new Set(i),l=t.current;r.forEach(function(c){o.has(c)||o_(c,null)}),o.forEach(function(c){r.has(c)||o_(c,l)})}tT.set(t,i)},[i]),t}function Iz(i){return i}function Mz(i,e){e===void 0&&(e=Iz);var t=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:i},useMedium:function(o){var l=e(o,n);return t.push(l),function(){t=t.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(n=!0;t.length;){var l=t;t=[],l.forEach(o)}t={push:function(c){return o(c)},filter:function(){return t}}},assignMedium:function(o){n=!0;var l=[];if(t.length){var c=t;t=[],c.forEach(o),l=t}var d=function(){var f=l;l=[],f.forEach(o)},p=function(){return Promise.resolve().then(d)};p(),t={push:function(f){l.push(f),p()},filter:function(f){return l=l.filter(f),t}}}};return r}function Nz(i){i===void 0&&(i={});var e=Mz(null);return e.options=Xs({async:!0,ssr:!1},i),e}var DP=function(i){var e=i.sideCar,t=LP(i,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return P.createElement(n,Xs({},t))};DP.isSideCarExport=!0;function Lz(i,e){return i.useMedium(e),DP}var OP=Nz(),a_=function(){},L0=P.forwardRef(function(i,e){var t=P.useRef(null),n=P.useState({onScrollCapture:a_,onWheelCapture:a_,onTouchMoveCapture:a_}),r=n[0],o=n[1],l=i.forwardProps,c=i.children,d=i.className,p=i.removeScrollBar,f=i.enabled,m=i.shards,y=i.sideCar,w=i.noRelative,x=i.noIsolation,b=i.inert,A=i.allowPinchZoom,R=i.as,k=R===void 0?"div":R,M=i.gapMode,L=LP(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=y,$=kz([t,e]),B=Xs(Xs({},L),r);return P.createElement(P.Fragment,null,f&&P.createElement(F,{sideCar:OP,removeScrollBar:p,shards:m,noRelative:w,noIsolation:x,inert:b,setCallbacks:o,allowPinchZoom:!!A,lockRef:t,gapMode:M}),l?P.cloneElement(P.Children.only(c),Xs(Xs({},B),{ref:$})):P.createElement(k,Xs({},B,{className:d,ref:$}),c))});L0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};L0.classNames={fullWidth:Xy,zeroRight:Yy};var Dz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Oz(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var e=Dz();return e&&i.setAttribute("nonce",e),i}function Fz(i,e){i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}function jz(i){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(i)}var Bz=function(){var i=0,e=null;return{add:function(t){i==0&&(e=Oz())&&(Fz(e,t),jz(e)),i++},remove:function(){i--,!i&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$z=function(){var i=Bz();return function(e,t){P.useEffect(function(){return i.add(e),function(){i.remove()}},[e&&t])}},FP=function(){var i=$z(),e=function(t){var n=t.styles,r=t.dynamic;return i(n,r),null};return e},zz={left:0,top:0,right:0,gap:0},l_=function(i){return parseInt(i||"",10)||0},Hz=function(i){var e=window.getComputedStyle(document.body),t=e[i==="padding"?"paddingLeft":"marginLeft"],n=e[i==="padding"?"paddingTop":"marginTop"],r=e[i==="padding"?"paddingRight":"marginRight"];return[l_(t),l_(n),l_(r)]},Uz=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return zz;var e=Hz(i),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-t+e[2]-e[0])}},Vz=FP(),xd="data-scroll-locked",Gz=function(i,e,t,n){var r=i.left,o=i.top,l=i.right,c=i.gap;return t===void 0&&(t="margin"),`
  .`.concat(Cz,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(xd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yy,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Xy,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Yy," .").concat(Yy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Xy," .").concat(Xy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(xd,`] {
    `).concat(Tz,": ").concat(c,`px;
  }
`)},nT=function(){var i=parseInt(document.body.getAttribute(xd)||"0",10);return isFinite(i)?i:0},Wz=function(){P.useEffect(function(){return document.body.setAttribute(xd,(nT()+1).toString()),function(){var i=nT()-1;i<=0?document.body.removeAttribute(xd):document.body.setAttribute(xd,i.toString())}},[])},qz=function(i){var e=i.noRelative,t=i.noImportant,n=i.gapMode,r=n===void 0?"margin":n;Wz();var o=P.useMemo(function(){return Uz(r)},[r]);return P.createElement(Vz,{styles:Gz(o,!e,r,t?"":"!important")})},B_=!1;if(typeof window<"u")try{var Dy=Object.defineProperty({},"passive",{get:function(){return B_=!0,!0}});window.addEventListener("test",Dy,Dy),window.removeEventListener("test",Dy,Dy)}catch{B_=!1}var id=B_?{passive:!1}:!1,Kz=function(i){return i.tagName==="TEXTAREA"},jP=function(i,e){if(!(i instanceof Element))return!1;var t=window.getComputedStyle(i);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Kz(i)&&t[e]==="visible")},Yz=function(i){return jP(i,"overflowY")},Xz=function(i){return jP(i,"overflowX")},rT=function(i,e){var t=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=BP(i,n);if(r){var o=$P(i,n),l=o[1],c=o[2];if(l>c)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},Qz=function(i){var e=i.scrollTop,t=i.scrollHeight,n=i.clientHeight;return[e,t,n]},Zz=function(i){var e=i.scrollLeft,t=i.scrollWidth,n=i.clientWidth;return[e,t,n]},BP=function(i,e){return i==="v"?Yz(e):Xz(e)},$P=function(i,e){return i==="v"?Qz(e):Zz(e)},Jz=function(i,e){return i==="h"&&e==="rtl"?-1:1},eH=function(i,e,t,n,r){var o=Jz(i,window.getComputedStyle(e).direction),l=o*n,c=t.target,d=e.contains(c),p=!1,f=l>0,m=0,y=0;do{if(!c)break;var w=$P(i,c),x=w[0],b=w[1],A=w[2],R=b-A-o*x;(x||R)&&BP(i,c)&&(m+=R,y+=x);var k=c.parentNode;c=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(f&&Math.abs(m)<1||!f&&Math.abs(y)<1)&&(p=!0),p},Oy=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},iT=function(i){return[i.deltaX,i.deltaY]},sT=function(i){return i&&"current"in i?i.current:i},tH=function(i,e){return i[0]===e[0]&&i[1]===e[1]},nH=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},rH=0,sd=[];function iH(i){var e=P.useRef([]),t=P.useRef([0,0]),n=P.useRef(),r=P.useState(rH++)[0],o=P.useState(FP)[0],l=P.useRef(i);P.useEffect(function(){l.current=i},[i]),P.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(r));var b=Az([i.lockRef.current],(i.shards||[]).map(sT),!0).filter(Boolean);return b.forEach(function(A){return A.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),b.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(r))})}}},[i.inert,i.lockRef.current,i.shards]);var c=P.useCallback(function(b,A){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!l.current.allowPinchZoom;var R=Oy(b),k=t.current,M="deltaX"in b?b.deltaX:k[0]-R[0],L="deltaY"in b?b.deltaY:k[1]-R[1],F,$=b.target,B=Math.abs(M)>Math.abs(L)?"h":"v";if("touches"in b&&B==="h"&&$.type==="range")return!1;var V=rT(B,$);if(!V)return!0;if(V?F=B:(F=B==="v"?"h":"v",V=rT(B,$)),!V)return!1;if(!n.current&&"changedTouches"in b&&(M||L)&&(n.current=F),!F)return!0;var q=n.current||F;return eH(q,A,b,q==="h"?M:L)},[]),d=P.useCallback(function(b){var A=b;if(!(!sd.length||sd[sd.length-1]!==o)){var R="deltaY"in A?iT(A):Oy(A),k=e.current.filter(function(F){return F.name===A.type&&(F.target===A.target||A.target===F.shadowParent)&&tH(F.delta,R)})[0];if(k&&k.should){A.cancelable&&A.preventDefault();return}if(!k){var M=(l.current.shards||[]).map(sT).filter(Boolean).filter(function(F){return F.contains(A.target)}),L=M.length>0?c(A,M[0]):!l.current.noIsolation;L&&A.cancelable&&A.preventDefault()}}},[]),p=P.useCallback(function(b,A,R,k){var M={name:b,delta:A,target:R,should:k,shadowParent:sH(R)};e.current.push(M),setTimeout(function(){e.current=e.current.filter(function(L){return L!==M})},1)},[]),f=P.useCallback(function(b){t.current=Oy(b),n.current=void 0},[]),m=P.useCallback(function(b){p(b.type,iT(b),b.target,c(b,i.lockRef.current))},[]),y=P.useCallback(function(b){p(b.type,Oy(b),b.target,c(b,i.lockRef.current))},[]);P.useEffect(function(){return sd.push(o),i.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:y}),document.addEventListener("wheel",d,id),document.addEventListener("touchmove",d,id),document.addEventListener("touchstart",f,id),function(){sd=sd.filter(function(b){return b!==o}),document.removeEventListener("wheel",d,id),document.removeEventListener("touchmove",d,id),document.removeEventListener("touchstart",f,id)}},[]);var w=i.removeScrollBar,x=i.inert;return P.createElement(P.Fragment,null,x?P.createElement(o,{styles:nH(r)}):null,w?P.createElement(qz,{noRelative:i.noRelative,gapMode:i.gapMode}):null)}function sH(i){for(var e=null;i!==null;)i instanceof ShadowRoot&&(e=i.host,i=i.host),i=i.parentNode;return e}const oH=Lz(OP,iH);var O1=P.forwardRef(function(i,e){return P.createElement(L0,Xs({},i,{ref:e,sideCar:oH}))});O1.classNames=L0.classNames;var $_=["Enter"," "],aH=["ArrowDown","PageUp","Home"],zP=["ArrowUp","PageDown","End"],lH=[...aH,...zP],cH={ltr:[...$_,"ArrowRight"],rtl:[...$_,"ArrowLeft"]},uH={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hg="Menu",[bp,dH,hH]=I0(hg),[Pu,HP]=ao(hg,[hH,Zh,M0]),D0=Zh(),UP=M0(),[fH,ku]=Pu(hg),[pH,fg]=Pu(hg),VP=i=>{const{__scopeMenu:e,open:t=!1,children:n,dir:r,onOpenChange:o,modal:l=!0}=i,c=D0(e),[d,p]=P.useState(null),f=P.useRef(!1),m=ro(o),y=ug(r);return P.useEffect(()=>{const w=()=>{f.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>f.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),_.jsx(A1,{...c,children:_.jsx(fH,{scope:e,open:t,onOpenChange:m,content:d,onContentChange:p,children:_.jsx(pH,{scope:e,onClose:P.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:y,modal:l,children:n})})})};VP.displayName=hg;var mH="MenuAnchor",F1=P.forwardRef((i,e)=>{const{__scopeMenu:t,...n}=i,r=D0(t);return _.jsx(C1,{...r,...n,ref:e})});F1.displayName=mH;var j1="MenuPortal",[gH,GP]=Pu(j1,{forceMount:void 0}),WP=i=>{const{__scopeMenu:e,forceMount:t,children:n,container:r}=i,o=ku(j1,e);return _.jsx(gH,{scope:e,forceMount:t,children:_.jsx(fa,{present:t||o.open,children:_.jsx(R0,{asChild:!0,container:r,children:n})})})};WP.displayName=j1;var Fi="MenuContent",[yH,B1]=Pu(Fi),qP=P.forwardRef((i,e)=>{const t=GP(Fi,i.__scopeMenu),{forceMount:n=t.forceMount,...r}=i,o=ku(Fi,i.__scopeMenu),l=fg(Fi,i.__scopeMenu);return _.jsx(bp.Provider,{scope:i.__scopeMenu,children:_.jsx(fa,{present:n||o.open,children:_.jsx(bp.Slot,{scope:i.__scopeMenu,children:l.modal?_.jsx(vH,{...r,ref:e}):_.jsx(wH,{...r,ref:e})})})})}),vH=P.forwardRef((i,e)=>{const t=ku(Fi,i.__scopeMenu),n=P.useRef(null),r=Et(e,n);return P.useEffect(()=>{const o=n.current;if(o)return NP(o)},[]),_.jsx($1,{...i,ref:r,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Ne(i.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),wH=P.forwardRef((i,e)=>{const t=ku(Fi,i.__scopeMenu);return _.jsx($1,{...i,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),bH=Uh("MenuContent.ScrollLock"),$1=P.forwardRef((i,e)=>{const{__scopeMenu:t,loop:n=!1,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:y,onDismiss:w,disableOutsideScroll:x,...b}=i,A=ku(Fi,t),R=fg(Fi,t),k=D0(t),M=UP(t),L=dH(t),[F,$]=P.useState(null),B=P.useRef(null),V=Et(e,B,A.onContentChange),q=P.useRef(0),J=P.useRef(""),ie=P.useRef(0),we=P.useRef(null),he=P.useRef("right"),ce=P.useRef(0),Se=x?O1:P.Fragment,K=x?{as:bH,allowPinchZoom:!0}:void 0,Z=re=>{var ae,me;const se=J.current+re,H=L().filter(Ae=>!Ae.disabled),ee=document.activeElement,ue=(ae=H.find(Ae=>Ae.ref.current===ee))==null?void 0:ae.textValue,de=H.map(Ae=>Ae.textValue),ve=MH(de,se,ue),_e=(me=H.find(Ae=>Ae.textValue===ve))==null?void 0:me.ref.current;(function Ae(Ee){J.current=Ee,window.clearTimeout(q.current),Ee!==""&&(q.current=window.setTimeout(()=>Ae(""),1e3))})(se),_e&&setTimeout(()=>_e.focus())};P.useEffect(()=>()=>window.clearTimeout(q.current),[]),kP();const X=P.useCallback(re=>{var H,ee;return he.current===((H=we.current)==null?void 0:H.side)&&LH(re,(ee=we.current)==null?void 0:ee.area)},[]);return _.jsx(yH,{scope:t,searchRef:J,onItemEnter:P.useCallback(re=>{X(re)&&re.preventDefault()},[X]),onItemLeave:P.useCallback(re=>{var se;X(re)||((se=B.current)==null||se.focus(),$(null))},[X]),onTriggerLeave:P.useCallback(re=>{X(re)&&re.preventDefault()},[X]),pointerGraceTimerRef:ie,onPointerGraceIntentChange:P.useCallback(re=>{we.current=re},[]),children:_.jsx(Se,{...K,children:_.jsx(D1,{asChild:!0,trapped:r,onMountAutoFocus:Ne(o,re=>{var se;re.preventDefault(),(se=B.current)==null||se.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:_.jsx(S0,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:y,onDismiss:w,children:_.jsx(pP,{asChild:!0,...M,dir:R.dir,orientation:"vertical",loop:n,currentTabStopId:F,onCurrentTabStopIdChange:$,onEntryFocus:Ne(d,re=>{R.isUsingKeyboardRef.current||re.preventDefault()}),preventScrollOnEntryFocus:!0,children:_.jsx(T1,{role:"menu","aria-orientation":"vertical","data-state":ck(A.open),"data-radix-menu-content":"",dir:R.dir,...k,...b,ref:V,style:{outline:"none",...b.style},onKeyDown:Ne(b.onKeyDown,re=>{const H=re.target.closest("[data-radix-menu-content]")===re.currentTarget,ee=re.ctrlKey||re.altKey||re.metaKey,ue=re.key.length===1;H&&(re.key==="Tab"&&re.preventDefault(),!ee&&ue&&Z(re.key));const de=B.current;if(re.target!==de||!lH.includes(re.key))return;re.preventDefault();const _e=L().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);zP.includes(re.key)&&_e.reverse(),kH(_e)}),onBlur:Ne(i.onBlur,re=>{re.currentTarget.contains(re.target)||(window.clearTimeout(q.current),J.current="")}),onPointerMove:Ne(i.onPointerMove,_p(re=>{const se=re.target,H=ce.current!==re.clientX;if(re.currentTarget.contains(se)&&H){const ee=re.clientX>ce.current?"right":"left";he.current=ee,ce.current=re.clientX}}))})})})})})})});qP.displayName=Fi;var _H="MenuGroup",z1=P.forwardRef((i,e)=>{const{__scopeMenu:t,...n}=i;return _.jsx(et.div,{role:"group",...n,ref:e})});z1.displayName=_H;var xH="MenuLabel",KP=P.forwardRef((i,e)=>{const{__scopeMenu:t,...n}=i;return _.jsx(et.div,{...n,ref:e})});KP.displayName=xH;var zv="MenuItem",oT="menu.itemSelect",O0=P.forwardRef((i,e)=>{const{disabled:t=!1,onSelect:n,...r}=i,o=P.useRef(null),l=fg(zv,i.__scopeMenu),c=B1(zv,i.__scopeMenu),d=Et(e,o),p=P.useRef(!1),f=()=>{const m=o.current;if(!t&&m){const y=new CustomEvent(oT,{bubbles:!0,cancelable:!0});m.addEventListener(oT,w=>n==null?void 0:n(w),{once:!0}),wR(m,y),y.defaultPrevented?p.current=!1:l.onClose()}};return _.jsx(YP,{...r,ref:d,disabled:t,onClick:Ne(i.onClick,f),onPointerDown:m=>{var y;(y=i.onPointerDown)==null||y.call(i,m),p.current=!0},onPointerUp:Ne(i.onPointerUp,m=>{var y;p.current||(y=m.currentTarget)==null||y.click()}),onKeyDown:Ne(i.onKeyDown,m=>{const y=c.searchRef.current!=="";t||y&&m.key===" "||$_.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});O0.displayName=zv;var YP=P.forwardRef((i,e)=>{const{__scopeMenu:t,disabled:n=!1,textValue:r,...o}=i,l=B1(zv,t),c=UP(t),d=P.useRef(null),p=Et(e,d),[f,m]=P.useState(!1),[y,w]=P.useState("");return P.useEffect(()=>{const x=d.current;x&&w((x.textContent??"").trim())},[o.children]),_.jsx(bp.ItemSlot,{scope:t,disabled:n,textValue:r??y,children:_.jsx(mP,{asChild:!0,...c,focusable:!n,children:_.jsx(et.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:p,onPointerMove:Ne(i.onPointerMove,_p(x=>{n?l.onItemLeave(x):(l.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ne(i.onPointerLeave,_p(x=>l.onItemLeave(x))),onFocus:Ne(i.onFocus,()=>m(!0)),onBlur:Ne(i.onBlur,()=>m(!1))})})})}),SH="MenuCheckboxItem",XP=P.forwardRef((i,e)=>{const{checked:t=!1,onCheckedChange:n,...r}=i;return _.jsx(tk,{scope:i.__scopeMenu,checked:t,children:_.jsx(O0,{role:"menuitemcheckbox","aria-checked":Hv(t)?"mixed":t,...r,ref:e,"data-state":U1(t),onSelect:Ne(r.onSelect,()=>n==null?void 0:n(Hv(t)?!0:!t),{checkForDefaultPrevented:!1})})})});XP.displayName=SH;var QP="MenuRadioGroup",[EH,AH]=Pu(QP,{value:void 0,onValueChange:()=>{}}),ZP=P.forwardRef((i,e)=>{const{value:t,onValueChange:n,...r}=i,o=ro(n);return _.jsx(EH,{scope:i.__scopeMenu,value:t,onValueChange:o,children:_.jsx(z1,{...r,ref:e})})});ZP.displayName=QP;var JP="MenuRadioItem",ek=P.forwardRef((i,e)=>{const{value:t,...n}=i,r=AH(JP,i.__scopeMenu),o=t===r.value;return _.jsx(tk,{scope:i.__scopeMenu,checked:o,children:_.jsx(O0,{role:"menuitemradio","aria-checked":o,...n,ref:e,"data-state":U1(o),onSelect:Ne(n.onSelect,()=>{var l;return(l=r.onValueChange)==null?void 0:l.call(r,t)},{checkForDefaultPrevented:!1})})})});ek.displayName=JP;var H1="MenuItemIndicator",[tk,CH]=Pu(H1,{checked:!1}),nk=P.forwardRef((i,e)=>{const{__scopeMenu:t,forceMount:n,...r}=i,o=CH(H1,t);return _.jsx(fa,{present:n||Hv(o.checked)||o.checked===!0,children:_.jsx(et.span,{...r,ref:e,"data-state":U1(o.checked)})})});nk.displayName=H1;var TH="MenuSeparator",rk=P.forwardRef((i,e)=>{const{__scopeMenu:t,...n}=i;return _.jsx(et.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});rk.displayName=TH;var RH="MenuArrow",ik=P.forwardRef((i,e)=>{const{__scopeMenu:t,...n}=i,r=D0(t);return _.jsx(R1,{...r,...n,ref:e})});ik.displayName=RH;var PH="MenuSub",[UW,sk]=Pu(PH),Vf="MenuSubTrigger",ok=P.forwardRef((i,e)=>{const t=ku(Vf,i.__scopeMenu),n=fg(Vf,i.__scopeMenu),r=sk(Vf,i.__scopeMenu),o=B1(Vf,i.__scopeMenu),l=P.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=o,p={__scopeMenu:i.__scopeMenu},f=P.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return P.useEffect(()=>f,[f]),P.useEffect(()=>{const m=c.current;return()=>{window.clearTimeout(m),d(null)}},[c,d]),_.jsx(F1,{asChild:!0,...p,children:_.jsx(YP,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":r.contentId,"data-state":ck(t.open),...i,ref:x0(e,r.onTriggerChange),onClick:m=>{var y;(y=i.onClick)==null||y.call(i,m),!(i.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Ne(i.onPointerMove,_p(m=>{o.onItemEnter(m),!m.defaultPrevented&&!i.disabled&&!t.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),f()},100))})),onPointerLeave:Ne(i.onPointerLeave,_p(m=>{var w,x;f();const y=(w=t.content)==null?void 0:w.getBoundingClientRect();if(y){const b=(x=t.content)==null?void 0:x.dataset.side,A=b==="right",R=A?-5:5,k=y[A?"left":"right"],M=y[A?"right":"left"];o.onPointerGraceIntentChange({area:[{x:m.clientX+R,y:m.clientY},{x:k,y:y.top},{x:M,y:y.top},{x:M,y:y.bottom},{x:k,y:y.bottom}],side:b}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(m),m.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ne(i.onKeyDown,m=>{var w;const y=o.searchRef.current!=="";i.disabled||y&&m.key===" "||cH[n.dir].includes(m.key)&&(t.onOpenChange(!0),(w=t.content)==null||w.focus(),m.preventDefault())})})})});ok.displayName=Vf;var ak="MenuSubContent",lk=P.forwardRef((i,e)=>{const t=GP(Fi,i.__scopeMenu),{forceMount:n=t.forceMount,...r}=i,o=ku(Fi,i.__scopeMenu),l=fg(Fi,i.__scopeMenu),c=sk(ak,i.__scopeMenu),d=P.useRef(null),p=Et(e,d);return _.jsx(bp.Provider,{scope:i.__scopeMenu,children:_.jsx(fa,{present:n||o.open,children:_.jsx(bp.Slot,{scope:i.__scopeMenu,children:_.jsx($1,{id:c.contentId,"aria-labelledby":c.triggerId,...r,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var m;l.isUsingKeyboardRef.current&&((m=d.current)==null||m.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ne(i.onFocusOutside,f=>{f.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ne(i.onEscapeKeyDown,f=>{l.onClose(),f.preventDefault()}),onKeyDown:Ne(i.onKeyDown,f=>{var w;const m=f.currentTarget.contains(f.target),y=uH[l.dir].includes(f.key);m&&y&&(o.onOpenChange(!1),(w=c.trigger)==null||w.focus(),f.preventDefault())})})})})})});lk.displayName=ak;function ck(i){return i?"open":"closed"}function Hv(i){return i==="indeterminate"}function U1(i){return Hv(i)?"indeterminate":i?"checked":"unchecked"}function kH(i){const e=document.activeElement;for(const t of i)if(t===e||(t.focus(),document.activeElement!==e))return}function IH(i,e){return i.map((t,n)=>i[(e+n)%i.length])}function MH(i,e,t){const r=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,o=t?i.indexOf(t):-1;let l=IH(i,Math.max(o,0));r.length===1&&(l=l.filter(p=>p!==t));const d=l.find(p=>p.toLowerCase().startsWith(r.toLowerCase()));return d!==t?d:void 0}function NH(i,e){const{x:t,y:n}=i;let r=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const c=e[o],d=e[l],p=c.x,f=c.y,m=d.x,y=d.y;f>n!=y>n&&t<(m-p)*(n-f)/(y-f)+p&&(r=!r)}return r}function LH(i,e){if(!e)return!1;const t={x:i.clientX,y:i.clientY};return NH(t,e)}function _p(i){return e=>e.pointerType==="mouse"?i(e):void 0}var DH=VP,OH=F1,FH=WP,jH=qP,BH=z1,$H=KP,zH=O0,HH=XP,UH=ZP,VH=ek,GH=nk,WH=rk,qH=ik,KH=ok,YH=lk,F0="DropdownMenu",[XH,VW]=ao(F0,[HP]),Ar=HP(),[QH,uk]=XH(F0),dk=i=>{const{__scopeDropdownMenu:e,children:t,dir:n,open:r,defaultOpen:o,onOpenChange:l,modal:c=!0}=i,d=Ar(e),p=P.useRef(null),[f,m]=ca({prop:r,defaultProp:o??!1,onChange:l,caller:F0});return _.jsx(QH,{scope:e,triggerId:io(),triggerRef:p,contentId:io(),open:f,onOpenChange:m,onOpenToggle:P.useCallback(()=>m(y=>!y),[m]),modal:c,children:_.jsx(DH,{...d,open:f,onOpenChange:m,dir:n,modal:c,children:t})})};dk.displayName=F0;var hk="DropdownMenuTrigger",fk=P.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,disabled:n=!1,...r}=i,o=uk(hk,t),l=Ar(t);return _.jsx(OH,{asChild:!0,...l,children:_.jsx(et.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...r,ref:x0(e,o.triggerRef),onPointerDown:Ne(i.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:Ne(i.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});fk.displayName=hk;var ZH="DropdownMenuPortal",pk=i=>{const{__scopeDropdownMenu:e,...t}=i,n=Ar(e);return _.jsx(FH,{...n,...t})};pk.displayName=ZH;var mk="DropdownMenuContent",gk=P.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,r=uk(mk,t),o=Ar(t),l=P.useRef(!1);return _.jsx(jH,{id:r.contentId,"aria-labelledby":r.triggerId,...o,...n,ref:e,onCloseAutoFocus:Ne(i.onCloseAutoFocus,c=>{var d;l.current||(d=r.triggerRef.current)==null||d.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:Ne(i.onInteractOutside,c=>{const d=c.detail.originalEvent,p=d.button===0&&d.ctrlKey===!0,f=d.button===2||p;(!r.modal||f)&&(l.current=!0)}),style:{...i.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gk.displayName=mk;var JH="DropdownMenuGroup",eU=P.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,r=Ar(t);return _.jsx(BH,{...r,...n,ref:e})});eU.displayName=JH;var tU="DropdownMenuLabel",yk=P.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,r=Ar(t);return _.jsx($H,{...r,...n,ref:e})});yk.displayName=tU;var nU="DropdownMenuItem",vk=P.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,r=Ar(t);return _.jsx(zH,{...r,...n,ref:e})});vk.displayName=nU;var rU="DropdownMenuCheckboxItem",wk=P.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,r=Ar(t);return _.jsx(HH,{...r,...n,ref:e})});wk.displayName=rU;var iU="DropdownMenuRadioGroup",sU=P.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,r=Ar(t);return _.jsx(UH,{...r,...n,ref:e})});sU.displayName=iU;var oU="DropdownMenuRadioItem",bk=P.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,r=Ar(t);return _.jsx(VH,{...r,...n,ref:e})});bk.displayName=oU;var aU="DropdownMenuItemIndicator",_k=P.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,r=Ar(t);return _.jsx(GH,{...r,...n,ref:e})});_k.displayName=aU;var lU="DropdownMenuSeparator",xk=P.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,r=Ar(t);return _.jsx(WH,{...r,...n,ref:e})});xk.displayName=lU;var cU="DropdownMenuArrow",uU=P.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,r=Ar(t);return _.jsx(qH,{...r,...n,ref:e})});uU.displayName=cU;var dU="DropdownMenuSubTrigger",Sk=P.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,r=Ar(t);return _.jsx(KH,{...r,...n,ref:e})});Sk.displayName=dU;var hU="DropdownMenuSubContent",Ek=P.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,r=Ar(t);return _.jsx(YH,{...r,...n,ref:e,style:{...i.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ek.displayName=hU;var fU=dk,pU=fk,mU=pk,gU=gk,yU=yk,vU=vk,wU=wk,bU=bk,Ak=_k,_U=xk,xU=Sk,SU=Ek;const EU="_content_16e7f_2",AU="_subContent_16e7f_3",CU="_item_16e7f_19",TU="_checkboxItem_16e7f_20",RU="_radioItem_16e7f_21",PU="_subTrigger_16e7f_22",kU="_checkboxIndicator_16e7f_75",IU="_radioIndicator_16e7f_76",MU="_radioIndicatorCircle_16e7f_99",NU="_label_16e7f_106",LU="_separator_16e7f_113",DU="_subTriggerIcon_16e7f_126",OU="_inset_16e7f_133",Sr={content:EU,subContent:AU,item:CU,checkboxItem:TU,radioItem:RU,subTrigger:PU,checkboxIndicator:kU,radioIndicator:IU,radioIndicatorCircle:MU,label:NU,separator:LU,subTriggerIcon:DU,inset:OU},FU=fU,jU=pU,BU=P.forwardRef(({className:i,inset:e,children:t,...n},r)=>_.jsxs(xU,{ref:r,className:`${Sr.subTrigger} ${e?Sr.inset:""} ${i||""}`,...n,children:[t,_.jsx(aP,{className:Sr.subTriggerIcon})]}));BU.displayName="DropdownMenuSubTrigger";const $U=P.forwardRef(({className:i,...e},t)=>_.jsx(SU,{ref:t,className:`${Sr.subContent} ${i||""}`,...e}));$U.displayName="DropdownMenuSubContent";const Ck=P.forwardRef(({className:i,sideOffset:e=4,...t},n)=>_.jsx(mU,{children:_.jsx(gU,{ref:n,sideOffset:e,className:`${Sr.content} ${i||""}`,...t})}));Ck.displayName="DropdownMenuContent";const Qy=P.forwardRef(({className:i,inset:e,...t},n)=>_.jsx(vU,{ref:n,className:`${Sr.item} ${e?Sr.inset:""} ${i||""}`,...t}));Qy.displayName="DropdownMenuItem";const zU=P.forwardRef(({className:i,children:e,checked:t,...n},r)=>_.jsxs(wU,{ref:r,className:`${Sr.checkboxItem} ${i||""}`,checked:t,...n,children:[_.jsx("span",{className:Sr.checkboxIndicator,children:_.jsx(Ak,{children:_.jsx(I1,{})})}),e]}));zU.displayName="DropdownMenuCheckboxItem";const HU=P.forwardRef(({className:i,children:e,...t},n)=>_.jsxs(bU,{ref:n,className:`${Sr.radioItem} ${i||""}`,...t,children:[_.jsx("span",{className:Sr.radioIndicator,children:_.jsx(Ak,{children:_.jsx("div",{className:Sr.radioIndicatorCircle})})}),e]}));HU.displayName="DropdownMenuRadioItem";const UU=P.forwardRef(({className:i,inset:e,...t},n)=>_.jsx(yU,{ref:n,className:`${Sr.label} ${e?Sr.inset:""} ${i||""}`,...t}));UU.displayName="DropdownMenuLabel";const VU=P.forwardRef(({className:i,...e},t)=>_.jsx(_U,{ref:t,className:`${Sr.separator} ${i||""}`,...e}));VU.displayName="DropdownMenuSeparator";function GU(){no&&(no.onchange=null,no=null),document.body.classList.add("dark")}function WU(){no&&(no.onchange=null,no=null),document.body.classList.remove("dark")}function aT(i){i?document.body.classList.add("dark"):document.body.classList.remove("dark")}let no=null;function qU(){no&&(no.onchange=null);const i=window.matchMedia("(prefers-color-scheme: dark)");i.onchange=e=>{aT(e.matches)},no=i,aT(i.matches)}function KU(){return no?"auto":document.body.classList.contains("dark")?"dark":"light"}const YU="_container_10edu_1",XU="_themeButton_10edu_6",QU="_icon_10edu_15",ZU="_menuIcon_10edu_20",JU="_activeItem_10edu_25",e6="_checkmark_10edu_31",dr={container:YU,themeButton:XU,icon:QU,menuIcon:ZU,activeItem:JU,checkmark:e6},t6=({className:i})=>{const[e,t]=P.useState("light");P.useEffect(()=>{const o=KU();t(o)},[]);const n=o=>{switch(o){case"light":WU();break;case"dark":GU();break;case"auto":qU();break}t(o)},r=()=>{switch(e){case"light":return _.jsx(Jb,{className:dr.icon});case"dark":return _.jsx(qC,{className:dr.icon});case"auto":return _.jsx(KC,{className:dr.icon});default:return _.jsx(Jb,{className:dr.icon})}};return _.jsx("div",{className:`${dr.container} ${i||""}`,children:_.jsxs(FU,{children:[_.jsx(jU,{asChild:!0,children:_.jsx(Di,{variant:"ghost",size:"icon-md","aria-label":`Current theme: ${e}. Click to change theme`,className:dr.themeButton,children:r()})}),_.jsxs(Ck,{align:"end",children:[_.jsxs(Qy,{className:e==="light"?dr.activeItem:"",onClick:()=>n("light"),children:[_.jsx(Jb,{size:16,className:dr.menuIcon}),"Light",e==="light"&&_.jsx("span",{className:dr.checkmark,children:""})]}),_.jsxs(Qy,{className:e==="dark"?dr.activeItem:"",onClick:()=>n("dark"),children:[_.jsx(qC,{size:16,className:dr.menuIcon}),"Dark",e==="dark"&&_.jsx("span",{className:dr.checkmark,children:""})]}),_.jsxs(Qy,{className:e==="auto"?dr.activeItem:"",onClick:()=>n("auto"),children:[_.jsx(KC,{size:16,className:dr.menuIcon}),"Auto",e==="auto"&&_.jsx("span",{className:dr.checkmark,children:""})]})]})]})})},Tk=({children:i})=>{const e=Yh(),[t,n]=P.useState(!1),r=[{href:"/",label:"Home"},{href:"/documentation",label:"Documentation"}],o=()=>n(!1);return _.jsxs("div",{className:Je.layout,children:[_.jsxs("header",{className:Je.header,children:[_.jsxs("div",{className:Je.headerContent,children:[_.jsxs(Gy,{to:"/",className:Je.logo,onClick:o,children:[_.jsx(W3,{className:Je.logoIcon}),_.jsx("span",{className:Je.logoText,children:"Benny Perumalla"})]}),_.jsx("nav",{className:Je.nav,"aria-label":"Primary",children:r.map(l=>_.jsx(Gy,{to:l.href,className:`${Je.navLink} ${e.pathname===l.href?Je.active:""}`,children:l.label},l.href))}),_.jsxs("div",{className:Je.headerActions,children:[_.jsx("a",{href:"https://github.com/BennyPerumalla",target:"_blank",rel:"noopener noreferrer",className:Je.githubLink,"aria-label":"Benny Perumalla GitHub Repository",children:_.jsx(WC,{size:20})}),_.jsx("a",{href:"https://www.linkedin.com/in/benny-perumalla-a7ab6024a/",target:"_blank",rel:"noopener noreferrer",className:Je.githubLink,"aria-label":"Benny Perumalla LinkedIn Profile",children:_.jsx(Wh,{size:20})}),_.jsx("button",{className:Je.menuToggle,"aria-label":t?"Close menu":"Open menu","aria-expanded":t,"aria-controls":"mobile-menu",onClick:()=>n(l=>!l),children:t?_.jsx(YC,{size:20}):_.jsx(r$,{size:20})})]})]}),_.jsxs("div",{id:"mobile-menu",className:`${Je.mobileMenu} ${t?Je.open:""}`,role:"dialog","aria-modal":"true",children:[_.jsxs("div",{className:Je.mobileMenuContent,children:[_.jsxs("div",{className:Je.mobileMenuHeader,children:[_.jsx("span",{className:Je.mobileMenuTitle,children:"Benny Perumalla"}),_.jsx("button",{className:Je.menuClose,"aria-label":"Close menu",onClick:()=>n(!1),children:_.jsx(YC,{size:20})})]}),_.jsxs("nav",{className:Je.mobileNav,"aria-label":"Mobile Primary",children:[r.map(l=>_.jsx(Gy,{to:l.href,onClick:o,className:`${Je.mobileNavLink} ${e.pathname===l.href?Je.active:""}`,children:l.label},l.href)),_.jsx("a",{className:Je.mobileNavLink,href:"https://code.videolan.org/BY01R/vlc-gsoc-audio",target:"_blank",rel:"noopener noreferrer",onClick:o,children:"Explore Code"})]}),_.jsxs("div",{className:Je.mobileActions,children:[_.jsxs("a",{href:"https://github.com/BennyPerumalla",target:"_blank",rel:"noopener noreferrer",className:Je.mobileIconLink,"aria-label":"GitHub",onClick:o,children:[_.jsx(WC,{size:18}),_.jsx("span",{children:"GitHub"})]}),_.jsxs("a",{href:"https://www.linkedin.com/in/benny-perumalla-a7ab6024a/",target:"_blank",rel:"noopener noreferrer",className:Je.mobileIconLink,"aria-label":"LinkedIn",onClick:o,children:[_.jsx(Wh,{size:18}),_.jsx("span",{children:"LinkedIn"})]}),_.jsx(t6,{})]})]}),_.jsx("button",{className:Je.backdrop,"aria-label":"Close menu backdrop",onClick:()=>n(!1)})]})]}),_.jsx("main",{className:Je.main,children:i}),_.jsx("footer",{className:Je.footer,children:_.jsxs("div",{className:Je.footerContent,children:[_.jsxs("p",{children:[" ",new Date().getFullYear()," Advanced Audio Processing for VLC. All Rights Reserved."]}),_.jsxs("div",{className:Je.footerWaveform,children:[_.jsx("div",{className:Je.bar}),_.jsx("div",{className:Je.bar}),_.jsx("div",{className:Je.bar}),_.jsx("div",{className:Je.bar}),_.jsx("div",{className:Je.bar}),_.jsx("div",{className:Je.bar}),_.jsx("div",{className:Je.bar}),_.jsx("div",{className:Je.bar})]})]})})]})},n6=[Tk];var j0="Collapsible",[r6,Rk]=ao(j0),[i6,V1]=r6(j0),Pk=P.forwardRef((i,e)=>{const{__scopeCollapsible:t,open:n,defaultOpen:r,disabled:o,onOpenChange:l,...c}=i,[d,p]=ca({prop:n,defaultProp:r??!1,onChange:l,caller:j0});return _.jsx(i6,{scope:t,disabled:o,contentId:io(),open:d,onOpenToggle:P.useCallback(()=>p(f=>!f),[p]),children:_.jsx(et.div,{"data-state":W1(d),"data-disabled":o?"":void 0,...c,ref:e})})});Pk.displayName=j0;var kk="CollapsibleTrigger",Ik=P.forwardRef((i,e)=>{const{__scopeCollapsible:t,...n}=i,r=V1(kk,t);return _.jsx(et.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":W1(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...n,ref:e,onClick:Ne(i.onClick,r.onOpenToggle)})});Ik.displayName=kk;var G1="CollapsibleContent",Mk=P.forwardRef((i,e)=>{const{forceMount:t,...n}=i,r=V1(G1,i.__scopeCollapsible);return _.jsx(fa,{present:t||r.open,children:({present:o})=>_.jsx(s6,{...n,ref:e,present:o})})});Mk.displayName=G1;var s6=P.forwardRef((i,e)=>{const{__scopeCollapsible:t,present:n,children:r,...o}=i,l=V1(G1,t),[c,d]=P.useState(n),p=P.useRef(null),f=Et(e,p),m=P.useRef(0),y=m.current,w=P.useRef(0),x=w.current,b=l.open||c,A=P.useRef(b),R=P.useRef(void 0);return P.useEffect(()=>{const k=requestAnimationFrame(()=>A.current=!1);return()=>cancelAnimationFrame(k)},[]),qn(()=>{const k=p.current;if(k){R.current=R.current||{transitionDuration:k.style.transitionDuration,animationName:k.style.animationName},k.style.transitionDuration="0s",k.style.animationName="none";const M=k.getBoundingClientRect();m.current=M.height,w.current=M.width,A.current||(k.style.transitionDuration=R.current.transitionDuration,k.style.animationName=R.current.animationName),d(n)}},[l.open,n]),_.jsx(et.div,{"data-state":W1(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!b,...o,ref:f,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...i.style},children:b&&r})});function W1(i){return i?"open":"closed"}var o6=Pk,a6=Ik,l6=Mk,vs="Accordion",c6=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[q1,u6,d6]=I0(vs),[B0,GW]=ao(vs,[d6,Rk]),K1=Rk(),Nk=le.forwardRef((i,e)=>{const{type:t,...n}=i,r=n,o=n;return _.jsx(q1.Provider,{scope:i.__scopeAccordion,children:t==="multiple"?_.jsx(m6,{...o,ref:e}):_.jsx(p6,{...r,ref:e})})});Nk.displayName=vs;var[Lk,h6]=B0(vs),[Dk,f6]=B0(vs,{collapsible:!1}),p6=le.forwardRef((i,e)=>{const{value:t,defaultValue:n,onValueChange:r=()=>{},collapsible:o=!1,...l}=i,[c,d]=ca({prop:t,defaultProp:n??"",onChange:r,caller:vs});return _.jsx(Lk,{scope:i.__scopeAccordion,value:le.useMemo(()=>c?[c]:[],[c]),onItemOpen:d,onItemClose:le.useCallback(()=>o&&d(""),[o,d]),children:_.jsx(Dk,{scope:i.__scopeAccordion,collapsible:o,children:_.jsx(Ok,{...l,ref:e})})})}),m6=le.forwardRef((i,e)=>{const{value:t,defaultValue:n,onValueChange:r=()=>{},...o}=i,[l,c]=ca({prop:t,defaultProp:n??[],onChange:r,caller:vs}),d=le.useCallback(f=>c((m=[])=>[...m,f]),[c]),p=le.useCallback(f=>c((m=[])=>m.filter(y=>y!==f)),[c]);return _.jsx(Lk,{scope:i.__scopeAccordion,value:l,onItemOpen:d,onItemClose:p,children:_.jsx(Dk,{scope:i.__scopeAccordion,collapsible:!0,children:_.jsx(Ok,{...o,ref:e})})})}),[g6,$0]=B0(vs),Ok=le.forwardRef((i,e)=>{const{__scopeAccordion:t,disabled:n,dir:r,orientation:o="vertical",...l}=i,c=le.useRef(null),d=Et(c,e),p=u6(t),m=ug(r)==="ltr",y=Ne(i.onKeyDown,w=>{var V;if(!c6.includes(w.key))return;const x=w.target,b=p().filter(q=>{var J;return!((J=q.ref.current)!=null&&J.disabled)}),A=b.findIndex(q=>q.ref.current===x),R=b.length;if(A===-1)return;w.preventDefault();let k=A;const M=0,L=R-1,F=()=>{k=A+1,k>L&&(k=M)},$=()=>{k=A-1,k<M&&(k=L)};switch(w.key){case"Home":k=M;break;case"End":k=L;break;case"ArrowRight":o==="horizontal"&&(m?F():$());break;case"ArrowDown":o==="vertical"&&F();break;case"ArrowLeft":o==="horizontal"&&(m?$():F());break;case"ArrowUp":o==="vertical"&&$();break}const B=k%R;(V=b[B].ref.current)==null||V.focus()});return _.jsx(g6,{scope:t,disabled:n,direction:r,orientation:o,children:_.jsx(q1.Slot,{scope:t,children:_.jsx(et.div,{...l,"data-orientation":o,ref:d,onKeyDown:n?void 0:y})})})}),Uv="AccordionItem",[y6,Y1]=B0(Uv),Fk=le.forwardRef((i,e)=>{const{__scopeAccordion:t,value:n,...r}=i,o=$0(Uv,t),l=h6(Uv,t),c=K1(t),d=io(),p=n&&l.value.includes(n)||!1,f=o.disabled||i.disabled;return _.jsx(y6,{scope:t,open:p,disabled:f,triggerId:d,children:_.jsx(o6,{"data-orientation":o.orientation,"data-state":Uk(p),...c,...r,ref:e,disabled:f,open:p,onOpenChange:m=>{m?l.onItemOpen(n):l.onItemClose(n)}})})});Fk.displayName=Uv;var jk="AccordionHeader",Bk=le.forwardRef((i,e)=>{const{__scopeAccordion:t,...n}=i,r=$0(vs,t),o=Y1(jk,t);return _.jsx(et.h3,{"data-orientation":r.orientation,"data-state":Uk(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:e})});Bk.displayName=jk;var z_="AccordionTrigger",$k=le.forwardRef((i,e)=>{const{__scopeAccordion:t,...n}=i,r=$0(vs,t),o=Y1(z_,t),l=f6(z_,t),c=K1(t);return _.jsx(q1.ItemSlot,{scope:t,children:_.jsx(a6,{"aria-disabled":o.open&&!l.collapsible||void 0,"data-orientation":r.orientation,id:o.triggerId,...c,...n,ref:e})})});$k.displayName=z_;var zk="AccordionContent",Hk=le.forwardRef((i,e)=>{const{__scopeAccordion:t,...n}=i,r=$0(vs,t),o=Y1(zk,t),l=K1(t);return _.jsx(l6,{role:"region","aria-labelledby":o.triggerId,"data-orientation":r.orientation,...l,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...i.style}})});Hk.displayName=zk;function Uk(i){return i?"open":"closed"}var v6=Nk,w6=Fk,b6=Bk,Vk=$k,Gk=Hk;const _6="_item_vxjwx_2",x6="_trigger_vxjwx_12",S6="_header_vxjwx_21",E6="_icon_vxjwx_62",A6="_content_vxjwx_80",C6="_contentInner_vxjwx_93",Sd={item:_6,trigger:x6,header:S6,icon:E6,content:A6,contentInner:C6},T6=v6,ad=P.forwardRef(({className:i,...e},t)=>_.jsx(w6,{ref:t,className:`${Sd.item} ${i||""}`,...e}));ad.displayName="AccordionItem";const ld=P.forwardRef(({className:i,children:e,...t},n)=>_.jsx(b6,{className:Sd.header,children:_.jsxs(Vk,{ref:n,className:`${Sd.trigger} ${i||""}`,...t,children:[e,_.jsx(M1,{className:Sd.icon})]})}));ld.displayName=Vk.displayName;const cd=P.forwardRef(({className:i,children:e,...t},n)=>_.jsx(Gk,{ref:n,className:`${Sd.content} ${i||""}`,...t,children:_.jsx("div",{className:Sd.contentInner,children:e})}));cd.displayName=Gk.displayName;function R6(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Wk={exports:{}},on=Wk.exports={},Rs,Ps;function H_(){throw new Error("setTimeout has not been defined")}function U_(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Rs=setTimeout:Rs=H_}catch{Rs=H_}try{typeof clearTimeout=="function"?Ps=clearTimeout:Ps=U_}catch{Ps=U_}})();function qk(i){if(Rs===setTimeout)return setTimeout(i,0);if((Rs===H_||!Rs)&&setTimeout)return Rs=setTimeout,setTimeout(i,0);try{return Rs(i,0)}catch{try{return Rs.call(null,i,0)}catch{return Rs.call(this,i,0)}}}function P6(i){if(Ps===clearTimeout)return clearTimeout(i);if((Ps===U_||!Ps)&&clearTimeout)return Ps=clearTimeout,clearTimeout(i);try{return Ps(i)}catch{try{return Ps.call(null,i)}catch{return Ps.call(this,i)}}}var ia=[],Ed=!1,sc,Zy=-1;function k6(){!Ed||!sc||(Ed=!1,sc.length?ia=sc.concat(ia):Zy=-1,ia.length&&Kk())}function Kk(){if(!Ed){var i=qk(k6);Ed=!0;for(var e=ia.length;e;){for(sc=ia,ia=[];++Zy<e;)sc&&sc[Zy].run();Zy=-1,e=ia.length}sc=null,Ed=!1,P6(i)}}on.nextTick=function(i){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];ia.push(new Yk(i,e)),ia.length===1&&!Ed&&qk(Kk)};function Yk(i,e){this.fun=i,this.array=e}Yk.prototype.run=function(){this.fun.apply(null,this.array)};on.title="browser";on.browser=!0;on.env={};on.argv=[];on.version="";on.versions={};function pa(){}on.on=pa;on.addListener=pa;on.once=pa;on.off=pa;on.removeListener=pa;on.removeAllListeners=pa;on.emit=pa;on.prependListener=pa;on.prependOnceListener=pa;on.listeners=function(i){return[]};on.binding=function(i){throw new Error("process.binding is not supported")};on.cwd=function(){return"/"};on.chdir=function(i){throw new Error("process.chdir is not supported")};on.umask=function(){return 0};var I6=Wk.exports;const ds=R6(I6);var Xk={},z0={};z0.byteLength=L6;z0.toByteArray=O6;z0.fromByteArray=B6;var Qs=[],Ai=[],M6=typeof Uint8Array<"u"?Uint8Array:Array,c_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var od=0,N6=c_.length;od<N6;++od)Qs[od]=c_[od],Ai[c_.charCodeAt(od)]=od;Ai[45]=62;Ai[95]=63;function Qk(i){var e=i.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=i.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function L6(i){var e=Qk(i),t=e[0],n=e[1];return(t+n)*3/4-n}function D6(i,e,t){return(e+t)*3/4-t}function O6(i){var e,t=Qk(i),n=t[0],r=t[1],o=new M6(D6(i,n,r)),l=0,c=r>0?n-4:n,d;for(d=0;d<c;d+=4)e=Ai[i.charCodeAt(d)]<<18|Ai[i.charCodeAt(d+1)]<<12|Ai[i.charCodeAt(d+2)]<<6|Ai[i.charCodeAt(d+3)],o[l++]=e>>16&255,o[l++]=e>>8&255,o[l++]=e&255;return r===2&&(e=Ai[i.charCodeAt(d)]<<2|Ai[i.charCodeAt(d+1)]>>4,o[l++]=e&255),r===1&&(e=Ai[i.charCodeAt(d)]<<10|Ai[i.charCodeAt(d+1)]<<4|Ai[i.charCodeAt(d+2)]>>2,o[l++]=e>>8&255,o[l++]=e&255),o}function F6(i){return Qs[i>>18&63]+Qs[i>>12&63]+Qs[i>>6&63]+Qs[i&63]}function j6(i,e,t){for(var n,r=[],o=e;o<t;o+=3)n=(i[o]<<16&16711680)+(i[o+1]<<8&65280)+(i[o+2]&255),r.push(F6(n));return r.join("")}function B6(i){for(var e,t=i.length,n=t%3,r=[],o=16383,l=0,c=t-n;l<c;l+=o)r.push(j6(i,l,l+o>c?c:l+o));return n===1?(e=i[t-1],r.push(Qs[e>>2]+Qs[e<<4&63]+"==")):n===2&&(e=(i[t-2]<<8)+i[t-1],r.push(Qs[e>>10]+Qs[e>>4&63]+Qs[e<<2&63]+"=")),r.join("")}var X1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */X1.read=function(i,e,t,n,r){var o,l,c=r*8-n-1,d=(1<<c)-1,p=d>>1,f=-7,m=t?r-1:0,y=t?-1:1,w=i[e+m];for(m+=y,o=w&(1<<-f)-1,w>>=-f,f+=c;f>0;o=o*256+i[e+m],m+=y,f-=8);for(l=o&(1<<-f)-1,o>>=-f,f+=n;f>0;l=l*256+i[e+m],m+=y,f-=8);if(o===0)o=1-p;else{if(o===d)return l?NaN:(w?-1:1)*(1/0);l=l+Math.pow(2,n),o=o-p}return(w?-1:1)*l*Math.pow(2,o-n)};X1.write=function(i,e,t,n,r,o){var l,c,d,p=o*8-r-1,f=(1<<p)-1,m=f>>1,y=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:o-1,x=n?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,l=f):(l=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-l))<1&&(l--,d*=2),l+m>=1?e+=y/d:e+=y*Math.pow(2,1-m),e*d>=2&&(l++,d/=2),l+m>=f?(c=0,l=f):l+m>=1?(c=(e*d-1)*Math.pow(2,r),l=l+m):(c=e*Math.pow(2,m-1)*Math.pow(2,r),l=0));r>=8;i[t+w]=c&255,w+=x,c/=256,r-=8);for(l=l<<r|c,p+=r;p>0;i[t+w]=l&255,w+=x,l/=256,p-=8);i[t+w-x]|=b*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(i){const e=z0,t=X1,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=f,i.SlowBuffer=F,i.INSPECT_MAX_BYTES=50;const r=2147483647;i.kMaxLength=r;const{Uint8Array:o,ArrayBuffer:l,SharedArrayBuffer:c}=globalThis;f.TYPED_ARRAY_SUPPORT=d(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{const O=new o(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,o.prototype),Object.setPrototypeOf(O,E),O.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function p(O){if(O>r)throw new RangeError('The value "'+O+'" is invalid for option "size"');const E=new o(O);return Object.setPrototypeOf(E,f.prototype),E}function f(O,E,T){if(typeof O=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(O)}return m(O,E,T)}f.poolSize=8192;function m(O,E,T){if(typeof O=="string")return b(O,E);if(l.isView(O))return R(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(Dn(O,l)||O&&Dn(O.buffer,l)||typeof c<"u"&&(Dn(O,c)||O&&Dn(O.buffer,c)))return k(O,E,T);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const j=O.valueOf&&O.valueOf();if(j!=null&&j!==O)return f.from(j,E,T);const W=M(O);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return f.from(O[Symbol.toPrimitive]("string"),E,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}f.from=function(O,E,T){return m(O,E,T)},Object.setPrototypeOf(f.prototype,o.prototype),Object.setPrototypeOf(f,o);function y(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function w(O,E,T){return y(O),O<=0?p(O):E!==void 0?typeof T=="string"?p(O).fill(E,T):p(O).fill(E):p(O)}f.alloc=function(O,E,T){return w(O,E,T)};function x(O){return y(O),p(O<0?0:L(O)|0)}f.allocUnsafe=function(O){return x(O)},f.allocUnsafeSlow=function(O){return x(O)};function b(O,E){if((typeof E!="string"||E==="")&&(E="utf8"),!f.isEncoding(E))throw new TypeError("Unknown encoding: "+E);const T=$(O,E)|0;let j=p(T);const W=j.write(O,E);return W!==T&&(j=j.slice(0,W)),j}function A(O){const E=O.length<0?0:L(O.length)|0,T=p(E);for(let j=0;j<E;j+=1)T[j]=O[j]&255;return T}function R(O){if(Dn(O,o)){const E=new o(O);return k(E.buffer,E.byteOffset,E.byteLength)}return A(O)}function k(O,E,T){if(E<0||O.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<E+(T||0))throw new RangeError('"length" is outside of buffer bounds');let j;return E===void 0&&T===void 0?j=new o(O):T===void 0?j=new o(O,E):j=new o(O,E,T),Object.setPrototypeOf(j,f.prototype),j}function M(O){if(f.isBuffer(O)){const E=L(O.length)|0,T=p(E);return T.length===0||O.copy(T,0,0,E),T}if(O.length!==void 0)return typeof O.length!="number"||Hr(O.length)?p(0):A(O);if(O.type==="Buffer"&&Array.isArray(O.data))return A(O.data)}function L(O){if(O>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return O|0}function F(O){return+O!=O&&(O=0),f.alloc(+O)}f.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==f.prototype},f.compare=function(E,T){if(Dn(E,o)&&(E=f.from(E,E.offset,E.byteLength)),Dn(T,o)&&(T=f.from(T,T.offset,T.byteLength)),!f.isBuffer(E)||!f.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===T)return 0;let j=E.length,W=T.length;for(let te=0,oe=Math.min(j,W);te<oe;++te)if(E[te]!==T[te]){j=E[te],W=T[te];break}return j<W?-1:W<j?1:0},f.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(E,T){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return f.alloc(0);let j;if(T===void 0)for(T=0,j=0;j<E.length;++j)T+=E[j].length;const W=f.allocUnsafe(T);let te=0;for(j=0;j<E.length;++j){let oe=E[j];if(Dn(oe,o))te+oe.length>W.length?(f.isBuffer(oe)||(oe=f.from(oe)),oe.copy(W,te)):o.prototype.set.call(W,oe,te);else if(f.isBuffer(oe))oe.copy(W,te);else throw new TypeError('"list" argument must be an Array of Buffers');te+=oe.length}return W};function $(O,E){if(f.isBuffer(O))return O.length;if(l.isView(O)||Dn(O,l))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);const T=O.length,j=arguments.length>2&&arguments[2]===!0;if(!j&&T===0)return 0;let W=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return zr(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return Cr(O).length;default:if(W)return j?-1:zr(O).length;E=(""+E).toLowerCase(),W=!0}}f.byteLength=$;function B(O,E,T){let j=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,E>>>=0,T<=E))return"";for(O||(O="utf8");;)switch(O){case"hex":return ee(this,E,T);case"utf8":case"utf-8":return Z(this,E,T);case"ascii":return se(this,E,T);case"latin1":case"binary":return H(this,E,T);case"base64":return K(this,E,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,E,T);default:if(j)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),j=!0}}f.prototype._isBuffer=!0;function V(O,E,T){const j=O[E];O[E]=O[T],O[T]=j}f.prototype.swap16=function(){const E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let T=0;T<E;T+=2)V(this,T,T+1);return this},f.prototype.swap32=function(){const E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let T=0;T<E;T+=4)V(this,T,T+3),V(this,T+1,T+2);return this},f.prototype.swap64=function(){const E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let T=0;T<E;T+=8)V(this,T,T+7),V(this,T+1,T+6),V(this,T+2,T+5),V(this,T+3,T+4);return this},f.prototype.toString=function(){const E=this.length;return E===0?"":arguments.length===0?Z(this,0,E):B.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(E){if(!f.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:f.compare(this,E)===0},f.prototype.inspect=function(){let E="";const T=i.INSPECT_MAX_BYTES;return E=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(E+=" ... "),"<Buffer "+E+">"},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(E,T,j,W,te){if(Dn(E,o)&&(E=f.from(E,E.offset,E.byteLength)),!f.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(T===void 0&&(T=0),j===void 0&&(j=E?E.length:0),W===void 0&&(W=0),te===void 0&&(te=this.length),T<0||j>E.length||W<0||te>this.length)throw new RangeError("out of range index");if(W>=te&&T>=j)return 0;if(W>=te)return-1;if(T>=j)return 1;if(T>>>=0,j>>>=0,W>>>=0,te>>>=0,this===E)return 0;let oe=te-W,Ke=j-T;const pt=Math.min(oe,Ke),it=this.slice(W,te),wt=E.slice(T,j);for(let ot=0;ot<pt;++ot)if(it[ot]!==wt[ot]){oe=it[ot],Ke=wt[ot];break}return oe<Ke?-1:Ke<oe?1:0};function q(O,E,T,j,W){if(O.length===0)return-1;if(typeof T=="string"?(j=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,Hr(T)&&(T=W?0:O.length-1),T<0&&(T=O.length+T),T>=O.length){if(W)return-1;T=O.length-1}else if(T<0)if(W)T=0;else return-1;if(typeof E=="string"&&(E=f.from(E,j)),f.isBuffer(E))return E.length===0?-1:J(O,E,T,j,W);if(typeof E=="number")return E=E&255,typeof o.prototype.indexOf=="function"?W?o.prototype.indexOf.call(O,E,T):o.prototype.lastIndexOf.call(O,E,T):J(O,[E],T,j,W);throw new TypeError("val must be string, number or Buffer")}function J(O,E,T,j,W){let te=1,oe=O.length,Ke=E.length;if(j!==void 0&&(j=String(j).toLowerCase(),j==="ucs2"||j==="ucs-2"||j==="utf16le"||j==="utf-16le")){if(O.length<2||E.length<2)return-1;te=2,oe/=2,Ke/=2,T/=2}function pt(wt,ot){return te===1?wt[ot]:wt.readUInt16BE(ot*te)}let it;if(W){let wt=-1;for(it=T;it<oe;it++)if(pt(O,it)===pt(E,wt===-1?0:it-wt)){if(wt===-1&&(wt=it),it-wt+1===Ke)return wt*te}else wt!==-1&&(it-=it-wt),wt=-1}else for(T+Ke>oe&&(T=oe-Ke),it=T;it>=0;it--){let wt=!0;for(let ot=0;ot<Ke;ot++)if(pt(O,it+ot)!==pt(E,ot)){wt=!1;break}if(wt)return it}return-1}f.prototype.includes=function(E,T,j){return this.indexOf(E,T,j)!==-1},f.prototype.indexOf=function(E,T,j){return q(this,E,T,j,!0)},f.prototype.lastIndexOf=function(E,T,j){return q(this,E,T,j,!1)};function ie(O,E,T,j){T=Number(T)||0;const W=O.length-T;j?(j=Number(j),j>W&&(j=W)):j=W;const te=E.length;j>te/2&&(j=te/2);let oe;for(oe=0;oe<j;++oe){const Ke=parseInt(E.substr(oe*2,2),16);if(Hr(Ke))return oe;O[T+oe]=Ke}return oe}function we(O,E,T,j){return $i(zr(E,O.length-T),O,T,j)}function he(O,E,T,j){return $i(lr(E),O,T,j)}function ce(O,E,T,j){return $i(Cr(E),O,T,j)}function Se(O,E,T,j){return $i(Xt(E,O.length-T),O,T,j)}f.prototype.write=function(E,T,j,W){if(T===void 0)W="utf8",j=this.length,T=0;else if(j===void 0&&typeof T=="string")W=T,j=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(j)?(j=j>>>0,W===void 0&&(W="utf8")):(W=j,j=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const te=this.length-T;if((j===void 0||j>te)&&(j=te),E.length>0&&(j<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");let oe=!1;for(;;)switch(W){case"hex":return ie(this,E,T,j);case"utf8":case"utf-8":return we(this,E,T,j);case"ascii":case"latin1":case"binary":return he(this,E,T,j);case"base64":return ce(this,E,T,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Se(this,E,T,j);default:if(oe)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),oe=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function K(O,E,T){return E===0&&T===O.length?e.fromByteArray(O):e.fromByteArray(O.slice(E,T))}function Z(O,E,T){T=Math.min(O.length,T);const j=[];let W=E;for(;W<T;){const te=O[W];let oe=null,Ke=te>239?4:te>223?3:te>191?2:1;if(W+Ke<=T){let pt,it,wt,ot;switch(Ke){case 1:te<128&&(oe=te);break;case 2:pt=O[W+1],(pt&192)===128&&(ot=(te&31)<<6|pt&63,ot>127&&(oe=ot));break;case 3:pt=O[W+1],it=O[W+2],(pt&192)===128&&(it&192)===128&&(ot=(te&15)<<12|(pt&63)<<6|it&63,ot>2047&&(ot<55296||ot>57343)&&(oe=ot));break;case 4:pt=O[W+1],it=O[W+2],wt=O[W+3],(pt&192)===128&&(it&192)===128&&(wt&192)===128&&(ot=(te&15)<<18|(pt&63)<<12|(it&63)<<6|wt&63,ot>65535&&ot<1114112&&(oe=ot))}}oe===null?(oe=65533,Ke=1):oe>65535&&(oe-=65536,j.push(oe>>>10&1023|55296),oe=56320|oe&1023),j.push(oe),W+=Ke}return re(j)}const X=4096;function re(O){const E=O.length;if(E<=X)return String.fromCharCode.apply(String,O);let T="",j=0;for(;j<E;)T+=String.fromCharCode.apply(String,O.slice(j,j+=X));return T}function se(O,E,T){let j="";T=Math.min(O.length,T);for(let W=E;W<T;++W)j+=String.fromCharCode(O[W]&127);return j}function H(O,E,T){let j="";T=Math.min(O.length,T);for(let W=E;W<T;++W)j+=String.fromCharCode(O[W]);return j}function ee(O,E,T){const j=O.length;(!E||E<0)&&(E=0),(!T||T<0||T>j)&&(T=j);let W="";for(let te=E;te<T;++te)W+=Kn[O[te]];return W}function ue(O,E,T){const j=O.slice(E,T);let W="";for(let te=0;te<j.length-1;te+=2)W+=String.fromCharCode(j[te]+j[te+1]*256);return W}f.prototype.slice=function(E,T){const j=this.length;E=~~E,T=T===void 0?j:~~T,E<0?(E+=j,E<0&&(E=0)):E>j&&(E=j),T<0?(T+=j,T<0&&(T=0)):T>j&&(T=j),T<E&&(T=E);const W=this.subarray(E,T);return Object.setPrototypeOf(W,f.prototype),W};function de(O,E,T){if(O%1!==0||O<0)throw new RangeError("offset is not uint");if(O+E>T)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(E,T,j){E=E>>>0,T=T>>>0,j||de(E,T,this.length);let W=this[E],te=1,oe=0;for(;++oe<T&&(te*=256);)W+=this[E+oe]*te;return W},f.prototype.readUintBE=f.prototype.readUIntBE=function(E,T,j){E=E>>>0,T=T>>>0,j||de(E,T,this.length);let W=this[E+--T],te=1;for(;T>0&&(te*=256);)W+=this[E+--T]*te;return W},f.prototype.readUint8=f.prototype.readUInt8=function(E,T){return E=E>>>0,T||de(E,1,this.length),this[E]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(E,T){return E=E>>>0,T||de(E,2,this.length),this[E]|this[E+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(E,T){return E=E>>>0,T||de(E,2,this.length),this[E]<<8|this[E+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(E,T){return E=E>>>0,T||de(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(E,T){return E=E>>>0,T||de(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},f.prototype.readBigUInt64LE=zt(function(E){E=E>>>0,rt(E,"offset");const T=this[E],j=this[E+7];(T===void 0||j===void 0)&&vt(E,this.length-8);const W=T+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24,te=this[++E]+this[++E]*2**8+this[++E]*2**16+j*2**24;return BigInt(W)+(BigInt(te)<<BigInt(32))}),f.prototype.readBigUInt64BE=zt(function(E){E=E>>>0,rt(E,"offset");const T=this[E],j=this[E+7];(T===void 0||j===void 0)&&vt(E,this.length-8);const W=T*2**24+this[++E]*2**16+this[++E]*2**8+this[++E],te=this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+j;return(BigInt(W)<<BigInt(32))+BigInt(te)}),f.prototype.readIntLE=function(E,T,j){E=E>>>0,T=T>>>0,j||de(E,T,this.length);let W=this[E],te=1,oe=0;for(;++oe<T&&(te*=256);)W+=this[E+oe]*te;return te*=128,W>=te&&(W-=Math.pow(2,8*T)),W},f.prototype.readIntBE=function(E,T,j){E=E>>>0,T=T>>>0,j||de(E,T,this.length);let W=T,te=1,oe=this[E+--W];for(;W>0&&(te*=256);)oe+=this[E+--W]*te;return te*=128,oe>=te&&(oe-=Math.pow(2,8*T)),oe},f.prototype.readInt8=function(E,T){return E=E>>>0,T||de(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},f.prototype.readInt16LE=function(E,T){E=E>>>0,T||de(E,2,this.length);const j=this[E]|this[E+1]<<8;return j&32768?j|4294901760:j},f.prototype.readInt16BE=function(E,T){E=E>>>0,T||de(E,2,this.length);const j=this[E+1]|this[E]<<8;return j&32768?j|4294901760:j},f.prototype.readInt32LE=function(E,T){return E=E>>>0,T||de(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},f.prototype.readInt32BE=function(E,T){return E=E>>>0,T||de(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},f.prototype.readBigInt64LE=zt(function(E){E=E>>>0,rt(E,"offset");const T=this[E],j=this[E+7];(T===void 0||j===void 0)&&vt(E,this.length-8);const W=this[E+4]+this[E+5]*2**8+this[E+6]*2**16+(j<<24);return(BigInt(W)<<BigInt(32))+BigInt(T+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24)}),f.prototype.readBigInt64BE=zt(function(E){E=E>>>0,rt(E,"offset");const T=this[E],j=this[E+7];(T===void 0||j===void 0)&&vt(E,this.length-8);const W=(T<<24)+this[++E]*2**16+this[++E]*2**8+this[++E];return(BigInt(W)<<BigInt(32))+BigInt(this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+j)}),f.prototype.readFloatLE=function(E,T){return E=E>>>0,T||de(E,4,this.length),t.read(this,E,!0,23,4)},f.prototype.readFloatBE=function(E,T){return E=E>>>0,T||de(E,4,this.length),t.read(this,E,!1,23,4)},f.prototype.readDoubleLE=function(E,T){return E=E>>>0,T||de(E,8,this.length),t.read(this,E,!0,52,8)},f.prototype.readDoubleBE=function(E,T){return E=E>>>0,T||de(E,8,this.length),t.read(this,E,!1,52,8)};function ve(O,E,T,j,W,te){if(!f.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>W||E<te)throw new RangeError('"value" argument is out of bounds');if(T+j>O.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(E,T,j,W){if(E=+E,T=T>>>0,j=j>>>0,!W){const Ke=Math.pow(2,8*j)-1;ve(this,E,T,j,Ke,0)}let te=1,oe=0;for(this[T]=E&255;++oe<j&&(te*=256);)this[T+oe]=E/te&255;return T+j},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(E,T,j,W){if(E=+E,T=T>>>0,j=j>>>0,!W){const Ke=Math.pow(2,8*j)-1;ve(this,E,T,j,Ke,0)}let te=j-1,oe=1;for(this[T+te]=E&255;--te>=0&&(oe*=256);)this[T+te]=E/oe&255;return T+j},f.prototype.writeUint8=f.prototype.writeUInt8=function(E,T,j){return E=+E,T=T>>>0,j||ve(this,E,T,1,255,0),this[T]=E&255,T+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(E,T,j){return E=+E,T=T>>>0,j||ve(this,E,T,2,65535,0),this[T]=E&255,this[T+1]=E>>>8,T+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(E,T,j){return E=+E,T=T>>>0,j||ve(this,E,T,2,65535,0),this[T]=E>>>8,this[T+1]=E&255,T+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(E,T,j){return E=+E,T=T>>>0,j||ve(this,E,T,4,4294967295,0),this[T+3]=E>>>24,this[T+2]=E>>>16,this[T+1]=E>>>8,this[T]=E&255,T+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(E,T,j){return E=+E,T=T>>>0,j||ve(this,E,T,4,4294967295,0),this[T]=E>>>24,this[T+1]=E>>>16,this[T+2]=E>>>8,this[T+3]=E&255,T+4};function _e(O,E,T,j,W){lt(E,j,W,O,T,7);let te=Number(E&BigInt(4294967295));O[T++]=te,te=te>>8,O[T++]=te,te=te>>8,O[T++]=te,te=te>>8,O[T++]=te;let oe=Number(E>>BigInt(32)&BigInt(4294967295));return O[T++]=oe,oe=oe>>8,O[T++]=oe,oe=oe>>8,O[T++]=oe,oe=oe>>8,O[T++]=oe,T}function ae(O,E,T,j,W){lt(E,j,W,O,T,7);let te=Number(E&BigInt(4294967295));O[T+7]=te,te=te>>8,O[T+6]=te,te=te>>8,O[T+5]=te,te=te>>8,O[T+4]=te;let oe=Number(E>>BigInt(32)&BigInt(4294967295));return O[T+3]=oe,oe=oe>>8,O[T+2]=oe,oe=oe>>8,O[T+1]=oe,oe=oe>>8,O[T]=oe,T+8}f.prototype.writeBigUInt64LE=zt(function(E,T=0){return _e(this,E,T,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=zt(function(E,T=0){return ae(this,E,T,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(E,T,j,W){if(E=+E,T=T>>>0,!W){const pt=Math.pow(2,8*j-1);ve(this,E,T,j,pt-1,-pt)}let te=0,oe=1,Ke=0;for(this[T]=E&255;++te<j&&(oe*=256);)E<0&&Ke===0&&this[T+te-1]!==0&&(Ke=1),this[T+te]=(E/oe>>0)-Ke&255;return T+j},f.prototype.writeIntBE=function(E,T,j,W){if(E=+E,T=T>>>0,!W){const pt=Math.pow(2,8*j-1);ve(this,E,T,j,pt-1,-pt)}let te=j-1,oe=1,Ke=0;for(this[T+te]=E&255;--te>=0&&(oe*=256);)E<0&&Ke===0&&this[T+te+1]!==0&&(Ke=1),this[T+te]=(E/oe>>0)-Ke&255;return T+j},f.prototype.writeInt8=function(E,T,j){return E=+E,T=T>>>0,j||ve(this,E,T,1,127,-128),E<0&&(E=255+E+1),this[T]=E&255,T+1},f.prototype.writeInt16LE=function(E,T,j){return E=+E,T=T>>>0,j||ve(this,E,T,2,32767,-32768),this[T]=E&255,this[T+1]=E>>>8,T+2},f.prototype.writeInt16BE=function(E,T,j){return E=+E,T=T>>>0,j||ve(this,E,T,2,32767,-32768),this[T]=E>>>8,this[T+1]=E&255,T+2},f.prototype.writeInt32LE=function(E,T,j){return E=+E,T=T>>>0,j||ve(this,E,T,4,2147483647,-2147483648),this[T]=E&255,this[T+1]=E>>>8,this[T+2]=E>>>16,this[T+3]=E>>>24,T+4},f.prototype.writeInt32BE=function(E,T,j){return E=+E,T=T>>>0,j||ve(this,E,T,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[T]=E>>>24,this[T+1]=E>>>16,this[T+2]=E>>>8,this[T+3]=E&255,T+4},f.prototype.writeBigInt64LE=zt(function(E,T=0){return _e(this,E,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=zt(function(E,T=0){return ae(this,E,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function me(O,E,T,j,W,te){if(T+j>O.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function Ae(O,E,T,j,W){return E=+E,T=T>>>0,W||me(O,E,T,4),t.write(O,E,T,j,23,4),T+4}f.prototype.writeFloatLE=function(E,T,j){return Ae(this,E,T,!0,j)},f.prototype.writeFloatBE=function(E,T,j){return Ae(this,E,T,!1,j)};function Ee(O,E,T,j,W){return E=+E,T=T>>>0,W||me(O,E,T,8),t.write(O,E,T,j,52,8),T+8}f.prototype.writeDoubleLE=function(E,T,j){return Ee(this,E,T,!0,j)},f.prototype.writeDoubleBE=function(E,T,j){return Ee(this,E,T,!1,j)},f.prototype.copy=function(E,T,j,W){if(!f.isBuffer(E))throw new TypeError("argument should be a Buffer");if(j||(j=0),!W&&W!==0&&(W=this.length),T>=E.length&&(T=E.length),T||(T=0),W>0&&W<j&&(W=j),W===j||E.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),E.length-T<W-j&&(W=E.length-T+j);const te=W-j;return this===E&&typeof o.prototype.copyWithin=="function"?this.copyWithin(T,j,W):o.prototype.set.call(E,this.subarray(j,W),T),te},f.prototype.fill=function(E,T,j,W){if(typeof E=="string"){if(typeof T=="string"?(W=T,T=0,j=this.length):typeof j=="string"&&(W=j,j=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!f.isEncoding(W))throw new TypeError("Unknown encoding: "+W);if(E.length===1){const oe=E.charCodeAt(0);(W==="utf8"&&oe<128||W==="latin1")&&(E=oe)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(T<0||this.length<T||this.length<j)throw new RangeError("Out of range index");if(j<=T)return this;T=T>>>0,j=j===void 0?this.length:j>>>0,E||(E=0);let te;if(typeof E=="number")for(te=T;te<j;++te)this[te]=E;else{const oe=f.isBuffer(E)?E:f.from(E,W),Ke=oe.length;if(Ke===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(te=0;te<j-T;++te)this[te+T]=oe[te%Ke]}return this};const Fe={};function Be(O,E,T){Fe[O]=class extends T{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${O}]`,this.stack,delete this.name}get code(){return O}set code(W){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:W,writable:!0})}toString(){return`${this.name} [${O}]: ${this.message}`}}}Be("ERR_BUFFER_OUT_OF_BOUNDS",function(O){return O?`${O} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Be("ERR_INVALID_ARG_TYPE",function(O,E){return`The "${O}" argument must be of type number. Received type ${typeof E}`},TypeError),Be("ERR_OUT_OF_RANGE",function(O,E,T){let j=`The value of "${O}" is out of range.`,W=T;return Number.isInteger(T)&&Math.abs(T)>2**32?W=je(String(T)):typeof T=="bigint"&&(W=String(T),(T>BigInt(2)**BigInt(32)||T<-(BigInt(2)**BigInt(32)))&&(W=je(W)),W+="n"),j+=` It must be ${E}. Received ${W}`,j},RangeError);function je(O){let E="",T=O.length;const j=O[0]==="-"?1:0;for(;T>=j+4;T-=3)E=`_${O.slice(T-3,T)}${E}`;return`${O.slice(0,T)}${E}`}function Ve(O,E,T){rt(E,"offset"),(O[E]===void 0||O[E+T]===void 0)&&vt(E,O.length-(T+1))}function lt(O,E,T,j,W,te){if(O>T||O<E){const oe=typeof E=="bigint"?"n":"";let Ke;throw E===0||E===BigInt(0)?Ke=`>= 0${oe} and < 2${oe} ** ${(te+1)*8}${oe}`:Ke=`>= -(2${oe} ** ${(te+1)*8-1}${oe}) and < 2 ** ${(te+1)*8-1}${oe}`,new Fe.ERR_OUT_OF_RANGE("value",Ke,O)}Ve(j,W,te)}function rt(O,E){if(typeof O!="number")throw new Fe.ERR_INVALID_ARG_TYPE(E,"number",O)}function vt(O,E,T){throw Math.floor(O)!==O?(rt(O,T),new Fe.ERR_OUT_OF_RANGE("offset","an integer",O)):E<0?new Fe.ERR_BUFFER_OUT_OF_BOUNDS:new Fe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${E}`,O)}const ar=/[^+/0-9A-Za-z-_]/g;function Mt(O){if(O=O.split("=")[0],O=O.trim().replace(ar,""),O.length<2)return"";for(;O.length%4!==0;)O=O+"=";return O}function zr(O,E){E=E||1/0;let T;const j=O.length;let W=null;const te=[];for(let oe=0;oe<j;++oe){if(T=O.charCodeAt(oe),T>55295&&T<57344){if(!W){if(T>56319){(E-=3)>-1&&te.push(239,191,189);continue}else if(oe+1===j){(E-=3)>-1&&te.push(239,191,189);continue}W=T;continue}if(T<56320){(E-=3)>-1&&te.push(239,191,189),W=T;continue}T=(W-55296<<10|T-56320)+65536}else W&&(E-=3)>-1&&te.push(239,191,189);if(W=null,T<128){if((E-=1)<0)break;te.push(T)}else if(T<2048){if((E-=2)<0)break;te.push(T>>6|192,T&63|128)}else if(T<65536){if((E-=3)<0)break;te.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((E-=4)<0)break;te.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return te}function lr(O){const E=[];for(let T=0;T<O.length;++T)E.push(O.charCodeAt(T)&255);return E}function Xt(O,E){let T,j,W;const te=[];for(let oe=0;oe<O.length&&!((E-=2)<0);++oe)T=O.charCodeAt(oe),j=T>>8,W=T%256,te.push(W),te.push(j);return te}function Cr(O){return e.toByteArray(Mt(O))}function $i(O,E,T,j){let W;for(W=0;W<j&&!(W+T>=E.length||W>=O.length);++W)E[W+T]=O[W];return W}function Dn(O,E){return O instanceof E||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===E.name}function Hr(O){return O!==O}const Kn=(function(){const O="0123456789abcdef",E=new Array(256);for(let T=0;T<16;++T){const j=T*16;for(let W=0;W<16;++W)E[j+W]=O[T]+O[W]}return E})();function zt(O){return typeof BigInt>"u"?On:O}function On(){throw new Error("BigInt not supported")}})(Xk);const lT=Xk.Buffer,wr=typeof ds=="object"&&ds+""=="[object process]"&&!ds.versions.nw&&!(ds.versions.electron&&ds.type&&ds.type!=="browser"),V_=[.001,0,0,.001,0,0],u_=1.35,ci={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Zs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Zk="pdfjs_internal_editor_",Ge={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},at={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},Jk={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},er={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},dp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},en={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},ud={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},pg={ERRORS:0,WARNINGS:1,INFOS:5},xp={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Fy={moveTo:0,lineTo:1,curveTo:2,closePath:3},eI={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let H0=pg.WARNINGS;function $6(i){Number.isInteger(i)&&(H0=i)}function z6(){return H0}function U0(i){H0>=pg.INFOS&&console.log(`Info: ${i}`)}function qe(i){H0>=pg.WARNINGS&&console.log(`Warning: ${i}`)}function xt(i){throw new Error(i)}function un(i,e){i||xt(e)}function H6(i){switch(i==null?void 0:i.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Q1(i,e=null,t=null){if(!i)return null;if(t&&typeof i=="string"){if(t.addDefaultProtocol&&i.startsWith("www.")){const r=i.match(/\./g);(r==null?void 0:r.length)>=2&&(i=`http://${i}`)}if(t.tryConvertEncoding)try{i=q6(i)}catch{}}const n=e?URL.parse(i,e):URL.parse(i);return H6(n)?n:null}function Z1(i,e,t=!1){const n=URL.parse(i);return n?(n.hash=e,n.href):t&&Q1(i,"http://example.com")?i.split("#",1)[0]+`${e?`#${e}`:""}`:""}function st(i,e,t,n=!1){return Object.defineProperty(i,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Iu=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class cT extends Iu{constructor(e,t){super(e,"PasswordException"),this.code=t}}class d_ extends Iu{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Vv extends Iu{constructor(e){super(e,"InvalidPDFException")}}class Sp extends Iu{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class U6 extends Iu{constructor(e){super(e,"FormatError")}}class ua extends Iu{constructor(e){super(e,"AbortException")}}function tI(i){(typeof i!="object"||(i==null?void 0:i.length)===void 0)&&xt("Invalid argument for bytesToString");const e=i.length,t=8192;if(e<t)return String.fromCharCode.apply(null,i);const n=[];for(let r=0;r<e;r+=t){const o=Math.min(r+t,e),l=i.subarray(r,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function mg(i){typeof i!="string"&&xt("Invalid argument for stringToBytes");const e=i.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=i.charCodeAt(n)&255;return t}function V6(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function G6(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function W6(){try{return new Function(""),!0}catch{return!1}}class Ln{static get isLittleEndian(){return st(this,"isLittleEndian",G6())}static get isEvalSupported(){return st(this,"isEvalSupported",W6())}static get isOffscreenCanvasSupported(){return st(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return st(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return st(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return st(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const h_=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));var sa,Jy,G_;class Oe{static makeHexColor(e,t,n){return`#${h_[e]}${h_[t]}${h_[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,n=0){const r=e[n],o=e[n+1];e[n]=r*t[0]+o*t[2]+t[4],e[n+1]=r*t[1]+o*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const r=t[0],o=t[1],l=t[2],c=t[3],d=t[4],p=t[5];for(let f=0;f<6;f+=2){const m=e[n+f],y=e[n+f+1];e[n+f]=m*r+y*l+d,e[n+f+1]=m*o+y*c+p}}static applyInverseTransform(e,t){const n=e[0],r=e[1],o=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/o,e[1]=(-n*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/o}static axialAlignedBoundingBox(e,t,n){const r=t[0],o=t[1],l=t[2],c=t[3],d=t[4],p=t[5],f=e[0],m=e[1],y=e[2],w=e[3];let x=r*f+d,b=x,A=r*y+d,R=A,k=c*m+p,M=k,L=c*w+p,F=L;if(o!==0||l!==0){const $=o*f,B=o*y,V=l*m,q=l*w;x+=V,R+=V,A+=q,b+=q,k+=$,F+=$,L+=B,M+=B}n[0]=Math.min(n[0],x,A,b,R),n[1]=Math.min(n[1],k,L,M,F),n[2]=Math.max(n[2],x,A,b,R),n[3]=Math.max(n[3],k,L,M,F)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],r=e[1],o=e[2],l=e[3],c=n**2+r**2,d=n*o+r*l,p=o**2+l**2,f=(c+p)/2,m=Math.sqrt(f**2-(c*p-d**2));t[0]=Math.sqrt(f+m||1),t[1]=Math.sqrt(f-m||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>l?null:[n,o,r,l]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,r,o){o[0]=Math.min(o[0],e,n),o[1]=Math.min(o[1],t,r),o[2]=Math.max(o[2],e,n),o[3]=Math.max(o[3],t,r)}static bezierBoundingBox(e,t,n,r,o,l,c,d,p){p[0]=Math.min(p[0],e,c),p[1]=Math.min(p[1],t,d),p[2]=Math.max(p[2],e,c),p[3]=Math.max(p[3],t,d),N(this,sa,G_).call(this,e,n,o,c,t,r,l,d,3*(-e+3*(n-o)+c),6*(e-2*n+o),3*(n-e),p),N(this,sa,G_).call(this,e,n,o,c,t,r,l,d,3*(-t+3*(r-l)+d),6*(t-2*r+l),3*(r-t),p)}}sa=new WeakSet,Jy=function(e,t,n,r,o,l,c,d,p,f){if(p<=0||p>=1)return;const m=1-p,y=p*p,w=y*p,x=m*(m*(m*e+3*p*t)+3*y*n)+w*r,b=m*(m*(m*o+3*p*l)+3*y*c)+w*d;f[0]=Math.min(f[0],x),f[1]=Math.min(f[1],b),f[2]=Math.max(f[2],x),f[3]=Math.max(f[3],b)},G_=function(e,t,n,r,o,l,c,d,p,f,m,y){if(Math.abs(p)<1e-12){Math.abs(f)>=1e-12&&N(this,sa,Jy).call(this,e,t,n,r,o,l,c,d,-m/f,y);return}const w=f**2-4*m*p;if(w<0)return;const x=Math.sqrt(w),b=2*p;N(this,sa,Jy).call(this,e,t,n,r,o,l,c,d,(-f+x)/b,y),N(this,sa,Jy).call(this,e,t,n,r,o,l,c,d,(-f-x)/b,y)},I(Oe,sa);function q6(i){return decodeURIComponent(escape(i))}let f_=null,uT=null;function nI(i){return f_||(f_=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,uT=new Map([["","t"]])),i.replaceAll(f_,(e,t,n)=>t?t.normalize("NFKC"):uT.get(n))}function J1(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const i=new Uint8Array(32);return crypto.getRandomValues(i),tI(i)}const eS="pdfjs_internal_id_";function K6(i,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,r,...o]=t;if(!i(n)&&!Number.isInteger(n)||!e(r))return!1;const l=o.length;let c=!0;switch(r.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;c=!1;break;default:return!1}for(const d of o)if(!(typeof d=="number"||c&&d===null))return!1;return!0}function sr(i,e,t){return Math.min(Math.max(i,e),t)}function rI(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(tI(i))}function Y6(i){return Uint8Array.fromBase64?Uint8Array.fromBase64(i):mg(atob(i))}typeof Promise.try!="function"&&(Promise.try=function(i,...e){return new Promise(t=>{t(i(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(i){return i.reduce((e,t)=>e+t,0)});const xo="http://www.w3.org/2000/svg",rc=class rc{};ye(rc,"CSS",96),ye(rc,"PDF",72),ye(rc,"PDF_TO_CSS_UNITS",rc.CSS/rc.PDF);let da=rc;async function Jh(i,e="text"){if(Gf(i,document.baseURI)){const t=await fetch(i);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const r=new XMLHttpRequest;r.open("GET",i,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class gg{constructor({viewBox:e,userUnit:t,scale:n,rotation:r,offsetX:o=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=r,this.offsetX=o,this.offsetY=l,n*=t;const d=(e[2]+e[0])/2,p=(e[3]+e[1])/2;let f,m,y,w;switch(r%=360,r<0&&(r+=360),r){case 180:f=-1,m=0,y=0,w=1;break;case 90:f=0,m=1,y=1,w=0;break;case 270:f=0,m=-1,y=-1,w=0;break;case 0:f=1,m=0,y=0,w=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(y=-y,w=-w);let x,b,A,R;f===0?(x=Math.abs(p-e[1])*n+o,b=Math.abs(d-e[0])*n+l,A=(e[3]-e[1])*n,R=(e[2]-e[0])*n):(x=Math.abs(d-e[0])*n+o,b=Math.abs(p-e[1])*n+l,A=(e[2]-e[0])*n,R=(e[3]-e[1])*n),this.transform=[f*n,m*n,y*n,w*n,x-f*n*d-y*n*p,b-m*n*d-w*n*p],this.width=A,this.height=R}get rawDims(){const e=this.viewBox;return st(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new gg({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:o})}convertToViewportPoint(e,t){const n=[e,t];return Oe.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];Oe.applyTransform(t,this.transform);const n=[e[2],e[3]];return Oe.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return Oe.applyInverseTransform(n,this.transform),n}}class V0 extends Iu{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function yg(i){const e=i.length;let t=0;for(;t<e&&i[t].trim()==="";)t++;return i.substring(t,t+5).toLowerCase()==="data:"}function G0(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function iI(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function sI(i,e="document.pdf"){if(typeof i!="string")return e;if(yg(i))return qe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(i);if(!n)return e;const r=c=>{try{let d=decodeURIComponent(c);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:c):d}catch{return c}},o=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(o.test(l))return r(l);if(n.searchParams.size>0){const c=Array.from(n.searchParams.values()).reverse();for(const p of c)if(o.test(p))return r(p);const d=Array.from(n.searchParams.keys()).reverse();for(const p of d)if(o.test(p))return r(p)}if(n.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(d)return r(d[0])}return e}class dT{constructor(){ye(this,"started",Object.create(null));ye(this,"times",[])}time(e){e in this.started&&qe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||qe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:o}of this.times)e.push(`${n.padEnd(t)} ${o-r}ms
`);return e.join("")}}function Gf(i,e){const t=e?URL.parse(i,e):URL.parse(i);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Bi(i){i.preventDefault()}function rn(i){i.preventDefault(),i.stopPropagation()}function X6(i){console.log("Deprecated API usage: "+i)}var Mp;class W0{static toDateObject(e){if(!e||typeof e!="string")return null;u(this,Mp)||C(this,Mp,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=u(this,Mp).exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(t[5],10);c=c>=0&&c<=59?c:0;let d=parseInt(t[6],10);d=d>=0&&d<=59?d:0;const p=t[7]||"Z";let f=parseInt(t[8],10);f=f>=0&&f<=23?f:0;let m=parseInt(t[9],10)||0;return m=m>=0&&m<=59?m:0,p==="-"?(l+=f,c+=m):p==="+"&&(l-=f,c-=m),new Date(Date.UTC(n,r,o,l,c,d))}}Mp=new WeakMap,I(W0,Mp);function oI(i,{scale:e=1,rotation:t=0}){const{width:n,height:r}=i.attributes.style,o=[0,0,parseInt(n),parseInt(r)];return new gg({viewBox:o,userUnit:1,scale:e,rotation:t})}function tS(i){if(i.startsWith("#")){const e=parseInt(i.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(e=>parseInt(e)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(qe(`Not a valid color format: "${i}"`),[0,0,0])}function Q6(i){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of i.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;i.set(t,tS(n))}e.remove()}function Gt(i){const{a:e,b:t,c:n,d:r,e:o,f:l}=i.getTransform();return[e,t,n,r,o,l]}function As(i){const{a:e,b:t,c:n,d:r,e:o,f:l}=i.getTransform().invertSelf();return[e,t,n,r,o,l]}function Ml(i,e,t=!1,n=!0){if(e instanceof gg){const{pageWidth:r,pageHeight:o}=e.rawDims,{style:l}=i,c=Ln.isCSSRoundSupported,d=`var(--total-scale-factor) * ${r}px`,p=`var(--total-scale-factor) * ${o}px`,f=c?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,m=c?`round(down, ${p}, var(--scale-round-y))`:`calc(${p})`;!t||e.rotation%180===0?(l.width=f,l.height=m):(l.width=m,l.height=f)}n&&i.setAttribute("data-main-rotation",e.rotation)}class gs{constructor(){const{pixelRatio:e}=gs;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,r,o=-1){let l=1/0,c=1/0,d=1/0;n=gs.capPixels(n,o),n>0&&(l=Math.sqrt(n/(e*t))),r!==-1&&(c=r/e,d=r/t);const p=Math.min(l,c,d);return this.sx>p||this.sy>p?(this.sx=p,this.sy=p,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const Gv=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var Ga,dc,Ri,Wa,Np,Fd,Lp,Jv,aI,_r,lI,cI,Wf,ev;const Ao=class Ao{constructor(e){I(this,_r);I(this,Ga,null);I(this,dc,null);I(this,Ri);I(this,Wa,null);I(this,Np,null);I(this,Fd,null);C(this,Ri,e),u(Ao,Lp)||C(Ao,Lp,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=C(this,Ga,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=u(this,Ri)._uiManager._signal;e.addEventListener("contextmenu",Bi,{signal:t}),e.addEventListener("pointerdown",N(Ao,Jv,aI),{signal:t});const n=C(this,Wa,document.createElement("div"));n.className="buttons",e.append(n);const r=u(this,Ri).toolbarPosition;if(r){const{style:o}=e,l=u(this,Ri)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return u(this,Ga)}hide(){var e;u(this,Ga).classList.add("hidden"),(e=u(this,dc))==null||e.hideDropdown()}show(){var e;u(this,Ga).classList.remove("hidden"),(e=u(this,Np))==null||e.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=u(this,Ri),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",u(Ao,Lp)[e]),N(this,_r,Wf).call(this,n),n.addEventListener("click",r=>{t.delete()},{signal:t._signal}),u(this,Wa).append(n)}async addAltText(e){const t=await e.render();N(this,_r,Wf).call(this,t),u(this,Wa).append(t,u(this,_r,ev)),C(this,Np,e)}addColorPicker(e){C(this,dc,e);const t=e.renderButton();N(this,_r,Wf).call(this,t),u(this,Wa).append(t,u(this,_r,ev))}async addEditSignatureButton(e){const t=C(this,Fd,await e.renderEditButton(u(this,Ri)));N(this,_r,Wf).call(this,t),u(this,Wa).append(t,u(this,_r,ev))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(e){u(this,Fd)&&(u(this,Fd).title=e)}remove(){var e;u(this,Ga).remove(),(e=u(this,dc))==null||e.destroy(),C(this,dc,null)}};Ga=new WeakMap,dc=new WeakMap,Ri=new WeakMap,Wa=new WeakMap,Np=new WeakMap,Fd=new WeakMap,Lp=new WeakMap,Jv=new WeakSet,aI=function(e){e.stopPropagation()},_r=new WeakSet,lI=function(e){u(this,Ri)._focusEventsAllowed=!1,rn(e)},cI=function(e){u(this,Ri)._focusEventsAllowed=!0,rn(e)},Wf=function(e){const t=u(this,Ri)._uiManager._signal;e.addEventListener("focusin",N(this,_r,lI).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",N(this,_r,cI).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Bi,{signal:t})},ev=function(){const e=document.createElement("div");return e.className="divider",e},I(Ao,Jv),I(Ao,Lp,null);let W_=Ao;var Dp,hc,fc,Ll,uI,dI,hI;class Z6{constructor(e){I(this,Ll);I(this,Dp,null);I(this,hc,null);I(this,fc);C(this,fc,e)}show(e,t,n){const[r,o]=N(this,Ll,dI).call(this,t,n),{style:l}=u(this,hc)||C(this,hc,N(this,Ll,uI).call(this));e.append(u(this,hc)),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,hc).remove()}}Dp=new WeakMap,hc=new WeakMap,fc=new WeakMap,Ll=new WeakSet,uI=function(){const e=C(this,hc,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Bi,{signal:u(this,fc)._signal});const t=C(this,Dp,document.createElement("div"));return t.className="buttons",e.append(t),N(this,Ll,hI).call(this),e},dI=function(e,t){let n=0,r=0;for(const o of e){const l=o.y+o.height;if(l<n)continue;const c=o.x+(t?o.width:0);if(l>n){r=c,n=l;continue}t?c>r&&(r=c):c<r&&(r=c)}return[t?1-r:r,n]},hI=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=u(this,fc)._signal;e.addEventListener("contextmenu",Bi,{signal:n}),e.addEventListener("click",()=>{u(this,fc).highlightSelection("floating_button")},{signal:n}),u(this,Dp).append(e)};function fI(i,e,t){for(const n of t)e.addEventListener(n,i[n].bind(i))}var e0;class J6{constructor(){I(this,e0,0)}get id(){return`${Zk}${En(this,e0)._++}`}}e0=new WeakMap;var jd,Op,nr,Bd,tv;const pS=class pS{constructor(){I(this,Bd);I(this,jd,J1());I(this,Op,0);I(this,nr,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const o=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return st(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:t,name:n,size:r,type:o}=e;return N(this,Bd,tv).call(this,`${t}_${n}_${r}_${o}`,e)}async getFromUrl(e){return N(this,Bd,tv).call(this,e,e)}async getFromBlob(e,t){const n=await t;return N(this,Bd,tv).call(this,e,n)}async getFromId(e){u(this,nr)||C(this,nr,new Map);const t=u(this,nr).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){u(this,nr)||C(this,nr,new Map);let n=u(this,nr).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${u(this,jd)}_${En(this,Op)._++}`,refCounter:1,isSvg:!1},u(this,nr).set(e,n),u(this,nr).set(n.id,n),n}getSvgUrl(e){const t=u(this,nr).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;u(this,nr)||C(this,nr,new Map);const t=u(this,nr).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const o=new OffscreenCanvas(n.width,n.height);o.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=o.convertToBlob()}(r=n.close)==null||r.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${u(this,jd)}_`)}};jd=new WeakMap,Op=new WeakMap,nr=new WeakMap,Bd=new WeakSet,tv=async function(e,t){u(this,nr)||C(this,nr,new Map);let n=u(this,nr).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${u(this,jd)}_${En(this,Op)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(n.url=t,r=await Jh(t,"blob")):t instanceof File?r=n.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const o=pS._isSVGFittingCanvas,l=new FileReader,c=new Image,d=new Promise((p,f)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,p()},l.onload=async()=>{const m=n.svgUrl=l.result;c.src=await o?`${m}#svgView(preserveAspectRatio(none))`:m},c.onerror=l.onerror=f});l.readAsDataURL(r),await d}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){qe(r),n=null}return u(this,nr).set(e,n),n&&u(this,nr).set(n.id,n),n};let q_=pS;var tn,qa,Fp,Vt;class e5{constructor(e=128){I(this,tn,[]);I(this,qa,!1);I(this,Fp);I(this,Vt,-1);C(this,Fp,e)}add({cmd:e,undo:t,post:n,mustExec:r,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(r&&e(),u(this,qa))return;const d={cmd:e,undo:t,post:n,type:o};if(u(this,Vt)===-1){u(this,tn).length>0&&(u(this,tn).length=0),C(this,Vt,0),u(this,tn).push(d);return}if(l&&u(this,tn)[u(this,Vt)].type===o){c&&(d.undo=u(this,tn)[u(this,Vt)].undo),u(this,tn)[u(this,Vt)]=d;return}const p=u(this,Vt)+1;p===u(this,Fp)?u(this,tn).splice(0,1):(C(this,Vt,p),p<u(this,tn).length&&u(this,tn).splice(p)),u(this,tn).push(d)}undo(){if(u(this,Vt)===-1)return;C(this,qa,!0);const{undo:e,post:t}=u(this,tn)[u(this,Vt)];e(),t==null||t(),C(this,qa,!1),C(this,Vt,u(this,Vt)-1)}redo(){if(u(this,Vt)<u(this,tn).length-1){C(this,Vt,u(this,Vt)+1),C(this,qa,!0);const{cmd:e,post:t}=u(this,tn)[u(this,Vt)];e(),t==null||t(),C(this,qa,!1)}}hasSomethingToUndo(){return u(this,Vt)!==-1}hasSomethingToRedo(){return u(this,Vt)<u(this,tn).length-1}cleanType(e){if(u(this,Vt)!==-1){for(let t=u(this,Vt);t>=0;t--)if(u(this,tn)[t].type!==e){u(this,tn).splice(t+1,u(this,Vt)-t),C(this,Vt,t);return}u(this,tn).length=0,C(this,Vt,-1)}}destroy(){C(this,tn,null)}}tn=new WeakMap,qa=new WeakMap,Fp=new WeakMap,Vt=new WeakMap;var t0,pI;class vg{constructor(e){I(this,t0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Ln.platform;for(const[n,r,o={}]of e)for(const l of n){const c=l.startsWith("mac+");t&&c?(this.callbacks.set(l.slice(4),{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1))):!t&&!c&&(this.callbacks.set(l,{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(N(this,t0,pI).call(this,t));if(!n)return;const{callback:r,options:{bubbles:o=!1,args:l=[],checker:c=null}}=n;c&&!c(e,t)||(r.bind(e,...l,t)(),o||rn(t))}}t0=new WeakSet,pI=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const n0=class n0{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Q6(e),st(this,"_colors",e)}convert(e){const t=tS(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every((o,l)=>o===t[l]))return n0._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Oe.makeHexColor(...t):e}};ye(n0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let K_=n0;var $d,Yr,yn,$n,zd,Ro,Hd,Pi,Ka,Ya,Ud,pc,Ns,Ji,mc,jp,Bp,Vd,$p,Ls,Xa,Gd,Qa,Ds,r0,Za,zp,Ja,gc,yc,el,Hp,Tn,yt,Po,tl,vc,Up,Vp,nl,Os,ko,Gp,Wp,ki,xe,nv,Y_,mI,gI,rv,yI,vI,wI,X_,bI,Q_,Z_,_I,fr,So,xI,SI,J_,EI,qf,ex;const vd=class vd{constructor(e,t,n,r,o,l,c,d,p,f,m,y,w,x,b){I(this,xe);I(this,$d,new AbortController);I(this,Yr,null);I(this,yn,new Map);I(this,$n,new Map);I(this,zd,null);I(this,Ro,null);I(this,Hd,null);I(this,Pi,new e5);I(this,Ka,null);I(this,Ya,null);I(this,Ud,0);I(this,pc,new Set);I(this,Ns,null);I(this,Ji,null);I(this,mc,new Set);ye(this,"_editorUndoBar",null);I(this,jp,!1);I(this,Bp,!1);I(this,Vd,!1);I(this,$p,null);I(this,Ls,null);I(this,Xa,null);I(this,Gd,null);I(this,Qa,!1);I(this,Ds,null);I(this,r0,new J6);I(this,Za,!1);I(this,zp,!1);I(this,Ja,null);I(this,gc,null);I(this,yc,null);I(this,el,null);I(this,Hp,null);I(this,Tn,Ge.NONE);I(this,yt,new Set);I(this,Po,null);I(this,tl,null);I(this,vc,null);I(this,Up,null);I(this,Vp,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});I(this,nl,[0,0]);I(this,Os,null);I(this,ko,null);I(this,Gp,null);I(this,Wp,null);I(this,ki,null);const A=this._signal=u(this,$d).signal;C(this,ko,e),C(this,Gp,t),C(this,Wp,n),C(this,zd,r),C(this,tl,o),this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:A}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),l._on("setpreference",this.onSetPreference.bind(this),{signal:A}),l._on("switchannotationeditorparams",R=>this.updateParams(R.type,R.value),{signal:A}),N(this,xe,yI).call(this),N(this,xe,_I).call(this),N(this,xe,X_).call(this),C(this,Ro,c.annotationStorage),C(this,$p,c.filterFactory),C(this,vc,d),C(this,Gd,p||null),C(this,jp,f),C(this,Bp,m),C(this,Vd,y),C(this,Hp,w||null),this.viewParameters={realScale:da.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=x||null,this._supportsPinchToZoom=b!==!1}static get _keyboardManager(){const e=vd.prototype,t=l=>u(l,ko).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:d}=c;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return st(this,"_keyboardManager",new vg([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&u(l,ko).contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&u(l,ko).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}destroy(){var e,t,n,r,o,l,c,d;(e=u(this,ki))==null||e.resolve(),C(this,ki,null),(t=u(this,$d))==null||t.abort(),C(this,$d,null),this._signal=null;for(const p of u(this,$n).values())p.destroy();u(this,$n).clear(),u(this,yn).clear(),u(this,mc).clear(),(n=u(this,el))==null||n.clear(),C(this,Yr,null),u(this,yt).clear(),u(this,Pi).destroy(),(r=u(this,zd))==null||r.destroy(),(o=u(this,tl))==null||o.destroy(),(l=u(this,Ds))==null||l.hide(),C(this,Ds,null),(c=u(this,yc))==null||c.destroy(),C(this,yc,null),u(this,Ls)&&(clearTimeout(u(this,Ls)),C(this,Ls,null)),u(this,Os)&&(clearTimeout(u(this,Os)),C(this,Os,null)),(d=this._editorUndoBar)==null||d.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return u(this,Hp)}get useNewAltTextFlow(){return u(this,Bp)}get useNewAltTextWhenAddingImage(){return u(this,Vd)}get hcmFilter(){return st(this,"hcmFilter",u(this,vc)?u(this,$p).addHCMFilter(u(this,vc).foreground,u(this,vc).background):"none")}get direction(){return st(this,"direction",getComputedStyle(u(this,ko)).direction)}get highlightColors(){return st(this,"highlightColors",u(this,Gd)?new Map(u(this,Gd).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return st(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),C(this,Ya,e)}setMainHighlightColorPicker(e){C(this,yc,e)}editAltText(e,t=!1){var n;(n=u(this,zd))==null||n.editAltText(this,e,t)}getSignature(e){var t;(t=u(this,tl))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return u(this,tl)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":C(this,Vd,t);break}}onPageChanging({pageNumber:e}){C(this,Ud,e-1)}focusMainContainer(){u(this,ko).focus()}findParent(e,t){for(const n of u(this,$n).values()){const{x:r,y:o,width:l,height:c}=n.div.getBoundingClientRect();if(e>=r&&e<=r+l&&t>=o&&t<=o+c)return n}return null}disableUserSelect(e=!1){u(this,Gp).classList.toggle("noUserSelect",e)}addShouldRescale(e){u(this,mc).add(e)}removeShouldRescale(e){u(this,mc).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*da.PDF_TO_CSS_UNITS;for(const n of u(this,mc))n.onScaleChanging();(t=u(this,Ya))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:l}=t,c=t.toString(),p=N(this,xe,nv).call(this,t).closest(".textLayer"),f=this.getSelectionBoxes(p);if(!f)return;t.empty();const m=N(this,xe,Y_).call(this,p),y=u(this,Tn)===Ge.NONE,w=()=>{m==null||m.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:f,anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:l,text:c}),y&&this.showAllEditors("highlight",!0,!0)};if(y){this.switchToMode(Ge.HIGHLIGHT,w);return}w()}addToAnnotationStorage(e){!e.isEmpty()&&u(this,Ro)&&!u(this,Ro).has(e.id)&&u(this,Ro).setValue(e.id,e)}a11yAlert(e,t=null){const n=u(this,Wp);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,u(this,Qa)&&(C(this,Qa,!1),N(this,xe,rv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of u(this,yt))if(t.div.contains(e)){C(this,gc,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!u(this,gc))return;const[e,t]=u(this,gc);C(this,gc,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){N(this,xe,X_).call(this),N(this,xe,Q_).call(this)}removeEditListeners(){N(this,xe,bI).call(this),N(this,xe,Z_).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of u(this,Ji))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of u(this,Ji))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=u(this,Yr))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of u(this,yt)){const o=r.serialize(!0);o&&t.push(o)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const o of t.items)for(const l of u(this,Ji))if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){qe(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const d of n){const p=await r.deserialize(d);if(!p)return;o.push(p)}const l=()=>{for(const d of o)N(this,xe,J_).call(this,d);N(this,xe,ex).call(this,o)},c=()=>{for(const d of o)d.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(o){qe(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,Tn)!==Ge.NONE&&!this.isEditorHandlingKeyboard&&vd._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,Qa)&&(C(this,Qa,!1),N(this,xe,rv).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(N(this,xe,vI).call(this),N(this,xe,Q_).call(this),N(this,xe,fr).call(this,{isEditing:u(this,Tn)!==Ge.NONE,isEmpty:N(this,xe,qf).call(this),hasSomethingToUndo:u(this,Pi).hasSomethingToUndo(),hasSomethingToRedo:u(this,Pi).hasSomethingToRedo(),hasSelectedEditor:!1})):(N(this,xe,wI).call(this),N(this,xe,Z_).call(this),N(this,xe,fr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!u(this,Ji)){C(this,Ji,e);for(const t of u(this,Ji))N(this,xe,So).call(this,t.defaultPropertiesToUpdate)}}getId(){return u(this,r0).id}get currentLayer(){return u(this,$n).get(u(this,Ud))}getLayer(e){return u(this,$n).get(e)}get currentPageIndex(){return u(this,Ud)}addLayer(e){u(this,$n).set(e.pageIndex,e),u(this,Za)?e.enable():e.disable()}removeLayer(e){u(this,$n).delete(e.pageIndex)}async updateMode(e,t=null,n=!1,r=!1){var o,l,c;if(u(this,Tn)!==e&&!(u(this,ki)&&(await u(this,ki).promise,!u(this,ki)))){if(C(this,ki,Promise.withResolvers()),(o=u(this,Ya))==null||o.commitOrRemove(),C(this,Tn,e),e===Ge.NONE){this.setEditingState(!1),N(this,xe,SI).call(this),(l=this._editorUndoBar)==null||l.hide(),u(this,ki).resolve();return}e===Ge.SIGNATURE&&await((c=u(this,tl))==null?void 0:c.loadSignatures()),this.setEditingState(!0),await N(this,xe,xI).call(this),this.unselectAll();for(const d of u(this,$n).values())d.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),u(this,ki).resolve();return}for(const d of u(this,yn).values())d.annotationElementId===t||d.id===t?(this.setSelected(d),r&&d.enterInEditMode()):d.unselect();u(this,ki).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==u(this,Tn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){var n;if(u(this,Ji)){switch(e){case at.CREATE:this.currentLayer.addNewEditor(t);return;case at.HIGHLIGHT_DEFAULT_COLOR:(n=u(this,yc))==null||n.updateColor(t);break;case at.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,Up)||C(this,Up,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of u(this,yt))r.updateParams(e,t);for(const r of u(this,Ji))r.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var o;for(const l of u(this,yn).values())l.editorType===e&&l.show(t);(((o=u(this,Up))==null?void 0:o.get(at.HIGHLIGHT_SHOW_ALL))??!0)!==t&&N(this,xe,So).call(this,[[at.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(u(this,zp)!==e){C(this,zp,e);for(const t of u(this,$n).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of u(this,yn).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return u(this,yn).get(e)}addEditor(e){u(this,yn).set(e.id,e)}removeEditor(e){var t,n;e.div.contains(document.activeElement)&&(u(this,Ls)&&clearTimeout(u(this,Ls)),C(this,Ls,setTimeout(()=>{this.focusMainContainer(),C(this,Ls,null)},0))),u(this,yn).delete(e.id),e.annotationElementId&&((t=u(this,el))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!u(this,pc).has(e.annotationElementId))&&((n=u(this,Ro))==null||n.remove(e.id))}addDeletedAnnotationElement(e){u(this,pc).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return u(this,pc).has(e)}removeDeletedAnnotationElement(e){u(this,pc).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){u(this,Yr)!==e&&(C(this,Yr,e),e&&N(this,xe,So).call(this,e.propertiesToUpdate))}updateUI(e){u(this,xe,EI)===e&&N(this,xe,So).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){N(this,xe,So).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(u(this,yt).has(e)){u(this,yt).delete(e),e.unselect(),N(this,xe,fr).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,yt).add(e),e.select(),N(this,xe,So).call(this,e.propertiesToUpdate),N(this,xe,fr).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=u(this,Ya))==null||t.commitOrRemove();for(const n of u(this,yt))n!==e&&n.unselect();u(this,yt).clear(),u(this,yt).add(e),e.select(),N(this,xe,So).call(this,e.propertiesToUpdate),N(this,xe,fr).call(this,{hasSelectedEditor:!0})}isSelected(e){return u(this,yt).has(e)}get firstSelectedEditor(){return u(this,yt).values().next().value}unselect(e){e.unselect(),u(this,yt).delete(e),N(this,xe,fr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,yt).size!==0}get isEnterHandled(){return u(this,yt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;u(this,Pi).undo(),N(this,xe,fr).call(this,{hasSomethingToUndo:u(this,Pi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:N(this,xe,qf).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){u(this,Pi).redo(),N(this,xe,fr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,Pi).hasSomethingToRedo(),isEmpty:N(this,xe,qf).call(this)})}addCommands(e){u(this,Pi).add(e),N(this,xe,fr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:N(this,xe,qf).call(this)})}cleanUndoStack(e){u(this,Pi).cleanType(e)}delete(){var o;this.commitOrRemove();const e=(o=this.currentLayer)==null?void 0:o.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...u(this,yt)],n=()=>{var l;(l=this._editorUndoBar)==null||l.show(r,t.length===1?t[0].editorType:t.length);for(const c of t)c.remove()},r=()=>{for(const l of t)N(this,xe,J_).call(this,l)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=u(this,Yr))==null||e.commitOrRemove()}hasSomethingToControl(){return u(this,Yr)||this.hasSelection}selectAll(){for(const e of u(this,yt))e.commit();N(this,xe,ex).call(this,u(this,yn).values())}unselectAll(){var e;if(!(u(this,Yr)&&(u(this,Yr).commitOrRemove(),u(this,Tn)!==Ge.NONE))&&!((e=u(this,Ya))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of u(this,yt))t.unselect();u(this,yt).clear(),N(this,xe,fr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;u(this,nl)[0]+=e,u(this,nl)[1]+=t;const[r,o]=u(this,nl),l=[...u(this,yt)],c=1e3;u(this,Os)&&clearTimeout(u(this,Os)),C(this,Os,setTimeout(()=>{C(this,Os,null),u(this,nl)[0]=u(this,nl)[1]=0,this.addCommands({cmd:()=>{for(const d of l)u(this,yn).has(d.id)&&(d.translateInPage(r,o),d.translationDone())},undo:()=>{for(const d of l)u(this,yn).has(d.id)&&(d.translateInPage(-r,-o),d.translationDone())},mustExec:!1})},c));for(const d of l)d.translateInPage(e,t),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),C(this,Ns,new Map);for(const e of u(this,yt))u(this,Ns).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,Ns))return!1;this.disableUserSelect(!1);const e=u(this,Ns);C(this,Ns,null);let t=!1;for(const[{x:r,y:o,pageIndex:l},c]of e)c.newX=r,c.newY=o,c.newPageIndex=l,t||(t=r!==c.savedX||o!==c.savedY||l!==c.savedPageIndex);if(!t)return!1;const n=(r,o,l,c)=>{if(u(this,yn).has(r.id)){const d=u(this,$n).get(c);d?r._setParentAndPosition(d,o,l):(r.pageIndex=c,r.x=o,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:l,newPageIndex:c}]of e)n(r,o,l,c)},undo:()=>{for(const[r,{savedX:o,savedY:l,savedPageIndex:c}]of e)n(r,o,l,c)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(u(this,Ns))for(const n of u(this,Ns).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||u(this,yt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return u(this,Yr)===e}getActive(){return u(this,Yr)}getMode(){return u(this,Tn)}get imageManager(){return st(this,"imageManager",new q_)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let p=0,f=t.rangeCount;p<f;p++)if(!e.contains(t.getRangeAt(p).commonAncestorContainer))return null;const{x:n,y:r,width:o,height:l}=e.getBoundingClientRect();let c;switch(e.getAttribute("data-main-rotation")){case"90":c=(p,f,m,y)=>({x:(f-r)/l,y:1-(p+m-n)/o,width:y/l,height:m/o});break;case"180":c=(p,f,m,y)=>({x:1-(p+m-n)/o,y:1-(f+y-r)/l,width:m/o,height:y/l});break;case"270":c=(p,f,m,y)=>({x:1-(f+y-r)/l,y:(p-n)/o,width:y/l,height:m/o});break;default:c=(p,f,m,y)=>({x:(p-n)/o,y:(f-r)/l,width:m/o,height:y/l});break}const d=[];for(let p=0,f=t.rangeCount;p<f;p++){const m=t.getRangeAt(p);if(!m.collapsed)for(const{x:y,y:w,width:x,height:b}of m.getClientRects())x===0||b===0||d.push(c(y,w,x,b))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:e,id:t}){(u(this,Hd)||C(this,Hd,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=u(this,Hd))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=u(this,Hd))==null?void 0:r.get(e.data.id);if(!t)return;const n=u(this,Ro).getRawValue(t);n&&(u(this,Tn)===Ge.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){var o;const r=(o=u(this,el))==null?void 0:o.get(e);r&&(r.setCanvas(t,n),u(this,el).delete(e))}addMissingCanvas(e,t){(u(this,el)||C(this,el,new Map)).set(e,t)}};$d=new WeakMap,Yr=new WeakMap,yn=new WeakMap,$n=new WeakMap,zd=new WeakMap,Ro=new WeakMap,Hd=new WeakMap,Pi=new WeakMap,Ka=new WeakMap,Ya=new WeakMap,Ud=new WeakMap,pc=new WeakMap,Ns=new WeakMap,Ji=new WeakMap,mc=new WeakMap,jp=new WeakMap,Bp=new WeakMap,Vd=new WeakMap,$p=new WeakMap,Ls=new WeakMap,Xa=new WeakMap,Gd=new WeakMap,Qa=new WeakMap,Ds=new WeakMap,r0=new WeakMap,Za=new WeakMap,zp=new WeakMap,Ja=new WeakMap,gc=new WeakMap,yc=new WeakMap,el=new WeakMap,Hp=new WeakMap,Tn=new WeakMap,yt=new WeakMap,Po=new WeakMap,tl=new WeakMap,vc=new WeakMap,Up=new WeakMap,Vp=new WeakMap,nl=new WeakMap,Os=new WeakMap,ko=new WeakMap,Gp=new WeakMap,Wp=new WeakMap,ki=new WeakMap,xe=new WeakSet,nv=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Y_=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of u(this,$n).values())if(n.hasTextLayer(e))return n;return null},mI=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=N(this,xe,nv).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(u(this,Ds)||C(this,Ds,new Z6(this)),u(this,Ds).show(n,r,this.direction==="ltr"))},gI=function(){var o,l,c;const e=document.getSelection();if(!e||e.isCollapsed){u(this,Po)&&((o=u(this,Ds))==null||o.hide(),C(this,Po,null),N(this,xe,fr).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===u(this,Po))return;const r=N(this,xe,nv).call(this,e).closest(".textLayer");if(!r){u(this,Po)&&((l=u(this,Ds))==null||l.hide(),C(this,Po,null),N(this,xe,fr).call(this,{hasSelectedText:!1}));return}if((c=u(this,Ds))==null||c.hide(),C(this,Po,t),N(this,xe,fr).call(this,{hasSelectedText:!0}),!(u(this,Tn)!==Ge.HIGHLIGHT&&u(this,Tn)!==Ge.NONE)&&(u(this,Tn)===Ge.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),C(this,Qa,this.isShiftKeyDown),!this.isShiftKeyDown)){const d=u(this,Tn)===Ge.HIGHLIGHT?N(this,xe,Y_).call(this,r):null;d==null||d.toggleDrawing();const p=new AbortController,f=this.combinedSignal(p),m=y=>{y.type==="pointerup"&&y.button!==0||(p.abort(),d==null||d.toggleDrawing(!0),y.type==="pointerup"&&N(this,xe,rv).call(this,"main_toolbar"))};window.addEventListener("pointerup",m,{signal:f}),window.addEventListener("blur",m,{signal:f})}},rv=function(e=""){u(this,Tn)===Ge.HIGHLIGHT?this.highlightSelection(e):u(this,jp)&&N(this,xe,mI).call(this)},yI=function(){document.addEventListener("selectionchange",N(this,xe,gI).bind(this),{signal:this._signal})},vI=function(){if(u(this,Xa))return;C(this,Xa,new AbortController);const e=this.combinedSignal(u(this,Xa));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},wI=function(){var e;(e=u(this,Xa))==null||e.abort(),C(this,Xa,null)},X_=function(){if(u(this,Ja))return;C(this,Ja,new AbortController);const e=this.combinedSignal(u(this,Ja));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},bI=function(){var e;(e=u(this,Ja))==null||e.abort(),C(this,Ja,null)},Q_=function(){if(u(this,Ka))return;C(this,Ka,new AbortController);const e=this.combinedSignal(u(this,Ka));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Z_=function(){var e;(e=u(this,Ka))==null||e.abort(),C(this,Ka,null)},_I=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},fr=function(e){Object.entries(e).some(([n,r])=>u(this,Vp)[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,Vp),e)}),u(this,Tn)===Ge.HIGHLIGHT&&e.hasSelectedEditor===!1&&N(this,xe,So).call(this,[[at.HIGHLIGHT_FREE,!0]]))},So=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},xI=async function(){if(!u(this,Za)){C(this,Za,!0);const e=[];for(const t of u(this,$n).values())e.push(t.enable());await Promise.all(e);for(const t of u(this,yn).values())t.enable()}},SI=function(){if(this.unselectAll(),u(this,Za)){C(this,Za,!1);for(const e of u(this,$n).values())e.disable();for(const e of u(this,yn).values())e.disable()}},J_=function(e){const t=u(this,$n).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},EI=function(){let e=null;for(e of u(this,yt));return e},qf=function(){if(u(this,yn).size===0)return!0;if(u(this,yn).size===1)for(const e of u(this,yn).values())return e.isEmpty();return!1},ex=function(e){for(const t of u(this,yt))t.unselect();u(this,yt).clear();for(const t of e)t.isEmpty()||(u(this,yt).add(t),t.select());N(this,xe,fr).call(this,{hasSelectedEditor:this.hasSelection})},ye(vd,"TRANSLATE_SMALL",1),ye(vd,"TRANSLATE_BIG",10);let Nl=vd;var Rn,Fs,es,Wd,js,Xr,qd,Bs,Or,Io,wc,$s,rl,fs,Kf,iv;const pr=class pr{constructor(e){I(this,fs);I(this,Rn,null);I(this,Fs,!1);I(this,es,null);I(this,Wd,null);I(this,js,null);I(this,Xr,null);I(this,qd,!1);I(this,Bs,null);I(this,Or,null);I(this,Io,null);I(this,wc,null);I(this,$s,!1);C(this,Or,e),C(this,$s,e._uiManager.useNewAltTextFlow),u(pr,rl)||C(pr,rl,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){pr._l10n??(pr._l10n=e)}async render(){const e=C(this,es,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=C(this,Wd,document.createElement("span"));e.append(t),u(this,$s)?(e.classList.add("new"),e.setAttribute("data-l10n-id",u(pr,rl).missing),t.setAttribute("data-l10n-id",u(pr,rl)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=u(this,Or)._uiManager._signal;e.addEventListener("contextmenu",Bi,{signal:n}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const r=o=>{o.preventDefault(),u(this,Or)._uiManager.editAltText(u(this,Or)),u(this,$s)&&u(this,Or)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,fs,Kf)}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(C(this,qd,!0),r(o))},{signal:n}),await N(this,fs,iv).call(this),e}finish(){u(this,es)&&(u(this,es).focus({focusVisible:u(this,qd)}),C(this,qd,!1))}isEmpty(){return u(this,$s)?u(this,Rn)===null:!u(this,Rn)&&!u(this,Fs)}hasData(){return u(this,$s)?u(this,Rn)!==null||!!u(this,Io):this.isEmpty()}get guessedText(){return u(this,Io)}async setGuessedText(e){u(this,Rn)===null&&(C(this,Io,e),C(this,wc,await pr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),N(this,fs,iv).call(this))}toggleAltTextBadge(e=!1){var t;if(!u(this,$s)||u(this,Rn)){(t=u(this,Bs))==null||t.remove(),C(this,Bs,null);return}if(!u(this,Bs)){const n=C(this,Bs,document.createElement("div"));n.className="noAltTextBadge",u(this,Or).div.append(n)}u(this,Bs).classList.toggle("hidden",!e)}serialize(e){let t=u(this,Rn);return!e&&u(this,Io)===t&&(t=u(this,wc)),{altText:t,decorative:u(this,Fs),guessedText:u(this,Io),textWithDisclaimer:u(this,wc)}}get data(){return{altText:u(this,Rn),decorative:u(this,Fs)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:r,cancel:o=!1}){n&&(C(this,Io,n),C(this,wc,r)),!(u(this,Rn)===e&&u(this,Fs)===t)&&(o||(C(this,Rn,e),C(this,Fs,t)),N(this,fs,iv).call(this))}toggle(e=!1){u(this,es)&&(!e&&u(this,Xr)&&(clearTimeout(u(this,Xr)),C(this,Xr,null)),u(this,es).disabled=!e)}shown(){u(this,Or)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,fs,Kf)}})}destroy(){var e,t;(e=u(this,es))==null||e.remove(),C(this,es,null),C(this,Wd,null),C(this,js,null),(t=u(this,Bs))==null||t.remove(),C(this,Bs,null)}};Rn=new WeakMap,Fs=new WeakMap,es=new WeakMap,Wd=new WeakMap,js=new WeakMap,Xr=new WeakMap,qd=new WeakMap,Bs=new WeakMap,Or=new WeakMap,Io=new WeakMap,wc=new WeakMap,$s=new WeakMap,rl=new WeakMap,fs=new WeakSet,Kf=function(){return u(this,Rn)&&"added"||u(this,Rn)===null&&this.guessedText&&"review"||"missing"},iv=async function(){var r,o,l;const e=u(this,es);if(!e)return;if(u(this,$s)){if(e.classList.toggle("done",!!u(this,Rn)),e.setAttribute("data-l10n-id",u(pr,rl)[u(this,fs,Kf)]),(r=u(this,Wd))==null||r.setAttribute("data-l10n-id",u(pr,rl)[`${u(this,fs,Kf)}-label`]),!u(this,Rn)){(o=u(this,js))==null||o.remove();return}}else{if(!u(this,Rn)&&!u(this,Fs)){e.classList.remove("done"),(l=u(this,js))==null||l.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=u(this,js);if(!t){C(this,js,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${u(this,Or).id}`;const c=100,d=u(this,Or)._uiManager._signal;d.addEventListener("abort",()=>{clearTimeout(u(this,Xr)),C(this,Xr,null)},{once:!0}),e.addEventListener("mouseenter",()=>{C(this,Xr,setTimeout(()=>{C(this,Xr,null),u(this,js).classList.add("show"),u(this,Or)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:d}),e.addEventListener("mouseleave",()=>{var p;u(this,Xr)&&(clearTimeout(u(this,Xr)),C(this,Xr,null)),(p=u(this,js))==null||p.classList.remove("show")},{signal:d})}u(this,Fs)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=u(this,Rn)),t.parentNode||e.append(t);const n=u(this,Or).getElementForAltText();n==null||n.setAttribute("aria-describedby",t.id)},I(pr,rl,null),ye(pr,"_l10n",null);let Wv=pr;var Kd,bc,qp,Kp,Yp,Xp,Qp,Mo,_c,No,xc,Lo,Dl,AI,CI,TI;const mS=class mS{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:o=null,onPinchEnd:l=null,signal:c}){I(this,Dl);I(this,Kd);I(this,bc,!1);I(this,qp,null);I(this,Kp);I(this,Yp);I(this,Xp);I(this,Qp);I(this,Mo,null);I(this,_c);I(this,No,null);I(this,xc);I(this,Lo,null);C(this,Kd,e),C(this,qp,n),C(this,Kp,t),C(this,Yp,r),C(this,Xp,o),C(this,Qp,l),C(this,xc,new AbortController),C(this,_c,AbortSignal.any([c,u(this,xc).signal])),e.addEventListener("touchstart",N(this,Dl,AI).bind(this),{passive:!1,signal:u(this,_c)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/gs.pixelRatio}destroy(){var e,t;(e=u(this,xc))==null||e.abort(),C(this,xc,null),(t=u(this,Mo))==null||t.abort(),C(this,Mo,null)}};Kd=new WeakMap,bc=new WeakMap,qp=new WeakMap,Kp=new WeakMap,Yp=new WeakMap,Xp=new WeakMap,Qp=new WeakMap,Mo=new WeakMap,_c=new WeakMap,No=new WeakMap,xc=new WeakMap,Lo=new WeakMap,Dl=new WeakSet,AI=function(e){var r,o,l;if((r=u(this,Kp))!=null&&r.call(this))return;if(e.touches.length===1){if(u(this,Mo))return;const c=C(this,Mo,new AbortController),d=AbortSignal.any([u(this,_c),c.signal]),p=u(this,Kd),f={capture:!0,signal:d,passive:!1},m=y=>{var w;y.pointerType==="touch"&&((w=u(this,Mo))==null||w.abort(),C(this,Mo,null))};p.addEventListener("pointerdown",y=>{y.pointerType==="touch"&&(rn(y),m(y))},f),p.addEventListener("pointerup",m,f),p.addEventListener("pointercancel",m,f);return}if(!u(this,Lo)){C(this,Lo,new AbortController);const c=AbortSignal.any([u(this,_c),u(this,Lo).signal]),d=u(this,Kd),p={signal:c,capture:!1,passive:!1};d.addEventListener("touchmove",N(this,Dl,CI).bind(this),p);const f=N(this,Dl,TI).bind(this);d.addEventListener("touchend",f,p),d.addEventListener("touchcancel",f,p),p.capture=!0,d.addEventListener("pointerdown",rn,p),d.addEventListener("pointermove",rn,p),d.addEventListener("pointercancel",rn,p),d.addEventListener("pointerup",rn,p),(o=u(this,Yp))==null||o.call(this)}if(rn(e),e.touches.length!==2||(l=u(this,qp))!=null&&l.call(this)){C(this,No,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),C(this,No,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},CI=function(e){var L;if(!u(this,No)||e.touches.length!==2)return;rn(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:r,screenY:o}=t,{screenX:l,screenY:c}=n,d=u(this,No),{touch0X:p,touch0Y:f,touch1X:m,touch1Y:y}=d,w=m-p,x=y-f,b=l-r,A=c-o,R=Math.hypot(b,A)||1,k=Math.hypot(w,x)||1;if(!u(this,bc)&&Math.abs(k-R)<=mS.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=r,d.touch0Y=o,d.touch1X=l,d.touch1Y=c,!u(this,bc)){C(this,bc,!0);return}const M=[(r+l)/2,(o+c)/2];(L=u(this,Xp))==null||L.call(this,M,k,R)},TI=function(e){var t;e.touches.length>=2||(u(this,Lo)&&(u(this,Lo).abort(),C(this,Lo,null),(t=u(this,Qp))==null||t.call(this)),u(this,No)&&(rn(e),C(this,No,null),C(this,bc,!1)))};let Ep=mS;var Sc,ts,Ot,Yd,il,Zp,Ec,zn,Ac,Do,sl,Jp,Cc,Qr,em,Tc,Oo,zs,Xd,Qd,Ii,Rc,tm,i0,He,tx,nm,nx,sv,RI,PI,rx,ov,ix,kI,II,MI,sx,NI,ox,LI,DI,OI,ax,Yf;const Ze=class Ze{constructor(e){I(this,He);I(this,Sc,null);I(this,ts,null);I(this,Ot,null);I(this,Yd,!1);I(this,il,null);I(this,Zp,"");I(this,Ec,!1);I(this,zn,null);I(this,Ac,null);I(this,Do,null);I(this,sl,null);I(this,Jp,"");I(this,Cc,!1);I(this,Qr,null);I(this,em,!1);I(this,Tc,!1);I(this,Oo,!1);I(this,zs,null);I(this,Xd,0);I(this,Qd,0);I(this,Ii,null);I(this,Rc,null);ye(this,"isSelected",!1);ye(this,"_isCopy",!1);ye(this,"_editToolbar",null);ye(this,"_initialOptions",Object.create(null));ye(this,"_initialData",null);ye(this,"_isVisible",!0);ye(this,"_uiManager",null);ye(this,"_focusEventsAllowed",!0);I(this,tm,!1);I(this,i0,Ze._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[o,l];const[c,d]=this.parentDimensions;this.x=e.x/c,this.y=e.y/d,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Ze.prototype._resizeWithKeyboard,t=Nl.TRANSLATE_SMALL,n=Nl.TRANSLATE_BIG;return st(this,"_resizerKeyboardManager",new vg([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Ze.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return st(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new t5({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Ze._l10n??(Ze._l10n=e),Ze._l10nResizer||(Ze._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ze._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Ze._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){xt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,tm)}set _isDraggable(e){var t;C(this,tm,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,i0)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):N(this,He,Yf).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(u(this,Cc)?C(this,Cc,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[o,l]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/o,this.y=(t+r)/l,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r),this._onTranslated()}translate(e,t){N(this,He,tx).call(this,this.parentDimensions,e,t)}translateInPage(e,t){u(this,Qr)||C(this,Qr,[this.x,this.y,this.width,this.height]),N(this,He,tx).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){u(this,Qr)||C(this,Qr,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[r,o]}=this;if(this.x+=e/r,this.y+=t/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[d,p]=this.getBaseTranslation();l+=d,c+=p;const{style:f}=n;f.left=`${(100*l).toFixed(2)}%`,f.top=`${(100*c).toFixed(2)}%`,this._onTranslating(l,c),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!u(this,Qr)&&(u(this,Qr)[0]!==this.x||u(this,Qr)[1]!==this.y)}get _hasBeenResized(){return!!u(this,Qr)&&(u(this,Qr)[2]!==this.width||u(this,Qr)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Ze,r=n/e,o=n/t;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,r]}=this;let{x:o,y:l,width:c,height:d}=this;if(c*=n,d*=r,o*=n,l*=r,this._mustFixPosition)switch(e){case 0:o=sr(o,0,n-c),l=sr(l,0,r-d);break;case 90:o=sr(o,0,n-d),l=sr(l,c,r);break;case 180:o=sr(o,c,n),l=sr(l,d,r);break;case 270:o=sr(o,d,n),l=sr(l,0,r-c);break}this.x=o/=n,this.y=l/=r;const[p,f]=this.getBaseTranslation();o+=p,l+=f,t.left=`${(100*o).toFixed(2)}%`,t.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return N(n=Ze,nm,nx).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return N(n=Ze,nm,nx).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,r]=this.parentDimensions,{style:o}=this.div;o.width=`${(100*e/n).toFixed(2)}%`,u(this,Ec)||(o.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),o=!u(this,Ec)&&t.endsWith("%");if(r&&o)return;const[l,c]=this.parentDimensions;r||(e.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!u(this,Ec)&&!o&&(e.height=`${(100*parseFloat(t)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=u(this,Ot))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||u(this,Tc))return this._editToolbar;this._editToolbar=new W_(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=u(this,Ot))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return u(this,Ot)||(Wv.initialize(Ze._l10n),C(this,Ot,new Wv(this)),u(this,Sc)&&(u(this,Ot).data=u(this,Sc),C(this,Sc,null))),u(this,Ot)}get altTextData(){var e;return(e=u(this,Ot))==null?void 0:e.data}set altTextData(e){u(this,Ot)&&(u(this,Ot).data=e)}get guessedAltText(){var e;return(e=u(this,Ot))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=u(this,Ot))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=u(this,Ot))==null?void 0:t.serialize(e)}hasAltText(){return!!u(this,Ot)&&!u(this,Ot).isEmpty()}hasAltTextData(){var e;return((e=u(this,Ot))==null?void 0:e.hasData())??!1}render(){var l;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=u(this,Yd)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),N(this,He,ox).call(this);const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[r,o]=this.getInitialTranslation();return this.translate(r,o),fI(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(u(this,Rc)||C(this,Rc,new Ep({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:N(this,He,kI).bind(this),onPinching:N(this,He,II).bind(this),onPinchEnd:N(this,He,MI).bind(this),signal:this._uiManager._signal}))),(l=this._uiManager._editorUndoBar)==null||l.hide(),e}pointerdown(e){const{isMac:t}=Ln.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(C(this,Cc,!0),this._isDraggable){N(this,He,NI).call(this,e);return}N(this,He,sx).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){u(this,zs)&&clearTimeout(u(this,zs)),C(this,zs,setTimeout(()=>{var e;C(this,zs,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const r=this.parentScale,[o,l]=this.pageDimensions,[c,d]=this.pageTranslation,p=e/r,f=t/r,m=this.x*o,y=this.y*l,w=this.width*o,x=this.height*l;switch(n){case 0:return[m+p+c,l-y-f-x+d,m+p+w+c,l-y-f+d];case 90:return[m+f+c,l-y+p+d,m+f+x+c,l-y+p+w+d];case 180:return[m-p-w+c,l-y+f+d,m-p+c,l-y+f+x+d];case 270:return[m-f-x+c,l-y-p-w+d,m-f+c,l-y-p+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,o,l]=e,c=o-n,d=l-r;switch(this.rotation){case 0:return[n,t-l,c,d];case 90:return[n,t-r,d,c];case 180:return[o,t-r,c,d];case 270:return[o,t-l,d,c];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),C(this,Tc,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),C(this,Tc,!1),!0):!1}isInEditMode(){return u(this,Tc)}shouldGetKeyboardEvents(){return u(this,Oo)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:o,innerWidth:l}=window;return t<l&&r>0&&e<o&&n>0}rebuild(){N(this,He,ox).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){xt("An editor must be serializable")}static async deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId});r.rotation=e.rotation,C(r,Sc,e.accessibilityData),r._isCopy=e.isCopy||!1;const[o,l]=r.pageDimensions,[c,d,p,f]=r.getRectInCurrentCoords(e.rect,l);return r.x=c/o,r.y=d/l,r.width=p/o,r.height=f/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=u(this,sl))==null||e.abort(),C(this,sl,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,zs)&&(clearTimeout(u(this,zs)),C(this,zs,null)),N(this,He,Yf).call(this),this.removeEditToolbar(),u(this,Ii)){for(const n of u(this,Ii).values())clearTimeout(n);C(this,Ii,null)}this.parent=null,(t=u(this,Rc))==null||t.destroy(),C(this,Rc,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(N(this,He,RI).call(this),u(this,zn).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),C(this,Do,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=u(this,zn).children;if(!u(this,ts)){C(this,ts,Array.from(t));const l=N(this,He,LI).bind(this),c=N(this,He,DI).bind(this),d=this._uiManager._signal;for(const p of u(this,ts)){const f=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",l,{signal:d}),p.addEventListener("blur",c,{signal:d}),p.addEventListener("focus",N(this,He,OI).bind(this,f),{signal:d}),p.setAttribute("data-l10n-id",Ze._l10nResizer[f])}}const n=u(this,ts)[0];let r=0;for(const l of t){if(l===n)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(u(this,ts).length/4);if(o!==r){if(o<r)for(let c=0;c<r-o;c++)u(this,zn).append(u(this,zn).firstChild);else if(o>r)for(let c=0;c<o-r;c++)u(this,zn).firstChild.before(u(this,zn).lastChild);let l=0;for(const c of t){const p=u(this,ts)[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Ze._l10nResizer[p])}}N(this,He,ax).call(this,0),C(this,Oo,!0),u(this,zn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){u(this,Oo)&&N(this,He,ix).call(this,u(this,Jp),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){N(this,He,Yf).call(this),this.div.focus()}select(){var e,t,n;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(t=this._editToolbar)==null||t.show(),(n=u(this,Ot))==null||n.toggleAltTextBadge(!1)}}unselect(){var e,t,n,r,o;this.isSelected&&(this.isSelected=!1,(e=u(this,zn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=u(this,Ot))==null||o.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return u(this,em)}set isEditing(e){C(this,em,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){C(this,Ec,!0);const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){u(this,Ii)||C(this,Ii,new Map);const{action:n}=e;let r=u(this,Ii).get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),u(this,Ii).delete(n),u(this,Ii).size===0&&C(this,Ii,null)},Ze._telemetryTimeout),u(this,Ii).set(n,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),C(this,Yd,!1)}disable(){this.div&&(this.div.tabIndex=-1),C(this,Yd,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Sc=new WeakMap,ts=new WeakMap,Ot=new WeakMap,Yd=new WeakMap,il=new WeakMap,Zp=new WeakMap,Ec=new WeakMap,zn=new WeakMap,Ac=new WeakMap,Do=new WeakMap,sl=new WeakMap,Jp=new WeakMap,Cc=new WeakMap,Qr=new WeakMap,em=new WeakMap,Tc=new WeakMap,Oo=new WeakMap,zs=new WeakMap,Xd=new WeakMap,Qd=new WeakMap,Ii=new WeakMap,Rc=new WeakMap,tm=new WeakMap,i0=new WeakMap,He=new WeakSet,tx=function([e,t],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},nm=new WeakSet,nx=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},sv=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},RI=function(){if(u(this,zn))return;C(this,zn,document.createElement("div")),u(this,zn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const r=document.createElement("div");u(this,zn).append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",N(this,He,PI).bind(this,n),{signal:t}),r.addEventListener("contextmenu",Bi,{signal:t}),r.tabIndex=-1}this.div.prepend(u(this,zn))},PI=function(e,t){var f;t.preventDefault();const{isMac:n}=Ln.platform;if(t.button!==0||t.ctrlKey&&n)return;(f=u(this,Ot))==null||f.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,C(this,Ac,[t.screenX,t.screenY]);const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",N(this,He,ix).bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",rn,{passive:!1,signal:l}),window.addEventListener("contextmenu",Bi,{signal:l}),C(this,Do,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const c=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{var m;o.abort(),this.parent.togglePointerEvents(!0),(m=u(this,Ot))==null||m.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=c,this.div.style.cursor=d,N(this,He,ov).call(this)};window.addEventListener("pointerup",p,{signal:l}),window.addEventListener("blur",p,{signal:l})},rx=function(e,t,n,r){this.width=n,this.height=r,this.x=e,this.y=t;const[o,l]=this.parentDimensions;this.setDims(o*n,l*r),this.fixAndSetPosition(),this._onResized()},ov=function(){if(!u(this,Do))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=u(this,Do);C(this,Do,null);const o=this.x,l=this.y,c=this.width,d=this.height;o===e&&l===t&&c===n&&d===r||this.addCommands({cmd:N(this,He,rx).bind(this,o,l,c,d),undo:N(this,He,rx).bind(this,e,t,n,r),mustExec:!0})},ix=function(e,t){const[n,r]=this.parentDimensions,o=this.x,l=this.y,c=this.width,d=this.height,p=Ze.MIN_SIZE/n,f=Ze.MIN_SIZE/r,m=N(this,He,sv).call(this,this.rotation),y=(K,Z)=>[m[0]*K+m[2]*Z,m[1]*K+m[3]*Z],w=N(this,He,sv).call(this,360-this.rotation),x=(K,Z)=>[w[0]*K+w[2]*Z,w[1]*K+w[3]*Z];let b,A,R=!1,k=!1;switch(e){case"topLeft":R=!0,b=(K,Z)=>[0,0],A=(K,Z)=>[K,Z];break;case"topMiddle":b=(K,Z)=>[K/2,0],A=(K,Z)=>[K/2,Z];break;case"topRight":R=!0,b=(K,Z)=>[K,0],A=(K,Z)=>[0,Z];break;case"middleRight":k=!0,b=(K,Z)=>[K,Z/2],A=(K,Z)=>[0,Z/2];break;case"bottomRight":R=!0,b=(K,Z)=>[K,Z],A=(K,Z)=>[0,0];break;case"bottomMiddle":b=(K,Z)=>[K/2,Z],A=(K,Z)=>[K/2,0];break;case"bottomLeft":R=!0,b=(K,Z)=>[0,Z],A=(K,Z)=>[K,0];break;case"middleLeft":k=!0,b=(K,Z)=>[0,Z/2],A=(K,Z)=>[K,Z/2];break}const M=b(c,d),L=A(c,d);let F=y(...L);const $=Ze._round(o+F[0]),B=Ze._round(l+F[1]);let V=1,q=1,J,ie;if(t.fromKeyboard)({deltaX:J,deltaY:ie}=t);else{const{screenX:K,screenY:Z}=t,[X,re]=u(this,Ac);[J,ie]=this.screenToPageTranslation(K-X,Z-re),u(this,Ac)[0]=K,u(this,Ac)[1]=Z}if([J,ie]=x(J/n,ie/r),R){const K=Math.hypot(c,d);V=q=Math.max(Math.min(Math.hypot(L[0]-M[0]-J,L[1]-M[1]-ie)/K,1/c,1/d),p/c,f/d)}else k?V=sr(Math.abs(L[0]-M[0]-J),p,1)/c:q=sr(Math.abs(L[1]-M[1]-ie),f,1)/d;const we=Ze._round(c*V),he=Ze._round(d*q);F=y(...A(we,he));const ce=$-F[0],Se=B-F[1];u(this,Qr)||C(this,Qr,[this.x,this.y,this.width,this.height]),this.width=we,this.height=he,this.x=ce,this.y=Se,this.setDims(n*we,r*he),this.fixAndSetPosition(),this._onResizing()},kI=function(){var e;C(this,Do,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=u(this,Ot))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},II=function(e,t,n){let o=.7*(n/t)+1-.7;if(o===1)return;const l=N(this,He,sv).call(this,this.rotation),c=($,B)=>[l[0]*$+l[2]*B,l[1]*$+l[3]*B],[d,p]=this.parentDimensions,f=this.x,m=this.y,y=this.width,w=this.height,x=Ze.MIN_SIZE/d,b=Ze.MIN_SIZE/p;o=Math.max(Math.min(o,1/y,1/w),x/y,b/w);const A=Ze._round(y*o),R=Ze._round(w*o);if(A===y&&R===w)return;u(this,Qr)||C(this,Qr,[f,m,y,w]);const k=c(y/2,w/2),M=Ze._round(f+k[0]),L=Ze._round(m+k[1]),F=c(A/2,R/2);this.x=M-F[0],this.y=L-F[1],this.width=A,this.height=R,this.setDims(d*A,p*R),this.fixAndSetPosition(),this._onResizing()},MI=function(){var e;(e=u(this,Ot))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),N(this,He,ov).call(this)},sx=function(e){const{isMac:t}=Ln.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},NI=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,o=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:o},c=p=>{r.abort(),C(this,il,null),C(this,Cc,!1),this._uiManager.endDragSession()||N(this,He,sx).call(this,p),n&&this._onStopDragging()};t&&(C(this,Xd,e.clientX),C(this,Qd,e.clientY),C(this,il,e.pointerId),C(this,Zp,e.pointerType),window.addEventListener("pointermove",p=>{n||(n=!0,this._onStartDragging());const{clientX:f,clientY:m,pointerId:y}=p;if(y!==u(this,il)){rn(p);return}const[w,x]=this.screenToPageTranslation(f-u(this,Xd),m-u(this,Qd));C(this,Xd,f),C(this,Qd,m),this._uiManager.dragSelectedEditors(w,x)},l),window.addEventListener("touchmove",rn,l),window.addEventListener("pointerdown",p=>{p.pointerType===u(this,Zp)&&(u(this,Rc)||p.isPrimary)&&c(p),rn(p)},l));const d=p=>{if(!u(this,il)||u(this,il)===p.pointerId){c(p);return}rn(p)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})},ox=function(){if(u(this,sl)||!this.div)return;C(this,sl,new AbortController);const e=this._uiManager.combinedSignal(u(this,sl));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},LI=function(e){Ze._resizerKeyboardManager.exec(this,e)},DI=function(e){var t;u(this,Oo)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==u(this,zn)&&N(this,He,Yf).call(this)},OI=function(e){C(this,Jp,u(this,Oo)?e:"")},ax=function(e){if(u(this,ts))for(const t of u(this,ts))t.tabIndex=e},Yf=function(){C(this,Oo,!1),N(this,He,ax).call(this,-1),N(this,He,ov).call(this)},I(Ze,nm),ye(Ze,"_l10n",null),ye(Ze,"_l10nResizer",null),ye(Ze,"_borderLineWidth",-1),ye(Ze,"_colorManager",new K_),ye(Ze,"_zIndex",1),ye(Ze,"_telemetryTimeout",1e3);let Pt=Ze;class t5 extends Pt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const hT=3285377520,Ei=4294901760,Cs=65535;class FI{constructor(e){this.h1=e?e&4294967295:hT,this.h2=e?e&4294967295:hT}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let b=0,A=e.length;b<A;b++){const R=e.charCodeAt(b);R<=255?t[n++]=R:(t[n++]=R>>>8,t[n++]=R&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,o=n-r*4,l=new Uint32Array(t.buffer,0,r);let c=0,d=0,p=this.h1,f=this.h2;const m=3432918353,y=461845907,w=m&Cs,x=y&Cs;for(let b=0;b<r;b++)b&1?(c=l[b],c=c*m&Ei|c*w&Cs,c=c<<15|c>>>17,c=c*y&Ei|c*x&Cs,p^=c,p=p<<13|p>>>19,p=p*5+3864292196):(d=l[b],d=d*m&Ei|d*w&Cs,d=d<<15|d>>>17,d=d*y&Ei|d*x&Cs,f^=d,f=f<<13|f>>>19,f=f*5+3864292196);switch(c=0,o){case 3:c^=t[r*4+2]<<16;case 2:c^=t[r*4+1]<<8;case 1:c^=t[r*4],c=c*m&Ei|c*w&Cs,c=c<<15|c>>>17,c=c*y&Ei|c*x&Cs,r&1?p^=c:f^=c}this.h1=p,this.h2=f}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Ei|e*36045&Cs,t=t*4283543511&Ei|((t<<16|e>>>16)*2950163797&Ei)>>>16,e^=t>>>1,e=e*444984403&Ei|e*60499&Cs,t=t*3301882366&Ei|((t<<16|e>>>16)*3120437893&Ei)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const lx=Object.freeze({map:null,hash:"",transfer:void 0});var Pc,kc,Hn,s0,jI;class nS{constructor(){I(this,s0);I(this,Pc,!1);I(this,kc,null);I(this,Hn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=u(this,Hn).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return u(this,Hn).get(e)}remove(e){if(u(this,Hn).delete(e),u(this,Hn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of u(this,Hn).values())if(t instanceof Pt)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=u(this,Hn).get(e);let r=!1;if(n!==void 0)for(const[o,l]of Object.entries(t))n[o]!==l&&(r=!0,n[o]=l);else r=!0,u(this,Hn).set(e,t);r&&N(this,s0,jI).call(this),t instanceof Pt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return u(this,Hn).has(e)}get size(){return u(this,Hn).size}resetModified(){u(this,Pc)&&(C(this,Pc,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new BI(this)}get serializable(){if(u(this,Hn).size===0)return lx;const e=new Map,t=new FI,n=[],r=Object.create(null);let o=!1;for(const[l,c]of u(this,Hn)){const d=c instanceof Pt?c.serialize(!1,r):c;d&&(e.set(l,d),t.update(`${l}:${JSON.stringify(d)}`),o||(o=!!d.bitmap))}if(o)for(const l of e.values())l.bitmap&&n.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:lx}get editorStats(){let e=null;const t=new Map;for(const n of u(this,Hn).values()){if(!(n instanceof Pt))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:o}=r;t.has(o)||t.set(o,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[c,d]of Object.entries(r)){if(c==="type")continue;let p=l.get(c);p||(p=new Map,l.set(c,p));const f=p.get(d)??0;p.set(d,f+1)}}for(const[n,r]of t)e[n]=r.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){C(this,kc,null)}get modifiedIds(){if(u(this,kc))return u(this,kc);const e=[];for(const t of u(this,Hn).values())!(t instanceof Pt)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return C(this,kc,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return u(this,Hn).entries()}}Pc=new WeakMap,kc=new WeakMap,Hn=new WeakMap,s0=new WeakSet,jI=function(){u(this,Pc)||(C(this,Pc,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var rm;class BI extends nS{constructor(t){super();I(this,rm);const{map:n,hash:r,transfer:o}=t.serializable,l=structuredClone(n,o?{transfer:o}:null);C(this,rm,{map:l,hash:r,transfer:o})}get print(){xt("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,rm)}get modifiedIds(){return st(this,"modifiedIds",{ids:new Set,hash:""})}}rm=new WeakMap;var Zd;class n5{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){I(this,Zd,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),u(this,Zd).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||u(this,Zd).has(e.loadedName))){if(un(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:o,style:l}=e,c=new FontFace(r,o,l);this.addNativeFontFace(c);try{await c.load(),u(this,Zd).add(r),n==null||n(e)}catch{qe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}xt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw qe(`Failed to load font '${n.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return st(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return st(this,"isSyncFontLoadingSupported",wr||Ln.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(un(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:t,callback:e};return n.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return st(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(L,F){return L.charCodeAt(F)<<24|L.charCodeAt(F+1)<<16|L.charCodeAt(F+2)<<8|L.charCodeAt(F+3)&255}function r(L,F,$,B){const V=L.substring(0,F),q=L.substring(F+$);return V+B+q}let o,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const d=c.getContext("2d");let p=0;function f(L,F){if(++p>30){qe("Load test font never loaded."),F();return}if(d.font="30px "+L,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(f.bind(null,L,F))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=r(y,976,m.length,m);const x=16,b=1482184792;let A=n(y,x);for(o=0,l=m.length-3;o<l;o+=4)A=A-b+n(m,o)|0;o<m.length&&(A=A-b+n(m+"XXX",o)|0),y=r(y,x,4,V6(A));const R=`url(data:font/opentype;base64,${btoa(y)});`,k=`@font-face {font-family:"${m}";src:${R}}`;this.insertRule(k);const M=this._document.createElement("div");M.style.visibility="hidden",M.style.width=M.style.height="10px",M.style.position="absolute",M.style.top=M.style.left="0px";for(const L of[e.loadedName,m]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=L,M.append(F)}this._document.body.append(M),f(m,()=>{M.remove(),t.complete()})}}Zd=new WeakMap;class r5{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this._inspectFont=t}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${rI(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let r;try{r=e.get(n)}catch(l){qe(`getPathGenerator - ignoring character: "${l}".`)}const o=new Path2D(r||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=o}}function i5(i){if(i instanceof URL)return i.href;if(typeof i=="string"){if(wr)return i;const e=URL.parse(i,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function s5(i){if(wr&&typeof lT<"u"&&i instanceof lT)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return mg(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i==null?void 0:i.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function jy(i){if(typeof i!="string")return null;if(i.endsWith("/"))return i;throw new Error(`Invalid factory url: "${i}" must include trailing slash.`)}const cx=i=>typeof i=="object"&&Number.isInteger(i==null?void 0:i.num)&&i.num>=0&&Number.isInteger(i==null?void 0:i.gen)&&i.gen>=0,o5=i=>typeof i=="object"&&typeof(i==null?void 0:i.name)=="string",$I=K6.bind(null,cx,o5);var Fo,o0;class a5{constructor(){I(this,Fo,new Map);I(this,o0,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};u(this,o0).then(()=>{for(const[r]of u(this,Fo))r.call(this,n)})}addEventListener(e,t,n=null){let r=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:o}=n;if(o.aborted){qe("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);r=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}u(this,Fo).set(t,r)}removeEventListener(e,t){const n=u(this,Fo).get(t);n==null||n(),u(this,Fo).delete(t)}terminate(){for(const[,e]of u(this,Fo))e==null||e();u(this,Fo).clear()}}Fo=new WeakMap,o0=new WeakMap;const By={DATA:1,ERROR:2},cn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function fT(){}function Lr(i){if(i instanceof ua||i instanceof Vv||i instanceof cT||i instanceof Sp||i instanceof d_)return i;switch(i instanceof Error||typeof i=="object"&&i!==null||xt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new ua(i.message);case"InvalidPDFException":return new Vv(i.message);case"PasswordException":return new cT(i.message,i.code);case"ResponseException":return new Sp(i.message,i.status,i.missing);case"UnknownErrorException":return new d_(i.message,i.details)}return new d_(i.message,i.toString())}var Jd,ji,zI,HI,UI,av;class Xf{constructor(e,t,n){I(this,ji);I(this,Jd,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",N(this,ji,zI).bind(this),{signal:u(this,Jd).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(e,t,n,r){const o=this.streamId++,l=this.sourceName,c=this.targetName,d=this.comObj;return new ReadableStream({start:p=>{const f=Promise.withResolvers();return this.streamControllers[o]={controller:p,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:c,action:e,streamId:o,data:t,desiredSize:p.desiredSize},r),f.promise},pull:p=>{const f=Promise.withResolvers();return this.streamControllers[o].pullCall=f,d.postMessage({sourceName:l,targetName:c,stream:cn.PULL,streamId:o,desiredSize:p.desiredSize}),f.promise},cancel:p=>{un(p instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[o].cancelCall=f,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:l,targetName:c,stream:cn.CANCEL,streamId:o,reason:Lr(p)}),f.promise}},n)}destroy(){var e;(e=u(this,Jd))==null||e.abort(),C(this,Jd,null)}}Jd=new WeakMap,ji=new WeakSet,zI=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){N(this,ji,UI).call(this,e);return}if(e.callback){const n=e.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===By.DATA)r.resolve(e.data);else if(e.callback===By.ERROR)r.reject(Lr(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,r=e.sourceName,o=this.comObj;Promise.try(t,e.data).then(function(l){o.postMessage({sourceName:n,targetName:r,callback:By.DATA,callbackId:e.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:r,callback:By.ERROR,callbackId:e.callbackId,reason:Lr(l)})});return}if(e.streamId){N(this,ji,HI).call(this,e);return}t(e.data)},HI=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,o=this.comObj,l=this,c=this.actionHandler[e.action],d={enqueue(p,f=1,m){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=f,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:r,stream:cn.ENQUEUE,streamId:t,chunk:p},m)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:cn.CLOSE,streamId:t}),delete l.streamSinks[t])},error(p){un(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:cn.ERROR,streamId:t,reason:Lr(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,Promise.try(c,e.data,d).then(function(){o.postMessage({sourceName:n,targetName:r,stream:cn.START_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:n,targetName:r,stream:cn.START_COMPLETE,streamId:t,reason:Lr(p)})})},UI=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,o=this.comObj,l=this.streamControllers[t],c=this.streamSinks[t];switch(e.stream){case cn.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(Lr(e.reason));break;case cn.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(Lr(e.reason));break;case cn.PULL:if(!c){o.postMessage({sourceName:n,targetName:r,stream:cn.PULL_COMPLETE,streamId:t,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,Promise.try(c.onPull||fT).then(function(){o.postMessage({sourceName:n,targetName:r,stream:cn.PULL_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:n,targetName:r,stream:cn.PULL_COMPLETE,streamId:t,reason:Lr(p)})});break;case cn.ENQUEUE:if(un(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case cn.CLOSE:if(un(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),N(this,ji,av).call(this,l,t);break;case cn.ERROR:un(l,"error should have stream controller"),l.controller.error(Lr(e.reason)),N(this,ji,av).call(this,l,t);break;case cn.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(Lr(e.reason)),N(this,ji,av).call(this,l,t);break;case cn.CANCEL:if(!c)break;const d=Lr(e.reason);Promise.try(c.onCancel||fT,d).then(function(){o.postMessage({sourceName:n,targetName:r,stream:cn.CANCEL_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:n,targetName:r,stream:cn.CANCEL_COMPLETE,streamId:t,reason:Lr(p)})}),c.sinkCapability.reject(d),c.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},av=async function(e,t){var n,r,o;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(r=e.pullCall)==null?void 0:r.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[t]};var im;class VI{constructor({enableHWA:e=!1}){I(this,im,!1);C(this,im,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!u(this,im)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){xt("Abstract method `_createCanvas` called.")}}im=new WeakMap;class l5 extends VI{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class GI{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){xt("Abstract method `_fetch` called.")}}class pT extends GI{async _fetch(e){const t=await Jh(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):mg(t)}}class WI{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,o){return"none"}destroy(e=!1){}}var Ic,eh,jo,Bo,rr,Mc,Nc,Te,tr,Qf,dd,lv,hd,qI,ux,fd,Zf,Jf,dx,ep;class c5 extends WI{constructor({docId:t,ownerDocument:n=globalThis.document}){super();I(this,Te);I(this,Ic);I(this,eh);I(this,jo);I(this,Bo);I(this,rr);I(this,Mc);I(this,Nc,0);C(this,Bo,t),C(this,rr,n)}addFilter(t){if(!t)return"none";let n=u(this,Te,tr).get(t);if(n)return n;const[r,o,l]=N(this,Te,lv).call(this,t),c=t.length===1?r:`${r}${o}${l}`;if(n=u(this,Te,tr).get(c),n)return u(this,Te,tr).set(t,n),n;const d=`g_${u(this,Bo)}_transfer_map_${En(this,Nc)._++}`,p=N(this,Te,hd).call(this,d);u(this,Te,tr).set(t,p),u(this,Te,tr).set(c,p);const f=N(this,Te,fd).call(this,d);return N(this,Te,Jf).call(this,r,o,l,f),p}addHCMFilter(t,n){var x;const r=`${t}-${n}`,o="base";let l=u(this,Te,Qf).get(o);if((l==null?void 0:l.key)===r||(l?((x=l.filter)==null||x.remove(),l.key=r,l.url="none",l.filter=null):(l={key:r,url:"none",filter:null},u(this,Te,Qf).set(o,l)),!t||!n))return l.url;const c=N(this,Te,ep).call(this,t);t=Oe.makeHexColor(...c);const d=N(this,Te,ep).call(this,n);if(n=Oe.makeHexColor(...d),u(this,Te,dd).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return l.url;const p=new Array(256);for(let b=0;b<=255;b++){const A=b/255;p[b]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const f=p.join(","),m=`g_${u(this,Bo)}_hcm_filter`,y=l.filter=N(this,Te,fd).call(this,m);N(this,Te,Jf).call(this,f,f,f,y),N(this,Te,ux).call(this,y);const w=(b,A)=>{const R=c[b]/255,k=d[b]/255,M=new Array(A+1);for(let L=0;L<=A;L++)M[L]=R+L/A*(k-R);return M.join(",")};return N(this,Te,Jf).call(this,w(0,5),w(1,5),w(2,5),y),l.url=N(this,Te,hd).call(this,m),l.url}addAlphaFilter(t){let n=u(this,Te,tr).get(t);if(n)return n;const[r]=N(this,Te,lv).call(this,[t]),o=`alpha_${r}`;if(n=u(this,Te,tr).get(o),n)return u(this,Te,tr).set(t,n),n;const l=`g_${u(this,Bo)}_alpha_map_${En(this,Nc)._++}`,c=N(this,Te,hd).call(this,l);u(this,Te,tr).set(t,c),u(this,Te,tr).set(o,c);const d=N(this,Te,fd).call(this,l);return N(this,Te,dx).call(this,r,d),c}addLuminosityFilter(t){let n=u(this,Te,tr).get(t||"luminosity");if(n)return n;let r,o;if(t?([r]=N(this,Te,lv).call(this,[t]),o=`luminosity_${r}`):o="luminosity",n=u(this,Te,tr).get(o),n)return u(this,Te,tr).set(t,n),n;const l=`g_${u(this,Bo)}_luminosity_map_${En(this,Nc)._++}`,c=N(this,Te,hd).call(this,l);u(this,Te,tr).set(t,c),u(this,Te,tr).set(o,c);const d=N(this,Te,fd).call(this,l);return N(this,Te,qI).call(this,d),t&&N(this,Te,dx).call(this,r,d),c}addHighlightHCMFilter(t,n,r,o,l){var k;const c=`${n}-${r}-${o}-${l}`;let d=u(this,Te,Qf).get(t);if((d==null?void 0:d.key)===c||(d?((k=d.filter)==null||k.remove(),d.key=c,d.url="none",d.filter=null):(d={key:c,url:"none",filter:null},u(this,Te,Qf).set(t,d)),!n||!r))return d.url;const[p,f]=[n,r].map(N(this,Te,ep).bind(this));let m=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),y=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[w,x]=[o,l].map(N(this,Te,ep).bind(this));y<m&&([m,y,w,x]=[y,m,x,w]),u(this,Te,dd).style.color="";const b=(M,L,F)=>{const $=new Array(256),B=(y-m)/F,V=M/255,q=(L-M)/(255*F);let J=0;for(let ie=0;ie<=F;ie++){const we=Math.round(m+ie*B),he=V+ie*q;for(let ce=J;ce<=we;ce++)$[ce]=he;J=we+1}for(let ie=J;ie<256;ie++)$[ie]=$[J-1];return $.join(",")},A=`g_${u(this,Bo)}_hcm_${t}_filter`,R=d.filter=N(this,Te,fd).call(this,A);return N(this,Te,ux).call(this,R),N(this,Te,Jf).call(this,b(w[0],x[0],5),b(w[1],x[1],5),b(w[2],x[2],5),R),d.url=N(this,Te,hd).call(this,A),d.url}destroy(t=!1){var n,r,o,l;t&&((n=u(this,Mc))!=null&&n.size)||((r=u(this,jo))==null||r.parentNode.parentNode.remove(),C(this,jo,null),(o=u(this,eh))==null||o.clear(),C(this,eh,null),(l=u(this,Mc))==null||l.clear(),C(this,Mc,null),C(this,Nc,0))}}Ic=new WeakMap,eh=new WeakMap,jo=new WeakMap,Bo=new WeakMap,rr=new WeakMap,Mc=new WeakMap,Nc=new WeakMap,Te=new WeakSet,tr=function(){return u(this,eh)||C(this,eh,new Map)},Qf=function(){return u(this,Mc)||C(this,Mc,new Map)},dd=function(){if(!u(this,jo)){const t=u(this,rr).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=u(this,rr).createElementNS(xo,"svg");r.setAttribute("width",0),r.setAttribute("height",0),C(this,jo,u(this,rr).createElementNS(xo,"defs")),t.append(r),r.append(u(this,jo)),u(this,rr).body.append(t)}return u(this,jo)},lv=function(t){if(t.length===1){const p=t[0],f=new Array(256);for(let y=0;y<256;y++)f[y]=p[y]/255;const m=f.join(",");return[m,m,m]}const[n,r,o]=t,l=new Array(256),c=new Array(256),d=new Array(256);for(let p=0;p<256;p++)l[p]=n[p]/255,c[p]=r[p]/255,d[p]=o[p]/255;return[l.join(","),c.join(","),d.join(",")]},hd=function(t){if(u(this,Ic)===void 0){C(this,Ic,"");const n=u(this,rr).URL;n!==u(this,rr).baseURI&&(yg(n)?qe('#createUrl: ignore "data:"-URL for performance reasons.'):C(this,Ic,Z1(n,"")))}return`url(${u(this,Ic)}#${t})`},qI=function(t){const n=u(this,rr).createElementNS(xo,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},ux=function(t){const n=u(this,rr).createElementNS(xo,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},fd=function(t){const n=u(this,rr).createElementNS(xo,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),u(this,Te,dd).append(n),n},Zf=function(t,n,r){const o=u(this,rr).createElementNS(xo,n);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),t.append(o)},Jf=function(t,n,r,o){const l=u(this,rr).createElementNS(xo,"feComponentTransfer");o.append(l),N(this,Te,Zf).call(this,l,"feFuncR",t),N(this,Te,Zf).call(this,l,"feFuncG",n),N(this,Te,Zf).call(this,l,"feFuncB",r)},dx=function(t,n){const r=u(this,rr).createElementNS(xo,"feComponentTransfer");n.append(r),N(this,Te,Zf).call(this,r,"feFuncA",t)},ep=function(t){return u(this,Te,dd).style.color=t,tS(getComputedStyle(u(this,Te,dd)).getPropertyValue("color"))};class KI{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){xt("Abstract method `_fetch` called.")}}class mT extends KI{async _fetch(e){const t=await Jh(e,"arraybuffer");return new Uint8Array(t)}}class YI{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){xt("Abstract method `_fetch` called.")}}class gT extends YI{async _fetch(e){const t=await Jh(e,"arraybuffer");return new Uint8Array(t)}}wr&&qe("Please use the `legacy` build in Node.js environments.");async function rS(i){const t=await ds.getBuiltinModule("fs").promises.readFile(i);return new Uint8Array(t)}class u5 extends WI{}class d5 extends VI{_createCanvas(e,t){return ds.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class h5 extends GI{async _fetch(e){return rS(e)}}class f5 extends KI{async _fetch(e){return rS(e)}}class p5 extends YI{async _fetch(e){return rS(e)}}const Gn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function hx(i,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,n),i.clip(r)}class iS{isModifyingCurrentTransform(){return!1}getPattern(){xt("Abstract method `getPattern` called.")}}class m5 extends iS{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let o;if(r===Gn.STROKE||r===Gn.FILL){const l=t.current.getClippedPathBoundingBox(r,Gt(e))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,p=t.cachedCanvases.getCanvas("pattern",c,d),f=p.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-l[0],-l[1]),n=Oe.transform(n,[1,0,0,1,l[0],l[1]]),f.transform(...t.baseTransform),this.matrix&&f.transform(...this.matrix),hx(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),o=e.createPattern(p.canvas,"no-repeat");const m=new DOMMatrix(n);o.setTransform(m)}else hx(e,this._bbox),o=this._createGradient(e);return o}}function p_(i,e,t,n,r,o,l,c){const d=e.coords,p=e.colors,f=i.data,m=i.width*4;let y;d[t+1]>d[n+1]&&(y=t,t=n,n=y,y=o,o=l,l=y),d[n+1]>d[r+1]&&(y=n,n=r,r=y,y=l,l=c,c=y),d[t+1]>d[n+1]&&(y=t,t=n,n=y,y=o,o=l,l=y);const w=(d[t]+e.offsetX)*e.scaleX,x=(d[t+1]+e.offsetY)*e.scaleY,b=(d[n]+e.offsetX)*e.scaleX,A=(d[n+1]+e.offsetY)*e.scaleY,R=(d[r]+e.offsetX)*e.scaleX,k=(d[r+1]+e.offsetY)*e.scaleY;if(x>=k)return;const M=p[o],L=p[o+1],F=p[o+2],$=p[l],B=p[l+1],V=p[l+2],q=p[c],J=p[c+1],ie=p[c+2],we=Math.round(x),he=Math.round(k);let ce,Se,K,Z,X,re,se,H;for(let ee=we;ee<=he;ee++){if(ee<A){const ae=ee<x?0:(x-ee)/(x-A);ce=w-(w-b)*ae,Se=M-(M-$)*ae,K=L-(L-B)*ae,Z=F-(F-V)*ae}else{let ae;ee>k?ae=1:A===k?ae=0:ae=(A-ee)/(A-k),ce=b-(b-R)*ae,Se=$-($-q)*ae,K=B-(B-J)*ae,Z=V-(V-ie)*ae}let ue;ee<x?ue=0:ee>k?ue=1:ue=(x-ee)/(x-k),X=w-(w-R)*ue,re=M-(M-q)*ue,se=L-(L-J)*ue,H=F-(F-ie)*ue;const de=Math.round(Math.min(ce,X)),ve=Math.round(Math.max(ce,X));let _e=m*ee+de*4;for(let ae=de;ae<=ve;ae++)ue=(ce-ae)/(ce-X),ue<0?ue=0:ue>1&&(ue=1),f[_e++]=Se-(Se-re)*ue|0,f[_e++]=K-(K-se)*ue|0,f[_e++]=Z-(Z-H)*ue|0,f[_e++]=255}}function g5(i,e,t){const n=e.coords,r=e.colors;let o,l;switch(e.type){case"lattice":const c=e.verticesPerRow,d=Math.floor(n.length/c)-1,p=c-1;for(o=0;o<d;o++){let f=o*c;for(let m=0;m<p;m++,f++)p_(i,t,n[f],n[f+1],n[f+c],r[f],r[f+1],r[f+c]),p_(i,t,n[f+c+1],n[f+1],n[f+c],r[f+c+1],r[f+1],r[f+c])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)p_(i,t,n[o],n[o+1],n[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class y5 extends iS{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const c=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-c,f=Math.ceil(this._bounds[3])-d,m=Math.min(Math.ceil(Math.abs(p*e[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),w=p/m,x=f/y,b={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-d,scaleX:1/w,scaleY:1/x},A=m+4,R=y+4,k=n.getCanvas("mesh",A,R),M=k.context,L=M.createImageData(m,y);if(t){const $=L.data;for(let B=0,V=$.length;B<V;B+=4)$[B]=t[0],$[B+1]=t[1],$[B+2]=t[2],$[B+3]=255}for(const $ of this._figures)g5(L,$,b);return M.putImageData(L,2,2),{canvas:k.canvas,offsetX:c-2*w,offsetY:d-2*x,scaleX:w,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,r){hx(e,this._bbox);const o=new Float32Array(2);if(r===Gn.SHADING)Oe.singularValueDecompose2dScale(Gt(e),o);else if(this.matrix){Oe.singularValueDecompose2dScale(this.matrix,o);const[c,d]=o;Oe.singularValueDecompose2dScale(t.baseTransform,o),o[0]*=c,o[1]*=d}else Oe.singularValueDecompose2dScale(t.baseTransform,o);const l=this._createMeshCanvas(o,r===Gn.SHADING?null:this._background,t.cachedCanvases);return r!==Gn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class v5 extends iS{getPattern(){return"hotpink"}}function w5(i){switch(i[0]){case"RadialAxial":return new m5(i);case"Mesh":return new y5(i);case"Dummy":return new v5}throw new Error(`Unknown IR type: ${i[0]}`)}const yT={COLORED:1,UNCOLORED:2},a0=class a0{constructor(e,t,n,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:r,tilingType:o,color:l,canvasGraphicsFactory:c}=this;let{xstep:d,ystep:p}=this;d=Math.abs(d),p=Math.abs(p),U0("TilingType: "+o);const f=t[0],m=t[1],y=t[2],w=t[3],x=y-f,b=w-m,A=new Float32Array(2);Oe.singularValueDecompose2dScale(this.matrix,A);const[R,k]=A;Oe.singularValueDecompose2dScale(this.baseTransform,A);const M=R*A[0],L=k*A[1];let F=x,$=b,B=!1,V=!1;const q=Math.ceil(d*M),J=Math.ceil(p*L),ie=Math.ceil(x*M),we=Math.ceil(b*L);q>=ie?F=d:B=!0,J>=we?$=p:V=!0;const he=this.getSizeAndScale(F,this.ctx.canvas.width,M),ce=this.getSizeAndScale($,this.ctx.canvas.height,L),Se=e.cachedCanvases.getCanvas("pattern",he.size,ce.size),K=Se.context,Z=c.createCanvasGraphics(K);if(Z.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(Z,r,l),K.translate(-he.scale*f,-ce.scale*m),Z.transform(he.scale,0,0,ce.scale,0,0),K.save(),this.clipBbox(Z,f,m,y,w),Z.baseTransform=Gt(Z.ctx),Z.executeOperatorList(n),Z.endDrawing(),K.restore(),B||V){const X=Se.canvas;B&&(F=d),V&&($=p);const re=this.getSizeAndScale(F,this.ctx.canvas.width,M),se=this.getSizeAndScale($,this.ctx.canvas.height,L),H=re.size,ee=se.size,ue=e.cachedCanvases.getCanvas("pattern-workaround",H,ee),de=ue.context,ve=B?Math.floor(x/d):0,_e=V?Math.floor(b/p):0;for(let ae=0;ae<=ve;ae++)for(let me=0;me<=_e;me++)de.drawImage(X,H*ae,ee*me,H,ee,0,0,H,ee);return{canvas:ue.canvas,scaleX:re.scale,scaleY:se.scale,offsetX:f,offsetY:m}}return{canvas:Se.canvas,scaleX:he.scale,scaleY:ce.scale,offsetX:f,offsetY:m}}getSizeAndScale(e,t,n){const r=Math.max(a0.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*n);return o>=r?o=r:n=o/e,{scale:n,size:o}}clipBbox(e,t,n,r,o){const l=r-t,c=o-n;e.ctx.rect(t,n,l,c),Oe.axialAlignedBoundingBox([t,n,r,o],Gt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,o=e.current;switch(t){case yT.COLORED:const{fillStyle:l,strokeStyle:c}=this.ctx;r.fillStyle=o.fillColor=l,r.strokeStyle=o.strokeColor=c;break;case yT.UNCOLORED:r.fillStyle=r.strokeStyle=n,o.fillColor=o.strokeColor=n;break;default:throw new U6(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,r){let o=n;r!==Gn.SHADING&&(o=Oe.transform(o,t.baseTransform),this.matrix&&(o=Oe.transform(o,this.matrix)));const l=this.createPatternCanvas(t);let c=new DOMMatrix(o);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const d=e.createPattern(l.canvas,"repeat");return d.setTransform(c),d}};ye(a0,"MAX_PATTERN_SIZE",3e3);let fx=a0;function b5({src:i,srcPos:e=0,dest:t,width:n,height:r,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const c=Ln.isLittleEndian?4278190080:255,[d,p]=l?[o,c]:[c,o],f=n>>3,m=n&7,y=i.length;t=new Uint32Array(t.buffer);let w=0;for(let x=0;x<r;x++){for(const A=e+f;e<A;e++){const R=e<y?i[e]:255;t[w++]=R&128?p:d,t[w++]=R&64?p:d,t[w++]=R&32?p:d,t[w++]=R&16?p:d,t[w++]=R&8?p:d,t[w++]=R&4?p:d,t[w++]=R&2?p:d,t[w++]=R&1?p:d}if(m===0)continue;const b=e<y?i[e++]:255;for(let A=0;A<m;A++)t[w++]=b&1<<7-A?p:d}return{srcPos:e,destPos:w}}const vT=16,wT=100,_5=15,bT=10,$r=16,m_=new DOMMatrix,ui=new Float32Array(2),yd=new Float32Array([1/0,1/0,-1/0,-1/0]);function x5(i,e){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){e.save(),this.__originalSave()},i.restore=function(){e.restore(),this.__originalRestore()},i.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},i.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},i.transform=function(t,n,r,o,l,c){e.transform(t,n,r,o,l,c),this.__originalTransform(t,n,r,o,l,c)},i.setTransform=function(t,n,r,o,l,c){e.setTransform(t,n,r,o,l,c),this.__originalSetTransform(t,n,r,o,l,c)},i.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},i.rotate=function(t){e.rotate(t),this.__originalRotate(t)},i.clip=function(t){e.clip(t),this.__originalClip(t)},i.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},i.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},i.bezierCurveTo=function(t,n,r,o,l,c){e.bezierCurveTo(t,n,r,o,l,c),this.__originalBezierCurveTo(t,n,r,o,l,c)},i.rect=function(t,n,r,o){e.rect(t,n,r,o),this.__originalRect(t,n,r,o)},i.closePath=function(){e.closePath(),this.__originalClosePath()},i.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class S5{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function $y(i,e,t,n,r,o,l,c,d,p){const[f,m,y,w,x,b]=Gt(i);if(m===0&&y===0){const k=l*f+x,M=Math.round(k),L=c*w+b,F=Math.round(L),$=(l+d)*f+x,B=Math.abs(Math.round($)-M)||1,V=(c+p)*w+b,q=Math.abs(Math.round(V)-F)||1;return i.setTransform(Math.sign(f),0,0,Math.sign(w),M,F),i.drawImage(e,t,n,r,o,0,0,B,q),i.setTransform(f,m,y,w,x,b),[B,q]}if(f===0&&w===0){const k=c*y+x,M=Math.round(k),L=l*m+b,F=Math.round(L),$=(c+p)*y+x,B=Math.abs(Math.round($)-M)||1,V=(l+d)*m+b,q=Math.abs(Math.round(V)-F)||1;return i.setTransform(0,Math.sign(m),Math.sign(y),0,M,F),i.drawImage(e,t,n,r,o,0,0,q,B),i.setTransform(f,m,y,w,x,b),[q,B]}i.drawImage(e,t,n,r,o,l,c,d,p);const A=Math.hypot(f,m),R=Math.hypot(y,w);return[A*d,R*p]}class _T{constructor(e,t){ye(this,"alphaIsShape",!1);ye(this,"fontSize",0);ye(this,"fontSizeScale",1);ye(this,"textMatrix",null);ye(this,"textMatrixScale",1);ye(this,"fontMatrix",V_);ye(this,"leading",0);ye(this,"x",0);ye(this,"y",0);ye(this,"lineX",0);ye(this,"lineY",0);ye(this,"charSpacing",0);ye(this,"wordSpacing",0);ye(this,"textHScale",1);ye(this,"textRenderingMode",er.FILL);ye(this,"textRise",0);ye(this,"fillColor","#000000");ye(this,"strokeColor","#000000");ye(this,"patternFill",!1);ye(this,"patternStroke",!1);ye(this,"fillAlpha",1);ye(this,"strokeAlpha",1);ye(this,"lineWidth",1);ye(this,"activeSMask",null);ye(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,t]),this.minMax=yd.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Gn.FILL,t=null){const n=this.minMax.slice();if(e===Gn.STROKE){t||xt("Stroke bounding box must include transform."),Oe.singularValueDecompose2dScale(t,ui);const r=ui[0]*this.lineWidth/2,o=ui[1]*this.lineWidth/2;n[0]-=r,n[1]-=o,n[2]+=r,n[3]+=o}return n}updateClipFromPath(){const e=Oe.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(yd,0)}getClippedPathBoundingBox(e=Gn.FILL,t=null){return Oe.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function xT(i,e){if(e instanceof ImageData){i.putImageData(e,0,0);return}const t=e.height,n=e.width,r=t%$r,o=(t-r)/$r,l=r===0?o:o+1,c=i.createImageData(n,$r);let d=0,p;const f=e.data,m=c.data;let y,w,x,b;if(e.kind===dp.GRAYSCALE_1BPP){const A=f.byteLength,R=new Uint32Array(m.buffer,0,m.byteLength>>2),k=R.length,M=n+7>>3,L=4294967295,F=Ln.isLittleEndian?4278190080:255;for(y=0;y<l;y++){for(x=y<o?$r:r,p=0,w=0;w<x;w++){const $=A-d;let B=0;const V=$>M?n:$*8-7,q=V&-8;let J=0,ie=0;for(;B<q;B+=8)ie=f[d++],R[p++]=ie&128?L:F,R[p++]=ie&64?L:F,R[p++]=ie&32?L:F,R[p++]=ie&16?L:F,R[p++]=ie&8?L:F,R[p++]=ie&4?L:F,R[p++]=ie&2?L:F,R[p++]=ie&1?L:F;for(;B<V;B++)J===0&&(ie=f[d++],J=128),R[p++]=ie&J?L:F,J>>=1}for(;p<k;)R[p++]=0;i.putImageData(c,0,y*$r)}}else if(e.kind===dp.RGBA_32BPP){for(w=0,b=n*$r*4,y=0;y<o;y++)m.set(f.subarray(d,d+b)),d+=b,i.putImageData(c,0,w),w+=$r;y<l&&(b=n*r*4,m.set(f.subarray(d,d+b)),i.putImageData(c,0,w))}else if(e.kind===dp.RGB_24BPP)for(x=$r,b=n*x,y=0;y<l;y++){for(y>=o&&(x=r,b=n*x),p=0,w=b;w--;)m[p++]=f[d++],m[p++]=f[d++],m[p++]=f[d++],m[p++]=255;i.putImageData(c,0,y*$r)}else throw new Error(`bad image kind: ${e.kind}`)}function ST(i,e){if(e.bitmap){i.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,r=t%$r,o=(t-r)/$r,l=r===0?o:o+1,c=i.createImageData(n,$r);let d=0;const p=e.data,f=c.data;for(let m=0;m<l;m++){const y=m<o?$r:r;({srcPos:d}=b5({src:p,srcPos:d,dest:f,width:n,height:y,nonBlackColor:0})),i.putImageData(c,0,m*$r)}}function $f(i,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)i[n]!==void 0&&(e[n]=i[n]);i.setLineDash!==void 0&&(e.setLineDash(i.getLineDash()),e.lineDashOffset=i.lineDashOffset)}function zy(i){i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0);const{filter:e}=i;e!=="none"&&e!==""&&(i.filter="none")}function ET(i,e){if(e)return!0;Oe.singularValueDecompose2dScale(i,ui);const t=Math.fround(gs.pixelRatio*da.PDF_TO_CSS_UNITS);return ui[0]<=t&&ui[1]<=t}const E5=["butt","round","square"],A5=["miter","round","bevel"],C5={},AT={};var ys,px,mx,gx;const gS=class gS{constructor(e,t,n,r,o,{optionalContentConfig:l,markedContentStack:c=null},d,p){I(this,ys);this.ctx=e,this.current=new _T(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new S5(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:r=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=c,n){const d=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...Gt(this.compositeCtx))}this.ctx.save(),zy(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Gt(this.ctx)}executeOperatorList(e,t,n,r){const o=e.argsArray,l=e.fnArray;let c=t||0;const d=o.length;if(d===c)return c;const p=d-c>bT&&typeof n=="function",f=p?Date.now()+_5:0;let m=0;const y=this.commonObjs,w=this.objs;let x;for(;;){if(r!==void 0&&c===r.nextBreakPoint)return r.breakIt(c,n),c;if(x=l[c],x!==xp.dependency)this[x].apply(this,o[c]);else for(const b of o[c]){const A=b.startsWith("g_")?y:w;if(!A.has(b))return A.get(b,n),c}if(c++,c===d)return c;if(p&&++m>bT){if(Date.now()>f)return n(),c;m=0}}}endDrawing(){N(this,ys,px).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),N(this,ys,mx).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,r=e.height??e.displayHeight;let o=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),c=n,d=r,p="prescale1",f,m;for(;o>2&&c>1||l>2&&d>1;){let y=c,w=d;o>2&&c>1&&(y=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),o/=c/y),l>2&&d>1&&(w=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/w),f=this.cachedCanvases.getCanvas(p,y,w),m=f.context,m.clearRect(0,0,y,w),m.drawImage(e,0,0,c,d,0,0,y,w),e=f.canvas,c=y,d=w,p=p==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:d}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:r}=e,o=this.current.fillColor,l=this.current.patternFill,c=Gt(t);let d,p,f,m;if((e.bitmap||e.data)&&e.count>1){const q=e.bitmap||e.data.buffer;p=JSON.stringify(l?c:[c.slice(0,4),o]),d=this._cachedBitmapsMap.get(q),d||(d=new Map,this._cachedBitmapsMap.set(q,d));const J=d.get(p);if(J&&!l){const ie=Math.round(Math.min(c[0],c[2])+c[4]),we=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:J,offsetX:ie,offsetY:we}}f=J}f||(m=this.cachedCanvases.getCanvas("maskCanvas",n,r),ST(m.context,e));let y=Oe.transform(c,[1/n,0,0,-1/r,0,0]);y=Oe.transform(y,[1,0,0,1,0,-r]);const w=yd.slice();Oe.axialAlignedBoundingBox([0,0,n,r],y,w);const[x,b,A,R]=w,k=Math.round(A-x)||1,M=Math.round(R-b)||1,L=this.cachedCanvases.getCanvas("fillCanvas",k,M),F=L.context,$=x,B=b;F.translate(-$,-B),F.transform(...y),f||(f=this._scaleImage(m.canvas,As(F)),f=f.img,d&&l&&d.set(p,f)),F.imageSmoothingEnabled=ET(Gt(F),e.interpolate),$y(F,f,0,0,f.width,f.height,0,0,n,r),F.globalCompositeOperation="source-in";const V=Oe.transform(As(F),[1,0,0,1,-$,-B]);return F.fillStyle=l?o.getPattern(t,this,V,Gn.FILL):o,F.fillRect(0,0,n,r),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(p,L.canvas)),{canvas:L.canvas,offsetX:Math.round($),offsetY:Math.round(B)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=E5[e]}setLineJoin(e){this.ctx.lineJoin=A5[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx;const o=this.ctx=r.context;o.setTransform(this.suspendedCtx.getTransform()),$f(this.suspendedCtx,o),x5(o,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),$f(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const o=r[0],l=r[1],c=r[2]-o,d=r[3]-l;c===0||d===0||(this.genericComposeSMask(t.context,n,c,d,t.subtype,t.backdrop,t.transferMap,o,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,o,l,c,d,p,f,m){let y=e.canvas,w=d-f,x=p-m;if(l)if(w<0||x<0||w+n>y.width||x+r>y.height){const A=this.cachedCanvases.getCanvas("maskExtension",n,r),R=A.context;R.drawImage(y,-w,-x),R.globalCompositeOperation="destination-atop",R.fillStyle=l,R.fillRect(0,0,n,r),R.globalCompositeOperation="source-over",y=A.canvas,w=x=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(w,x,n,r),e.clip(A),e.globalCompositeOperation="destination-atop",e.fillStyle=l,e.fillRect(w,x,n,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&c?t.filter=this.filterFactory.addAlphaFilter(c):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(c));const b=new Path2D;b.rect(d,p,n,r),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(y,w,x,n,r,d,p,n,r),t.restore()}save(){this.inSMaskMode&&$f(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&$f(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,r,o,l){this.ctx.transform(e,t,n,r,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){let[r]=t;if(!n){r||(r=t[0]=new Path2D),this[e](r);return}if(!(r instanceof Path2D)){const o=t[0]=new Path2D;for(let l=0,c=r.length;l<c;)switch(r[l++]){case Fy.moveTo:o.moveTo(r[l++],r[l++]);break;case Fy.lineTo:o.lineTo(r[l++],r[l++]);break;case Fy.curveTo:o.bezierCurveTo(r[l++],r[l++],r[l++],r[l++],r[l++],r[l++]);break;case Fy.closePath:o.closePath();break;default:qe(`Unrecognized drawing path operator: ${r[l-1]}`);break}r=o}Oe.axialAlignedBoundingBox(n,Gt(this.ctx),this.current.minMax),this[e](r)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const n=this.ctx,r=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&(r!=null&&r.getPattern)){const o=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=r.getPattern(n,this,As(n),Gn.STROKE),o){const l=new Path2D;l.addPath(e,n.getTransform().invertSelf().multiplySelf(o)),e=l}this.rescaleAndStroke(e,!1),n.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(Gn.STROKE,Gt(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const n=this.ctx,r=this.current.fillColor,o=this.current.patternFill;let l=!1;if(o){const d=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=r.getPattern(n,this,As(n),Gn.FILL),d){const p=new Path2D;p.addPath(e,n.getTransform().invertSelf().multiplySelf(d)),e=p}l=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(n.fill(e,"evenodd"),this.pendingEOFill=!1):n.fill(e)),l&&n.restore(),t&&this.consumePath(e,c)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=C5}eoClip(){this.pendingClip=AT}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const n=new Path2D,r=t.getTransform().invertSelf();for(const{transform:o,x:l,y:c,fontSize:d,path:p}of e)n.addPath(p,new DOMMatrix(o).preMultiplySelf(r).translate(l,c).scale(d,-d));t.clip(n),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var f;const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=n.fontMatrix||V_,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&qe("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const o=n.loadedName||"sans-serif",l=((f=n.systemFontInfo)==null?void 0:f.css)||`"${o}", ${n.fallbackName}`;let c="normal";n.black?c="900":n.bold&&(c="bold");const d=n.italic?"italic":"normal";let p=t;t<vT?p=vT:t>wT&&(p=wT),this.current.fontSizeScale=t/p,this.ctx.font=`${d} ${c} ${p}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,r,o){const l=this.ctx,c=this.current,d=c.font,p=c.textRenderingMode,f=c.fontSize/c.fontSizeScale,m=p&er.FILL_STROKE_MASK,y=!!(p&er.ADD_TO_PATH_FLAG),w=c.patternFill&&!d.missingFile,x=c.patternStroke&&!d.missingFile;let b;if((d.disableFontFace||y||w||x)&&(b=d.getPathGenerator(this.commonObjs,e)),d.disableFontFace||w||x){l.save(),l.translate(t,n),l.scale(f,-f);let A;if((m===er.FILL||m===er.FILL_STROKE)&&(r?(A=l.getTransform(),l.setTransform(...r),l.fill(N(this,ys,gx).call(this,b,A,r))):l.fill(b)),m===er.STROKE||m===er.FILL_STROKE)if(o){A||(A=l.getTransform()),l.setTransform(...o);const{a:R,b:k,c:M,d:L}=A,F=Oe.inverseTransform(o),$=Oe.transform([R,k,M,L,0,0],F);Oe.singularValueDecompose2dScale($,ui),l.lineWidth*=Math.max(ui[0],ui[1])/f,l.stroke(N(this,ys,gx).call(this,b,A,o))}else l.lineWidth/=f,l.stroke(b);l.restore()}else(m===er.FILL||m===er.FILL_STROKE)&&l.fillText(e,t,n),(m===er.STROKE||m===er.FILL_STROKE)&&l.strokeText(e,t,n);y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Gt(l),x:t,y:n,fontSize:f,path:b})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return st(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const o=this.ctx,l=t.fontSizeScale,c=t.charSpacing,d=t.wordSpacing,p=t.fontDirection,f=t.textHScale*p,m=e.length,y=n.vertical,w=y?1:-1,x=n.defaultVMetrics,b=r*t.fontMatrix[0],A=t.textRenderingMode===er.FILL&&!n.disableFontFace&&!t.patternFill;o.save(),t.textMatrix&&o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),p>0?o.scale(f,-1):o.scale(f,1);let R,k;if(t.patternFill){o.save();const B=t.fillColor.getPattern(o,this,As(o),Gn.FILL);R=Gt(o),o.restore(),o.fillStyle=B}if(t.patternStroke){o.save();const B=t.strokeColor.getPattern(o,this,As(o),Gn.STROKE);k=Gt(o),o.restore(),o.strokeStyle=B}let M=t.lineWidth;const L=t.textMatrixScale;if(L===0||M===0){const B=t.textRenderingMode&er.FILL_STROKE_MASK;(B===er.STROKE||B===er.FILL_STROKE)&&(M=this.getSinglePixelWidth())}else M/=L;if(l!==1&&(o.scale(l,l),M/=l),o.lineWidth=M,n.isInvalidPDFjsFont){const B=[];let V=0;for(const q of e)B.push(q.unicode),V+=q.width;o.fillText(B.join(""),0,0),t.x+=V*b*f,o.restore(),this.compose();return}let F=0,$;for($=0;$<m;++$){const B=e[$];if(typeof B=="number"){F+=w*B*r/1e3;continue}let V=!1;const q=(B.isSpace?d:0)+c,J=B.fontChar,ie=B.accent;let we,he,ce=B.width;if(y){const K=B.vmetric||x,Z=-(B.vmetric?K[1]:ce*.5)*b,X=K[2]*b;ce=K?-K[0]:ce,we=Z/l,he=(F+X)/l}else we=F/l,he=0;if(n.remeasure&&ce>0){const K=o.measureText(J).width*1e3/r*l;if(ce<K&&this.isFontSubpixelAAEnabled){const Z=ce/K;V=!0,o.save(),o.scale(Z,1),we/=Z}else ce!==K&&(we+=(ce-K)/2e3*r/l)}if(this.contentVisible&&(B.isInFont||n.missingFile)){if(A&&!ie)o.fillText(J,we,he);else if(this.paintChar(J,we,he,R,k),ie){const K=we+r*ie.offset.x/l,Z=he-r*ie.offset.y/l;this.paintChar(ie.fontChar,K,Z,R,k)}}const Se=y?ce*b-q*p:ce*b+q*p;F+=Se,V&&o.restore()}y?t.y-=F:t.x+=F*f,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,o=n.fontSize,l=n.fontDirection,c=r.vertical?1:-1,d=n.charSpacing,p=n.wordSpacing,f=n.textHScale*l,m=n.fontMatrix||V_,y=e.length,w=n.textRenderingMode===er.INVISIBLE;let x,b,A,R;if(!(w||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),n.textMatrix&&t.transform(...n.textMatrix),t.translate(n.x,n.y+n.textRise),t.scale(f,l),x=0;x<y;++x){if(b=e[x],typeof b=="number"){R=c*b*o/1e3,this.ctx.translate(R,0),n.x+=R*f;continue}const k=(b.isSpace?p:0)+d,M=r.charProcOperatorList[b.operatorListId];M?this.contentVisible&&(this.save(),t.scale(o,o),t.transform(...m),this.executeOperatorList(M),this.restore()):qe(`Type3 character "${b.operatorListId}" is not available.`);const L=[b.width,0];Oe.applyTransform(L,m),A=L[0]*o+k,t.translate(A,0),n.x+=A*f}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,o,l){const c=new Path2D;c.rect(n,r,o-n,l-r),this.ctx.clip(c),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=this.baseTransform||Gt(this.ctx),r={createCanvasGraphics:o=>new gS(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new fx(e,this.ctx,r,n)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=w5(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,As(t),Gn.SHADING);const r=As(t);if(r){const{width:o,height:l}=t.canvas,c=yd.slice();Oe.axialAlignedBoundingBox([0,0,o,l],r,c);const[d,p,f,m]=c;this.ctx.fillRect(d,p,f-d,m-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){xt("Should not call beginInlineImage")}beginImageData(){xt("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Gt(this.ctx),t)){Oe.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[n,r,o,l]=t,c=new Path2D;c.rect(n,r,o-n,l-r),this.ctx.clip(c),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||U0("TODO: Support non-isolated groups."),e.knockout&&qe("Knockout groups not supported.");const n=Gt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=yd.slice();Oe.axialAlignedBoundingBox(e.bbox,Gt(t),r);const o=[0,0,t.canvas.width,t.canvas.height];r=Oe.intersect(r,o)||[0,0,0,0];const l=Math.floor(r[0]),c=Math.floor(r[1]),d=Math.max(Math.ceil(r[2])-l,1),p=Math.max(Math.ceil(r[3])-c,1);this.current.startNewPathAndClipBox([0,0,d,p]);let f="groupAt"+this.groupLevel;e.smask&&(f+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(f,d,p),y=m.context;y.translate(-l,-c),y.transform(...n);let w=new Path2D;const[x,b,A,R]=e.bbox;if(w.rect(x,b,A-x,R-b),e.matrix){const k=new Path2D;k.addPath(w,new DOMMatrix(e.matrix)),w=k}y.clip(w),e.smask?this.smaskStack.push({canvas:m.canvas,context:y,offsetX:l,offsetY:c,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,c),t.save()),$f(t,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Gt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=yd.slice();Oe.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r,o),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,r,o){if(N(this,ys,px).call(this),zy(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const l=t[2]-t[0],c=t[3]-t[1];if(o&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=l,t[3]=c,Oe.singularValueDecompose2dScale(Gt(this.ctx),ui);const{viewportScale:d}=this,p=Math.ceil(l*this.outputScaleX*d),f=Math.ceil(c*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(p,f);const{canvas:m,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(ui[0],0,0,-ui[1],0,c*ui[1]),zy(this.ctx)}else{zy(this.ctx),this.endPath();const d=new Path2D;d.rect(t[0],t[1],l,c),this.ctx.clip(d)}}this.current=new _T(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),N(this,ys,mx).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,r=this._createMaskCanvas(e),o=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,r=0,o,l){if(!this.contentVisible)return;e=this.getObject(e.data,e);const c=this.ctx;c.save();const d=Gt(c);c.transform(t,n,r,o,0,0);const p=this._createMaskCanvas(e);c.setTransform(1,0,0,1,p.offsetX-d[4],p.offsetY-d[5]);for(let f=0,m=l.length;f<m;f+=2){const y=Oe.transform(d,[t,n,r,o,l[f],l[f+1]]);c.drawImage(p.canvas,y[4],y[5])}c.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const o of e){const{data:l,width:c,height:d,transform:p}=o,f=this.cachedCanvases.getCanvas("maskCanvas",c,d),m=f.context;m.save();const y=this.getObject(l,o);ST(m,y),m.globalCompositeOperation="source-in",m.fillStyle=r?n.getPattern(m,this,As(t),Gn.FILL):n,m.fillRect(0,0,c,d),m.restore(),t.save(),t.transform(...p),t.scale(1,-1),$y(t,f.canvas,0,0,c,d,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){qe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){qe("Dependent image isn't ready yet");return}const l=o.width,c=o.height,d=[];for(let p=0,f=r.length;p<f;p+=2)d.push({transform:[t,0,0,n,r[p],r[p+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(o,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:r}=e,o=this.cachedCanvases.getCanvas("inlineImage",n,r),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;this.save();const{filter:o}=r;o!=="none"&&o!==""&&(r.filter="none"),r.scale(1/t,-1/n);let l;if(e.bitmap)l=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)l=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",t,n).context;xT(p,e),l=this.applyTransferMapsToCanvas(p)}const c=this._scaleImage(l,As(r));r.imageSmoothingEnabled=ET(Gt(r),e.interpolate),$y(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const o=e.width,l=e.height,d=this.cachedCanvases.getCanvas("inlineImage",o,l).context;xT(d,e),r=this.applyTransferMapsToCanvas(d)}for(const o of t)n.save(),n.transform(...o.transform),n.scale(1,-1),$y(n,r,o.x,o.y,o.w,o.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===AT?r.clip(e,"evenodd"):r.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Gt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:o}=this.ctx.getTransform();let l,c;if(n===0&&r===0){const d=Math.abs(t),p=Math.abs(o);if(d===p)if(e===0)l=c=1/d;else{const f=d*e;l=c=f<1?1/f:1}else if(e===0)l=1/d,c=1/p;else{const f=d*e,m=p*e;l=f<1?1/f:1,c=m<1?1/m:1}}else{const d=Math.abs(t*o-n*r),p=Math.hypot(t,n),f=Math.hypot(r,o);if(e===0)l=f/d,c=p/d;else{const m=e*d;l=f>m?f/m:1,c=p>m?p/m:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:r}}=this,[o,l]=this.getScaleForStroking();if(o===l){n.lineWidth=(r||1)*o,n.stroke(e);return}const c=n.getLineDash();t&&n.save(),n.scale(o,l),m_.a=1/o,m_.d=1/l;const d=new Path2D;if(d.addPath(e,m_),c.length>0){const p=Math.max(o,l);n.setLineDash(c.map(f=>f/p)),n.lineDashOffset/=p}n.lineWidth=r||1,n.stroke(d),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};ys=new WeakSet,px=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},mx=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},gx=function(e,t,n){const r=new Path2D;return r.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),r};let Ad=gS;for(const i in xp)Ad.prototype[i]!==void 0&&(Ad.prototype[xp[i]]=Ad.prototype[i]);var sm,om;class fi{static get workerPort(){return u(this,sm)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");C(this,sm,e)}static get workerSrc(){return u(this,om)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");C(this,om,e)}}sm=new WeakMap,om=new WeakMap,I(fi,sm,null),I(fi,om,"");var th,am;class T5{constructor({parsedData:e,rawData:t}){I(this,th);I(this,am);C(this,th,e),C(this,am,t)}getRaw(){return u(this,am)}get(e){return u(this,th).get(e)??null}[Symbol.iterator](){return u(this,th).entries()}}th=new WeakMap,am=new WeakMap;const pd=Symbol("INTERNAL");var lm,cm,um,nh;class R5{constructor(e,{name:t,intent:n,usage:r,rbGroups:o}){I(this,lm,!1);I(this,cm,!1);I(this,um,!1);I(this,nh,!0);C(this,lm,!!(e&ci.DISPLAY)),C(this,cm,!!(e&ci.PRINT)),this.name=t,this.intent=n,this.usage=r,this.rbGroups=o}get visible(){if(u(this,um))return u(this,nh);if(!u(this,nh))return!1;const{print:e,view:t}=this.usage;return u(this,lm)?(t==null?void 0:t.viewState)!=="OFF":u(this,cm)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==pd&&xt("Internal method `_setVisible` called."),C(this,um,n),C(this,nh,t)}}lm=new WeakMap,cm=new WeakMap,um=new WeakMap,nh=new WeakMap;var ol,bt,rh,ih,dm,yx;class P5{constructor(e,t=ci.DISPLAY){I(this,dm);I(this,ol,null);I(this,bt,new Map);I(this,rh,null);I(this,ih,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,C(this,ih,e.order);for(const n of e.groups)u(this,bt).set(n.id,new R5(t,n));if(e.baseState==="OFF")for(const n of u(this,bt).values())n._setVisible(pd,!1);for(const n of e.on)u(this,bt).get(n)._setVisible(pd,!0);for(const n of e.off)u(this,bt).get(n)._setVisible(pd,!1);C(this,rh,this.getHash())}}isVisible(e){if(u(this,bt).size===0)return!0;if(!e)return U0("Optional content group not defined."),!0;if(e.type==="OCG")return u(this,bt).has(e.id)?u(this,bt).get(e.id).visible:(qe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return N(this,dm,yx).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!u(this,bt).has(t))return qe(`Optional content group not found: ${t}`),!0;if(u(this,bt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!u(this,bt).has(t))return qe(`Optional content group not found: ${t}`),!0;if(!u(this,bt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!u(this,bt).has(t))return qe(`Optional content group not found: ${t}`),!0;if(!u(this,bt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!u(this,bt).has(t))return qe(`Optional content group not found: ${t}`),!0;if(u(this,bt).get(t).visible)return!1}return!0}return qe(`Unknown optional content policy ${e.policy}.`),!0}return qe(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var o;const r=u(this,bt).get(e);if(!r){qe(`Optional content group not found: ${e}`);return}if(n&&t&&r.rbGroups.length)for(const l of r.rbGroups)for(const c of l)c!==e&&((o=u(this,bt).get(c))==null||o._setVisible(pd,!1,!0));r._setVisible(pd,!!t,!0),C(this,ol,null)}setOCGState({state:e,preserveRB:t}){let n;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const o=u(this,bt).get(r);if(o)switch(n){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!o.visible,t);break}}C(this,ol,null)}get hasInitialVisibility(){return u(this,rh)===null||this.getHash()===u(this,rh)}getOrder(){return u(this,bt).size?u(this,ih)?u(this,ih).slice():[...u(this,bt).keys()]:null}getGroup(e){return u(this,bt).get(e)||null}getHash(){if(u(this,ol)!==null)return u(this,ol);const e=new FI;for(const[t,n]of u(this,bt))e.update(`${t}:${n.visible}`);return C(this,ol,e.hexdigest())}[Symbol.iterator](){return u(this,bt).entries()}}ol=new WeakMap,bt=new WeakMap,rh=new WeakMap,ih=new WeakMap,dm=new WeakSet,yx=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const o=e[r];let l;if(Array.isArray(o))l=N(this,dm,yx).call(this,o);else if(u(this,bt).has(o))l=u(this,bt).get(o).visible;else return qe(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"};class k5{constructor(e,{disableRange:t=!1,disableStream:n=!1}){un(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:l,contentDispositionFilename:c}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,(o==null?void 0:o.length)>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((d,p)=>{this._onReceiveData({begin:d,chunk:p})}),e.addProgressListener((d,p)=>{this._onProgress({loaded:d,total:p})}),e.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(n),!0)});un(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,r,o;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){un(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new I5(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new M5(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class I5{constructor(e,t,n=!1,r=null){this._stream=e,this._done=n||!1,this._filename=G0(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class M5{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function N5(i){let e=!0,t=n("filename\\*","i").exec(i);if(t){t=t[1];let f=c(t);return f=unescape(f),f=d(f),f=p(f),o(f)}if(t=l(i),t){const f=p(t);return o(f)}if(t=n("filename","i").exec(i),t){t=t[1];let f=c(t);return f=p(f),o(f)}function n(f,m){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function r(f,m){if(f){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const y=new TextDecoder(f,{fatal:!0}),w=mg(m);m=y.decode(w),e=!1}catch{}}return m}function o(f){return e&&/[\x80-\xff]/.test(f)&&(f=r("utf-8",f),e&&(f=r("iso-8859-1",f))),f}function l(f){const m=[];let y;const w=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=w.exec(f))!==null;){let[,b,A,R]=y;if(b=parseInt(b,10),b in m){if(b===0)break;continue}m[b]=[A,R]}const x=[];for(let b=0;b<m.length&&b in m;++b){let[A,R]=m[b];R=c(R),A&&(R=unescape(R),b===0&&(R=d(R))),x.push(R)}return x.join("")}function c(f){if(f.startsWith('"')){const m=f.slice(1).split('\\"');for(let y=0;y<m.length;++y){const w=m[y].indexOf('"');w!==-1&&(m[y]=m[y].slice(0,w),m.length=y+1),m[y]=m[y].replaceAll(/\\(.)/g,"$1")}f=m.join('"')}return f}function d(f){const m=f.indexOf("'");if(m===-1)return f;const y=f.slice(0,m),x=f.slice(m+1).replace(/^[^']*'/,"");return r(y,x)}function p(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,y,w,x){if(w==="q"||w==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,A){return String.fromCharCode(parseInt(A,16))}),r(y,x);try{x=atob(x)}catch{}return r(y,x)})}return""}function XI(i,e){const t=new Headers;if(!i||!e||typeof e!="object")return t;for(const n in e){const r=e[n];r!==void 0&&t.append(n,r)}return t}function q0(i){var e;return((e=URL.parse(i))==null?void 0:e.origin)??null}function QI({responseHeaders:i,isHttp:e,rangeChunkSize:t,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(i.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*t)||n||!e||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function ZI(i){const e=i.get("Content-Disposition");if(e){let t=N5(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(G0(t))return t}return null}function wg(i,e){return new Sp(`Unexpected server response (${i}) while retrieving PDF "${e}".`,i,i===404||i===0&&e.startsWith("file:"))}function JI(i){return i===200||i===206}function eM(i,e,t){return{method:"GET",headers:i,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function tM(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(qe(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class L5{constructor(e){ye(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=XI(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return un(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new D5(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new O5(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class D5{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),r=t.url;fetch(r,eM(n,this._withCredentials,this._abortController)).then(o=>{if(e._responseOrigin=q0(o.url),!JI(o.status))throw wg(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:c,suggestedLength:d}=QI({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=d||this._contentLength,this._filename=ZI(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ua("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:tM(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class O5{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${t}-${n-1}`);const l=r.url;fetch(l,eM(o,this._withCredentials,this._abortController)).then(c=>{const d=q0(c.url);if(d!==e._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${e._responseOrigin}".`);if(!JI(c.status))throw wg(c.status,l);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:tM(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const g_=200,y_=206;function F5(i){const e=i.response;return typeof e!="string"?e:mg(e).buffer}class j5{constructor({url:e,httpHeaders:t,withCredentials:n}){ye(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=XI(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[o,l]of this.headers)t.setRequestHeader(o,l);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=y_):r.expectedStatus=g_,t.responseType="arraybuffer",un(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var r;const n=this.pendingRequests[e];n&&((r=n.onProgress)==null||r.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){n.onError(r.status);return}const o=r.status||g_;if(!(o===g_&&n.expectedStatus===y_)&&o!==n.expectedStatus){n.onError(r.status);return}const c=F5(r);if(o===y_){const d=r.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);p?n.onDone({begin:parseInt(p[1],10),chunk:c}):(qe('Missing or invalid "Content-Range" header.'),n.onError(0))}else c?n.onDone({begin:0,chunk:c}):n.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class B5{constructor(e){this._source=e,this._manager=new j5(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return un(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new $5(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new z5(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class $5{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=q0(t.responseURL);const n=t.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[d,...p]=c.split(": ");return[d,p.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:l}=QI({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=ZI(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=wg(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class z5{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=q0((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=wg(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const H5=/^[a-z][a-z0-9\-+.]+:/i;function U5(i){if(H5.test(i))return new URL(i);const e=ds.getBuiltinModule("url");return new URL(e.pathToFileURL(i))}class V5{constructor(e){this.source=e,this.url=U5(e.url),un(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return un(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new G5(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new W5(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class G5{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=ds.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=wg(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ua("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class W5{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const o=ds.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const zf=Symbol("INITIAL_DATA");var Zr,hm,vx;class nM{constructor(){I(this,hm);I(this,Zr,Object.create(null))}get(e,t=null){if(t){const r=N(this,hm,vx).call(this,e);return r.promise.then(()=>t(r.data)),null}const n=u(this,Zr)[e];if(!n||n.data===zf)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=u(this,Zr)[e];return!!t&&t.data!==zf}delete(e){const t=u(this,Zr)[e];return!t||t.data===zf?!1:(delete u(this,Zr)[e],!0)}resolve(e,t=null){const n=N(this,hm,vx).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in u(this,Zr)){const{data:n}=u(this,Zr)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}C(this,Zr,Object.create(null))}*[Symbol.iterator](){for(const e in u(this,Zr)){const{data:t}=u(this,Zr)[e];t!==zf&&(yield[e,t])}}}Zr=new WeakMap,hm=new WeakSet,vx=function(e){var t;return(t=u(this,Zr))[e]||(t[e]={...Promise.withResolvers(),data:zf})};const q5=1e5,CT=30;var QT,al,Fr,fm,pm,Lc,$o,mm,gm,Dc,sh,oh,ll,ah,ym,lh,Oc,vm,wm,Yt,ch,Fc,bm,cl,uh,ha,rM,iM,wx,gi,cv,bx,sM,oM;let Ap=(Yt=class{constructor({textContentSource:e,container:t,viewport:n}){I(this,ha);I(this,al,Promise.withResolvers());I(this,Fr,null);I(this,fm,!1);I(this,pm,!!((QT=globalThis.FontInspector)!=null&&QT.enabled));I(this,Lc,null);I(this,$o,null);I(this,mm,0);I(this,gm,0);I(this,Dc,null);I(this,sh,null);I(this,oh,0);I(this,ll,0);I(this,ah,Object.create(null));I(this,ym,[]);I(this,lh,null);I(this,Oc,[]);I(this,vm,new WeakMap);I(this,wm,null);var d;if(e instanceof ReadableStream)C(this,lh,e);else if(typeof e=="object")C(this,lh,new ReadableStream({start(p){p.enqueue(e),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');C(this,Fr,C(this,sh,t)),C(this,ll,n.scale*gs.pixelRatio),C(this,oh,n.rotation),C(this,$o,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:l,pageY:c}=n.rawDims;C(this,wm,[1,0,0,-1,-l,c+o]),C(this,gm,r),C(this,mm,o),N(d=Yt,gi,sM).call(d),Ml(t,n),u(this,al).promise.finally(()=>{u(Yt,uh).delete(this),C(this,$o,null),C(this,ah,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Ln.platform;return st(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{u(this,Dc).read().then(({value:t,done:n})=>{if(n){u(this,al).resolve();return}u(this,Lc)??C(this,Lc,t.lang),Object.assign(u(this,ah),t.styles),N(this,ha,rM).call(this,t.items),e()},u(this,al).reject)};return C(this,Dc,u(this,lh).getReader()),u(Yt,uh).add(this),e(),u(this,al).promise}update({viewport:e,onBefore:t=null}){var o;const n=e.scale*gs.pixelRatio,r=e.rotation;if(r!==u(this,oh)&&(t==null||t(),C(this,oh,r),Ml(u(this,sh),{rotation:r})),n!==u(this,ll)){t==null||t(),C(this,ll,n);const l={div:null,properties:null,ctx:N(o=Yt,gi,cv).call(o,u(this,Lc))};for(const c of u(this,Oc))l.properties=u(this,vm).get(c),l.div=c,N(this,ha,wx).call(this,l)}}cancel(){var t;const e=new ua("TextLayer task cancelled.");(t=u(this,Dc))==null||t.cancel(e).catch(()=>{}),C(this,Dc,null),u(this,al).reject(e)}get textDivs(){return u(this,Oc)}get textContentItemsStr(){return u(this,ym)}static cleanup(){if(!(u(this,uh).size>0)){u(this,ch).clear();for(const{canvas:e}of u(this,Fc).values())e.remove();u(this,Fc).clear()}}},al=new WeakMap,Fr=new WeakMap,fm=new WeakMap,pm=new WeakMap,Lc=new WeakMap,$o=new WeakMap,mm=new WeakMap,gm=new WeakMap,Dc=new WeakMap,sh=new WeakMap,oh=new WeakMap,ll=new WeakMap,ah=new WeakMap,ym=new WeakMap,lh=new WeakMap,Oc=new WeakMap,vm=new WeakMap,wm=new WeakMap,ch=new WeakMap,Fc=new WeakMap,bm=new WeakMap,cl=new WeakMap,uh=new WeakMap,ha=new WeakSet,rM=function(e){var r,o;if(u(this,fm))return;(o=u(this,$o)).ctx??(o.ctx=N(r=Yt,gi,cv).call(r,u(this,Lc)));const t=u(this,Oc),n=u(this,ym);for(const l of e){if(t.length>q5){qe("Ignoring additional textDivs for performance reasons."),C(this,fm,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const c=u(this,Fr);C(this,Fr,document.createElement("span")),u(this,Fr).classList.add("markedContent"),l.id!==null&&u(this,Fr).setAttribute("id",`${l.id}`),c.append(u(this,Fr))}else l.type==="endMarkedContent"&&C(this,Fr,u(this,Fr).parentNode);continue}n.push(l.str),N(this,ha,iM).call(this,l)}},iM=function(e){var b;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};u(this,Oc).push(t);const r=Oe.transform(u(this,wm),e.transform);let o=Math.atan2(r[1],r[0]);const l=u(this,ah)[e.fontName];l.vertical&&(o+=Math.PI/2);let c=u(this,pm)&&l.fontSubstitution||l.fontFamily;c=Yt.fontFamilyMap.get(c)||c;const d=Math.hypot(r[2],r[3]),p=d*N(b=Yt,gi,oM).call(b,c,l,u(this,Lc));let f,m;o===0?(f=r[4],m=r[5]-p):(f=r[4]+p*Math.sin(o),m=r[5]-p*Math.cos(o));const y="calc(var(--total-scale-factor) *",w=t.style;u(this,Fr)===u(this,sh)?(w.left=`${(100*f/u(this,gm)).toFixed(2)}%`,w.top=`${(100*m/u(this,mm)).toFixed(2)}%`):(w.left=`${y}${f.toFixed(2)}px)`,w.top=`${y}${m.toFixed(2)}px)`),w.fontSize=`${y}${(u(Yt,cl)*d).toFixed(2)}px)`,w.fontFamily=c,n.fontSize=d,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,u(this,pm)&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),o!==0&&(n.angle=o*(180/Math.PI));let x=!1;if(e.str.length>1)x=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const A=Math.abs(e.transform[0]),R=Math.abs(e.transform[3]);A!==R&&Math.max(A,R)/Math.min(A,R)>1.5&&(x=!0)}if(x&&(n.canvasWidth=l.vertical?e.height:e.width),u(this,vm).set(t,n),u(this,$o).div=t,u(this,$o).properties=n,N(this,ha,wx).call(this,u(this,$o)),n.hasText&&u(this,Fr).append(t),n.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),u(this,Fr).append(A)}},wx=function(e){var c;const{div:t,properties:n,ctx:r}=e,{style:o}=t;let l="";if(u(Yt,cl)>1&&(l=`scale(${1/u(Yt,cl)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:d}=o,{canvasWidth:p,fontSize:f}=n;N(c=Yt,gi,bx).call(c,r,f*u(this,ll),d);const{width:m}=r.measureText(t.textContent);m>0&&(l=`scaleX(${p*u(this,ll)/m}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)},gi=new WeakSet,cv=function(e=null){let t=u(this,Fc).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,Fc).set(e,t),u(this,bm).set(t,{size:0,family:""})}return t},bx=function(e,t,n){const r=u(this,bm).get(e);t===r.size&&n===r.family||(e.font=`${t}px ${n}`,r.size=t,r.family=n)},sM=function(){if(u(this,cl)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),C(this,cl,e.getBoundingClientRect().height),e.remove()},oM=function(e,t,n){const r=u(this,ch).get(e);if(r)return r;const o=N(this,gi,cv).call(this,n);o.canvas.width=o.canvas.height=CT,N(this,gi,bx).call(this,o,CT,e);const l=o.measureText(""),c=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let p=.8;return c?p=c/(c+d):(Ln.platform.isFirefox&&qe("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?p=t.ascent:t.descent&&(p=1+t.descent)),u(this,ch).set(e,p),p},I(Yt,gi),I(Yt,ch,new Map),I(Yt,Fc,new Map),I(Yt,bm,new WeakMap),I(Yt,cl,null),I(Yt,uh,new Set),Yt);class Cp{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function r(o){var d;if(!o)return;let l=null;const c=o.name;if(c==="#text")l=o.value;else if(Cp.shouldBuildText(c))(d=o==null?void 0:o.attributes)!=null&&d.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&t.push({str:l}),!!o.children)for(const p of o.children)r(p)}return r(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const K5=100;function sS(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const e=new _x,{docId:t}=e,n=i.url?i5(i.url):null,r=i.data?s5(i.data):null,o=i.httpHeaders||null,l=i.withCredentials===!0,c=i.password??null,d=i.range instanceof oS?i.range:null,p=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:2**16;let f=i.worker instanceof qh?i.worker:null;const m=i.verbosity,y=typeof i.docBaseUrl=="string"&&!yg(i.docBaseUrl)?i.docBaseUrl:null,w=jy(i.cMapUrl),x=i.cMapPacked!==!1,b=i.CMapReaderFactory||(wr?h5:pT),A=jy(i.iccUrl),R=jy(i.standardFontDataUrl),k=i.StandardFontDataFactory||(wr?f5:mT),M=jy(i.wasmUrl),L=i.WasmFactory||(wr?p5:gT),F=i.stopAtErrors!==!0,$=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,B=i.isEvalSupported!==!1,V=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!wr,q=typeof i.isImageDecoderSupported=="boolean"?i.isImageDecoderSupported:!wr&&(Ln.platform.isFirefox||!globalThis.chrome),J=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,ie=typeof i.disableFontFace=="boolean"?i.disableFontFace:wr,we=i.fontExtraProperties===!0,he=i.enableXfa===!0,ce=i.ownerDocument||globalThis.document,Se=i.disableRange===!0,K=i.disableStream===!0,Z=i.disableAutoFetch===!0,X=i.pdfBug===!0,re=i.CanvasFactory||(wr?d5:l5),se=i.FilterFactory||(wr?u5:c5),H=i.enableHWA===!0,ee=i.useWasm!==!1,ue=d?d.length:i.length??NaN,de=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!wr&&!ie,ve=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:!!(b===pT&&k===mT&&L===gT&&w&&R&&M&&Gf(w,document.baseURI)&&Gf(R,document.baseURI)&&Gf(M,document.baseURI)),_e=null;$6(m);const ae={canvasFactory:new re({ownerDocument:ce,enableHWA:H}),filterFactory:new se({docId:t,ownerDocument:ce}),cMapReaderFactory:ve?null:new b({baseUrl:w,isCompressed:x}),standardFontDataFactory:ve?null:new k({baseUrl:R}),wasmFactory:ve?null:new L({baseUrl:M})};f||(f=qh.create({verbosity:m,port:fi.workerPort}),e._worker=f);const me={docId:t,apiVersion:"5.3.93",data:r,password:c,disableAutoFetch:Z,rangeChunkSize:p,length:ue,docBaseUrl:y,enableXfa:he,evaluatorOptions:{maxImageSize:$,disableFontFace:ie,ignoreErrors:F,isEvalSupported:B,isOffscreenCanvasSupported:V,isImageDecoderSupported:q,canvasMaxAreaInBytes:J,fontExtraProperties:we,useSystemFonts:de,useWasm:ee,useWorkerFetch:ve,cMapUrl:w,iccUrl:A,standardFontDataUrl:R,wasmUrl:M}},Ae={ownerDocument:ce,pdfBug:X,styleElement:_e,loadingParams:{disableAutoFetch:Z,enableXfa:he}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Ee=f.messageHandler.sendWithPromise("GetDocRequest",me,r?[r.buffer]:null);let Fe;if(d)Fe=new k5(d,{disableRange:Se,disableStream:K});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Be=Gf(n)?L5:wr?V5:B5;Fe=new Be({url:n,length:ue,httpHeaders:o,withCredentials:l,rangeChunkSize:p,disableRange:Se,disableStream:K})}return Ee.then(Be=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const je=new Xf(t,Be,f.port),Ve=new Q5(je,e,Fe,Ae,ae);e._transport=Ve,je.send("Ready",null)})}).catch(e._capability.reject),e}var l0;const c0=class c0{constructor(){ye(this,"_capability",Promise.withResolvers());ye(this,"_transport",null);ye(this,"_worker",null);ye(this,"docId",`d${En(c0,l0)._++}`);ye(this,"destroyed",!1);ye(this,"onPassword",null);ye(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,n,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(o){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,o}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};l0=new WeakMap,I(c0,l0,0);let _x=c0;var jc,_m,xm,Sm,Em,ZT;let oS=(ZT=class{constructor(e,t,n=!1,r=null){I(this,jc,Promise.withResolvers());I(this,_m,[]);I(this,xm,[]);I(this,Sm,[]);I(this,Em,[]);this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(e){u(this,Em).push(e)}addProgressListener(e){u(this,Sm).push(e)}addProgressiveReadListener(e){u(this,xm).push(e)}addProgressiveDoneListener(e){u(this,_m).push(e)}onDataRange(e,t){for(const n of u(this,Em))n(e,t)}onDataProgress(e,t){u(this,jc).promise.then(()=>{for(const n of u(this,Sm))n(e,t)})}onDataProgressiveRead(e){u(this,jc).promise.then(()=>{for(const t of u(this,xm))t(e)})}onDataProgressiveDone(){u(this,jc).promise.then(()=>{for(const e of u(this,_m))e()})}transportReady(){u(this,jc).resolve()}requestDataRange(e,t){xt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},jc=new WeakMap,_m=new WeakMap,xm=new WeakMap,Sm=new WeakMap,Em=new WeakMap,ZT);class Y5{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return st(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var zo,Bc,tp;class X5{constructor(e,t,n,r=!1){I(this,Bc);I(this,zo,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new dT:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new nM,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:o=!1}={}){return new gg({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return st(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:r=Zs.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:p=null,printAnnotationStorage:f=null,isEditing:m=!1}){var L,F;(L=this._stats)==null||L.time("Overall");const y=this._transport.getRenderingIntent(n,r,f,m),{renderingIntent:w,cacheKey:x}=y;C(this,zo,!1),c||(c=this._transport.getOptionalContentConfig(w));let b=this._intentStates.get(x);b||(b=Object.create(null),this._intentStates.set(x,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const A=!!(w&ci.PRINT);b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(y));const R=$=>{var B;b.renderTasks.delete(k),A&&C(this,zo,!0),N(this,Bc,tp).call(this),$?(k.capability.reject($),this._abortOperatorList({intentState:b,reason:$ instanceof Error?$:new Error($)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(B=globalThis.Stats)!=null&&B.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new xx({callback:R,params:{canvasContext:e,viewport:t,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:p});(b.renderTasks||(b.renderTasks=new Set)).add(k);const M=k.task;return Promise.all([b.displayReadyCapability.promise,c]).then(([$,B])=>{var V;if(this.destroyed){R();return}if((V=this._stats)==null||V.time("Rendering"),!(B.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:$,optionalContentConfig:B}),k.operatorListChanged()}).catch(R),M}getOperatorList({intent:e="display",annotationMode:t=Zs.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){var p;function o(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(e,t,n,r,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let d;return c.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(d),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Cp.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,r){function o(){l.read().then(function({value:d,done:p}){if(p){n(c);return}c.lang??(c.lang=d.lang),Object.assign(c.styles,d.styles),c.items.push(...d.items),o()},r)}const l=t.getReader(),c={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),C(this,zo,!1),Promise.all(e)}cleanup(e=!1){C(this,zo,!0);const t=N(this,Bc,tp).call(this);return e&&t&&this._stats&&(this._stats=new dT),t}_startRenderPage(e,t){var r,o;const n=this._intentStates.get(t);n&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=n.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&N(this,Bc,tp).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:r}){const{map:o,transfer:l}=n,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:r},l).getReader(),p=this._intentStates.get(t);p.streamReader=d;const f=()=>{d.read().then(({value:m,done:y})=>{if(y){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,p),f())},m=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const y of p.renderTasks)y.operatorListChanged();N(this,Bc,tp).call(this)}if(p.displayReadyCapability)p.displayReadyCapability.reject(m);else if(p.opListReadCapability)p.opListReadCapability.reject(m);else throw m}})};f()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof V0){let r=K5;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new ua(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}zo=new WeakMap,Bc=new WeakSet,tp=function(){if(!u(this,zo)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),C(this,zo,!1),!0};var ul,ns,Ho,$c,u0,zc,Hc,xr,uv,aM,lM,np,dh,dv;const Dt=class Dt{constructor({name:e=null,port:t=null,verbosity:n=z6()}={}){I(this,xr);I(this,ul,Promise.withResolvers());I(this,ns,null);I(this,Ho,null);I(this,$c,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(u(Dt,Hc).has(t))throw new Error("Cannot use more than one PDFWorker per port.");u(Dt,Hc).set(t,this),N(this,xr,aM).call(this,t)}else N(this,xr,lM).call(this)}get promise(){return u(this,ul).promise}get port(){return u(this,Ho)}get messageHandler(){return u(this,ns)}destroy(){var e,t;this.destroyed=!0,(e=u(this,$c))==null||e.terminate(),C(this,$c,null),u(Dt,Hc).delete(u(this,Ho)),C(this,Ho,null),(t=u(this,ns))==null||t.destroy(),C(this,ns,null)}static create(e){const t=u(this,Hc).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Dt(e)}static get workerSrc(){if(fi.workerSrc)return fi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return st(this,"_setupFakeWorkerGlobal",(async()=>u(this,dh,dv)?u(this,dh,dv):(await import(this.workerSrc)).WorkerMessageHandler)())}};ul=new WeakMap,ns=new WeakMap,Ho=new WeakMap,$c=new WeakMap,u0=new WeakMap,zc=new WeakMap,Hc=new WeakMap,xr=new WeakSet,uv=function(){u(this,ul).resolve(),u(this,ns).send("configure",{verbosity:this.verbosity})},aM=function(e){C(this,Ho,e),C(this,ns,new Xf("main","worker",e)),u(this,ns).on("ready",()=>{}),N(this,xr,uv).call(this)},lM=function(){if(u(Dt,zc)||u(Dt,dh,dv)){N(this,xr,np).call(this);return}let{workerSrc:e}=Dt;try{Dt._isSameOrigin(window.location,e)||(e=Dt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Xf("main","worker",t),r=()=>{o.abort(),n.destroy(),t.terminate(),this.destroyed?u(this,ul).reject(new Error("Worker was destroyed")):N(this,xr,np).call(this)},o=new AbortController;t.addEventListener("error",()=>{u(this,$c)||r()},{signal:o.signal}),n.on("test",c=>{if(o.abort(),this.destroyed||!c){r();return}C(this,ns,n),C(this,Ho,t),C(this,$c,t),N(this,xr,uv).call(this)}),n.on("ready",c=>{if(o.abort(),this.destroyed){r();return}try{l()}catch{N(this,xr,np).call(this)}});const l=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};l();return}catch{U0("The worker has been disabled.")}N(this,xr,np).call(this)},np=function(){u(Dt,zc)||(qe("Setting up fake worker."),C(Dt,zc,!0)),Dt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){u(this,ul).reject(new Error("Worker was destroyed"));return}const t=new a5;C(this,Ho,t);const n=`fake${En(Dt,u0)._++}`,r=new Xf(n+"_worker",n,t);e.setup(r,t),C(this,ns,new Xf(n,n+"_worker",t)),N(this,xr,uv).call(this)}).catch(e=>{u(this,ul).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},dh=new WeakSet,dv=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},I(Dt,dh),I(Dt,u0,0),I(Dt,zc,!1),I(Dt,Hc,new WeakMap),wr&&(C(Dt,zc,!0),fi.workerSrc||(fi.workerSrc="./pdf.worker.mjs")),Dt._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const r=new URL(t,n);return n.origin===r.origin},Dt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Dt.fromPort=e=>{if(X6("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Dt.create(e)};let qh=Dt;var Uo,Hs,hh,fh,Vo,Uc,rp;class Q5{constructor(e,t,n,r,o){I(this,Uc);I(this,Uo,new Map);I(this,Hs,new Map);I(this,hh,new Map);I(this,fh,new Map);I(this,Vo,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new nM,this.fontLoader=new n5({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return st(this,"annotationStorage",new nS)}getRenderingIntent(e,t=Zs.ENABLE,n=null,r=!1,o=!1){let l=ci.DISPLAY,c=lx;switch(e){case"any":l=ci.ANY;break;case"display":break;case"print":l=ci.PRINT;break;default:qe(`getRenderingIntent - invalid intent: ${e}`)}const d=l&ci.PRINT&&n instanceof BI?n:this.annotationStorage;switch(t){case Zs.DISABLE:l+=ci.ANNOTATIONS_DISABLE;break;case Zs.ENABLE:break;case Zs.ENABLE_FORMS:l+=ci.ANNOTATIONS_FORMS;break;case Zs.ENABLE_STORAGE:l+=ci.ANNOTATIONS_STORAGE,c=d.serializable;break;default:qe(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(l+=ci.IS_EDITING),o&&(l+=ci.OPLIST);const{ids:p,hash:f}=d.modifiedIds,m=[l,c.hash,f];return{renderingIntent:l,cacheKey:m.join("_"),annotationStorageSerializable:c,modifiedIds:p}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=u(this,Vo))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of u(this,Hs).values())e.push(r._destroy());u(this,Hs).clear(),u(this,hh).clear(),u(this,fh).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,o;this.commonObjs.clear(),this.fontLoader.clear(),u(this,Uo).clear(),this.filterFactory.destroy(),Ap.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new ua("Worker was terminated.")),(o=this.messageHandler)==null||o.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,r)=>{un(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){r.close();return}un(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async n=>{var c;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:l}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((c=t.onProgress)==null||c.call(t,this._lastProgress)),this._fullReader.onProgress=d=>{var p;(p=t.onProgress)==null||p.call(t,{loaded:d.loaded,total:d.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:l}}),e.on("GetRangeReader",(n,r)=>{un(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:l,done:c}){if(c){r.close();return}un(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{o.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new Y5(n,this))}),e.on("DocException",n=>{t._capability.reject(Lr(n))}),e.on("PasswordRequest",n=>{C(this,Vo,Promise.withResolvers());try{if(!t.onPassword)throw Lr(n);const r=o=>{o instanceof Error?u(this,Vo).reject(o):u(this,Vo).resolve({password:o})};t.onPassword(r,n.code)}catch(r){u(this,Vo).reject(r)}return u(this,Vo).promise}),e.on("DataLoaded",n=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;u(this,Hs).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,r,o])=>{var l;if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in o){const f=o.error;qe(`Error during font loading: ${f}`),this.commonObjs.resolve(n,f);break}const c=this._params.pdfBug&&((l=globalThis.FontInspector)!=null&&l.enabled)?(f,m)=>globalThis.FontInspector.fontAdded(f,m):null,d=new r5(o,c);this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!d.fontExtraProperties&&d.data&&(d.data=null),this.commonObjs.resolve(n,d)});break;case"CopyLocalImage":const{imageRef:p}=o;un(p,"The imageRef must be defined.");for(const f of u(this,Hs).values())for(const[,m]of f.objs)if((m==null?void 0:m.ref)===p)return m.dataLen?(this.commonObjs.resolve(n,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([n,r,o,l])=>{var d;if(this.destroyed)return;const c=u(this,Hs).get(r);if(!c.objs.has(n)){if(c._intentStates.size===0){(d=l==null?void 0:l.bitmap)==null||d.close();return}switch(o){case"Image":case"Pattern":c.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",n=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&qe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=u(this,hh).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&u(this,fh).set(o.refStr,e);const l=new X5(t,o,this,this._params.pdfBug);return u(this,Hs).set(t,l),l});return u(this,hh).set(t,r),r}getPageIndex(e){return cx(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return N(this,Uc,rp).call(this,"GetFieldObjects")}hasJSActions(){return N(this,Uc,rp).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return N(this,Uc,rp).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return N(this,Uc,rp).call(this,"GetOptionalContentConfig").then(t=>new P5(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=u(this,Uo).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(r=>{var o,l;return{info:r[0],metadata:r[1]?new T5(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((l=this._fullReader)==null?void 0:l.contentLength)??null}});return u(this,Uo).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of u(this,Hs).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),u(this,Uo).clear(),this.filterFactory.destroy(!0),Ap.cleanup()}}cachedPageNumber(e){if(!cx(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return u(this,fh).get(t)??null}}Uo=new WeakMap,Hs=new WeakMap,hh=new WeakMap,fh=new WeakMap,Vo=new WeakMap,Uc=new WeakSet,rp=function(e,t=null){const n=u(this,Uo).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return u(this,Uo).set(e,r),r};var dl;class Z5{constructor(e){I(this,dl,null);ye(this,"onContinue",null);ye(this,"onError",null);C(this,dl,e)}get promise(){return u(this,dl).capability.promise}cancel(e=0){u(this,dl).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=u(this,dl).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=u(this,dl);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}dl=new WeakMap;var hl,Vc;const ic=class ic{constructor({callback:e,params:t,objs:n,commonObjs:r,annotationCanvasMap:o,operatorList:l,pageIndex:c,canvasFactory:d,filterFactory:p,useRequestAnimationFrame:f=!1,pdfBug:m=!1,pageColors:y=null}){I(this,hl,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=d,this.filterFactory=p,this._pdfBug=m,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Z5(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var c,d;if(this.cancelled)return;if(this._canvas){if(u(ic,Vc).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(ic,Vc).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:o,background:l}=this.params;this.gfx=new Ad(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(e=null,t=0){var n,r,o;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),u(this,hl)&&(window.cancelAnimationFrame(u(this,hl)),C(this,hl,null)),u(ic,Vc).delete(this._canvas),e||(e=new V0(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(o=(r=this.task).onError)==null||o.call(r,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?C(this,hl,window.requestAnimationFrame(()=>{C(this,hl,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(ic,Vc).delete(this._canvas),this.callback())))}};hl=new WeakMap,Vc=new WeakMap,I(ic,Vc,new WeakSet);let xx=ic;const cM="5.3.93",uM="cbeef3233";function TT(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function Hf(i){return Math.max(0,Math.min(255,255*i))}class RT{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Hf(e),[e,e,e]}static G_HTML([e]){const t=TT(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Hf)}static RGB_HTML(e){return`#${e.map(TT).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,n,r]){return[Hf(1-Math.min(1,e+r)),Hf(1-Math.min(1,n+r)),Hf(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const r=1-e,o=1-t,l=1-n,c=Math.min(r,o,l);return["CMYK",r,o,l,c]}}class J5{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){xt("Abstract method `_createSVG` called.")}}class Tp extends J5{_createSVG(e){return document.createElementNS(xo,e)}}class aS{static setupStorage(e,t,n,r,o){const l=r.getValue(t,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),o==="print")break;e.addEventListener("input",c=>{r.setValue(t,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?e.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",c=>{r.setValue(t,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),o==="print")break;e.addEventListener("input",c=>{r.setValue(t,{value:c.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const c of n.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{const d=c.target.options,p=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(t,{value:p})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:o}){const{attributes:l}=t,c=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[d,p]of Object.entries(l))if(p!=null)switch(d){case"class":p.length&&e.setAttribute(d,p.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",p);break;case"style":Object.assign(e.style,p);break;case"textContent":e.textContent=p;break;default:(!c||d!=="href"&&d!=="newWindow")&&e.setAttribute(d,p)}c&&o.addLinkAttributes(e,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(e,l.dataId,t,n)}static render(e){var m,y;const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,o=e.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:o,linkService:n});const c=o!=="richText",d=e.div;if(d.append(l),e.viewport){const w=`matrix(${e.viewport.transform.join(",")})`;d.style.transform=w}c&&d.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const w=document.createTextNode(r.value);l.append(w),c&&Cp.shouldBuildText(r.name)&&p.push(w)}return{textDivs:p}}const f=[[r,-1,l]];for(;f.length>0;){const[w,x,b]=f.at(-1);if(x+1===w.children.length){f.pop();continue}const A=w.children[++f.at(-1)[1]];if(A===null)continue;const{name:R}=A;if(R==="#text"){const M=document.createTextNode(A.value);p.push(M),b.append(M);continue}const k=(m=A==null?void 0:A.attributes)!=null&&m.xmlns?document.createElementNS(A.attributes.xmlns,R):document.createElement(R);if(b.append(k),A.attributes&&this.setAttributes({html:k,element:A,storage:t,intent:o,linkService:n}),((y=A.children)==null?void 0:y.length)>0)f.push([A,-1,k]);else if(A.value){const M=document.createTextNode(A.value);c&&Cp.shouldBuildText(R)&&p.push(M),k.append(M)}}for(const w of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:p}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const e8=9,xu=new WeakSet;class PT{static create(e){switch(e.data.annotationType){case en.LINK:return new dM(e);case en.TEXT:return new t8(e);case en.WIDGET:switch(e.data.fieldType){case"Tx":return new n8(e);case"Btn":return e.data.radioButton?new pM(e):e.data.checkBox?new i8(e):new s8(e);case"Ch":return new o8(e);case"Sig":return new r8(e)}return new Mu(e);case en.POPUP:return new Ex(e);case en.FREETEXT:return new wM(e);case en.LINE:return new l8(e);case en.SQUARE:return new c8(e);case en.CIRCLE:return new u8(e);case en.POLYLINE:return new bM(e);case en.CARET:return new h8(e);case en.INK:return new lS(e);case en.POLYGON:return new d8(e);case en.HIGHLIGHT:return new _M(e);case en.UNDERLINE:return new f8(e);case en.SQUIGGLY:return new p8(e);case en.STRIKEOUT:return new m8(e);case en.STAMP:return new xM(e);case en.FILEATTACHMENT:return new g8(e);default:return new sn(e)}}}var Gc,ph,mh,Am,Sx;const yS=class yS{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){I(this,Am);I(this,Gc,null);I(this,ph,!1);I(this,mh,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return yS._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;u(this,Gc)||C(this,Gc,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&N(this,Am,Sx).call(this,t),(n=u(this,mh))==null||n.popup.updateEdited(e)}resetEdited(){var e;u(this,Gc)&&(N(this,Am,Sx).call(this,u(this,Gc).rect),(e=u(this,mh))==null||e.popup.resetEdited(),C(this,Gc,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof Mu||(o.tabIndex=0);const{style:l}=o;if(l.zIndex=this.parent.zIndex++,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof Ex){const{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,o),o}const{width:c,height:d}=this;if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const b=t.borderStyle.horizontalCornerRadius,A=t.borderStyle.verticalCornerRadius;if(b>0||A>0){const k=`calc(${b}px * var(--total-scale-factor)) / calc(${A}px * var(--total-scale-factor))`;l.borderRadius=k}else if(this instanceof pM){const k=`calc(${c}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=k}switch(t.borderStyle.style){case ud.SOLID:l.borderStyle="solid";break;case ud.DASHED:l.borderStyle="dashed";break;case ud.BEVELED:qe("Unimplemented border style: beveled");break;case ud.INSET:qe("Unimplemented border style: inset");break;case ud.UNDERLINE:l.borderBottomStyle="solid";break}const R=t.borderColor||null;R?(C(this,ph,!0),l.borderColor=Oe.makeHexColor(R[0]|0,R[1]|0,R[2]|0)):l.borderWidth=0}const p=Oe.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:f,pageHeight:m,pageX:y,pageY:w}=r.rawDims;l.left=`${100*(p[0]-y)/f}%`,l.top=`${100*(p[1]-w)/m}%`;const{rotation:x}=t;return t.hasOwnCanvas||x===0?(l.width=`${100*c/f}%`,l.height=`${100*d/m}%`):this.setRotation(x,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:o,height:l}=this;e%180!==0&&([o,l]=[l,o]),t.style.width=`${100*o/n}%`,t.style.height=`${100*l/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,r)=>{const o=r.detail[t],l=o[0],c=o.slice(1);r.target.style[n]=RT[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:RT[`${l}_rgb`](c)})};return st(this,"_commonActions",{display:t=>{const{display:n}=t.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const o=e[r]||n[r];o==null||o(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,o]of Object.entries(t)){const l=n[r];if(l){const c={detail:{[r]:o},target:e};l(c),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,o]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){const[b,A,R,k]=e.subarray(2,6);if(r===b&&o===A&&t===R&&n===k)return}const{style:l}=this.container;let c;if(u(this,ph)){const{borderColor:b,borderWidth:A}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const d=r-t,p=o-n,{svgFactory:f}=this,m=f.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const y=f.createElement("defs");m.append(y);const w=f.createElement("clipPath"),x=`clippath_${this.data.id}`;w.setAttribute("id",x),w.setAttribute("clipPathUnits","objectBoundingBox"),y.append(w);for(let b=2,A=e.length;b<A;b+=8){const R=e[b],k=e[b+1],M=e[b+2],L=e[b+3],F=f.createElement("rect"),$=(M-t)/d,B=(o-k)/p,V=(R-M)/d,q=(k-L)/p;F.setAttribute("x",$),F.setAttribute("y",B),F.setAttribute("width",V),F.setAttribute("height",q),w.append(F),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${$}" y="${B}" width="${V}" height="${q}"/>`)}u(this,ph)&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(m),this.container.style.clipPath=`url(#${x})`}_createPopup(){const{data:e}=this,t=C(this,mh,new Ex({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){xt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:o,id:l,exportValues:c}of r){if(o===-1||l===t)continue;const d=typeof c=="string"?c:null,p=document.querySelector(`[data-element-id="${l}"]`);if(p&&!xu.has(p)){qe(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:d,domElement:p})}return n}for(const r of document.getElementsByName(e)){const{exportValue:o}=r,l=r.getAttribute("data-element-id");l!==t&&xu.has(r)&&n.push({id:l,exportValue:o,domElement:r})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Gc=new WeakMap,ph=new WeakMap,mh=new WeakMap,Am=new WeakSet,Sx=function(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:c,pageY:d}}}}=this;n==null||n.splice(0,4,...e),t.left=`${100*(e[0]-c)/o}%`,t.top=`${100*(l-e[3]+d)/l}%`,r===0?(t.width=`${100*(e[2]-e[0])/o}%`,t.height=`${100*(e[3]-e[1])/l}%`):this.setRotation(r)};let sn=yS;var hi,ec,hM,fM;class dM extends sn{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});I(this,hi);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let o=!1;return t.url?(n.addLinkAttributes(r,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(r,t.action),o=!0):t.attachment?(N(this,hi,hM).call(this,r,t.attachment,t.attachmentDest),o=!0):t.setOCGState?(N(this,hi,fM).call(this,r,t.setOCGState),o=!0):t.dest?(this._bindLink(r,t.dest),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),o=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&N(this,hi,ec).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),N(this,hi,ec).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(n.actions)){const l=r.get(o);l&&(t[l]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:o}}),!1})}t.onclick||(t.onclick=()=>!1),N(this,hi,ec).call(this)}_bindResetFormAction(t,n){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),N(this,hi,ec).call(this),!this._fieldObjects){qe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var m;r==null||r();const{fields:o,refs:l,include:c}=n,d=[];if(o.length!==0||l.length!==0){const y=new Set(l);for(const w of o){const x=this._fieldObjects[w]||[];for(const{id:b}of x)y.add(b)}for(const w of Object.values(this._fieldObjects))for(const x of w)y.has(x.id)===c&&d.push(x)}else for(const y of Object.values(this._fieldObjects))d.push(...y);const p=this.annotationStorage,f=[];for(const y of d){const{id:w}=y;switch(f.push(w),y.type){case"text":{const b=y.defaultValue||"";p.setValue(w,{value:b});break}case"checkbox":case"radiobutton":{const b=y.defaultValue===y.exportValues;p.setValue(w,{value:b});break}case"combobox":case"listbox":{const b=y.defaultValue||"";p.setValue(w,{value:b});break}default:continue}const x=document.querySelector(`[data-element-id="${w}"]`);if(x){if(!xu.has(x)){qe(`_bindResetFormAction - element not allowed: ${w}`);continue}}else continue;x.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}})),!1}}}hi=new WeakSet,ec=function(){this.container.setAttribute("data-internal-link","")},hM=function(t,n,r=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(n.content,n.filename,r),!1},N(this,hi,ec).call(this)},fM=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),N(this,hi,ec).call(this)};class t8 extends sn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Mu extends sn{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ln.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,o){n.includes("mouse")?e.addEventListener(n,l=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(n,l=>{var c;if(n==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}o&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l)}}))})}_setEventListeners(e,t,n,r){var o,l,c;for(const[d,p]of n)(p==="Action"||(o=this.data.actions)!=null&&o[p])&&((p==="Focus"||p==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,d,p,r),p==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(e,t,"blur","Blur",null):p==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Oe.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||e8,o=e.style;let l;const c=2,d=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-c),f=Math.round(p/(u_*r))||1,m=p/f;l=Math.min(r,d(m/u_))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(r,d(p/u_))}o.fontSize=`calc(${l}px * var(--total-scale-factor))`,o.color=Oe.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class n8 extends Mu{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,r){const o=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=n),o.setValue(l.id,{[r]:n})}render(){var r,o;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const l=e.getValue(t,{value:this.data.fieldValue});let c=l.value||"";const d=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;d&&c.length>d&&(c=c.slice(0,d));let p=l.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const f={userValue:c,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=p??c,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",p??c),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),xu.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const m=this.data.dateFormat||this.data.timeFormat;m&&(n.title=m),this._setRequired(n,this.data.required),d&&(n.maxLength=d),n.addEventListener("input",w=>{e.setValue(t,{value:w.target.value}),this.setPropertyOnSiblings(n,"value",w.target.value,"value"),f.formattedValue=null}),n.addEventListener("resetform",w=>{const x=this.data.defaultFieldValue??"";n.value=f.userValue=x,f.formattedValue=null});let y=w=>{const{formattedValue:x}=f;x!=null&&(w.target.value=x),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",x=>{var A;if(f.focused)return;const{target:b}=x;f.userValue&&(b.value=f.userValue),f.lastCommittedValue=b.value,f.commitKey=1,(A=this.data.actions)!=null&&A.Focus||(f.focused=!0)}),n.addEventListener("updatefromsandbox",x=>{this.showElementAndHideCanvas(x.target);const b={value(A){f.userValue=A.detail.value??"",e.setValue(t,{value:f.userValue.toString()}),A.target.value=f.userValue},formattedValue(A){const{formattedValue:R}=A.detail;f.formattedValue=R,R!=null&&A.target!==document.activeElement&&(A.target.value=R),e.setValue(t,{formattedValue:R})},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{var L;const{charLimit:R}=A.detail,{target:k}=A;if(R===0){k.removeAttribute("maxLength");return}k.setAttribute("maxLength",R);let M=f.userValue;!M||M.length<=R||(M=M.slice(0,R),k.value=f.userValue=M,e.setValue(t,{value:M}),(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:M,willCommit:!0,commitKey:1,selStart:k.selectionStart,selEnd:k.selectionEnd}}))}};this._dispatchEventFromSandbox(b,x)}),n.addEventListener("keydown",x=>{var R;f.commitKey=1;let b=-1;if(x.key==="Escape"?b=0:x.key==="Enter"&&!this.data.multiLine?b=2:x.key==="Tab"&&(f.commitKey=3),b===-1)return;const{value:A}=x.target;f.lastCommittedValue!==A&&(f.lastCommittedValue=A,f.userValue=A,(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:b,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}))});const w=y;y=null,n.addEventListener("blur",x=>{var A,R;if(!f.focused||!x.relatedTarget)return;(A=this.data.actions)!=null&&A.Blur||(f.focused=!1);const{value:b}=x.target;f.userValue=b,f.lastCommittedValue!==b&&((R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:f.commitKey,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}})),w(x)}),(o=this.data.actions)!=null&&o.Keystroke&&n.addEventListener("beforeinput",x=>{var $;f.lastCommittedValue=null;const{data:b,target:A}=x,{value:R,selectionStart:k,selectionEnd:M}=A;let L=k,F=M;switch(x.inputType){case"deleteWordBackward":{const B=R.substring(0,k).match(/\w*[^\w]*$/);B&&(L-=B[0].length);break}case"deleteWordForward":{const B=R.substring(k).match(/^[^\w]*\w*/);B&&(F+=B[0].length);break}case"deleteContentBackward":k===M&&(L-=1);break;case"deleteContentForward":k===M&&(F+=1);break}x.preventDefault(),($=this.linkService.eventBus)==null||$.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:R,change:b||"",willCommit:!1,selStart:L,selEnd:F}})}),this._setEventListeners(n,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.value)}if(y&&n.addEventListener("blur",y),this.data.comb){const x=(this.data.rect[2]-this.data.rect[0])/d;n.classList.add("comb"),n.style.letterSpacing=`calc(${x}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class r8 extends Mu{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class i8 extends Mu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return xu.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=0,o.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const p of this._getElementsByName(c,n)){const f=d&&p.exportValue===t.exportValue;p.domElement&&(p.domElement.checked=f),e.setValue(p.id,{value:f})}e.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const c=t.defaultFieldValue||"Off";l.target.checked=c===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const c={value(d){d.target.checked=d.detail.value!=="Off",e.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class pM extends Mu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const l of this._getElementsByName(t.fieldName,n))e.setValue(l.id,{value:!1});const o=document.createElement("input");if(xu.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const p of this._getElementsByName(c,n))e.setValue(p.id,{value:!1});e.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const c=t.defaultFieldValue;l.target.checked=c!=null&&c===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;o.addEventListener("updatefromsandbox",c=>{const d={value:p=>{const f=l===p.detail.value;for(const m of this._getElementsByName(p.target.name)){const y=f&&m.id===n;m.domElement&&(m.domElement.checked=y),e.setValue(m.id,{value:y})}}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class s8 extends dM{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class o8 extends Mu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");xu.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",f=>{const m=this.data.defaultFieldValue;for(const y of r.options)y.selected=y.value===m});for(const f of this.data.options){const m=document.createElement("option");m.textContent=f.displayValue,m.value=f.exportValue,n.value.includes(f.exportValue)&&(m.setAttribute("selected",!0),o=!1),r.append(m)}let l=null;if(o){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),r.prepend(f),l=()=>{f.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const c=f=>{const m=f?"value":"textContent",{options:y,multiple:w}=r;return w?Array.prototype.filter.call(y,x=>x.selected).map(x=>x[m]):y.selectedIndex===-1?null:y[y.selectedIndex][m]};let d=c(!1);const p=f=>{const m=f.target.options;return Array.prototype.map.call(m,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",f=>{const m={value(y){l==null||l();const w=y.detail.value,x=new Set(Array.isArray(w)?w:[w]);for(const b of r.options)b.selected=x.has(b.value);e.setValue(t,{value:c(!0)}),d=c(!1)},multipleSelection(y){r.multiple=!0},remove(y){const w=r.options,x=y.detail.remove;w[x].selected=!1,r.remove(x),w.length>0&&Array.prototype.findIndex.call(w,A=>A.selected)===-1&&(w[0].selected=!0),e.setValue(t,{value:c(!0),items:p(y)}),d=c(!1)},clear(y){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),d=c(!1)},insert(y){const{index:w,displayValue:x,exportValue:b}=y.detail.insert,A=r.children[w],R=document.createElement("option");R.textContent=x,R.value=b,A?A.before(R):r.append(R),e.setValue(t,{value:c(!0),items:p(y)}),d=c(!1)},items(y){const{items:w}=y.detail;for(;r.length!==0;)r.remove(0);for(const x of w){const{displayValue:b,exportValue:A}=x,R=document.createElement("option");R.textContent=b,R.value=A,r.append(R)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:c(!0),items:p(y)}),d=c(!1)},indices(y){const w=new Set(y.detail.indices);for(const x of y.target.options)x.selected=w.has(x.index);e.setValue(t,{value:c(!0)}),d=c(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(m,f)}),r.addEventListener("input",f=>{var w;const m=c(!0),y=c(!1);e.setValue(t,{value:m}),f.preventDefault(),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,change:y,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):r.addEventListener("input",function(f){e.setValue(t,{value:c(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Ex extends sn{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:sn._hasPopupData(t)}),this.elements=n,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new a8({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=t,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${eS}${r}`).join(",")),this.container}}var gh,d0,h0,yh,vh,Kt,Go,Wc,Cm,Tm,wh,Wo,rs,qo,Rm,Ko,Pm,qc,Kc,St,hv,Ax,mM,gM,yM,vM,fv,pv,Cx;class a8{constructor({container:e,color:t,elements:n,titleObj:r,modificationDate:o,contentsObj:l,richText:c,parent:d,rect:p,parentRect:f,open:m}){I(this,St);I(this,gh,N(this,St,yM).bind(this));I(this,d0,N(this,St,Cx).bind(this));I(this,h0,N(this,St,pv).bind(this));I(this,yh,N(this,St,fv).bind(this));I(this,vh,null);I(this,Kt,null);I(this,Go,null);I(this,Wc,null);I(this,Cm,null);I(this,Tm,null);I(this,wh,null);I(this,Wo,!1);I(this,rs,null);I(this,qo,null);I(this,Rm,null);I(this,Ko,null);I(this,Pm,null);I(this,qc,null);I(this,Kc,!1);var y;C(this,Kt,e),C(this,Pm,r),C(this,Go,l),C(this,Ko,c),C(this,Tm,d),C(this,vh,t),C(this,Rm,p),C(this,wh,f),C(this,Cm,n),C(this,Wc,W0.toDateObject(o)),this.trigger=n.flatMap(w=>w.getElementsToTriggerPopup());for(const w of this.trigger)w.addEventListener("click",u(this,yh)),w.addEventListener("mouseenter",u(this,h0)),w.addEventListener("mouseleave",u(this,d0)),w.classList.add("popupTriggerArea");for(const w of n)(y=w.container)==null||y.addEventListener("keydown",u(this,gh));u(this,Kt).hidden=!0,m&&N(this,St,fv).call(this)}render(){if(u(this,rs))return;const e=C(this,rs,document.createElement("div"));if(e.className="popup",u(this,vh)){const o=e.style.outlineColor=Oe.makeHexColor(...u(this,vh));e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=u(this,Pm),e.append(t),u(this,Wc)){const o=document.createElement("time");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,Wc).valueOf()})),o.dateTime=u(this,Wc).toISOString(),t.append(o)}const r=u(this,St,hv);if(r)aS.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(u(this,Go));e.append(o)}u(this,Kt).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let o=0,l=r.length;o<l;++o){const c=r[o];n.append(document.createTextNode(c)),o<l-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;u(this,qc)||C(this,qc,{contentsObj:u(this,Go),richText:u(this,Ko)}),e&&C(this,qo,null),t&&(C(this,Ko,N(this,St,gM).call(this,t)),C(this,Go,null)),(n=u(this,rs))==null||n.remove(),C(this,rs,null)}resetEdited(){var e;u(this,qc)&&({contentsObj:En(this,Go)._,richText:En(this,Ko)._}=u(this,qc),C(this,qc,null),(e=u(this,rs))==null||e.remove(),C(this,rs,null),C(this,qo,null))}forceHide(){C(this,Kc,this.isVisible),u(this,Kc)&&(u(this,Kt).hidden=!0)}maybeShow(){u(this,Kc)&&(u(this,rs)||N(this,St,pv).call(this),C(this,Kc,!1),u(this,Kt).hidden=!1)}get isVisible(){return u(this,Kt).hidden===!1}}gh=new WeakMap,d0=new WeakMap,h0=new WeakMap,yh=new WeakMap,vh=new WeakMap,Kt=new WeakMap,Go=new WeakMap,Wc=new WeakMap,Cm=new WeakMap,Tm=new WeakMap,wh=new WeakMap,Wo=new WeakMap,rs=new WeakMap,qo=new WeakMap,Rm=new WeakMap,Ko=new WeakMap,Pm=new WeakMap,qc=new WeakMap,Kc=new WeakMap,St=new WeakSet,hv=function(){const e=u(this,Ko),t=u(this,Go);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&u(this,Ko).html||null},Ax=function(){var e,t,n;return((n=(t=(e=u(this,St,hv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},mM=function(){var e,t,n;return((n=(t=(e=u(this,St,hv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},gM=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:u(this,St,mM),fontSize:u(this,St,Ax)?`calc(${u(this,St,Ax)}px * var(--total-scale-factor))`:""}};for(const o of e.split(`
`))t.push({name:"span",value:o,attributes:r});return n},yM=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&u(this,Wo))&&N(this,St,fv).call(this)},vM=function(){if(u(this,qo)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:o}}}=u(this,Tm);let l=!!u(this,wh),c=l?u(this,wh):u(this,Rm);for(const x of u(this,Cm))if(!c||Oe.intersect(x.data.rect,c)!==null){c=x.data.rect,l=!0;break}const d=Oe.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),f=l?c[2]-c[0]+5:0,m=d[0]+f,y=d[1];C(this,qo,[100*(m-r)/t,100*(y-o)/n]);const{style:w}=u(this,Kt);w.left=`${u(this,qo)[0]}%`,w.top=`${u(this,qo)[1]}%`},fv=function(){C(this,Wo,!u(this,Wo)),u(this,Wo)?(N(this,St,pv).call(this),u(this,Kt).addEventListener("click",u(this,yh)),u(this,Kt).addEventListener("keydown",u(this,gh))):(N(this,St,Cx).call(this),u(this,Kt).removeEventListener("click",u(this,yh)),u(this,Kt).removeEventListener("keydown",u(this,gh)))},pv=function(){u(this,rs)||this.render(),this.isVisible?u(this,Wo)&&u(this,Kt).classList.add("focused"):(N(this,St,vM).call(this),u(this,Kt).hidden=!1,u(this,Kt).style.zIndex=parseInt(u(this,Kt).style.zIndex)+1e3)},Cx=function(){u(this,Kt).classList.remove("focused"),!(u(this,Wo)||!this.isVisible)&&(u(this,Kt).hidden=!0,u(this,Kt).style.zIndex=parseInt(u(this,Kt).style.zIndex)-1e3)};class wM extends sn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ge.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var km;class l8 extends sn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,km,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:r}=this,o=this.svgFactory.create(n,r,!0),l=C(this,km,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),o.append(l),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,km)}addHighlightArea(){this.container.classList.add("highlightArea")}}km=new WeakMap;var Im;class c8 extends sn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,Im,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:r}=this,o=this.svgFactory.create(n,r,!0),l=t.borderStyle.width,c=C(this,Im,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",l/2),c.setAttribute("y",l/2),c.setAttribute("width",n-l),c.setAttribute("height",r-l),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Im)}addHighlightArea(){this.container.classList.add("highlightArea")}}Im=new WeakMap;var Mm;class u8 extends sn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,Mm,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:r}=this,o=this.svgFactory.create(n,r,!0),l=t.borderStyle.width,c=C(this,Mm,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",n/2),c.setAttribute("cy",r/2),c.setAttribute("rx",n/2-l/2),c.setAttribute("ry",r/2-l/2),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Mm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mm=new WeakMap;var Nm;class bM extends sn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,Nm,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:r,popupRef:o},width:l,height:c}=this;if(!n)return this.container;const d=this.svgFactory.create(l,c,!0);let p=[];for(let m=0,y=n.length;m<y;m+=2){const w=n[m]-t[0],x=t[3]-n[m+1];p.push(`${w},${x}`)}p=p.join(" ");const f=C(this,Nm,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",p),f.setAttribute("stroke-width",r.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),d.append(f),this.container.append(d),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Nm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nm=new WeakMap;class d8 extends bM{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class h8 extends sn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Lm,Yc,Dm,Tx;class lS extends sn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,Dm);I(this,Lm,null);I(this,Yc,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ge.HIGHLIGHT:Ge.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:r,borderStyle:o,popupRef:l}}=this,{transform:c,width:d,height:p}=N(this,Dm,Tx).call(this,n,t),f=this.svgFactory.create(d,p,!0),m=C(this,Lm,this.svgFactory.createElement("svg:g"));f.append(m),m.setAttribute("stroke-width",o.width||1),m.setAttribute("stroke-linecap","round"),m.setAttribute("stroke-linejoin","round"),m.setAttribute("stroke-miterlimit",10),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),m.setAttribute("transform",c);for(let y=0,w=r.length;y<w;y++){const x=this.svgFactory.createElement(this.svgElementName);u(this,Yc).push(x),x.setAttribute("points",r[y].join(",")),m.append(x)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:r,rect:o}=t,l=u(this,Lm);if(n>=0&&l.setAttribute("stroke-width",n||1),r)for(let c=0,d=u(this,Yc).length;c<d;c++)u(this,Yc)[c].setAttribute("points",r[c].join(","));if(o){const{transform:c,width:d,height:p}=N(this,Dm,Tx).call(this,this.data.rotation,o);l.parentElement.setAttribute("viewBox",`0 0 ${d} ${p}`),l.setAttribute("transform",c)}}getElementsToTriggerPopup(){return u(this,Yc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lm=new WeakMap,Yc=new WeakMap,Dm=new WeakSet,Tx=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class _M extends sn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ge.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class f8 extends sn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class p8 extends sn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class m8 extends sn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class xM extends sn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ge.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Om,Fm,Rx;class g8 extends sn{constructor(t){var r;super(t,{isRenderable:!0});I(this,Fm);I(this,Om,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",N(this,Fm,Rx).bind(this)),C(this,Om,r);const{isMac:o}=Ln.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(o?l.metaKey:l.ctrlKey)&&N(this,Fm,Rx).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return u(this,Om)}addHighlightArea(){this.container.classList.add("highlightArea")}}Om=new WeakMap,Fm=new WeakSet,Rx=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var jm,Xc,fl,Bm,Ol,Px,kx,bh;let cS=(bh=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:r,page:o,viewport:l,structTreeLayer:c}){I(this,Ol);I(this,jm,null);I(this,Xc,null);I(this,fl,new Map);I(this,Bm,null);this.div=e,C(this,jm,t),C(this,Xc,n),C(this,Bm,c||null),this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return u(this,fl).size>0}async render(e){var l;const{annotations:t}=e,n=this.div;Ml(n,this.viewport);const r=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Tp,annotationStorage:e.annotationStorage||new nS,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of t){if(c.noHTML)continue;const d=c.annotationType===en.POPUP;if(d){const m=r.get(c.id);if(!m)continue;o.elements=m}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;o.data=c;const p=PT.create(o);if(!p.isRenderable)continue;if(!d&&c.popupRef){const m=r.get(c.popupRef);m?m.push(p):r.set(c.popupRef,[p])}const f=p.render();c.hidden&&(f.style.visibility="hidden"),await N(this,Ol,Px).call(this,f,c.id,o.elements),p._isEditable&&(u(this,fl).set(p.data.id,p),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(p))}N(this,Ol,kx).call(this)}async addLinkAnnotations(e,t){const n={data:null,layer:this.div,linkService:t,svgFactory:new Tp,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=bh._defaultBorderStyle),n.data=r;const o=PT.create(n);if(!o.isRenderable)continue;const l=o.render();await N(this,Ol,Px).call(this,l,r.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,Ml(t,{rotation:e.rotation}),N(this,Ol,kx).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(u(this,fl).values())}getEditableAnnotation(e){return u(this,fl).get(e)}static get _defaultBorderStyle(){return st(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:ud.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},jm=new WeakMap,Xc=new WeakMap,fl=new WeakMap,Bm=new WeakMap,Ol=new WeakSet,Px=async function(e,t,n){var c,d;const r=e.firstChild||e,o=r.id=`${eS}${t}`,l=await((c=u(this,Bm))==null?void 0:c.getAriaAttributes(o));if(l)for(const[p,f]of l)r.setAttribute(p,f);n?n.at(-1).container.after(e):(this.div.append(e),(d=u(this,jm))==null||d.moveElementInDOM(this.div,e,r,!1))},kx=function(){var t;if(!u(this,Xc))return;const e=this.div;for(const[n,r]of u(this,Xc)){const o=e.querySelector(`[data-annotation-id="${n}"]`);if(!o)continue;r.className="annotationContent";const{firstChild:l}=o;l?l.nodeName==="CANVAS"?l.replaceWith(r):l.classList.contains("annotationContent")?l.after(r):l.before(r):o.append(r);const c=u(this,fl).get(n);c&&(c._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(n,o.id,r),c._hasNoCanvas=!1):c.canvas=r)}u(this,Xc).clear()},bh);const Hy=/\r\n?|\n/g;var is,Jr,$m,Qc,ei,hn,SM,EM,AM,mv,oa,gv,yv,CM,Mx,TM;const Rt=class Rt extends Pt{constructor(t){super({...t,name:"freeTextEditor"});I(this,hn);I(this,is);I(this,Jr,"");I(this,$m,`${this.id}-editor`);I(this,Qc,null);I(this,ei);C(this,is,t.color||Rt._defaultColor||Pt._defaultLineColor),C(this,ei,t.fontSize||Rt._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=Rt.prototype,n=l=>l.isEmpty(),r=Nl.TRANSLATE_SMALL,o=Nl.TRANSLATE_BIG;return st(this,"_keyboardManager",new vg([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:n}]]))}static initialize(t,n){Pt.initialize(t,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case at.FREETEXT_SIZE:Rt._defaultFontSize=n;break;case at.FREETEXT_COLOR:Rt._defaultColor=n;break}}updateParams(t,n){switch(t){case at.FREETEXT_SIZE:N(this,hn,SM).call(this,n);break;case at.FREETEXT_COLOR:N(this,hn,EM).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[at.FREETEXT_SIZE,Rt._defaultFontSize],[at.FREETEXT_COLOR,Rt._defaultColor||Pt._defaultLineColor]]}get propertiesToUpdate(){return[[at.FREETEXT_SIZE,u(this,ei)],[at.FREETEXT_COLOR,u(this,is)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-Rt._internalPadding*t,-(Rt._internalPadding+u(this,ei))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),C(this,Qc,new AbortController);const t=this._uiManager.combinedSignal(u(this,Qc));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,$m)),this._isDraggable=!0,(t=u(this,Qc))==null||t.abort(),C(this,Qc,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=u(this,Jr),n=C(this,Jr,N(this,hn,AM).call(this).trimEnd());if(t===n)return;const r=o=>{if(C(this,Jr,o),!o){this.remove();return}N(this,hn,yv).call(this),this._uiManager.rebuild(this),N(this,hn,mv).call(this)};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(t)},mustExec:!1}),N(this,hn,mv).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Rt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,$m)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${u(this,ei)}px * var(--total-scale-factor))`,r.color=u(this,is),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[o,l]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[d,p]=this.getInitialTranslation();[d,p]=this.pageTranslationToScreen(d,p);const[f,m]=this.pageDimensions,[y,w]=this.pageTranslation;let x,b;switch(this.rotation){case 0:x=t+(c[0]-y)/f,b=n+this.height-(c[1]-w)/m;break;case 90:x=t+(c[0]-y)/f,b=n-(c[1]-w)/m,[d,p]=[p,-d];break;case 180:x=t-this.width+(c[0]-y)/f,b=n-(c[1]-w)/m,[d,p]=[-d,-p];break;case 270:x=t+(c[0]-y-this.height*m)/f,b=n+(c[1]-w-this.width*f)/m,[d,p]=[-p,d];break}this.setAt(x*o,b*l,d,p)}else this._moveAfterPaste(t,n);N(this,hn,yv).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var x,b,A;const n=t.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const o=N(x=Rt,oa,Mx).call(x,n.getData("text")||"").replaceAll(Hy,`
`);if(!o)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const c=l.getRangeAt(0);if(!o.includes(`
`)){c.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:d,startOffset:p}=c,f=[],m=[];if(d.nodeType===Node.TEXT_NODE){const R=d.parentElement;if(m.push(d.nodeValue.slice(p).replaceAll(Hy,"")),R!==this.editorDiv){let k=f;for(const M of this.editorDiv.childNodes){if(M===R){k=m;continue}k.push(N(b=Rt,oa,gv).call(b,M))}}f.push(d.nodeValue.slice(0,p).replaceAll(Hy,""))}else if(d===this.editorDiv){let R=f,k=0;for(const M of this.editorDiv.childNodes)k++===p&&(R=m),R.push(N(A=Rt,oa,gv).call(A,M))}C(this,Jr,`${f.join(`
`)}${o}${m.join(`
`)}`),N(this,hn,yv).call(this);const y=new Range;let w=Math.sumPrecise(f.map(R=>R.length));for(const{firstChild:R}of this.editorDiv.childNodes)if(R.nodeType===Node.TEXT_NODE){const k=R.nodeValue.length;if(w<=k){y.setStart(R,w),y.setEnd(R,w);break}w-=k}l.removeAllRanges(),l.addRange(y)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,r){var c;let o=null;if(t instanceof wM){const{data:{defaultAppearanceData:{fontSize:d,fontColor:p},rect:f,rotation:m,id:y,popupRef:w},textContent:x,textPosition:b,parent:{page:{pageNumber:A}}}=t;if(!x||x.length===0)return null;o=t={annotationType:Ge.FREETEXT,color:Array.from(p),fontSize:d,value:x.join(`
`),position:b,pageIndex:A-1,rect:f.slice(0),rotation:m,annotationElementId:y,id:y,deleted:!1,popupRef:w}}const l=await super.deserialize(t,n,r);return C(l,ei,t.fontSize),C(l,is,Oe.makeHexColor(...t.color)),C(l,Jr,N(c=Rt,oa,Mx).call(c,t.value)),l._initialData=o,l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Rt._internalPadding*this.parentScale,r=this.getRect(n,n),o=Pt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,is)),l={annotationType:Ge.FREETEXT,color:o,fontSize:u(this,ei),value:N(this,hn,CM).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(l.isCopy=!0,l):this.annotationElementId&&!N(this,hn,TM).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${u(this,ei)}px * var(--total-scale-factor))`,r.color=u(this,is),n.replaceChildren();for(const l of u(this,Jr).split(`
`)){const c=document.createElement("div");c.append(l?document.createTextNode(l):document.createElement("br")),n.append(c)}const o=Rt._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(o,o),popupContent:u(this,Jr)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};is=new WeakMap,Jr=new WeakMap,$m=new WeakMap,Qc=new WeakMap,ei=new WeakMap,hn=new WeakSet,SM=function(t){const n=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--total-scale-factor))`,this.translate(0,-(o-u(this,ei))*this.parentScale),C(this,ei,o),N(this,hn,mv).call(this)},r=u(this,ei);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:at.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},EM=function(t){const n=o=>{C(this,is,this.editorDiv.style.color=o)},r=u(this,is);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:at.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},AM=function(){var r;const t=[];this.editorDiv.normalize();let n=null;for(const o of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(t.push(N(r=Rt,oa,gv).call(r,o)),n=o);return t.join(`
`)},mv=function(){const[t,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:l}=this,c=l.style.display,d=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",o.div.append(this.div),r=l.getBoundingClientRect(),l.remove(),l.style.display=c,l.classList.toggle("hidden",d)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/n):(this.width=r.height/t,this.height=r.width/n),this.fixAndSetPosition()},oa=new WeakSet,gv=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Hy,"")},yv=function(){if(this.editorDiv.replaceChildren(),!!u(this,Jr))for(const t of u(this,Jr).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},CM=function(){return u(this,Jr).replaceAll(""," ")},Mx=function(t){return t.replaceAll(" ","")},TM=function(t){const{value:n,fontSize:r,color:o,pageIndex:l}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==r||t.color.some((c,d)=>c!==o[d])||t.pageIndex!==l},I(Rt,oa),ye(Rt,"_freeTextDefaultContent",""),ye(Rt,"_internalPadding",0),ye(Rt,"_defaultColor",null),ye(Rt,"_defaultFontSize",10),ye(Rt,"_type","freetext"),ye(Rt,"_editorType",Ge.FREETEXT);let Ix=Rt;class Re{toSVGPath(){xt("Abstract method `toSVGPath` must be implemented.")}get box(){xt("Abstract getter `box` must be implemented.")}serialize(e,t){xt("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,r,o,l){l||(l=new Float32Array(e.length));for(let c=0,d=e.length;c<d;c+=2)l[c]=t+e[c]*r,l[c+1]=n+e[c+1]*o;return l}static _rescaleAndSwap(e,t,n,r,o,l){l||(l=new Float32Array(e.length));for(let c=0,d=e.length;c<d;c+=2)l[c]=t+e[c+1]*r,l[c+1]=n+e[c]*o;return l}static _translate(e,t,n,r){r||(r=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)r[o]=t+e[o],r[o+1]=n+e[o+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,r,o){switch(o){case 90:return[1-t/n,e/r];case 180:return[1-e/n,1-t/r];case 270:return[t/n,1-e/r];default:return[e/n,t/r]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,r,o,l){return[(e+5*n)/6,(t+5*r)/6,(5*n+o)/6,(5*r+l)/6,(n+o)/2,(r+l)/2]}}ye(Re,"PRECISION",1e-4);var ti,ss,_h,xh,Us,nt,Zc,Jc,zm,Hm,Sh,Eh,pl,Um,f0,p0,wn,ip,RM,PM,kM,IM,MM,NM;const Co=class Co{constructor({x:e,y:t},n,r,o,l,c=0){I(this,wn);I(this,ti);I(this,ss,[]);I(this,_h);I(this,xh);I(this,Us,[]);I(this,nt,new Float32Array(18));I(this,Zc);I(this,Jc);I(this,zm);I(this,Hm);I(this,Sh);I(this,Eh);I(this,pl,[]);C(this,ti,n),C(this,Eh,o*r),C(this,xh,l),u(this,nt).set([NaN,NaN,NaN,NaN,e,t],6),C(this,_h,c),C(this,Hm,u(Co,Um)*r),C(this,zm,u(Co,p0)*r),C(this,Sh,r),u(this,pl).push(e,t)}isEmpty(){return isNaN(u(this,nt)[8])}add({x:e,y:t}){var q;C(this,Zc,e),C(this,Jc,t);const[n,r,o,l]=u(this,ti);let[c,d,p,f]=u(this,nt).subarray(8,12);const m=e-p,y=t-f,w=Math.hypot(m,y);if(w<u(this,zm))return!1;const x=w-u(this,Hm),b=x/w,A=b*m,R=b*y;let k=c,M=d;c=p,d=f,p+=A,f+=R,(q=u(this,pl))==null||q.push(e,t);const L=-R/x,F=A/x,$=L*u(this,Eh),B=F*u(this,Eh);return u(this,nt).set(u(this,nt).subarray(2,8),0),u(this,nt).set([p+$,f+B],4),u(this,nt).set(u(this,nt).subarray(14,18),12),u(this,nt).set([p-$,f-B],16),isNaN(u(this,nt)[6])?(u(this,Us).length===0&&(u(this,nt).set([c+$,d+B],2),u(this,Us).push(NaN,NaN,NaN,NaN,(c+$-n)/o,(d+B-r)/l),u(this,nt).set([c-$,d-B],14),u(this,ss).push(NaN,NaN,NaN,NaN,(c-$-n)/o,(d-B-r)/l)),u(this,nt).set([k,M,c,d,p,f],6),!this.isEmpty()):(u(this,nt).set([k,M,c,d,p,f],6),Math.abs(Math.atan2(M-d,k-c)-Math.atan2(R,A))<Math.PI/2?([c,d,p,f]=u(this,nt).subarray(2,6),u(this,Us).push(NaN,NaN,NaN,NaN,((c+p)/2-n)/o,((d+f)/2-r)/l),[c,d,k,M]=u(this,nt).subarray(14,18),u(this,ss).push(NaN,NaN,NaN,NaN,((k+c)/2-n)/o,((M+d)/2-r)/l),!0):([k,M,c,d,p,f]=u(this,nt).subarray(0,6),u(this,Us).push(((k+5*c)/6-n)/o,((M+5*d)/6-r)/l,((5*c+p)/6-n)/o,((5*d+f)/6-r)/l,((c+p)/2-n)/o,((d+f)/2-r)/l),[p,f,c,d,k,M]=u(this,nt).subarray(12,18),u(this,ss).push(((k+5*c)/6-n)/o,((M+5*d)/6-r)/l,((5*c+p)/6-n)/o,((5*d+f)/6-r)/l,((c+p)/2-n)/o,((d+f)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=u(this,Us),t=u(this,ss);if(isNaN(u(this,nt)[6])&&!this.isEmpty())return N(this,wn,RM).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);N(this,wn,kM).call(this,n);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return N(this,wn,PM).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,r,o,l){return new LM(e,t,n,r,o,l)}getOutlines(){var m;const e=u(this,Us),t=u(this,ss),n=u(this,nt),[r,o,l,c]=u(this,ti),d=new Float32Array((((m=u(this,pl))==null?void 0:m.length)??0)+2);for(let y=0,w=d.length-2;y<w;y+=2)d[y]=(u(this,pl)[y]-r)/l,d[y+1]=(u(this,pl)[y+1]-o)/c;if(d[d.length-2]=(u(this,Zc)-r)/l,d[d.length-1]=(u(this,Jc)-o)/c,isNaN(n[6])&&!this.isEmpty())return N(this,wn,IM).call(this,d);const p=new Float32Array(u(this,Us).length+24+u(this,ss).length);let f=e.length;for(let y=0;y<f;y+=2){if(isNaN(e[y])){p[y]=p[y+1]=NaN;continue}p[y]=e[y],p[y+1]=e[y+1]}f=N(this,wn,NM).call(this,p,f);for(let y=t.length-6;y>=6;y-=6)for(let w=0;w<6;w+=2){if(isNaN(t[y+w])){p[f]=p[f+1]=NaN,f+=2;continue}p[f]=t[y+w],p[f+1]=t[y+w+1],f+=2}return N(this,wn,MM).call(this,p,f),this.newFreeDrawOutline(p,d,u(this,ti),u(this,Sh),u(this,_h),u(this,xh))}};ti=new WeakMap,ss=new WeakMap,_h=new WeakMap,xh=new WeakMap,Us=new WeakMap,nt=new WeakMap,Zc=new WeakMap,Jc=new WeakMap,zm=new WeakMap,Hm=new WeakMap,Sh=new WeakMap,Eh=new WeakMap,pl=new WeakMap,Um=new WeakMap,f0=new WeakMap,p0=new WeakMap,wn=new WeakSet,ip=function(){const e=u(this,nt).subarray(4,6),t=u(this,nt).subarray(16,18),[n,r,o,l]=u(this,ti);return[(u(this,Zc)+(e[0]-t[0])/2-n)/o,(u(this,Jc)+(e[1]-t[1])/2-r)/l,(u(this,Zc)+(t[0]-e[0])/2-n)/o,(u(this,Jc)+(t[1]-e[1])/2-r)/l]},RM=function(){const[e,t,n,r]=u(this,ti),[o,l,c,d]=N(this,wn,ip).call(this);return`M${(u(this,nt)[2]-e)/n} ${(u(this,nt)[3]-t)/r} L${(u(this,nt)[4]-e)/n} ${(u(this,nt)[5]-t)/r} L${o} ${l} L${c} ${d} L${(u(this,nt)[16]-e)/n} ${(u(this,nt)[17]-t)/r} L${(u(this,nt)[14]-e)/n} ${(u(this,nt)[15]-t)/r} Z`},PM=function(e){const t=u(this,ss);e.push(`L${t[4]} ${t[5]} Z`)},kM=function(e){const[t,n,r,o]=u(this,ti),l=u(this,nt).subarray(4,6),c=u(this,nt).subarray(16,18),[d,p,f,m]=N(this,wn,ip).call(this);e.push(`L${(l[0]-t)/r} ${(l[1]-n)/o} L${d} ${p} L${f} ${m} L${(c[0]-t)/r} ${(c[1]-n)/o}`)},IM=function(e){const t=u(this,nt),[n,r,o,l]=u(this,ti),[c,d,p,f]=N(this,wn,ip).call(this),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(t[2]-n)/o,(t[3]-r)/l,NaN,NaN,NaN,NaN,(t[4]-n)/o,(t[5]-r)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,p,f,NaN,NaN,NaN,NaN,(t[16]-n)/o,(t[17]-r)/l,NaN,NaN,NaN,NaN,(t[14]-n)/o,(t[15]-r)/l],0),this.newFreeDrawOutline(m,e,u(this,ti),u(this,Sh),u(this,_h),u(this,xh))},MM=function(e,t){const n=u(this,ss);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},NM=function(e,t){const n=u(this,nt).subarray(4,6),r=u(this,nt).subarray(16,18),[o,l,c,d]=u(this,ti),[p,f,m,y]=N(this,wn,ip).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-o)/c,(n[1]-l)/d,NaN,NaN,NaN,NaN,p,f,NaN,NaN,NaN,NaN,m,y,NaN,NaN,NaN,NaN,(r[0]-o)/c,(r[1]-l)/d],t),t+=24},I(Co,Um,8),I(Co,f0,2),I(Co,p0,u(Co,Um)+u(Co,f0));let qv=Co;var Ah,eu,Yo,Vm,ni,Gm,nn,m0,DM;class LM extends Re{constructor(t,n,r,o,l,c){super();I(this,m0);I(this,Ah);I(this,eu,new Float32Array(4));I(this,Yo);I(this,Vm);I(this,ni);I(this,Gm);I(this,nn);C(this,nn,t),C(this,ni,n),C(this,Ah,r),C(this,Gm,o),C(this,Yo,l),C(this,Vm,c),this.lastPoint=[NaN,NaN],N(this,m0,DM).call(this,c);const[d,p,f,m]=u(this,eu);for(let y=0,w=t.length;y<w;y+=2)t[y]=(t[y]-d)/f,t[y+1]=(t[y+1]-p)/m;for(let y=0,w=n.length;y<w;y+=2)n[y]=(n[y]-d)/f,n[y+1]=(n[y+1]-p)/m}toSVGPath(){const t=[`M${u(this,nn)[4]} ${u(this,nn)[5]}`];for(let n=6,r=u(this,nn).length;n<r;n+=6){if(isNaN(u(this,nn)[n])){t.push(`L${u(this,nn)[n+4]} ${u(this,nn)[n+5]}`);continue}t.push(`C${u(this,nn)[n]} ${u(this,nn)[n+1]} ${u(this,nn)[n+2]} ${u(this,nn)[n+3]} ${u(this,nn)[n+4]} ${u(this,nn)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,r,o],l){const c=r-t,d=o-n;let p,f;switch(l){case 0:p=Re._rescale(u(this,nn),t,o,c,-d),f=Re._rescale(u(this,ni),t,o,c,-d);break;case 90:p=Re._rescaleAndSwap(u(this,nn),t,n,c,d),f=Re._rescaleAndSwap(u(this,ni),t,n,c,d);break;case 180:p=Re._rescale(u(this,nn),r,n,-c,d),f=Re._rescale(u(this,ni),r,n,-c,d);break;case 270:p=Re._rescaleAndSwap(u(this,nn),r,o,-c,-d),f=Re._rescaleAndSwap(u(this,ni),r,o,-c,-d);break}return{outline:Array.from(p),points:[Array.from(f)]}}get box(){return u(this,eu)}newOutliner(t,n,r,o,l,c=0){return new qv(t,n,r,o,l,c)}getNewOutline(t,n){const[r,o,l,c]=u(this,eu),[d,p,f,m]=u(this,Ah),y=l*f,w=c*m,x=r*f+d,b=o*m+p,A=this.newOutliner({x:u(this,ni)[0]*y+x,y:u(this,ni)[1]*w+b},u(this,Ah),u(this,Gm),t,u(this,Vm),n??u(this,Yo));for(let R=2;R<u(this,ni).length;R+=2)A.add({x:u(this,ni)[R]*y+x,y:u(this,ni)[R+1]*w+b});return A.getOutlines()}}Ah=new WeakMap,eu=new WeakMap,Yo=new WeakMap,Vm=new WeakMap,ni=new WeakMap,Gm=new WeakMap,nn=new WeakMap,m0=new WeakSet,DM=function(t){const n=u(this,nn);let r=n[4],o=n[5];const l=[r,o,r,o];let c=r,d=o;const p=t?Math.max:Math.min;for(let m=6,y=n.length;m<y;m+=6){const w=n[m+4],x=n[m+5];if(isNaN(n[m]))Oe.pointBoundingBox(w,x,l),d<x?(c=w,d=x):d===x&&(c=p(c,w));else{const b=[1/0,1/0,-1/0,-1/0];Oe.bezierBoundingBox(r,o,...n.slice(m,m+6),b),Oe.rectBoundingBox(...b,l),d<b[3]?(c=b[2],d=b[3]):d===b[3]&&(c=p(c,b[2]))}r=w,o=x}const f=u(this,eu);f[0]=l[0]-u(this,Yo),f[1]=l[1]-u(this,Yo),f[2]=l[2]-l[0]+2*u(this,Yo),f[3]=l[3]-l[1]+2*u(this,Yo),this.lastPoint=[c,d]};var Wm,qm,ml,os,Er,OM,vv,FM,jM,Lx;class Nx{constructor(e,t=0,n=0,r=!0){I(this,Er);I(this,Wm);I(this,qm);I(this,ml,[]);I(this,os,[]);const o=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:w,y:x,width:b,height:A}of e){const R=Math.floor((w-t)/l)*l,k=Math.ceil((w+b+t)/l)*l,M=Math.floor((x-t)/l)*l,L=Math.ceil((x+A+t)/l)*l,F=[R,M,L,!0],$=[k,M,L,!1];u(this,ml).push(F,$),Oe.rectBoundingBox(R,M,k,L,o)}const c=o[2]-o[0]+2*n,d=o[3]-o[1]+2*n,p=o[0]-n,f=o[1]-n,m=u(this,ml).at(r?-1:-2),y=[m[0],m[2]];for(const w of u(this,ml)){const[x,b,A]=w;w[0]=(x-p)/c,w[1]=(b-f)/d,w[2]=(A-f)/d}C(this,Wm,new Float32Array([p,f,c,d])),C(this,qm,y)}getOutlines(){u(this,ml).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of u(this,ml))t[3]?(e.push(...N(this,Er,Lx).call(this,t)),N(this,Er,FM).call(this,t)):(N(this,Er,jM).call(this,t),e.push(...N(this,Er,Lx).call(this,t)));return N(this,Er,OM).call(this,e)}}Wm=new WeakMap,qm=new WeakMap,ml=new WeakMap,os=new WeakMap,Er=new WeakSet,OM=function(e){const t=[],n=new Set;for(const l of e){const[c,d,p]=l;t.push([c,d,l],[c,p,l])}t.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=t.length;l<c;l+=2){const d=t[l][2],p=t[l+1][2];d.push(p),p.push(d),n.add(d),n.add(p)}const r=[];let o;for(;n.size>0;){const l=n.values().next().value;let[c,d,p,f,m]=l;n.delete(l);let y=c,w=d;for(o=[c,p],r.push(o);;){let x;if(n.has(f))x=f;else if(n.has(m))x=m;else break;n.delete(x),[c,d,p,f,m]=x,y!==c&&(o.push(y,w,c,w===d?d:p),y=c),w=w===d?p:d}o.push(y,w)}return new y8(r,u(this,Wm),u(this,qm))},vv=function(e){const t=u(this,os);let n=0,r=t.length-1;for(;n<=r;){const o=n+r>>1,l=t[o][0];if(l===e)return o;l<e?n=o+1:r=o-1}return r+1},FM=function([,e,t]){const n=N(this,Er,vv).call(this,e);u(this,os).splice(n,0,[e,t])},jM=function([,e,t]){const n=N(this,Er,vv).call(this,e);for(let r=n;r<u(this,os).length;r++){const[o,l]=u(this,os)[r];if(o!==e)break;if(o===e&&l===t){u(this,os).splice(r,1);return}}for(let r=n-1;r>=0;r--){const[o,l]=u(this,os)[r];if(o!==e)break;if(o===e&&l===t){u(this,os).splice(r,1);return}}},Lx=function(e){const[t,n,r]=e,o=[[t,n,r]],l=N(this,Er,vv).call(this,r);for(let c=0;c<l;c++){const[d,p]=u(this,os)[c];for(let f=0,m=o.length;f<m;f++){const[,y,w]=o[f];if(!(p<=y||w<=d)){if(y>=d){if(w>p)o[f][1]=p;else{if(m===1)return[];o.splice(f,1),f--,m--}continue}o[f][2]=d,w>p&&o.push([t,p,w])}}}return o};var Km,Ch;class y8 extends Re{constructor(t,n,r){super();I(this,Km);I(this,Ch);C(this,Ch,t),C(this,Km,n),this.lastPoint=r}toSVGPath(){const t=[];for(const n of u(this,Ch)){let[r,o]=n;t.push(`M${r} ${o}`);for(let l=2;l<n.length;l+=2){const c=n[l],d=n[l+1];c===r?(t.push(`V${d}`),o=d):d===o&&(t.push(`H${c}`),r=c)}t.push("Z")}return t.join(" ")}serialize([t,n,r,o],l){const c=[],d=r-t,p=o-n;for(const f of u(this,Ch)){const m=new Array(f.length);for(let y=0;y<f.length;y+=2)m[y]=t+f[y]*d,m[y+1]=o-f[y+1]*p;c.push(m)}return c}get box(){return u(this,Km)}get classNamesForOutlining(){return["highlightOutline"]}}Km=new WeakMap,Ch=new WeakMap;class Dx extends qv{newFreeDrawOutline(e,t,n,r,o,l){return new v8(e,t,n,r,o,l)}}class v8 extends LM{newOutliner(e,t,n,r,o,l=0){return new Dx(e,t,n,r,o,l)}}var ri,tu,Th,vn,Ym,Rh,Xo,Xm,gl,as,Ph,Qm,_t,Ox,Fx,jx,tc,BM,Ba;const Dr=class Dr{constructor({editor:e=null,uiManager:t=null}){I(this,_t);I(this,ri,null);I(this,tu,null);I(this,Th);I(this,vn,null);I(this,Ym,!1);I(this,Rh,!1);I(this,Xo,null);I(this,Xm);I(this,gl,null);I(this,as,null);I(this,Ph);var n,r;e?(C(this,Rh,!1),C(this,Ph,at.HIGHLIGHT_COLOR),C(this,Xo,e)):(C(this,Rh,!0),C(this,Ph,at.HIGHLIGHT_DEFAULT_COLOR)),C(this,as,(e==null?void 0:e._uiManager)||t),C(this,Xm,u(this,as)._eventBus),C(this,Th,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((r=u(this,as))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),u(Dr,Qm)||C(Dr,Qm,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return st(this,"_keyboardManager",new vg([[["Escape","mac+Escape"],Dr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Dr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Dr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Dr.prototype._moveToPrevious],[["Home","mac+Home"],Dr.prototype._moveToBeginning],[["End","mac+End"],Dr.prototype._moveToEnd]]))}renderButton(){const e=C(this,ri,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",u(this,Xo)&&(e.ariaControls=`${u(this,Xo).id}_colorpicker_dropdown`);const t=u(this,as)._signal;e.addEventListener("click",N(this,_t,tc).bind(this),{signal:t}),e.addEventListener("keydown",N(this,_t,jx).bind(this),{signal:t});const n=C(this,tu,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=u(this,Th),e.append(n),e}renderMainDropdown(){const e=C(this,vn,N(this,_t,Ox).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===u(this,ri)){N(this,_t,tc).call(this,e);return}const t=e.target.getAttribute("data-color");t&&N(this,_t,Fx).call(this,t,e)}_moveToNext(e){var t,n;if(!u(this,_t,Ba)){N(this,_t,tc).call(this,e);return}if(e.target===u(this,ri)){(t=u(this,vn).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=u(this,vn))==null?void 0:t.firstChild)||e.target===u(this,ri)){u(this,_t,Ba)&&this._hideDropdownFromKeyboard();return}u(this,_t,Ba)||N(this,_t,tc).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!u(this,_t,Ba)){N(this,_t,tc).call(this,e);return}(t=u(this,vn).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!u(this,_t,Ba)){N(this,_t,tc).call(this,e);return}(t=u(this,vn).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=u(this,vn))==null||e.classList.add("hidden"),u(this,ri).ariaExpanded="false",(t=u(this,gl))==null||t.abort(),C(this,gl,null)}_hideDropdownFromKeyboard(){var e;if(!u(this,Rh)){if(!u(this,_t,Ba)){(e=u(this,Xo))==null||e.unselect();return}this.hideDropdown(),u(this,ri).focus({preventScroll:!0,focusVisible:u(this,Ym)})}}updateColor(e){if(u(this,tu)&&(u(this,tu).style.backgroundColor=e),!u(this,vn))return;const t=u(this,as).highlightColors.values();for(const n of u(this,vn).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=u(this,ri))==null||e.remove(),C(this,ri,null),C(this,tu,null),(t=u(this,vn))==null||t.remove(),C(this,vn,null)}};ri=new WeakMap,tu=new WeakMap,Th=new WeakMap,vn=new WeakMap,Ym=new WeakMap,Rh=new WeakMap,Xo=new WeakMap,Xm=new WeakMap,gl=new WeakMap,as=new WeakMap,Ph=new WeakMap,Qm=new WeakMap,_t=new WeakSet,Ox=function(){const e=document.createElement("div"),t=u(this,as)._signal;e.addEventListener("contextmenu",Bi,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),u(this,Xo)&&(e.id=`${u(this,Xo).id}_colorpicker_dropdown`);for(const[n,r]of u(this,as).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=n,o.setAttribute("data-l10n-id",u(Dr,Qm)[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=r,o.ariaSelected=r===u(this,Th),o.addEventListener("click",N(this,_t,Fx).bind(this,r),{signal:t}),e.append(o)}return e.addEventListener("keydown",N(this,_t,jx).bind(this),{signal:t}),e},Fx=function(e,t){t.stopPropagation(),u(this,Xm).dispatch("switchannotationeditorparams",{source:this,type:u(this,Ph),value:e})},jx=function(e){Dr._keyboardManager.exec(this,e)},tc=function(e){if(u(this,_t,Ba)){this.hideDropdown();return}if(C(this,Ym,e.detail===0),u(this,gl)||(C(this,gl,new AbortController),window.addEventListener("pointerdown",N(this,_t,BM).bind(this),{signal:u(this,as).combinedSignal(u(this,gl))})),u(this,ri).ariaExpanded="true",u(this,vn)){u(this,vn).classList.remove("hidden");return}const t=C(this,vn,N(this,_t,Ox).call(this));u(this,ri).append(t)},BM=function(e){var t;(t=u(this,vn))!=null&&t.contains(e.target)||this.hideDropdown()},Ba=function(){return u(this,vn)&&!u(this,vn).classList.contains("hidden")},I(Dr,Qm,null);let Rp=Dr;var kh,Zm,Qo,nu,Jm,jr,eg,tg,ru,Mi,ii,Un,Ih,Zo,ir,Mh,Ni,ng,Xe,Bx,wv,$M,zM,HM,$x,nc,Oi,md,UM,bv,sp,VM,GM,WM,qM,KM;const ft=class ft extends Pt{constructor(t){super({...t,name:"highlightEditor"});I(this,Xe);I(this,kh,null);I(this,Zm,0);I(this,Qo);I(this,nu,null);I(this,Jm,null);I(this,jr,null);I(this,eg,null);I(this,tg,0);I(this,ru,null);I(this,Mi,null);I(this,ii,null);I(this,Un,!1);I(this,Ih,null);I(this,Zo);I(this,ir,null);I(this,Mh,"");I(this,Ni);I(this,ng,"");this.color=t.color||ft._defaultColor,C(this,Ni,t.thickness||ft._defaultThickness),C(this,Zo,t.opacity||ft._defaultOpacity),C(this,Qo,t.boxes||null),C(this,ng,t.methodOfCreation||""),C(this,Mh,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(C(this,Un,!0),N(this,Xe,wv).call(this,t),N(this,Xe,nc).call(this)):u(this,Qo)&&(C(this,kh,t.anchorNode),C(this,Zm,t.anchorOffset),C(this,eg,t.focusNode),C(this,tg,t.focusOffset),N(this,Xe,Bx).call(this),N(this,Xe,nc).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=ft.prototype;return st(this,"_keyboardManager",new vg([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,Un)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,Ni),methodOfCreation:u(this,ng)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var r;Pt.initialize(t,n),ft._defaultColor||(ft._defaultColor=((r=n.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case at.HIGHLIGHT_DEFAULT_COLOR:ft._defaultColor=n;break;case at.HIGHLIGHT_THICKNESS:ft._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return u(this,Ih)}updateParams(t,n){switch(t){case at.HIGHLIGHT_COLOR:N(this,Xe,$M).call(this,n);break;case at.HIGHLIGHT_THICKNESS:N(this,Xe,zM).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[at.HIGHLIGHT_DEFAULT_COLOR,ft._defaultColor],[at.HIGHLIGHT_THICKNESS,ft._defaultThickness]]}get propertiesToUpdate(){return[[at.HIGHLIGHT_COLOR,this.color||ft._defaultColor],[at.HIGHLIGHT_THICKNESS,u(this,Ni)||ft._defaultThickness],[at.HIGHLIGHT_FREE,u(this,Un)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",C(this,Jm,new Rp({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(N(this,Xe,sp).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,N(this,Xe,sp).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){N(this,Xe,$x).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(N(this,Xe,nc).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?N(this,Xe,$x).call(this):t&&(N(this,Xe,nc).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var o,l,c;const{drawLayer:n}=this.parent;let r;u(this,Un)?(t=(t-this.rotation+360)%360,r=N(o=ft,Oi,md).call(o,u(this,Mi).box,t)):r=N(l=ft,Oi,md).call(l,[this.x,this.y,this.width,this.height],t),n.updateProperties(u(this,ii),{bbox:r,root:{"data-main-rotation":t}}),n.updateProperties(u(this,ir),{bbox:N(c=ft,Oi,md).call(c,u(this,jr).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();u(this,Mh)&&(t.setAttribute("aria-label",u(this,Mh)),t.setAttribute("role","mark")),u(this,Un)?t.classList.add("free"):this.div.addEventListener("keydown",N(this,Xe,UM).bind(this),{signal:this._uiManager._signal});const n=C(this,ru,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=u(this,nu);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),fI(this,u(this,ru),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(u(this,ir),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(u(this,ir),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:N(this,Xe,bv).call(this,!0);break;case 1:case 3:N(this,Xe,bv).call(this,!1);break}}select(){var t;super.select(),u(this,ir)&&((t=this.parent)==null||t.drawLayer.updateProperties(u(this,ir),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),u(this,ir)&&((t=this.parent)==null||t.drawLayer.updateProperties(u(this,ir),{rootClass:{selected:!1}}),u(this,Un)||N(this,Xe,bv).call(this,!1))}get _mustFixPosition(){return!u(this,Un)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(u(this,ii),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(u(this,ir),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:r,x:o,y:l}){const{x:c,y:d,width:p,height:f}=r.getBoundingClientRect(),m=new AbortController,y=t.combinedSignal(m),w=x=>{m.abort(),N(this,Oi,qM).call(this,t,x)};window.addEventListener("blur",w,{signal:y}),window.addEventListener("pointerup",w,{signal:y}),window.addEventListener("pointerdown",rn,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Bi,{signal:y}),r.addEventListener("pointermove",N(this,Oi,WM).bind(this,t),{signal:y}),this._freeHighlight=new Dx({x:o,y:l},[c,d,p,f],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,r){var b,A,R,k;let o=null;if(t instanceof _M){const{data:{quadPoints:M,rect:L,rotation:F,id:$,color:B,opacity:V,popupRef:q},parent:{page:{pageNumber:J}}}=t;o=t={annotationType:Ge.HIGHLIGHT,color:Array.from(B),opacity:V,quadPoints:M,boxes:null,pageIndex:J-1,rect:L.slice(0),rotation:F,annotationElementId:$,id:$,deleted:!1,popupRef:q}}else if(t instanceof lS){const{data:{inkLists:M,rect:L,rotation:F,id:$,color:B,borderStyle:{rawWidth:V},popupRef:q},parent:{page:{pageNumber:J}}}=t;o=t={annotationType:Ge.HIGHLIGHT,color:Array.from(B),thickness:V,inkLists:M,boxes:null,pageIndex:J-1,rect:L.slice(0),rotation:F,annotationElementId:$,id:$,deleted:!1,popupRef:q}}const{color:l,quadPoints:c,inkLists:d,opacity:p}=t,f=await super.deserialize(t,n,r);f.color=Oe.makeHexColor(...l),C(f,Zo,p||1),d&&C(f,Ni,t.thickness),f._initialData=o;const[m,y]=f.pageDimensions,[w,x]=f.pageTranslation;if(c){const M=C(f,Qo,[]);for(let L=0;L<c.length;L+=8)M.push({x:(c[L]-w)/m,y:1-(c[L+1]-x)/y,width:(c[L+2]-c[L])/m,height:(c[L+1]-c[L+5])/y});N(b=f,Xe,Bx).call(b),N(A=f,Xe,nc).call(A),f.rotate(f.rotation)}else if(d){C(f,Un,!0);const M=d[0],L={x:M[0]-w,y:y-(M[1]-x)},F=new Dx(L,[0,0,m,y],1,u(f,Ni)/2,!0,.001);for(let V=0,q=M.length;V<q;V+=2)L.x=M[V]-w,L.y=y-(M[V+1]-x),F.add(L);const{id:$,clipPathId:B}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:F.toSVGPath()}},!0,!0);N(R=f,Xe,wv).call(R,{highlightOutlines:F.getOutlines(),highlightId:$,clipPathId:B}),N(k=f,Xe,nc).call(k),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),r=Pt._colorManager.convert(this.color),o={annotationType:Ge.HIGHLIGHT,color:r,opacity:u(this,Zo),thickness:u(this,Ni),quadPoints:N(this,Xe,VM).call(this),outlines:N(this,Xe,GM).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:N(this,Xe,sp).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!N(this,Xe,KM).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};kh=new WeakMap,Zm=new WeakMap,Qo=new WeakMap,nu=new WeakMap,Jm=new WeakMap,jr=new WeakMap,eg=new WeakMap,tg=new WeakMap,ru=new WeakMap,Mi=new WeakMap,ii=new WeakMap,Un=new WeakMap,Ih=new WeakMap,Zo=new WeakMap,ir=new WeakMap,Mh=new WeakMap,Ni=new WeakMap,ng=new WeakMap,Xe=new WeakSet,Bx=function(){const t=new Nx(u(this,Qo),.001);C(this,Mi,t.getOutlines()),[this.x,this.y,this.width,this.height]=u(this,Mi).box;const n=new Nx(u(this,Qo),.0025,.001,this._uiManager.direction==="ltr");C(this,jr,n.getOutlines());const{lastPoint:r}=u(this,jr);C(this,Ih,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},wv=function({highlightOutlines:t,highlightId:n,clipPathId:r}){var m,y;if(C(this,Mi,t),C(this,jr,t.getNewOutline(u(this,Ni)/2+1.5,.0025)),n>=0)C(this,ii,n),C(this,nu,r),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),C(this,ir,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:u(this,jr).box,path:{d:u(this,jr).toSVGPath()}},!0));else if(this.parent){const w=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(u(this,ii),{bbox:N(m=ft,Oi,md).call(m,u(this,Mi).box,(w-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(u(this,ir),{bbox:N(y=ft,Oi,md).call(y,u(this,jr).box,w),path:{d:u(this,jr).toSVGPath()}})}const[l,c,d,p]=t.box;switch(this.rotation){case 0:this.x=l,this.y=c,this.width=d,this.height=p;break;case 90:{const[w,x]=this.parentDimensions;this.x=c,this.y=1-l,this.width=d*x/w,this.height=p*w/x;break}case 180:this.x=1-l,this.y=1-c,this.width=d,this.height=p;break;case 270:{const[w,x]=this.parentDimensions;this.x=1-c,this.y=l,this.width=d*x/w,this.height=p*w/x;break}}const{lastPoint:f}=u(this,jr);C(this,Ih,[(f[0]-l)/d,(f[1]-c)/p])},$M=function(t){const n=(l,c)=>{var d,p;this.color=l,C(this,Zo,c),(d=this.parent)==null||d.drawLayer.updateProperties(u(this,ii),{root:{fill:l,"fill-opacity":c}}),(p=u(this,Jm))==null||p.updateColor(l)},r=this.color,o=u(this,Zo);this.addCommands({cmd:n.bind(this,t,ft._defaultOpacity),undo:n.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:at.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},zM=function(t){const n=u(this,Ni),r=o=>{C(this,Ni,o),N(this,Xe,HM).call(this,o)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:at.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},HM=function(t){if(!u(this,Un))return;N(this,Xe,wv).call(this,{highlightOutlines:u(this,Mi).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)},$x=function(){u(this,ii)===null||!this.parent||(this.parent.drawLayer.remove(u(this,ii)),C(this,ii,null),this.parent.drawLayer.remove(u(this,ir)),C(this,ir,null))},nc=function(t=this.parent){u(this,ii)===null&&({id:En(this,ii)._,clipPathId:En(this,nu)._}=t.drawLayer.draw({bbox:u(this,Mi).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":u(this,Zo)},rootClass:{highlight:!0,free:u(this,Un)},path:{d:u(this,Mi).toSVGPath()}},!1,!0),C(this,ir,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:u(this,Un)},bbox:u(this,jr).box,path:{d:u(this,jr).toSVGPath()}},u(this,Un))),u(this,ru)&&(u(this,ru).style.clipPath=u(this,nu)))},Oi=new WeakSet,md=function([t,n,r,o],l){switch(l){case 90:return[1-n-o,t,o,r];case 180:return[1-t-r,1-n-o,r,o];case 270:return[n,1-t-r,o,r]}return[t,n,r,o]},UM=function(t){ft._keyboardManager.exec(this,t)},bv=function(t){if(!u(this,kh))return;const n=window.getSelection();t?n.setPosition(u(this,kh),u(this,Zm)):n.setPosition(u(this,eg),u(this,tg))},sp=function(){return u(this,Un)?this.rotation:0},VM=function(){if(u(this,Un))return null;const[t,n]=this.pageDimensions,[r,o]=this.pageTranslation,l=u(this,Qo),c=new Float32Array(l.length*8);let d=0;for(const{x:p,y:f,width:m,height:y}of l){const w=p*t+r,x=(1-f)*n+o;c[d]=c[d+4]=w,c[d+1]=c[d+3]=x,c[d+2]=c[d+6]=w+m*t,c[d+5]=c[d+7]=x-y*n,d+=8}return c},GM=function(t){return u(this,Mi).serialize(t,N(this,Xe,sp).call(this))},WM=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},qM=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},KM=function(t){const{color:n}=this._initialData;return t.color.some((r,o)=>r!==n[o])},I(ft,Oi),ye(ft,"_defaultColor",null),ye(ft,"_defaultOpacity",1),ye(ft,"_defaultThickness",12),ye(ft,"_type","highlight"),ye(ft,"_editorType",Ge.HIGHLIGHT),ye(ft,"_freeHighlightId",-1),ye(ft,"_freeHighlight",null),ye(ft,"_freeHighlightClipId","");let Kv=ft;var iu;class YM{constructor(){I(this,iu,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){u(this,iu)[e]=t}toSVGProperties(){const e=u(this,iu);return C(this,iu,Object.create(null)),{root:e}}reset(){C(this,iu,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){xt("Not implemented")}}iu=new WeakMap;var si,Nh,Pn,su,ou,yl,vl,wl,au,ut,zx,Hx,Ux,op,XM,_v,ap,gd;const ke=class ke extends Pt{constructor(t){super(t);I(this,ut);I(this,si,null);I(this,Nh);ye(this,"_drawId",null);C(this,Nh,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(N(this,ut,zx).call(this,t),N(this,ut,op).call(this))}static _mergeSVGProperties(t,n){const r=new Set(Object.keys(t));for(const[o,l]of Object.entries(n))r.has(o)?Object.assign(t[o],l):t[o]=l;return t}static getDefaultDrawingOptions(t){xt("Not implemented")}static get typesMap(){xt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(u(ke,Pn).updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[r,o]of this.typesMap)t.push([r,n[o]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[r,o]of this.constructor.typesMap)t.push([r,n[o]]);return t}_updateProperty(t,n,r){const o=this._drawingOptions,l=o[n],c=d=>{var f;o.updateProperty(n,d);const p=u(this,si).updateProperty(n,d);p&&N(this,ut,ap).call(this,p),(f=this.parent)==null||f.drawLayer.updateProperties(this._drawId,o.toSVGProperties())};this.addCommands({cmd:c.bind(this,r),undo:c.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ke._mergeSVGProperties(u(this,si).getPathResizingSVGProperties(N(this,ut,_v).call(this)),{bbox:N(this,ut,gd).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ke._mergeSVGProperties(u(this,si).getPathResizedSVGProperties(N(this,ut,_v).call(this)),{bbox:N(this,ut,gd).call(this)}))}_onTranslating(t,n){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:N(this,ut,gd).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ke._mergeSVGProperties(u(this,si).getPathTranslatedSVGProperties(N(this,ut,_v).call(this),this.parentDimensions),{bbox:N(this,ut,gd).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,u(this,Nh)&&(C(this,Nh,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){N(this,ut,Ux).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(N(this,ut,op).call(this),N(this,ut,ap).call(this,u(this,si).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),N(this,ut,Ux).call(this)):t&&(this._uiManager.addShouldRescale(this),N(this,ut,op).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ke._mergeSVGProperties({bbox:N(this,ut,gd).call(this)},u(this,si).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&N(this,ut,ap).call(this,u(this,si).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const r=super.render();r.classList.add("draw");const o=document.createElement("div");r.append(o),o.setAttribute("aria-hidden","true"),o.className="internal";const[l,c]=this.parentDimensions;return this.setDims(this.width*l,this.height*c),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),r}static createDrawerInstance(t,n,r,o,l){xt("Not implemented")}static startDrawing(t,n,r,o){var A;const{target:l,offsetX:c,offsetY:d,pointerId:p,pointerType:f}=o;if(u(ke,vl)&&u(ke,vl)!==f)return;const{viewport:{rotation:m}}=t,{width:y,height:w}=l.getBoundingClientRect(),x=C(ke,su,new AbortController),b=t.combinedSignal(x);if(u(ke,yl)||C(ke,yl,p),u(ke,vl)??C(ke,vl,f),window.addEventListener("pointerup",R=>{var k;u(ke,yl)===R.pointerId?this._endDraw(R):(k=u(ke,wl))==null||k.delete(R.pointerId)},{signal:b}),window.addEventListener("pointercancel",R=>{var k;u(ke,yl)===R.pointerId?this._currentParent.endDrawingSession():(k=u(ke,wl))==null||k.delete(R.pointerId)},{signal:b}),window.addEventListener("pointerdown",R=>{u(ke,vl)===R.pointerType&&((u(ke,wl)||C(ke,wl,new Set)).add(R.pointerId),u(ke,Pn).isCancellable()&&(u(ke,Pn).removeLastElement(),u(ke,Pn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",Bi,{signal:b}),l.addEventListener("pointermove",this._drawMove.bind(this),{signal:b}),l.addEventListener("touchmove",R=>{R.timeStamp===u(ke,au)&&rn(R)},{signal:b}),t.toggleDrawing(),(A=n._editorUndoBar)==null||A.hide(),u(ke,Pn)){t.drawLayer.updateProperties(this._currentDrawId,u(ke,Pn).startNew(c,d,y,w,m));return}n.updateUIForDefaultProperties(this),C(ke,Pn,this.createDrawerInstance(c,d,y,w,m)),C(ke,ou,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(u(ke,ou).toSVGProperties(),u(ke,Pn).defaultSVGProperties),!0,!1)}static _drawMove(t){var l;if(C(ke,au,-1),!u(ke,Pn))return;const{offsetX:n,offsetY:r,pointerId:o}=t;if(u(ke,yl)===o){if(((l=u(ke,wl))==null?void 0:l.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,u(ke,Pn).add(n,r)),C(ke,au,t.timeStamp),rn(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,C(ke,Pn,null),C(ke,ou,null),C(ke,vl,null),C(ke,au,NaN)),u(ke,su)&&(u(ke,su).abort(),C(ke,su,null),C(ke,yl,NaN),C(ke,wl,null))}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,u(ke,Pn).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=u(ke,Pn),o=this._currentDrawId,l=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(o,r.setLastElement(l))},undo:()=>{n.drawLayer.updateProperties(o,r.removeLastElement())},mustExec:!1,type:at.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(at.DRAW_STEP),!u(ke,Pn).isEmpty()){const{pageDimensions:[r,o],scale:l}=n,c=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:u(ke,Pn).getOutlines(r*l,o*l,l,this._INNER_MARGIN),drawingOptions:u(ke,ou),mustBeCommitted:!t});return this._cleanup(!0),c}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,r,o,l,c){xt("Not implemented")}static async deserialize(t,n,r){var m,y;const{rawDims:{pageWidth:o,pageHeight:l,pageX:c,pageY:d}}=n.viewport,p=this.deserializeDraw(c,d,o,l,this._INNER_MARGIN,t),f=await super.deserialize(t,n,r);return f.createDrawingOptions(t),N(m=f,ut,zx).call(m,{drawOutlines:p}),N(y=f,ut,op).call(y),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[n,r]=this.pageTranslation,[o,l]=this.pageDimensions;return u(this,si).serialize([n,r,o,l],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};si=new WeakMap,Nh=new WeakMap,Pn=new WeakMap,su=new WeakMap,ou=new WeakMap,yl=new WeakMap,vl=new WeakMap,wl=new WeakMap,au=new WeakMap,ut=new WeakSet,zx=function({drawOutlines:t,drawId:n,drawingOptions:r}){C(this,si,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=N(this,ut,Hx).call(this,t,this.parent),N(this,ut,ap).call(this,t.box)},Hx=function(t,n){const{id:r}=n.drawLayer.draw(ke._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},Ux=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},op=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=N(this,ut,Hx).call(this,u(this,si),t)}},XM=function([t,n,r,o]){const{parentDimensions:[l,c],rotation:d}=this;switch(d){case 90:return[n,1-t,r*(c/l),o*(l/c)];case 180:return[1-t,1-n,r,o];case 270:return[1-n,t,r*(c/l),o*(l/c)];default:return[t,n,r,o]}},_v=function(){const{x:t,y:n,width:r,height:o,parentDimensions:[l,c],rotation:d}=this;switch(d){case 90:return[1-n,t,r*(l/c),o*(c/l)];case 180:return[1-t,1-n,r,o];case 270:return[n,1-t,r*(l/c),o*(c/l)];default:return[t,n,r,o]}},ap=function(t){if([this.x,this.y,this.width,this.height]=N(this,ut,XM).call(this,t),this.div){this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)}this._onResized()},gd=function(){const{x:t,y:n,width:r,height:o,rotation:l,parentRotation:c,parentDimensions:[d,p]}=this;switch((l*4+c)/90){case 1:return[1-n-o,t,o,r];case 2:return[1-t-r,1-n-o,r,o];case 3:return[n,1-t-r,o,r];case 4:return[t,n-r*(d/p),o*(p/d),r*(d/p)];case 5:return[1-n,t,r*(d/p),o*(p/d)];case 6:return[1-t-o*(p/d),1-n,o*(p/d),r*(d/p)];case 7:return[n-r*(d/p),1-t-o*(p/d),r*(d/p),o*(p/d)];case 8:return[t-r,n-o,r,o];case 9:return[1-n,t-r,o,r];case 10:return[1-t,1-n,r,o];case 11:return[n-o,1-t,o,r];case 12:return[t-o*(p/d),n,o*(p/d),r*(d/p)];case 13:return[1-n-r*(d/p),t-o*(p/d),r*(d/p),o*(p/d)];case 14:return[1-t,1-n-r*(d/p),o*(p/d),r*(d/p)];case 15:return[n,1-t,r*(d/p),o*(p/d)];default:return[t,n,r,o]}},ye(ke,"_currentDrawId",-1),ye(ke,"_currentParent",null),I(ke,Pn,null),I(ke,su,null),I(ke,ou,null),I(ke,yl,NaN),I(ke,vl,null),I(ke,wl,null),I(ke,au,NaN),ye(ke,"_INNER_MARGIN",3);let Yv=ke;var Vs,kn,In,lu,Lh,gr,Vn,Li,cu,uu,du,Dh,xv;class w8{constructor(e,t,n,r,o,l){I(this,Dh);I(this,Vs,new Float64Array(6));I(this,kn);I(this,In);I(this,lu);I(this,Lh);I(this,gr);I(this,Vn,"");I(this,Li,0);I(this,cu,new bg);I(this,uu);I(this,du);C(this,uu,n),C(this,du,r),C(this,lu,o),C(this,Lh,l),[e,t]=N(this,Dh,xv).call(this,e,t);const c=C(this,kn,[NaN,NaN,NaN,NaN,e,t]);C(this,gr,[e,t]),C(this,In,[{line:c,points:u(this,gr)}]),u(this,Vs).set(c,0)}updateProperty(e,t){e==="stroke-width"&&C(this,Lh,t)}isEmpty(){return!u(this,In)||u(this,In).length===0}isCancellable(){return u(this,gr).length<=10}add(e,t){[e,t]=N(this,Dh,xv).call(this,e,t);const[n,r,o,l]=u(this,Vs).subarray(2,6),c=e-o,d=t-l;return Math.hypot(u(this,uu)*c,u(this,du)*d)<=2?null:(u(this,gr).push(e,t),isNaN(n)?(u(this,Vs).set([o,l,e,t],2),u(this,kn).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(u(this,Vs)[0])&&u(this,kn).splice(6,6),u(this,Vs).set([n,r,o,l,e,t],0),u(this,kn).push(...Re.createBezierPoints(n,r,o,l,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(u(this,gr).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,r,o){C(this,uu,n),C(this,du,r),C(this,lu,o),[e,t]=N(this,Dh,xv).call(this,e,t);const l=C(this,kn,[NaN,NaN,NaN,NaN,e,t]);C(this,gr,[e,t]);const c=u(this,In).at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),u(this,In).push({line:l,points:u(this,gr)}),u(this,Vs).set(l,0),C(this,Li,0),this.toSVGPath(),null}getLastElement(){return u(this,In).at(-1)}setLastElement(e){return u(this,In)?(u(this,In).push(e),C(this,kn,e.line),C(this,gr,e.points),C(this,Li,0),{path:{d:this.toSVGPath()}}):u(this,cu).setLastElement(e)}removeLastElement(){if(!u(this,In))return u(this,cu).removeLastElement();u(this,In).pop(),C(this,Vn,"");for(let e=0,t=u(this,In).length;e<t;e++){const{line:n,points:r}=u(this,In)[e];C(this,kn,n),C(this,gr,r),C(this,Li,0),this.toSVGPath()}return{path:{d:u(this,Vn)}}}toSVGPath(){const e=Re.svgRound(u(this,kn)[4]),t=Re.svgRound(u(this,kn)[5]);if(u(this,gr).length===2)return C(this,Vn,`${u(this,Vn)} M ${e} ${t} Z`),u(this,Vn);if(u(this,gr).length<=6){const r=u(this,Vn).lastIndexOf("M");C(this,Vn,`${u(this,Vn).slice(0,r)} M ${e} ${t}`),C(this,Li,6)}if(u(this,gr).length===4){const r=Re.svgRound(u(this,kn)[10]),o=Re.svgRound(u(this,kn)[11]);return C(this,Vn,`${u(this,Vn)} L ${r} ${o}`),C(this,Li,12),u(this,Vn)}const n=[];u(this,Li)===0&&(n.push(`M ${e} ${t}`),C(this,Li,6));for(let r=u(this,Li),o=u(this,kn).length;r<o;r+=6){const[l,c,d,p,f,m]=u(this,kn).slice(r,r+6).map(Re.svgRound);n.push(`C${l} ${c} ${d} ${p} ${f} ${m}`)}return C(this,Vn,u(this,Vn)+n.join(" ")),C(this,Li,u(this,kn).length),u(this,Vn)}getOutlines(e,t,n,r){const o=u(this,In).at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),u(this,cu).build(u(this,In),e,t,n,u(this,lu),u(this,Lh),r),C(this,Vs,null),C(this,kn,null),C(this,In,null),C(this,Vn,null),u(this,cu)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Vs=new WeakMap,kn=new WeakMap,In=new WeakMap,lu=new WeakMap,Lh=new WeakMap,gr=new WeakMap,Vn=new WeakMap,Li=new WeakMap,cu=new WeakMap,uu=new WeakMap,du=new WeakMap,Dh=new WeakSet,xv=function(e,t){return Re._normalizePoint(e,t,u(this,uu),u(this,du),u(this,lu))};var yr,rg,ig,oi,Gs,Ws,Oh,Fh,hu,Wn,Eo,QM,ZM,JM;class bg extends Re{constructor(){super(...arguments);I(this,Wn);I(this,yr);I(this,rg,0);I(this,ig);I(this,oi);I(this,Gs);I(this,Ws);I(this,Oh);I(this,Fh);I(this,hu)}build(t,n,r,o,l,c,d){C(this,Gs,n),C(this,Ws,r),C(this,Oh,o),C(this,Fh,l),C(this,hu,c),C(this,ig,d??0),C(this,oi,t),N(this,Wn,ZM).call(this)}get thickness(){return u(this,hu)}setLastElement(t){return u(this,oi).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return u(this,oi).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of u(this,oi)){if(t.push(`M${Re.svgRound(n[4])} ${Re.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${Re.svgRound(n[10])} ${Re.svgRound(n[11])}`);continue}for(let r=6,o=n.length;r<o;r+=6){const[l,c,d,p,f,m]=n.subarray(r,r+6).map(Re.svgRound);t.push(`C${l} ${c} ${d} ${p} ${f} ${m}`)}}return t.join("")}serialize([t,n,r,o],l){const c=[],d=[],[p,f,m,y]=N(this,Wn,QM).call(this);let w,x,b,A,R,k,M,L,F;switch(u(this,Fh)){case 0:F=Re._rescale,w=t,x=n+o,b=r,A=-o,R=t+p*r,k=n+(1-f-y)*o,M=t+(p+m)*r,L=n+(1-f)*o;break;case 90:F=Re._rescaleAndSwap,w=t,x=n,b=r,A=o,R=t+f*r,k=n+p*o,M=t+(f+y)*r,L=n+(p+m)*o;break;case 180:F=Re._rescale,w=t+r,x=n,b=-r,A=o,R=t+(1-p-m)*r,k=n+f*o,M=t+(1-p)*r,L=n+(f+y)*o;break;case 270:F=Re._rescaleAndSwap,w=t+r,x=n+o,b=-r,A=-o,R=t+(1-f-y)*r,k=n+(1-p-m)*o,M=t+(1-f)*r,L=n+(1-p)*o;break}for(const{line:$,points:B}of u(this,oi))c.push(F($,w,x,b,A,l?new Array($.length):null)),d.push(F(B,w,x,b,A,l?new Array(B.length):null));return{lines:c,points:d,rect:[R,k,M,L]}}static deserialize(t,n,r,o,l,{paths:{lines:c,points:d},rotation:p,thickness:f}){const m=[];let y,w,x,b,A;switch(p){case 0:A=Re._rescale,y=-t/r,w=n/o+1,x=1/r,b=-1/o;break;case 90:A=Re._rescaleAndSwap,y=-n/o,w=-t/r,x=1/o,b=1/r;break;case 180:A=Re._rescale,y=t/r+1,w=-n/o,x=-1/r,b=1/o;break;case 270:A=Re._rescaleAndSwap,y=n/o+1,w=t/r+1,x=-1/o,b=-1/r;break}if(!c){c=[];for(const k of d){const M=k.length;if(M===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,k[0],k[1]]));continue}if(M===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,k[0],k[1],NaN,NaN,NaN,NaN,k[2],k[3]]));continue}const L=new Float32Array(3*(M-2));c.push(L);let[F,$,B,V]=k.subarray(0,4);L.set([NaN,NaN,NaN,NaN,F,$],0);for(let q=4;q<M;q+=2){const J=k[q],ie=k[q+1];L.set(Re.createBezierPoints(F,$,B,V,J,ie),(q-2)*3),[F,$,B,V]=[B,V,J,ie]}}}for(let k=0,M=c.length;k<M;k++)m.push({line:A(c[k].map(L=>L??NaN),y,w,x,b),points:A(d[k].map(L=>L??NaN),y,w,x,b)});const R=new this.prototype.constructor;return R.build(m,r,o,1,p,f,l),R}get box(){return u(this,yr)}updateProperty(t,n){return t==="stroke-width"?N(this,Wn,JM).call(this,n):null}updateParentDimensions([t,n],r){const[o,l]=N(this,Wn,Eo).call(this);C(this,Gs,t),C(this,Ws,n),C(this,Oh,r);const[c,d]=N(this,Wn,Eo).call(this),p=c-o,f=d-l,m=u(this,yr);return m[0]-=p,m[1]-=f,m[2]+=2*p,m[3]+=2*f,m}updateRotation(t){return C(this,rg,t),{path:{transform:this.rotationTransform}}}get viewBox(){return u(this,yr).map(Re.svgRound).join(" ")}get defaultProperties(){const[t,n]=u(this,yr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Re.svgRound(t)} ${Re.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=u(this,yr);let r=0,o=0,l=0,c=0,d=0,p=0;switch(u(this,rg)){case 90:o=n/t,l=-t/n,d=t;break;case 180:r=-1,c=-1,d=t,p=n;break;case 270:o=-n/t,l=t/n,p=n;break;default:return""}return`matrix(${r} ${o} ${l} ${c} ${Re.svgRound(d)} ${Re.svgRound(p)})`}getPathResizingSVGProperties([t,n,r,o]){const[l,c]=N(this,Wn,Eo).call(this),[d,p,f,m]=u(this,yr);if(Math.abs(f-l)<=Re.PRECISION||Math.abs(m-c)<=Re.PRECISION){const A=t+r/2-(d+f/2),R=n+o/2-(p+m/2);return{path:{"transform-origin":`${Re.svgRound(t)} ${Re.svgRound(n)}`,transform:`${this.rotationTransform} translate(${A} ${R})`}}}const y=(r-2*l)/(f-2*l),w=(o-2*c)/(m-2*c),x=f/r,b=m/o;return{path:{"transform-origin":`${Re.svgRound(d)} ${Re.svgRound(p)}`,transform:`${this.rotationTransform} scale(${x} ${b}) translate(${Re.svgRound(l)} ${Re.svgRound(c)}) scale(${y} ${w}) translate(${Re.svgRound(-l)} ${Re.svgRound(-c)})`}}}getPathResizedSVGProperties([t,n,r,o]){const[l,c]=N(this,Wn,Eo).call(this),d=u(this,yr),[p,f,m,y]=d;if(d[0]=t,d[1]=n,d[2]=r,d[3]=o,Math.abs(m-l)<=Re.PRECISION||Math.abs(y-c)<=Re.PRECISION){const R=t+r/2-(p+m/2),k=n+o/2-(f+y/2);for(const{line:M,points:L}of u(this,oi))Re._translate(M,R,k,M),Re._translate(L,R,k,L);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Re.svgRound(t)} ${Re.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const w=(r-2*l)/(m-2*l),x=(o-2*c)/(y-2*c),b=-w*(p+l)+t+l,A=-x*(f+c)+n+c;if(w!==1||x!==1||b!==0||A!==0)for(const{line:R,points:k}of u(this,oi))Re._rescale(R,b,A,w,x,R),Re._rescale(k,b,A,w,x,k);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Re.svgRound(t)} ${Re.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],r){const[o,l]=r,c=u(this,yr),d=t-c[0],p=n-c[1];if(u(this,Gs)===o&&u(this,Ws)===l)for(const{line:f,points:m}of u(this,oi))Re._translate(f,d,p,f),Re._translate(m,d,p,m);else{const f=u(this,Gs)/o,m=u(this,Ws)/l;C(this,Gs,o),C(this,Ws,l);for(const{line:y,points:w}of u(this,oi))Re._rescale(y,d,p,f,m,y),Re._rescale(w,d,p,f,m,w);c[2]*=f,c[3]*=m}return c[0]=t,c[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Re.svgRound(t)} ${Re.svgRound(n)}`}}}get defaultSVGProperties(){const t=u(this,yr);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Re.svgRound(t[0])} ${Re.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}yr=new WeakMap,rg=new WeakMap,ig=new WeakMap,oi=new WeakMap,Gs=new WeakMap,Ws=new WeakMap,Oh=new WeakMap,Fh=new WeakMap,hu=new WeakMap,Wn=new WeakSet,Eo=function(t=u(this,hu)){const n=u(this,ig)+t/2*u(this,Oh);return u(this,Fh)%180===0?[n/u(this,Gs),n/u(this,Ws)]:[n/u(this,Ws),n/u(this,Gs)]},QM=function(){const[t,n,r,o]=u(this,yr),[l,c]=N(this,Wn,Eo).call(this,0);return[t+l,n+c,r-2*l,o-2*c]},ZM=function(){const t=C(this,yr,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:o}of u(this,oi)){if(o.length<=12){for(let d=4,p=o.length;d<p;d+=6)Oe.pointBoundingBox(o[d],o[d+1],t);continue}let l=o[4],c=o[5];for(let d=6,p=o.length;d<p;d+=6){const[f,m,y,w,x,b]=o.subarray(d,d+6);Oe.bezierBoundingBox(l,c,f,m,y,w,x,b,t),l=x,c=b}}const[n,r]=N(this,Wn,Eo).call(this);t[0]=sr(t[0]-n,0,1),t[1]=sr(t[1]-r,0,1),t[2]=sr(t[2]+n,0,1),t[3]=sr(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},JM=function(t){const[n,r]=N(this,Wn,Eo).call(this);C(this,hu,t);const[o,l]=N(this,Wn,Eo).call(this),[c,d]=[o-n,l-r],p=u(this,yr);return p[0]-=c,p[1]-=d,p[2]+=2*c,p[3]+=2*d,p};class K0 extends YM{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Pt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new K0(this._viewParameters);return e.updateAll(this),e}}var g0,e2;const wd=class wd extends Yv{constructor(t){super({...t,name:"inkEditor"});I(this,g0);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){Pt.initialize(t,n),this._defaultDrawingOptions=new K0(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return st(this,"typesMap",new Map([[at.INK_THICKNESS,"stroke-width"],[at.INK_COLOR,"stroke"],[at.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,r,o,l){return new w8(t,n,r,o,l,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,r,o,l,c){return bg.deserialize(t,n,r,o,l,c)}static async deserialize(t,n,r){let o=null;if(t instanceof lS){const{data:{inkLists:c,rect:d,rotation:p,id:f,color:m,opacity:y,borderStyle:{rawWidth:w},popupRef:x},parent:{page:{pageNumber:b}}}=t;o=t={annotationType:Ge.INK,color:Array.from(m),thickness:w,opacity:y,paths:{points:c},boxes:null,pageIndex:b-1,rect:d.slice(0),rotation:p,annotationElementId:f,id:f,deleted:!1,popupRef:x}}const l=await super.deserialize(t,n,r);return l._initialData=o,l}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:r}=this;n.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:r}){this._drawingOptions=wd.getDefaultDrawingOptions({stroke:Oe.makeHexColor(...t),"stroke-width":n,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:r,rect:o}=this.serializeDraw(t),{_drawingOptions:{stroke:l,"stroke-opacity":c,"stroke-width":d}}=this,p={annotationType:Ge.INK,color:Pt._colorManager.convert(l),opacity:c,thickness:d,paths:{lines:n,points:r},pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(p.isCopy=!0,p):this.annotationElementId&&!N(this,g0,e2).call(this,p)?null:(p.id=this.annotationElementId,p)}renderAnnotationElement(t){const{points:n,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n}),null}};g0=new WeakSet,e2=function(t){const{color:n,thickness:r,opacity:o,pageIndex:l}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((c,d)=>c!==n[d])||t.thickness!==r||t.opacity!==o||t.pageIndex!==l},ye(wd,"_type","ink"),ye(wd,"_editorType",Ge.INK),ye(wd,"_defaultDrawingOptions",null);let Vx=wd;class Gx extends bg{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Uy=8,Uf=3;var fu,mt,Wx,ls,t2,n2,qx,Sv,r2,i2,s2,Kx,Yx,o2;class Js{static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:r},o,l,c,d){let p=new OffscreenCanvas(1,1),f=p.getContext("2d",{alpha:!1});const m=200,y=f.font=`${n} ${r} ${m}px ${t}`,{actualBoundingBoxLeft:w,actualBoundingBoxRight:x,actualBoundingBoxAscent:b,actualBoundingBoxDescent:A,fontBoundingBoxAscent:R,fontBoundingBoxDescent:k,width:M}=f.measureText(e),L=1.5,F=Math.ceil(Math.max(Math.abs(w)+Math.abs(x)||0,M)*L),$=Math.ceil(Math.max(Math.abs(b)+Math.abs(A)||m,Math.abs(R)+Math.abs(k)||m)*L);p=new OffscreenCanvas(F,$),f=p.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=y,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,F,$),f.fillStyle="black",f.fillText(e,F*(L-1)/2,$*(3-L)/2);const B=N(this,mt,Kx).call(this,f.getImageData(0,0,F,$).data),V=N(this,mt,s2).call(this,B),q=N(this,mt,Yx).call(this,V),J=N(this,mt,qx).call(this,B,F,$,q);return this.processDrawnLines({lines:{curves:J,width:F,height:$},pageWidth:o,pageHeight:l,rotation:c,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(e,t,n,r,o){const[l,c,d]=N(this,mt,o2).call(this,e),[p,f]=N(this,mt,i2).call(this,l,c,d,Math.hypot(c,d)*u(this,fu).sigmaSFactor,u(this,fu).sigmaR,u(this,fu).kernelSize),m=N(this,mt,Yx).call(this,f),y=N(this,mt,qx).call(this,p,c,d,m);return this.processDrawnLines({lines:{curves:y,width:c,height:d},pageWidth:t,pageHeight:n,rotation:r,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:r,innerMargin:o,mustSmooth:l,areContours:c}){r%180!==0&&([t,n]=[n,t]);const{curves:d,width:p,height:f}=e,m=e.thickness??0,y=[],w=Math.min(t/p,n/f),x=w/t,b=w/n,A=[];for(const{points:k}of d){const M=l?N(this,mt,r2).call(this,k):k;if(!M)continue;A.push(M);const L=M.length,F=new Float32Array(L),$=new Float32Array(3*(L===2?2:L-2));if(y.push({line:$,points:F}),L===2){F[0]=M[0]*x,F[1]=M[1]*b,$.set([NaN,NaN,NaN,NaN,F[0],F[1]],0);continue}let[B,V,q,J]=M;B*=x,V*=b,q*=x,J*=b,F.set([B,V,q,J],0),$.set([NaN,NaN,NaN,NaN,B,V],0);for(let ie=4;ie<L;ie+=2){const we=F[ie]=M[ie]*x,he=F[ie+1]=M[ie+1]*b;$.set(Re.createBezierPoints(B,V,q,J,we,he),(ie-2)*3),[B,V,q,J]=[q,J,we,he]}}if(y.length===0)return null;const R=c?new Gx:new bg;return R.build(y,t,n,1,r,c?0:m,o),{outline:R,newCurves:A,areContours:c,thickness:m,width:p,height:f}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:r,height:o}){let l=1/0,c=-1/0,d=0;for(const M of e){d+=M.length;for(let L=2,F=M.length;L<F;L++){const $=M[L]-M[L-2];l=Math.min(l,$),c=Math.max(c,$)}}let p;l>=-128&&c<=127?p=Int8Array:l>=-32768&&c<=32767?p=Int16Array:p=Int32Array;const f=e.length,m=Uy+Uf*f,y=new Uint32Array(m);let w=0;y[w++]=m*Uint32Array.BYTES_PER_ELEMENT+(d-2*f)*p.BYTES_PER_ELEMENT,y[w++]=0,y[w++]=r,y[w++]=o,y[w++]=t?0:1,y[w++]=Math.max(0,Math.floor(n??0)),y[w++]=f,y[w++]=p.BYTES_PER_ELEMENT;for(const M of e)y[w++]=M.length-2,y[w++]=M[0],y[w++]=M[1];const x=new CompressionStream("deflate-raw"),b=x.writable.getWriter();await b.ready,b.write(y);const A=p.prototype.constructor;for(const M of e){const L=new A(M.length-2);for(let F=2,$=M.length;F<$;F++)L[F-2]=M[F]-M[F-2];b.write(L)}b.close();const R=await new Response(x.readable).arrayBuffer(),k=new Uint8Array(R);return rI(k)}static async decompressSignature(e){try{const t=Y6(e),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),o=r.getWriter();await o.ready,o.write(t).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let l=null,c=0;for await(const M of n)l||(l=new Uint8Array(new Uint32Array(M.buffer,0,4)[0])),l.set(M,c),c+=M.length;const d=new Uint32Array(l.buffer,0,l.length>>2),p=d[1];if(p!==0)throw new Error(`Invalid version: ${p}`);const f=d[2],m=d[3],y=d[4]===0,w=d[5],x=d[6],b=d[7],A=[],R=(Uy+Uf*x)*Uint32Array.BYTES_PER_ELEMENT;let k;switch(b){case Int8Array.BYTES_PER_ELEMENT:k=new Int8Array(l.buffer,R);break;case Int16Array.BYTES_PER_ELEMENT:k=new Int16Array(l.buffer,R);break;case Int32Array.BYTES_PER_ELEMENT:k=new Int32Array(l.buffer,R);break}c=0;for(let M=0;M<x;M++){const L=d[Uf*M+Uy],F=new Float32Array(L+2);A.push(F);for(let $=0;$<Uf-1;$++)F[$]=d[Uf*M+Uy+$+1];for(let $=0;$<L;$++)F[$+2]=F[$]+k[c++]}return{areContours:y,thickness:w,outlines:A,width:f,height:m}}catch(t){return qe(`decompressSignature: ${t}`),null}}}fu=new WeakMap,mt=new WeakSet,Wx=function(e,t,n,r){return n-=e,r-=t,n===0?r>0?0:4:n===1?r+6:2-r},ls=new WeakMap,t2=function(e,t,n,r,o,l,c){const d=N(this,mt,Wx).call(this,n,r,o,l);for(let p=0;p<8;p++){const f=(-p+d-c+16)%8,m=u(this,ls)[2*f],y=u(this,ls)[2*f+1];if(e[(n+m)*t+(r+y)]!==0)return f}return-1},n2=function(e,t,n,r,o,l,c){const d=N(this,mt,Wx).call(this,n,r,o,l);for(let p=0;p<8;p++){const f=(p+d+c+16)%8,m=u(this,ls)[2*f],y=u(this,ls)[2*f+1];if(e[(n+m)*t+(r+y)]!==0)return f}return-1},qx=function(e,t,n,r){const o=e.length,l=new Int32Array(o);for(let f=0;f<o;f++)l[f]=e[f]<=r?1:0;for(let f=1;f<n-1;f++)l[f*t]=l[f*t+t-1]=0;for(let f=0;f<t;f++)l[f]=l[t*n-1-f]=0;let c=1,d;const p=[];for(let f=1;f<n-1;f++){d=1;for(let m=1;m<t-1;m++){const y=f*t+m,w=l[y];if(w===0)continue;let x=f,b=m;if(w===1&&l[y-1]===0)c+=1,b-=1;else if(w>=1&&l[y+1]===0)c+=1,b+=1,w>1&&(d=w);else{w!==1&&(d=Math.abs(w));continue}const A=[m,f],R=b===m+1,k={isHole:R,points:A,id:c,parent:0};p.push(k);let M;for(const ie of p)if(ie.id===d){M=ie;break}M?M.isHole?k.parent=R?M.parent:d:k.parent=R?d:M.parent:k.parent=R?d:0;const L=N(this,mt,t2).call(this,l,t,f,m,x,b,0);if(L===-1){l[y]=-c,l[y]!==1&&(d=Math.abs(l[y]));continue}let F=u(this,ls)[2*L],$=u(this,ls)[2*L+1];const B=f+F,V=m+$;x=B,b=V;let q=f,J=m;for(;;){const ie=N(this,mt,n2).call(this,l,t,q,J,x,b,1);F=u(this,ls)[2*ie],$=u(this,ls)[2*ie+1];const we=q+F,he=J+$;A.push(he,we);const ce=q*t+J;if(l[ce+1]===0?l[ce]=-c:l[ce]===1&&(l[ce]=c),we===f&&he===m&&q===B&&J===V){l[y]!==1&&(d=Math.abs(l[y]));break}else x=q,b=J,q=we,J=he}}}return p},Sv=function(e,t,n,r){if(n-t<=4){for(let B=t;B<n-2;B+=2)r.push(e[B],e[B+1]);return}const o=e[t],l=e[t+1],c=e[n-4]-o,d=e[n-3]-l,p=Math.hypot(c,d),f=c/p,m=d/p,y=f*l-m*o,w=d/c,x=1/p,b=Math.atan(w),A=Math.cos(b),R=Math.sin(b),k=x*(Math.abs(A)+Math.abs(R)),M=x*(1-k+k**2),L=Math.max(Math.atan(Math.abs(R+A)*M),Math.atan(Math.abs(R-A)*M));let F=0,$=t;for(let B=t+2;B<n-2;B+=2){const V=Math.abs(y-f*e[B+1]+m*e[B]);V>F&&($=B,F=V)}F>(p*L)**2?(N(this,mt,Sv).call(this,e,t,$+2,r),N(this,mt,Sv).call(this,e,$,n,r)):r.push(o,l)},r2=function(e){const t=[],n=e.length;return N(this,mt,Sv).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t},i2=function(e,t,n,r,o,l){const c=new Float32Array(l**2),d=-2*r**2,p=l>>1;for(let b=0;b<l;b++){const A=(b-p)**2;for(let R=0;R<l;R++)c[b*l+R]=Math.exp((A+(R-p)**2)/d)}const f=new Float32Array(256),m=-2*o**2;for(let b=0;b<256;b++)f[b]=Math.exp(b**2/m);const y=e.length,w=new Uint8Array(y),x=new Uint32Array(256);for(let b=0;b<n;b++)for(let A=0;A<t;A++){const R=b*t+A,k=e[R];let M=0,L=0;for(let $=0;$<l;$++){const B=b+$-p;if(!(B<0||B>=n))for(let V=0;V<l;V++){const q=A+V-p;if(q<0||q>=t)continue;const J=e[B*t+q],ie=c[$*l+V]*f[Math.abs(J-k)];M+=J*ie,L+=ie}}const F=w[R]=Math.round(M/L);x[F]++}return[w,x]},s2=function(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t},Kx=function(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let r=-1/0,o=1/0;for(let c=0,d=n.length;c<d;c++){if(e[(c<<2)+3]===0){r=n[c]=255;continue}const f=n[c]=e[c<<2];f>r&&(r=f),f<o&&(o=f)}const l=255/(r-o);for(let c=0;c<t;c++)n[c]=(n[c]-o)*l;return n},Yx=function(e){let t,n=-1/0,r=-1/0;const o=e.findIndex(d=>d!==0);let l=o,c=o;for(t=o;t<256;t++){const d=e[t];d>n&&(t-l>r&&(r=t-l,c=t-1),n=d,l=t)}for(t=c-1;t>=0&&!(e[t]>e[t+1]);t--);return t},o2=function(e){const t=e,{width:n,height:r}=e,{maxDim:o}=u(this,fu);let l=n,c=r;if(n>o||r>o){let y=n,w=r,x=Math.log2(Math.max(n,r)/o);const b=Math.floor(x);x=x===b?b-1:b;for(let R=0;R<x;R++){l=Math.ceil(y/2),c=Math.ceil(w/2);const k=new OffscreenCanvas(l,c);k.getContext("2d").drawImage(e,0,0,y,w,0,0,l,c),y=l,w=c,e!==t&&e.close(),e=k.transferToImageBitmap()}const A=Math.min(o/l,o/c);l=Math.round(l*A),c=Math.round(c*A)}const p=new OffscreenCanvas(l,c).getContext("2d",{willReadFrequently:!0});p.filter="grayscale(1)",p.drawImage(e,0,0,e.width,e.height,0,0,l,c);const f=p.getImageData(0,0,l,c).data;return[N(this,mt,Kx).call(this,f),l,c]},I(Js,mt),I(Js,fu,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),I(Js,ls,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class uS extends YM{constructor(){super(),super.updateProperties({fill:Pt._defaultLineColor,"stroke-width":0})}clone(){const e=new uS;return e.updateAll(this),e}}class dS extends K0{constructor(e){super(e),super.updateProperties({stroke:Pt._defaultLineColor,"stroke-width":1})}clone(){const e=new dS(this._viewParameters);return e.updateAll(this),e}}var bl,qs,_l,pu;const Kr=class Kr extends Yv{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});I(this,bl,!1);I(this,qs,null);I(this,_l,null);I(this,pu,null);this._willKeepAspectRatio=!0,C(this,_l,t.signatureData||null),C(this,qs,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){Pt.initialize(t,n),this._defaultDrawingOptions=new uS,this._defaultDrawnSignatureOptions=new dS(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return st(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!u(this,qs)}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(u(this,_l)){const{lines:o,mustSmooth:l,areContours:c,description:d,uuid:p,heightInPage:f}=u(this,_l),{rawDims:{pageWidth:m,pageHeight:y},rotation:w}=this.parent.viewport,x=Js.processDrawnLines({lines:o,pageWidth:m,pageHeight:y,rotation:w,innerMargin:Kr._INNER_MARGIN,mustSmooth:l,areContours:c});this.addSignature(x,f,d,p)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return r&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){C(this,pu,t),this.addEditToolbar()}getUuid(){return u(this,pu)}get description(){return u(this,qs)}set description(t){C(this,qs,t),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:r,width:o,height:l}=u(this,_l),c=Math.max(o,l),d=Js.processDrawnLines({lines:{curves:t.map(p=>({points:p})),thickness:r,width:o,height:l},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:d.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,r,o){const{x:l,y:c}=this,{outline:d}=C(this,_l,t);C(this,bl,d instanceof Gx),this.description=r,this.div.setAttribute("data-l10n-args",JSON.stringify({description:r}));let p;u(this,bl)?p=Kr.getDefaultDrawingOptions():(p=Kr._defaultDrawnSignatureOptions.clone(),p.updateProperties({"stroke-width":d.thickness})),this._addOutlines({drawOutlines:d,drawingOptions:p});const[f,m]=this.parentDimensions,[,y]=this.pageDimensions;let w=n/y;w=w>=1?.5:w,this.width*=w/this.height,this.width>=1&&(w*=.9/this.width,this.width=.9),this.height=w,this.setDims(f*this.width,m*this.height),this.x=l,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(o),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!o,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:r},rotation:o}=this.parent.viewport;return Js.process(t,n,r,o,Kr._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:r,pageHeight:o},rotation:l}=this.parent.viewport;return Js.extractContoursFromText(t,n,r,o,l,Kr._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:r},rotation:o}=this.parent.viewport;return Js.processDrawnLines({lines:t,pageWidth:n,pageHeight:r,rotation:o,innerMargin:Kr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=Kr.getDefaultDrawingOptions():(this._drawingOptions=Kr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:r,rect:o}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":l}}=this,c={annotationType:Ge.SIGNATURE,isSignature:!0,areContours:u(this,bl),color:[0,0,0],thickness:u(this,bl)?0:l,pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(c.paths={lines:n,points:r},c.uuid=u(this,pu),c.isCopy=!0):c.lines=n,u(this,qs)&&(c.accessibilityData={type:"Figure",alt:u(this,qs)}),c}static deserializeDraw(t,n,r,o,l,c){return c.areContours?Gx.deserialize(t,n,r,o,l,c):bg.deserialize(t,n,r,o,l,c)}static async deserialize(t,n,r){var l;const o=await super.deserialize(t,n,r);return C(o,bl,t.areContours),C(o,qs,((l=t.accessibilityData)==null?void 0:l.alt)||""),C(o,pu,t.uuid),o}};bl=new WeakMap,qs=new WeakMap,_l=new WeakMap,pu=new WeakMap,ye(Kr,"_type","signature"),ye(Kr,"_editorType",Ge.SIGNATURE),ye(Kr,"_defaultDrawingOptions",null);let Xx=Kr;var Ft,Mn,xl,Jo,Sl,jh,ea,mu,Ks,ai,Bh,dt,lp,cp,Ev,Av,Cv,Zx,Tv,a2;class Qx extends Pt{constructor(t){super({...t,name:"stampEditor"});I(this,dt);I(this,Ft,null);I(this,Mn,null);I(this,xl,null);I(this,Jo,null);I(this,Sl,null);I(this,jh,"");I(this,ea,null);I(this,mu,!1);I(this,Ks,null);I(this,ai,!1);I(this,Bh,!1);C(this,Jo,t.bitmapUrl),C(this,Sl,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){Pt.initialize(t,n)}static isHandlingMimeForPasting(t){return Gv.includes(t)}static paste(t,n){n.pasteEditor({mode:Ge.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:l,height:c}=t||this.copyCanvas(null,null,!0).imageData,d=await r.guess({name:"altText",request:{data:o,width:l,height:c,channels:o.length/(l*c)}});if(!d)throw new Error("No response from the AI service.");if(d.error)throw new Error("Error from the AI service.");if(d.cancel)return null;if(!d.output)throw new Error("No valid response from the AI service.");const p=d.output;return await this.setGuessedAltText(p),n&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var t;u(this,Mn)&&(C(this,Ft,null),this._uiManager.imageManager.deleteId(u(this,Mn)),(t=u(this,ea))==null||t.remove(),C(this,ea,null),u(this,Ks)&&(clearTimeout(u(this,Ks)),C(this,Ks,null))),super.remove()}rebuild(){if(!this.parent){u(this,Mn)&&N(this,dt,Ev).call(this);return}super.rebuild(),this.div!==null&&(u(this,Mn)&&u(this,ea)===null&&N(this,dt,Ev).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(u(this,xl)||u(this,Ft)||u(this,Jo)||u(this,Sl)||u(this,Mn)||u(this,mu))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),u(this,mu)||(u(this,Ft)?N(this,dt,Av).call(this):N(this,dt,Ev).call(this)),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:r,bitmap:o}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(C(this,Mn,r),o&&C(this,Ft,o),C(this,mu,!1),N(this,dt,Av).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;u(this,Ks)!==null&&clearTimeout(u(this,Ks)),C(this,Ks,setTimeout(()=>{C(this,Ks,null),N(this,dt,Zx).call(this)},200))}copyCanvas(t,n,r=!1){var w;t||(t=224);const{width:o,height:l}=u(this,Ft),c=new gs;let d=u(this,Ft),p=o,f=l,m=null;if(n){if(o>n||l>n){const V=Math.min(n/o,n/l);p=Math.floor(o*V),f=Math.floor(l*V)}m=document.createElement("canvas");const x=m.width=Math.ceil(p*c.sx),b=m.height=Math.ceil(f*c.sy);u(this,ai)||(d=N(this,dt,Cv).call(this,x,b));const A=m.getContext("2d");A.filter=this._uiManager.hcmFilter;let R="white",k="#cfcfd8";this._uiManager.hcmFilter!=="none"?k="black":(w=window.matchMedia)!=null&&w.call(window,"(prefers-color-scheme: dark)").matches&&(R="#8f8f9d",k="#42414d");const M=15,L=M*c.sx,F=M*c.sy,$=new OffscreenCanvas(L*2,F*2),B=$.getContext("2d");B.fillStyle=R,B.fillRect(0,0,L*2,F*2),B.fillStyle=k,B.fillRect(0,0,L,F),B.fillRect(L,F,L,F),A.fillStyle=A.createPattern($,"repeat"),A.fillRect(0,0,x,b),A.drawImage(d,0,0,d.width,d.height,0,0,x,b)}let y=null;if(r){let x,b;if(c.symmetric&&d.width<t&&d.height<t)x=d.width,b=d.height;else if(d=u(this,Ft),o>t||l>t){const k=Math.min(t/o,t/l);x=Math.floor(o*k),b=Math.floor(l*k),u(this,ai)||(d=N(this,dt,Cv).call(this,x,b))}const R=new OffscreenCanvas(x,b).getContext("2d",{willReadFrequently:!0});R.drawImage(d,0,0,d.width,d.height,0,0,x,b),y={width:x,height:b,data:R.getImageData(0,0,x,b).data}}return{canvas:m,width:p,height:f,imageData:y}}static async deserialize(t,n,r){var A;let o=null,l=!1;if(t instanceof xM){const{data:{rect:R,rotation:k,id:M,structParent:L,popupRef:F},container:$,parent:{page:{pageNumber:B}},canvas:V}=t;let q,J;V?(delete t.canvas,{id:q,bitmap:J}=r.imageManager.getFromCanvas($.id,V),V.remove()):(l=!0,t._hasNoCanvas=!0);const ie=((A=await n._structTree.getAriaAttributes(`${eS}${M}`))==null?void 0:A.get("aria-label"))||"";o=t={annotationType:Ge.STAMP,bitmapId:q,bitmap:J,pageIndex:B-1,rect:R.slice(0),rotation:k,annotationElementId:M,id:M,deleted:!1,accessibilityData:{decorative:!1,altText:ie},isSvg:!1,structParent:L,popupRef:F}}const c=await super.deserialize(t,n,r),{rect:d,bitmap:p,bitmapUrl:f,bitmapId:m,isSvg:y,accessibilityData:w}=t;l?(r.addMissingCanvas(t.id,c),C(c,mu,!0)):m&&r.imageManager.isValidId(m)?(C(c,Mn,m),p&&C(c,Ft,p)):C(c,Jo,f),C(c,ai,y);const[x,b]=c.pageDimensions;return c.width=(d[2]-d[0])/x,c.height=(d[3]-d[1])/b,w&&(c.altTextData=w),c._initialData=o,C(c,Bh,!!o),c}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Ge.STAMP,bitmapId:u(this,Mn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,ai),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=N(this,dt,Tv).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:o,altText:l}=this.serializeAltText(!1);if(!o&&l&&(r.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const d=N(this,dt,a2).call(this,r);if(d.isSame)return null;d.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,n===null)return r;n.stamps||(n.stamps=new Map);const c=u(this,ai)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(u(this,Mn)))n.stamps.set(u(this,Mn),{area:c,serialized:r}),r.bitmap=N(this,dt,Tv).call(this,!1);else if(u(this,ai)){const d=n.stamps.get(u(this,Mn));c>d.area&&(d.area=c,d.serialized.bitmap.close(),d.serialized.bitmap=N(this,dt,Tv).call(this,!1))}return r}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}Ft=new WeakMap,Mn=new WeakMap,xl=new WeakMap,Jo=new WeakMap,Sl=new WeakMap,jh=new WeakMap,ea=new WeakMap,mu=new WeakMap,Ks=new WeakMap,ai=new WeakMap,Bh=new WeakMap,dt=new WeakSet,lp=function(t,n=!1){if(!t){this.remove();return}C(this,Ft,t.bitmap),n||(C(this,Mn,t.id),C(this,ai,t.isSvg)),t.file&&C(this,jh,t.file.name),N(this,dt,Av).call(this)},cp=function(){if(C(this,xl,null),this._uiManager.enableWaiting(!1),!!u(this,ea)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Ft)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Ft)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Ev=function(){if(u(this,Mn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,Mn)).then(r=>N(this,dt,lp).call(this,r,!0)).finally(()=>N(this,dt,cp).call(this));return}if(u(this,Jo)){const r=u(this,Jo);C(this,Jo,null),this._uiManager.enableWaiting(!0),C(this,xl,this._uiManager.imageManager.getFromUrl(r).then(o=>N(this,dt,lp).call(this,o)).finally(()=>N(this,dt,cp).call(this)));return}if(u(this,Sl)){const r=u(this,Sl);C(this,Sl,null),this._uiManager.enableWaiting(!0),C(this,xl,this._uiManager.imageManager.getFromFile(r).then(o=>N(this,dt,lp).call(this,o)).finally(()=>N(this,dt,cp).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Gv.join(",");const n=this._uiManager._signal;C(this,xl,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),N(this,dt,lp).call(this,o)}r()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>N(this,dt,cp).call(this))),t.click()},Av=function(){var m;const{div:t}=this;let{width:n,height:r}=u(this,Ft);const[o,l]=this.pageDimensions,c=.75;if(this.width)n=this.width*o,r=this.height*l;else if(n>c*o||r>c*l){const y=Math.min(c*o/n,c*l/r);n*=y,r*=y}const[d,p]=this.parentDimensions;this.setDims(n*d/o,r*p/l),this._uiManager.enableWaiting(!1);const f=C(this,ea,document.createElement("canvas"));f.setAttribute("role","img"),this.addContainer(f),this.width=n/o,this.height=r/l,(m=this._initialOptions)!=null&&m.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),N(this,dt,Zx).call(this),u(this,Bh)||(this.parent.addUndoableEditor(this),C(this,Bh,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,jh)&&this.div.setAttribute("aria-description",u(this,jh)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Cv=function(t,n){const{width:r,height:o}=u(this,Ft);let l=r,c=o,d=u(this,Ft);for(;l>2*t||c>2*n;){const p=l,f=c;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),c>2*n&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const m=new OffscreenCanvas(l,c);m.getContext("2d").drawImage(d,0,0,p,f,0,0,l,c),d=m.transferToImageBitmap()}return d},Zx=function(){const[t,n]=this.parentDimensions,{width:r,height:o}=this,l=new gs,c=Math.ceil(r*t*l.sx),d=Math.ceil(o*n*l.sy),p=u(this,ea);if(!p||p.width===c&&p.height===d)return;p.width=c,p.height=d;const f=u(this,ai)?u(this,Ft):N(this,dt,Cv).call(this,c,d),m=p.getContext("2d");m.filter=this._uiManager.hcmFilter,m.drawImage(f,0,0,f.width,f.height,0,0,c,d)},Tv=function(t){if(t){if(u(this,ai)){const o=this._uiManager.imageManager.getSvgUrl(u(this,Mn));if(o)return o}const n=document.createElement("canvas");return{width:n.width,height:n.height}=u(this,Ft),n.getContext("2d").drawImage(u(this,Ft),0,0),n.toDataURL()}if(u(this,ai)){const[n,r]=this.pageDimensions,o=Math.round(this.width*n*da.PDF_TO_CSS_UNITS),l=Math.round(this.height*r*da.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(o,l);return c.getContext("2d").drawImage(u(this,Ft),0,0,u(this,Ft).width,u(this,Ft).height,0,0,o,l),c.transferToImageBitmap()}return structuredClone(u(this,Ft))},a2=function(t){var c;const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,o=t.pageIndex===n,l=(((c=t.accessibilityData)==null?void 0:c.alt)||"")===r;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&o&&l,isSameAltText:l}},ye(Qx,"_type","stamp"),ye(Qx,"_editorType",Ge.STAMP);var gu,$h,Ys,El,ta,li,Al,zh,yu,cs,na,Nn,ra,Cl,Hh,De,Tl,Bt,l2,Ts,Jx,e1,Rv;const Yi=class Yi{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:r,accessibilityManager:o,annotationLayer:l,drawLayer:c,textLayer:d,viewport:p,l10n:f}){I(this,Bt);I(this,gu);I(this,$h,!1);I(this,Ys,null);I(this,El,null);I(this,ta,null);I(this,li,new Map);I(this,Al,!1);I(this,zh,!1);I(this,yu,!1);I(this,cs,null);I(this,na,null);I(this,Nn,null);I(this,ra,null);I(this,Cl,null);I(this,Hh,-1);I(this,De);const m=[...u(Yi,Tl).values()];if(!Yi._initialized){Yi._initialized=!0;for(const y of m)y.initialize(f,e)}e.registerEditorTypes(m),C(this,De,e),this.pageIndex=t,this.div=n,C(this,gu,o),C(this,Ys,l),this.viewport=p,C(this,Nn,d),this.drawLayer=c,this._structTree=r,u(this,De).addLayer(this)}get isEmpty(){return u(this,li).size===0}get isInvisible(){return this.isEmpty&&u(this,De).getMode()===Ge.NONE}updateToolbar(e){u(this,De).updateToolbar(e)}updateMode(e=u(this,De).getMode()){switch(N(this,Bt,Rv).call(this),e){case Ge.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ge.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ge.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of u(Yi,Tl).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=u(this,Nn))==null?void 0:t.div)}setEditingState(e){u(this,De).setEditingState(e)}addCommands(e){u(this,De).addCommands(e)}cleanUndoStack(e){u(this,De).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=u(this,Ys))==null||t.div.classList.toggle("disabled",!e)}async enable(){var n;C(this,yu,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(n=u(this,Cl))==null||n.abort(),C(this,Cl,null);const e=new Set;for(const r of u(this,li).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(u(this,De).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!u(this,Ys)){C(this,yu,!1);return}const t=u(this,Ys).getEditableAnnotations();for(const r of t){if(r.hide(),u(this,De).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const o=await this.deserialize(r);o&&(this.addOrRebuild(o),o.enableEditing())}C(this,yu,!1)}disable(){var r;if(C(this,zh,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),u(this,Nn)&&!u(this,Cl)){C(this,Cl,new AbortController);const o=u(this,De).combinedSignal(u(this,Cl));u(this,Nn).div.addEventListener("pointerdown",l=>{const{clientX:d,clientY:p,timeStamp:f}=l,m=u(this,Hh);if(f-m>500){C(this,Hh,f);return}C(this,Hh,-1);const{classList:y}=this.div;y.toggle("getElements",!0);const w=document.elementsFromPoint(d,p);if(y.toggle("getElements",!1),!this.div.contains(w[0]))return;let x;const b=new RegExp(`^${Zk}[0-9]+$`);for(const R of w)if(b.test(R.id)){x=R.id;break}if(!x)return;const A=u(this,li).get(x);(A==null?void 0:A.annotationElementId)===null&&(l.stopPropagation(),l.preventDefault(),A.dblclick())},{signal:o,capture:!0})}const e=new Map,t=new Map;for(const o of u(this,li).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else t.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(u(this,Ys)){const o=u(this,Ys).getEditableAnnotations();for(const l of o){const{id:c}=l.data;if(u(this,De).isDeletedAnnotationElement(c))continue;let d=t.get(c);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=e.get(c),d&&(u(this,De).addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}N(this,Bt,Rv).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const o of u(Yi,Tl).values())n.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),C(this,zh,!1)}getEditableAnnotation(e){var t;return((t=u(this,Ys))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){u(this,De).getActive()!==e&&u(this,De).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=u(this,Nn))!=null&&e.div&&!u(this,ra)){C(this,ra,new AbortController);const t=u(this,De).combinedSignal(u(this,ra));u(this,Nn).div.addEventListener("pointerdown",N(this,Bt,l2).bind(this),{signal:t}),u(this,Nn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=u(this,Nn))!=null&&e.div&&u(this,ra)&&(u(this,ra).abort(),C(this,ra,null),u(this,Nn).div.classList.remove("highlighting"))}enableClick(){if(u(this,El))return;C(this,El,new AbortController);const e=u(this,De).combinedSignal(u(this,El));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=u(this,El))==null||e.abort(),C(this,El,null)}attach(e){u(this,li).set(e.id,e);const{annotationElementId:t}=e;t&&u(this,De).isDeletedAnnotationElement(t)&&u(this,De).removeDeletedAnnotationElement(e)}detach(e){var t;u(this,li).delete(e.id),(t=u(this,gu))==null||t.removePointerInTextLayer(e.contentDiv),!u(this,zh)&&e.annotationElementId&&u(this,De).addDeletedAnnotationElement(e)}remove(e){this.detach(e),u(this,De).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(u(this,De).addDeletedAnnotationElement(e.annotationElementId),Pt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),u(this,De).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!u(this,yu)),u(this,De).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!u(this,ta)&&(e._focusEventsAllowed=!1,C(this,ta,setTimeout(()=>{C(this,ta,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:u(this,De)._signal}),t.focus())},0))),e._structTreeParentId=(n=u(this,gu))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return u(this,De).getId()}combinedSignal(e){return u(this,De).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=u(this,Bt,Ts))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await u(this,De).updateMode(e.mode);const{offsetX:n,offsetY:r}=N(this,Bt,e1).call(this),o=this.getNextId(),l=N(this,Bt,Jx).call(this,{parent:this,id:o,x:n,y:r,uiManager:u(this,De),isCentered:!0,...t});l&&this.add(l)}async deserialize(e){var t;return await((t=u(Yi,Tl).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,u(this,De)))||null}createAndAddNewEditor(e,t,n={}){const r=this.getNextId(),o=N(this,Bt,Jx).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:u(this,De),isCentered:t,...n});return o&&this.add(o),o}addNewEditor(e={}){this.createAndAddNewEditor(N(this,Bt,e1).call(this),!0,e)}setSelected(e){u(this,De).setSelected(e)}toggleSelected(e){u(this,De).toggleSelected(e)}unselect(e){u(this,De).unselect(e)}pointerup(e){var r;const{isMac:t}=Ln.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!u(this,Al)||(C(this,Al,!1),(r=u(this,Bt,Ts))!=null&&r.isDrawer&&u(this,Bt,Ts).supportMultipleDrawings))return;if(!u(this,$h)){C(this,$h,!0);return}const n=u(this,De).getMode();if(n===Ge.STAMP||n===Ge.SIGNATURE){u(this,De).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(u(this,De).getMode()===Ge.HIGHLIGHT&&this.enableTextSelection(),u(this,Al)){C(this,Al,!1);return}const{isMac:t}=Ln.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(C(this,Al,!0),(r=u(this,Bt,Ts))!=null&&r.isDrawer){this.startDrawingSession(e);return}const n=u(this,De).getActive();C(this,$h,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),u(this,cs)){u(this,Bt,Ts).startDrawing(this,u(this,De),!1,e);return}u(this,De).setCurrentDrawingSession(this),C(this,cs,new AbortController);const t=u(this,De).combinedSignal(u(this,cs));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(C(this,na,null),this.commitOrRemove())},{signal:t}),u(this,Bt,Ts).startDrawing(this,u(this,De),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&C(this,na,t);return}u(this,na)&&setTimeout(()=>{var t;(t=u(this,na))==null||t.focus(),C(this,na,null)},0)}endDrawingSession(e=!1){return u(this,cs)?(u(this,De).setCurrentDrawingSession(null),u(this,cs).abort(),C(this,cs,null),C(this,na,null),u(this,Bt,Ts).endDrawing(e)):null}findNewParent(e,t,n){const r=u(this,De).findParent(t,n);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return u(this,cs)?(this.endDrawingSession(),!0):!1}onScaleChanging(){u(this,cs)&&u(this,Bt,Ts).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=u(this,De).getActive())==null?void 0:e.parent)===this&&(u(this,De).commitOrRemove(),u(this,De).setActiveEditor(null)),u(this,ta)&&(clearTimeout(u(this,ta)),C(this,ta,null));for(const n of u(this,li).values())(t=u(this,gu))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,u(this,li).clear(),u(this,De).removeLayer(this)}render({viewport:e}){this.viewport=e,Ml(this.div,e);for(const t of u(this,De).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){u(this,De).commitOrRemove(),N(this,Bt,Rv).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Ml(this.div,{rotation:n}),t!==n)for(const r of u(this,li).values())r.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return u(this,De).viewParameters.realScale}};gu=new WeakMap,$h=new WeakMap,Ys=new WeakMap,El=new WeakMap,ta=new WeakMap,li=new WeakMap,Al=new WeakMap,zh=new WeakMap,yu=new WeakMap,cs=new WeakMap,na=new WeakMap,Nn=new WeakMap,ra=new WeakMap,Cl=new WeakMap,Hh=new WeakMap,De=new WeakMap,Tl=new WeakMap,Bt=new WeakSet,l2=function(e){u(this,De).unselectAll();const{target:t}=e;if(t===u(this,Nn).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&u(this,Nn).div.contains(t)){const{isMac:n}=Ln.platform;if(e.button!==0||e.ctrlKey&&n)return;u(this,De).showAllEditors("highlight",!0,!0),u(this,Nn).div.classList.add("free"),this.toggleDrawing(),Kv.startHighlighting(this,u(this,De).direction==="ltr",{target:u(this,Nn).div,x:e.x,y:e.y}),u(this,Nn).div.addEventListener("pointerup",()=>{u(this,Nn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,De)._signal}),e.preventDefault()}},Ts=function(){return u(Yi,Tl).get(u(this,De).getMode())},Jx=function(e){const t=u(this,Bt,Ts);return t?new t.prototype.constructor(e):null},e1=function(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,e),l=Math.max(0,t),c=Math.min(window.innerWidth,e+n),d=Math.min(window.innerHeight,t+r),p=(o+c)/2-e,f=(l+d)/2-t,[m,y]=this.viewport.rotation%180===0?[p,f]:[f,p];return{offsetX:m,offsetY:y}},Rv=function(){for(const e of u(this,li).values())e.isEmpty()&&e.remove()},ye(Yi,"_initialized",!1),I(Yi,Tl,new Map([Ix,Vx,Qx,Kv,Xx].map(e=>[e._editorType,e])));let Xv=Yi;var us,vr,vu,sg,y0,c2,oo,t1,u2,n1;const gn=class gn{constructor({pageIndex:e}){I(this,oo);I(this,us,null);I(this,vr,new Map);I(this,vu,new Map);this.pageIndex=e}setParent(e){if(!u(this,us)){C(this,us,e);return}if(u(this,us)!==e){if(u(this,vr).size>0)for(const t of u(this,vr).values())t.remove(),e.append(t);C(this,us,e)}}static get _svgFactory(){return st(this,"_svgFactory",new Tp)}draw(e,t=!1,n=!1){const r=En(gn,sg)._++,o=N(this,oo,t1).call(this),l=gn._svgFactory.createElement("defs");o.append(l);const c=gn._svgFactory.createElement("path");l.append(c);const d=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",d),c.setAttribute("vector-effect","non-scaling-stroke"),t&&u(this,vu).set(r,c);const p=n?N(this,oo,u2).call(this,l,d):null,f=gn._svgFactory.createElement("use");return o.append(f),f.setAttribute("href",`#${d}`),this.updateProperties(o,e),u(this,vr).set(r,o),{id:r,clipPathId:`url(#${p})`}}drawOutline(e,t){const n=En(gn,sg)._++,r=N(this,oo,t1).call(this),o=gn._svgFactory.createElement("defs");r.append(o);const l=gn._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(t){const m=gn._svgFactory.createElement("mask");o.append(m),d=`mask_p${this.pageIndex}_${n}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const y=gn._svgFactory.createElement("rect");m.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const w=gn._svgFactory.createElement("use");m.append(w),w.setAttribute("href",`#${c}`),w.setAttribute("stroke","none"),w.setAttribute("fill","black"),w.setAttribute("fill-rule","nonzero"),w.classList.add("mask")}const p=gn._svgFactory.createElement("use");r.append(p),p.setAttribute("href",`#${c}`),d&&p.setAttribute("mask",`url(#${d})`);const f=p.cloneNode();return r.append(f),p.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(r,e),u(this,vr).set(n,r),n}finalizeDraw(e,t){u(this,vu).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var d;if(!t)return;const{root:n,bbox:r,rootClass:o,path:l}=t,c=typeof e=="number"?u(this,vr).get(e):e;if(c){if(n&&N(this,oo,n1).call(this,c,n),r&&N(d=gn,y0,c2).call(d,c,r),o){const{classList:p}=c;for(const[f,m]of Object.entries(o))p.toggle(f,m)}if(l){const f=c.firstChild.firstChild;N(this,oo,n1).call(this,f,l)}}}updateParent(e,t){if(t===this)return;const n=u(this,vr).get(e);n&&(u(t,us).append(n),u(this,vr).delete(e),u(t,vr).set(e,n))}remove(e){u(this,vu).delete(e),u(this,us)!==null&&(u(this,vr).get(e).remove(),u(this,vr).delete(e))}destroy(){C(this,us,null);for(const e of u(this,vr).values())e.remove();u(this,vr).clear(),u(this,vu).clear()}};us=new WeakMap,vr=new WeakMap,vu=new WeakMap,sg=new WeakMap,y0=new WeakSet,c2=function(e,[t,n,r,o]){const{style:l}=e;l.top=`${100*n}%`,l.left=`${100*t}%`,l.width=`${100*r}%`,l.height=`${100*o}%`},oo=new WeakSet,t1=function(){const e=gn._svgFactory.create(1,1,!0);return u(this,us).append(e),e.setAttribute("aria-hidden",!0),e},u2=function(e,t){const n=gn._svgFactory.createElement("clipPath");e.append(n);const r=`clip_${t}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const o=gn._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),r},n1=function(e,t){for(const[n,r]of Object.entries(t))r===null?e.removeAttribute(n):e.setAttribute(n,r)},I(gn,y0),I(gn,sg,0);let Qv=gn;globalThis._pdfjsTestingUtils={HighlightOutliner:Nx};globalThis.pdfjsLib={AbortException:ua,AnnotationEditorLayer:Xv,AnnotationEditorParamsType:at,AnnotationEditorType:Ge,AnnotationEditorUIManager:Nl,AnnotationLayer:cS,AnnotationMode:Zs,AnnotationType:en,build:uM,ColorPicker:Rp,createValidAbsoluteUrl:Q1,DOMSVGFactory:Tp,DrawLayer:Qv,FeatureTest:Ln,fetchData:Jh,getDocument:sS,getFilenameFromUrl:iI,getPdfFilenameFromUrl:sI,getUuid:J1,getXfaPageViewport:oI,GlobalWorkerOptions:fi,ImageKind:dp,InvalidPDFException:Vv,isDataScheme:yg,isPdfFile:G0,isValidExplicitDest:$I,MathClamp:sr,noContextMenu:Bi,normalizeUnicode:nI,OPS:xp,OutputScale:gs,PasswordResponses:eI,PDFDataRangeTransport:oS,PDFDateString:W0,PDFWorker:qh,PermissionFlag:Jk,PixelsPerInch:da,RenderingCancelledException:V0,ResponseException:Sp,setLayerDimensions:Ml,shadow:st,SignatureExtractor:Js,stopEvent:rn,SupportedImageMimeTypes:Gv,TextLayer:Ap,TouchManager:Ep,updateUrlHash:Z1,Util:Oe,VerbosityLevel:pg,version:cM,XfaLayer:aS};const b8=Object.freeze(Object.defineProperty({__proto__:null,AbortException:ua,AnnotationEditorLayer:Xv,AnnotationEditorParamsType:at,AnnotationEditorType:Ge,AnnotationEditorUIManager:Nl,AnnotationLayer:cS,AnnotationMode:Zs,AnnotationType:en,ColorPicker:Rp,DOMSVGFactory:Tp,DrawLayer:Qv,FeatureTest:Ln,GlobalWorkerOptions:fi,ImageKind:dp,InvalidPDFException:Vv,MathClamp:sr,OPS:xp,OutputScale:gs,PDFDataRangeTransport:oS,PDFDateString:W0,PDFWorker:qh,PasswordResponses:eI,PermissionFlag:Jk,PixelsPerInch:da,RenderingCancelledException:V0,ResponseException:Sp,SignatureExtractor:Js,SupportedImageMimeTypes:Gv,TextLayer:Ap,TouchManager:Ep,Util:Oe,VerbosityLevel:pg,XfaLayer:aS,build:uM,createValidAbsoluteUrl:Q1,fetchData:Jh,getDocument:sS,getFilenameFromUrl:iI,getPdfFilenameFromUrl:sI,getUuid:J1,getXfaPageViewport:oI,isDataScheme:yg,isPdfFile:G0,isValidExplicitDest:$I,noContextMenu:Bi,normalizeUnicode:nI,setLayerDimensions:Ml,shadow:st,stopEvent:rn,updateUrlHash:Z1,version:cM},Symbol.toStringTag,{value:"Module"}));function d2(i){var e,t,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var r=i.length;for(e=0;e<r;e++)i[e]&&(t=d2(i[e]))&&(n&&(n+=" "),n+=t)}else for(t in i)i[t]&&(n&&(n+=" "),n+=t);return n}function Y0(){for(var i,e,t=0,n="",r=arguments.length;t<r;t++)(i=arguments[t])&&(e=d2(i))&&(n&&(n+=" "),n+=e);return n}var kT=Object.prototype.hasOwnProperty;function IT(i,e,t){for(t of i.keys())if(Cd(t,e))return t}function Cd(i,e){var t,n,r;if(i===e)return!0;if(i&&e&&(t=i.constructor)===e.constructor){if(t===Date)return i.getTime()===e.getTime();if(t===RegExp)return i.toString()===e.toString();if(t===Array){if((n=i.length)===e.length)for(;n--&&Cd(i[n],e[n]););return n===-1}if(t===Set){if(i.size!==e.size)return!1;for(n of i)if(r=n,r&&typeof r=="object"&&(r=IT(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(i.size!==e.size)return!1;for(n of i)if(r=n[0],r&&typeof r=="object"&&(r=IT(e,r),!r)||!Cd(n[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)i=new Uint8Array(i),e=new Uint8Array(e);else if(t===DataView){if((n=i.byteLength)===e.byteLength)for(;n--&&i.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===e.byteLength)for(;n--&&i[n]===e[n];);return n===-1}if(!t||typeof i=="object"){n=0;for(t in i)if(kT.call(i,t)&&++n&&!kT.call(e,t)||!(t in e)||!Cd(i[t],e[t]))return!1;return Object.keys(e).length===n}}return i!==i&&e!==e}function _g(i){let e=!1;return{promise:new Promise((n,r)=>{i.then(o=>!e&&n(o)).catch(o=>!e&&r(o))}),cancel(){e=!0}}}const _8=["onCopy","onCut","onPaste"],x8=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],S8=["onFocus","onBlur"],E8=["onInput","onInvalid","onReset","onSubmit"],A8=["onLoad","onError"],C8=["onKeyDown","onKeyPress","onKeyUp"],T8=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],R8=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],P8=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],k8=["onSelect"],I8=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],M8=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],N8=["onScroll"],L8=["onWheel"],D8=["onAnimationStart","onAnimationEnd","onAnimationIteration"],O8=["onTransitionEnd"],F8=["onToggle"],j8=["onChange"],B8=[..._8,...x8,...S8,...E8,...A8,...C8,...T8,...R8,...P8,...k8,...I8,...M8,...N8,...L8,...D8,...O8,...j8,...F8];function h2(i,e){const t={};for(const n of B8){const r=i[n];r&&(e?t[n]=(o=>r(o,e(n))):t[n]=r)}return t}var $8="Invariant failed";function Ct(i,e){if(!i)throw new Error($8)}var v_,MT;function z8(){if(MT)return v_;MT=1;var i=function(){};return v_=i,v_}var H8=z8();const or=Cu(H8),f2=P.createContext(null),U8="noopener noreferrer nofollow";class V8{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ct(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Ct(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Ct(this.pdfDocument),Ct(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Ct(Array.isArray(t));const n=t[0];new Promise(r=>{Ct(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{r(o)}).catch(()=>{Ct(!1)}):typeof n=="number"?r(n):Ct(!1)}).then(r=>{const o=r+1;Ct(this.pdfViewer),Ct(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:o})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Ct(this.pdfViewer),Ct(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||U8,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function Td({children:i,type:e}){return _.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:i})}const NT={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function G8(i,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function Kh(){return P.useReducer(G8,{value:void 0,error:void 0})}const X0=typeof window<"u",p2=X0&&window.location.protocol==="file:";function W8(i){return typeof i<"u"}function Jl(i){return W8(i)&&i!==null}function q8(i){return typeof i=="string"}function K8(i){return i instanceof ArrayBuffer}function Y8(i){return Ct(X0),i instanceof Blob}function r1(i){return q8(i)&&/^data:/.test(i)}function LT(i){Ct(r1(i));const[e="",t=""]=i.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function X8(){return X0&&window.devicePixelRatio||1}const m2="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function DT(){or(!p2,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${m2}`)}function Q8(){or(!p2,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${m2}`)}function Su(i){i!=null&&i.cancel&&i.cancel()}function i1(i,e){return Object.defineProperty(i,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function Z8(i){return i.name==="RenderingCancelledException"}function J8(i){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return t(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}const{PDFDataRangeTransport:eV}=b8,tV=(i,e)=>{switch(e){case NT.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");i(t);break}case NT.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");i(t);break}}};function OT(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const nV=P.forwardRef(function({children:e,className:t,error:n="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:d,loading:p="Loading PDF",noData:f="No PDF file specified.",onItemClick:m,onLoadError:y,onLoadProgress:w,onLoadSuccess:x,onPassword:b=tV,onSourceError:A,onSourceSuccess:R,options:k,renderMode:M,rotate:L,scale:F,...$},B){const[V,q]=Kh(),{value:J,error:ie}=V,[we,he]=Kh(),{value:ce,error:Se}=we,K=P.useRef(new V8),Z=P.useRef([]),X=P.useRef(void 0),re=P.useRef(void 0);l&&l!==X.current&&OT(l)&&(or(!Cd(l,X.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),X.current=l),k&&k!==re.current&&(or(!Cd(k,re.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),re.current=k);const se=P.useRef({scrollPageIntoView:je=>{const{dest:Ve,pageNumber:lt,pageIndex:rt=lt-1}=je;if(m){m({dest:Ve,pageIndex:rt,pageNumber:lt});return}const vt=Z.current[rt];if(vt){vt.scrollIntoView();return}or(!1,`An internal link leading to page ${lt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});P.useImperativeHandle(B,()=>({linkService:K,pages:Z,viewer:se}),[]);function H(){R&&R()}function ee(){ie&&(or(!1,ie.toString()),A&&A(ie))}function ue(){q({type:"RESET"})}P.useEffect(ue,[l,q]);const de=P.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return r1(l)?{data:LT(l)}:(DT(),{url:l});if(l instanceof eV)return{range:l};if(K8(l))return{data:l};if(X0&&Y8(l))return{data:await J8(l)};if(Ct(typeof l=="object"),Ct(OT(l)),"url"in l&&typeof l.url=="string"){if(r1(l.url)){const{url:je,...Ve}=l;return{data:LT(je),...Ve}}DT()}return l},[l]);P.useEffect(()=>{const je=_g(de());return je.promise.then(Ve=>{q({type:"RESOLVE",value:Ve})}).catch(Ve=>{q({type:"REJECT",error:Ve})}),()=>{Su(je)}},[de,q]),P.useEffect(()=>{if(!(typeof J>"u")){if(J===!1){ee();return}H()}},[J]);function ve(){ce&&(x&&x(ce),Z.current=new Array(ce.numPages),K.current.setDocument(ce))}function _e(){Se&&(or(!1,Se.toString()),y&&y(Se))}P.useEffect(function(){he({type:"RESET"})},[he,J]),P.useEffect(function(){if(!J)return;const Ve=k?{...J,...k}:J,lt=sS(Ve);w&&(lt.onProgress=w),b&&(lt.onPassword=b);const rt=lt,vt=rt.promise.then(ar=>{he({type:"RESOLVE",value:ar})}).catch(ar=>{rt.destroyed||he({type:"REJECT",error:ar})});return()=>{vt.finally(()=>rt.destroy())}},[k,he,J]),P.useEffect(()=>{if(!(typeof ce>"u")){if(ce===!1){_e();return}ve()}},[ce]),P.useEffect(function(){K.current.setViewer(se.current),K.current.setExternalLinkRel(r),K.current.setExternalLinkTarget(o)},[r,o]);const ae=P.useCallback((je,Ve)=>{Z.current[je]=Ve},[]),me=P.useCallback(je=>{delete Z.current[je]},[]),Ae=P.useMemo(()=>({imageResourcesPath:d,linkService:K.current,onItemClick:m,pdf:ce,registerPage:ae,renderMode:M,rotate:L,scale:F,unregisterPage:me}),[d,m,ce,ae,M,L,F,me]),Ee=P.useMemo(()=>h2($,()=>ce),[$,ce]);function Fe(){function je(lt){return!!(lt!=null&&lt.pdf)}if(!je(Ae))throw new Error("pdf is undefined");const Ve=typeof e=="function"?e(Ae):e;return _.jsx(f2.Provider,{value:Ae,children:Ve})}function Be(){return l?ce==null?_.jsx(Td,{type:"loading",children:typeof p=="function"?p():p}):ce===!1?_.jsx(Td,{type:"error",children:typeof n=="function"?n():n}):Fe():_.jsx(Td,{type:"no-data",children:typeof f=="function"?f():f})}return _.jsx("div",{className:Y0("react-pdf__Document",t),ref:c,...Ee,children:Be()})});function g2(){return P.useContext(f2)}function y2(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var t=i.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(o){for(var l=0,c=t;l<c.length;l++){var d=c[l];typeof d=="function"?d(o):d&&(d.current=o)}}}const v2=P.createContext(null);function Q0(){return P.useContext(v2)}function rV(){const i=g2(),e=Q0();Ct(e);const t={...i,...e},{imageResourcesPath:n,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:d,page:p,pdf:f,renderForms:m,rotate:y,scale:w=1}=t;Ct(f),Ct(p),Ct(r);const[x,b]=Kh(),{value:A,error:R}=x,k=P.useRef(null);or(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function M(){A&&l&&l(A)}function L(){R&&(or(!1,R.toString()),o&&o(R))}P.useEffect(function(){b({type:"RESET"})},[b,p]),P.useEffect(function(){if(!p)return;const q=_g(p.getAnnotations()),J=q;return q.promise.then(ie=>{b({type:"RESOLVE",value:ie})}).catch(ie=>{b({type:"REJECT",error:ie})}),()=>{Su(J)}},[b,p]),P.useEffect(()=>{if(A!==void 0){if(A===!1){L();return}M()}},[A]);function F(){d&&d()}function $(V){or(!1,`${V}`),c&&c(V)}const B=P.useMemo(()=>p.getViewport({scale:w,rotation:y}),[p,y,w]);return P.useEffect(function(){if(!f||!p||!r||!A)return;const{current:q}=k;if(!q)return;const J=B.clone({dontFlip:!0}),ie={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:q,l10n:null,page:p,structTreeLayer:null,viewport:J},we={annotations:A,annotationStorage:f.annotationStorage,div:q,imageResourcesPath:n,linkService:r,page:p,renderForms:m,viewport:J};q.innerHTML="";try{new cS(ie).render(we),F()}catch(he){$(he)}return()=>{}},[A,n,r,p,f,m,B]),_.jsx("div",{className:Y0("react-pdf__Page__annotations","annotationLayer"),ref:k})}const w2={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},iV=/^H(\d+)$/;function sV(i){return i in w2}function Z0(i){return"children"in i}function b2(i){return Z0(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function oV(i){const e={};if(Z0(i)){const{role:t}=i,n=t.match(iV);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(sV(t)){const r=w2[t];r&&(e.role=r)}}return e}function _2(i){const e={};if(Z0(i)){if(i.alt!==void 0&&(e["aria-label"]=i.alt),i.lang!==void 0&&(e.lang=i.lang),b2(i)){const[t]=i.children;if(t){const n=_2(t);return{...e,...n}}}}else"id"in i&&(e["aria-owns"]=i.id);return e}function aV(i){return i?{...oV(i),..._2(i)}:null}function x2({className:i,node:e}){const t=P.useMemo(()=>aV(e),[e]),n=P.useMemo(()=>!Z0(e)||b2(e)?null:e.children.map((r,o)=>_.jsx(x2,{node:r},o)),[e]);return _.jsx("span",{className:i,...t,children:n})}function lV(){const i=Q0();Ct(i);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=i,[n,r]=Kh(),{value:o,error:l}=n,{customTextRenderer:c,page:d}=i;function p(){o&&t&&t(o)}function f(){l&&(or(!1,l.toString()),e&&e(l))}return P.useEffect(function(){r({type:"RESET"})},[r,d]),P.useEffect(function(){if(c||!d)return;const y=_g(d.getStructTree()),w=y;return y.promise.then(x=>{r({type:"RESOLVE",value:x})}).catch(x=>{r({type:"REJECT",error:x})}),()=>Su(w)},[c,d,r]),P.useEffect(()=>{if(o!==void 0){if(o===!1){f();return}p()}},[o]),o?_.jsx(x2,{className:"react-pdf__Page__structTree structTree",node:o}):null}const FT=Zs;function cV(i){const e=Q0();Ct(e);const t={...e,...i},{_className:n,canvasBackground:r,devicePixelRatio:o=X8(),onRenderError:l,onRenderSuccess:c,page:d,renderForms:p,renderTextLayer:f,rotate:m,scale:y}=t,{canvasRef:w}=i;Ct(d);const x=P.useRef(null);function b(){d&&c&&c(i1(d,y))}function A(L){Z8(L)||(or(!1,L.toString()),l&&l(L))}const R=P.useMemo(()=>d.getViewport({scale:y*o,rotation:m}),[o,d,m,y]),k=P.useMemo(()=>d.getViewport({scale:y,rotation:m}),[d,m,y]);P.useEffect(function(){if(!d)return;d.cleanup();const{current:F}=x;if(!F)return;F.width=R.width,F.height=R.height,F.style.width=`${Math.floor(k.width)}px`,F.style.height=`${Math.floor(k.height)}px`,F.style.visibility="hidden";const $={annotationMode:p?FT.ENABLE_FORMS:FT.ENABLE,canvasContext:F.getContext("2d",{alpha:!1}),viewport:R};r&&($.background=r);const B=d.render($),V=B;return B.promise.then(()=>{F.style.visibility="",b()}).catch(A),()=>Su(V)},[r,d,p,R,k]);const M=P.useCallback(()=>{const{current:L}=x;L&&(L.width=0,L.height=0)},[]);return P.useEffect(()=>M,[M]),_.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:y2(w,x),style:{display:"block",userSelect:"none"},children:f?_.jsx(lV,{}):null})}function uV(i){return"str"in i}function dV(){const i=Q0();Ct(i);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:l,pageIndex:c,pageNumber:d,rotate:p,scale:f}=i;Ct(l);const[m,y]=Kh(),{value:w,error:x}=m,b=P.useRef(null);or(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function A(){w&&n&&n(w)}function R(){x&&(or(!1,x.toString()),t&&t(x))}P.useEffect(function(){y({type:"RESET"})},[l,y]),P.useEffect(function(){if(!l)return;const V=_g(l.getTextContent()),q=V;return V.promise.then(J=>{y({type:"RESOLVE",value:J})}).catch(J=>{y({type:"REJECT",error:J})}),()=>Su(q)},[l,y]),P.useEffect(()=>{if(w!==void 0){if(w===!1){R();return}A()}},[w]);const k=P.useCallback(()=>{o&&o()},[o]),M=P.useCallback(B=>{or(!1,B.toString()),r&&r(B)},[r]);function L(){const B=b.current;B&&B.classList.add("selecting")}function F(){const B=b.current;B&&B.classList.remove("selecting")}const $=P.useMemo(()=>l.getViewport({scale:f,rotation:p}),[l,p,f]);return P.useLayoutEffect(function(){if(!l||!w)return;const{current:V}=b;if(!V)return;V.innerHTML="";const q=l.streamTextContent({includeMarkedContent:!0}),J={container:V,textContentSource:q,viewport:$},ie=new Ap(J),we=ie;return ie.render().then(()=>{const he=document.createElement("div");he.className="endOfContent",V.append(he);const ce=V.querySelectorAll('[role="presentation"]');if(e){let Se=0;w.items.forEach((K,Z)=>{if(!uV(K))return;const X=ce[Se];if(!X)return;const re=e({pageIndex:c,pageNumber:d,itemIndex:Z,...K});X.innerHTML=re,Se+=K.str&&K.hasEOL?2:1})}k()}).catch(M),()=>Su(we)},[e,M,k,l,c,d,w,$]),_.jsx("div",{className:Y0("react-pdf__Page__textContent","textLayer"),onMouseUp:F,onMouseDown:L,ref:b})}const jT=1;function hV(i){const t={...g2(),...i},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:l,children:c,className:d,customRenderer:p,customTextRenderer:f,devicePixelRatio:m,error:y="Failed to load the page.",height:w,inputRef:x,loading:b="Loading page",noData:A="No page specified.",onGetAnnotationsError:R,onGetAnnotationsSuccess:k,onGetStructTreeError:M,onGetStructTreeSuccess:L,onGetTextError:F,onGetTextSuccess:$,onLoadError:B,onLoadSuccess:V,onRenderAnnotationLayerError:q,onRenderAnnotationLayerSuccess:J,onRenderError:ie,onRenderSuccess:we,onRenderTextLayerError:he,onRenderTextLayerSuccess:ce,pageIndex:Se,pageNumber:K,pdf:Z,registerPage:X,renderAnnotationLayer:re=!0,renderForms:se=!1,renderMode:H="canvas",renderTextLayer:ee=!0,rotate:ue,scale:de=jT,unregisterPage:ve,width:_e,...ae}=t,[me,Ae]=Kh(),{value:Ee,error:Fe}=me,Be=P.useRef(null);Ct(Z);const je=Jl(K)?K-1:Se??null,Ve=K??(Jl(Se)?Se+1:null),lt=ue??(Ee?Ee.rotate:null),rt=P.useMemo(()=>{if(!Ee)return null;let Kn=1;const zt=de??jT;if(_e||w){const On=Ee.getViewport({scale:1,rotation:lt});_e?Kn=_e/On.width:w&&(Kn=w/On.height)}return zt*Kn},[w,Ee,lt,de,_e]);P.useEffect(function(){return()=>{Jl(je)&&r&&ve&&ve(je)}},[r,Z,je,ve]);function vt(){if(V){if(!Ee||!rt)return;V(i1(Ee,rt))}if(r&&X){if(!Jl(je)||!Be.current)return;X(je,Be.current)}}function ar(){Fe&&(or(!1,Fe.toString()),B&&B(Fe))}P.useEffect(function(){Ae({type:"RESET"})},[Ae,Z,je]),P.useEffect(function(){if(!Z||!Ve)return;const zt=_g(Z.getPage(Ve)),On=zt;return zt.promise.then(O=>{Ae({type:"RESOLVE",value:O})}).catch(O=>{Ae({type:"REJECT",error:O})}),()=>Su(On)},[Ae,Z,Ve]),P.useEffect(()=>{if(Ee!==void 0){if(Ee===!1){ar();return}vt()}},[Ee,rt]);const Mt=P.useMemo(()=>Jl(je)&&Ve&&Jl(lt)&&Jl(rt)?{_className:n,canvasBackground:o,customTextRenderer:f,devicePixelRatio:m,onGetAnnotationsError:R,onGetAnnotationsSuccess:k,onGetStructTreeError:M,onGetStructTreeSuccess:L,onGetTextError:F,onGetTextSuccess:$,onRenderAnnotationLayerError:q,onRenderAnnotationLayerSuccess:J,onRenderError:ie,onRenderSuccess:we,onRenderTextLayerError:he,onRenderTextLayerSuccess:ce,page:Ee,pageIndex:je,pageNumber:Ve,renderForms:se,renderTextLayer:ee,rotate:lt,scale:rt}:null,[n,o,f,m,R,k,M,L,F,$,q,J,ie,we,he,ce,Ee,je,Ve,se,ee,lt,rt]),zr=P.useMemo(()=>h2(ae,()=>Ee&&(rt?i1(Ee,rt):void 0)),[ae,Ee,rt]),lr=`${je}@${rt}/${lt}`;function Xt(){switch(H){case"custom":return Ct(p),_.jsx(p,{},`${lr}_custom`);case"none":return null;case"canvas":default:return _.jsx(cV,{canvasRef:l},`${lr}_canvas`)}}function Cr(){return ee?_.jsx(dV,{},`${lr}_text`):null}function $i(){return re?_.jsx(rV,{},`${lr}_annotations`):null}function Dn(){function Kn(On){return!!(On!=null&&On.page)}if(!Kn(Mt))throw new Error("page is undefined");const zt=typeof c=="function"?c(Mt):c;return _.jsxs(v2.Provider,{value:Mt,children:[Xt(),Cr(),$i(),zt]})}function Hr(){return Ve?Z===null||Ee===void 0||Ee===null?_.jsx(Td,{type:"loading",children:typeof b=="function"?b():b}):Z===!1||Ee===!1?_.jsx(Td,{type:"error",children:typeof y=="function"?y():y}):Dn():_.jsx(Td,{type:"no-data",children:typeof A=="function"?A():A})}return _.jsx("div",{className:Y0(n,d),"data-page-number":Ve,ref:y2(x,Be),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${rt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...zr,children:Hr()})}Q8();fi.workerSrc="pdf.worker.mjs";const fV="_skeleton_1x4nk_2",pV={skeleton:fV};function w_({className:i,...e}){return _.jsx("div",{className:`${pV.skeleton} ${i??""}`,...e})}const mV="_pdfViewer_wyg6o_1",gV="_pdfHeader_wyg6o_9",yV="_title_wyg6o_18",vV="_controls_wyg6o_25",wV="_toolbar_wyg6o_30",bV="_navigationControls_wyg6o_41",_V="_pageInfo_wyg6o_47",xV="_zoomControls_wyg6o_55",SV="_zoomInfo_wyg6o_61",EV="_documentContainer_wyg6o_69",AV="_document_wyg6o_69",CV="_page_wyg6o_47",TV="_loadingState_wyg6o_99",RV="_errorState_wyg6o_112",PV="_errorMessage_wyg6o_126",hr={pdfViewer:mV,pdfHeader:gV,title:yV,controls:vV,toolbar:wV,navigationControls:bV,pageInfo:_V,zoomControls:xV,zoomInfo:SV,documentContainer:EV,document:AV,page:CV,loadingState:TV,errorState:RV,errorMessage:PV};fi.workerSrc=new URL("/GSOC-2025-Report/_assets/pdf.worker.min--PgD6g2g.mjs",import.meta.url).toString();const kV=({file:i,title:e="Document",showDownload:t=!0,className:n})=>{const[r,o]=P.useState(null),[l,c]=P.useState(1),[d,p]=P.useState(1),[f,m]=P.useState(!0),[y,w]=P.useState(null),x=P.useCallback(({numPages:$})=>{o($),m(!1),w(null)},[]),b=P.useCallback($=>{console.error("PDF loading error:",$),w("Failed to load PDF document"),m(!1)},[]),A=P.useCallback(()=>{c($=>Math.max($-1,1))},[]),R=P.useCallback(()=>{c($=>Math.min($+1,r||1))},[r]),k=P.useCallback(()=>{p($=>Math.min($+.2,2))},[]),M=P.useCallback(()=>{p($=>Math.max($-.2,.5))},[]),L=P.useCallback(()=>{p(1)},[]),F=P.useCallback(()=>{if(typeof i=="string"){const $=document.createElement("a");$.href=i,$.download=e,document.body.appendChild($),$.click(),document.body.removeChild($)}},[i,e]);return _.jsxs("div",{className:`${hr.pdfViewer} ${n||""}`,children:[_.jsxs("div",{className:hr.pdfHeader,children:[_.jsx("span",{className:hr.title,children:e}),_.jsx("div",{className:hr.controls,children:t&&_.jsx(Di,{variant:"ghost",size:"icon-sm",onClick:F,children:_.jsx(lP,{size:16})})})]}),y?_.jsxs("div",{className:hr.errorState,children:[_.jsx("p",{children:"Failed to load PDF document"}),_.jsx("p",{className:hr.errorMessage,children:y}),typeof i=="string"&&_.jsx("p",{children:_.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",children:"Open PDF in a new tab"})})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:hr.toolbar,children:[_.jsxs("div",{className:hr.navigationControls,children:[_.jsx(Di,{variant:"ghost",size:"icon-sm",onClick:A,disabled:l<=1,children:_.jsx(z3,{size:16})}),_.jsx("span",{className:hr.pageInfo,children:f?_.jsx(w_,{style:{width:"60px",height:"1rem"}}):`${l} / ${r||0}`}),_.jsx(Di,{variant:"ghost",size:"icon-sm",onClick:R,disabled:l>=(r||1),children:_.jsx(aP,{size:16})})]}),_.jsxs("div",{className:hr.zoomControls,children:[_.jsx(Di,{variant:"ghost",size:"icon-sm",onClick:M,children:_.jsx(y$,{size:16})}),_.jsxs("span",{className:hr.zoomInfo,children:[Math.round(d*100),"%"]}),_.jsx(Di,{variant:"ghost",size:"icon-sm",onClick:k,children:_.jsx(m$,{size:16})}),_.jsx(Di,{variant:"ghost",size:"icon-sm",onClick:L,children:_.jsx(o$,{size:16})})]})]}),_.jsxs("div",{className:hr.documentContainer,children:[f&&_.jsxs("div",{className:hr.loadingState,children:[_.jsx(w_,{style:{width:"100%",height:"600px"}}),_.jsx("p",{children:"Loading document..."})]}),_.jsx(nV,{file:i,onLoadSuccess:x,onLoadError:b,loading:"",className:hr.document,children:_.jsx(hV,{pageNumber:l,scale:d,className:hr.page,renderTextLayer:!0,renderAnnotationLayer:!0,loading:_.jsx(w_,{style:{width:"100%",height:"600px"}})})})]})]})]})};function BT(i,[e,t]){return Math.min(t,Math.max(e,i))}function IV(i){const e=P.useRef({value:i,previous:i});return P.useMemo(()=>(e.current.value!==i&&(e.current.previous=e.current.value,e.current.value=i),e.current.previous),[i])}var MV=[" ","Enter","ArrowUp","ArrowDown"],NV=[" ","Enter"],Eu="Select",[J0,ew,LV]=I0(Eu),[ef,KW]=ao(Eu,[LV,Zh]),tw=Zh(),[DV,jl]=ef(Eu),[OV,FV]=ef(Eu),S2=i=>{const{__scopeSelect:e,children:t,open:n,defaultOpen:r,onOpenChange:o,value:l,defaultValue:c,onValueChange:d,dir:p,name:f,autoComplete:m,disabled:y,required:w,form:x}=i,b=tw(e),[A,R]=P.useState(null),[k,M]=P.useState(null),[L,F]=P.useState(!1),$=ug(p),[B,V]=ca({prop:n,defaultProp:r??!1,onChange:o,caller:Eu}),[q,J]=ca({prop:l,defaultProp:c,onChange:d,caller:Eu}),ie=P.useRef(null),we=A?x||!!A.closest("form"):!0,[he,ce]=P.useState(new Set),Se=Array.from(he).map(K=>K.props.value).join(";");return _.jsx(A1,{...b,children:_.jsxs(DV,{required:w,scope:e,trigger:A,onTriggerChange:R,valueNode:k,onValueNodeChange:M,valueNodeHasChildren:L,onValueNodeHasChildrenChange:F,contentId:io(),value:q,onValueChange:J,open:B,onOpenChange:V,dir:$,triggerPointerDownPosRef:ie,disabled:y,children:[_.jsx(J0.Provider,{scope:e,children:_.jsx(OV,{scope:i.__scopeSelect,onNativeOptionAdd:P.useCallback(K=>{ce(Z=>new Set(Z).add(K))},[]),onNativeOptionRemove:P.useCallback(K=>{ce(Z=>{const X=new Set(Z);return X.delete(K),X})},[]),children:t})}),we?_.jsxs(q2,{"aria-hidden":!0,required:w,tabIndex:-1,name:f,autoComplete:m,value:q,onChange:K=>J(K.target.value),disabled:y,form:x,children:[q===void 0?_.jsx("option",{value:""}):null,Array.from(he)]},Se):null]})})};S2.displayName=Eu;var E2="SelectTrigger",A2=P.forwardRef((i,e)=>{const{__scopeSelect:t,disabled:n=!1,...r}=i,o=tw(t),l=jl(E2,t),c=l.disabled||n,d=Et(e,l.onTriggerChange),p=ew(t),f=P.useRef("touch"),[m,y,w]=Y2(b=>{const A=p().filter(M=>!M.disabled),R=A.find(M=>M.value===l.value),k=X2(A,b,R);k!==void 0&&l.onValueChange(k.value)}),x=b=>{c||(l.onOpenChange(!0),w()),b&&(l.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return _.jsx(C1,{asChild:!0,...o,children:_.jsx(et.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":K2(l.value)?"":void 0,...r,ref:d,onClick:Ne(r.onClick,b=>{b.currentTarget.focus(),f.current!=="mouse"&&x(b)}),onPointerDown:Ne(r.onPointerDown,b=>{f.current=b.pointerType;const A=b.target;A.hasPointerCapture(b.pointerId)&&A.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(x(b),b.preventDefault())}),onKeyDown:Ne(r.onKeyDown,b=>{const A=m.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&y(b.key),!(A&&b.key===" ")&&MV.includes(b.key)&&(x(),b.preventDefault())})})})});A2.displayName=E2;var C2="SelectValue",T2=P.forwardRef((i,e)=>{const{__scopeSelect:t,className:n,style:r,children:o,placeholder:l="",...c}=i,d=jl(C2,t),{onValueNodeHasChildrenChange:p}=d,f=o!==void 0,m=Et(e,d.onValueNodeChange);return qn(()=>{p(f)},[p,f]),_.jsx(et.span,{...c,ref:m,style:{pointerEvents:"none"},children:K2(d.value)?_.jsx(_.Fragment,{children:l}):o})});T2.displayName=C2;var jV="SelectIcon",R2=P.forwardRef((i,e)=>{const{__scopeSelect:t,children:n,...r}=i;return _.jsx(et.span,{"aria-hidden":!0,...r,ref:e,children:n||""})});R2.displayName=jV;var BV="SelectPortal",P2=i=>_.jsx(R0,{asChild:!0,...i});P2.displayName=BV;var Au="SelectContent",k2=P.forwardRef((i,e)=>{const t=jl(Au,i.__scopeSelect),[n,r]=P.useState();if(qn(()=>{r(new DocumentFragment)},[]),!t.open){const o=n;return o?og.createPortal(_.jsx(I2,{scope:i.__scopeSelect,children:_.jsx(J0.Slot,{scope:i.__scopeSelect,children:_.jsx("div",{children:i.children})})}),o):null}return _.jsx(M2,{...i,ref:e})});k2.displayName=Au;var Ki=10,[I2,Bl]=ef(Au),$V="SelectContentImpl",zV=Uh("SelectContent.RemoveScroll"),M2=P.forwardRef((i,e)=>{const{__scopeSelect:t,position:n="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:d,align:p,alignOffset:f,arrowPadding:m,collisionBoundary:y,collisionPadding:w,sticky:x,hideWhenDetached:b,avoidCollisions:A,...R}=i,k=jl(Au,t),[M,L]=P.useState(null),[F,$]=P.useState(null),B=Et(e,ae=>L(ae)),[V,q]=P.useState(null),[J,ie]=P.useState(null),we=ew(t),[he,ce]=P.useState(!1),Se=P.useRef(!1);P.useEffect(()=>{if(M)return NP(M)},[M]),kP();const K=P.useCallback(ae=>{const[me,...Ae]=we().map(Be=>Be.ref.current),[Ee]=Ae.slice(-1),Fe=document.activeElement;for(const Be of ae)if(Be===Fe||(Be==null||Be.scrollIntoView({block:"nearest"}),Be===me&&F&&(F.scrollTop=0),Be===Ee&&F&&(F.scrollTop=F.scrollHeight),Be==null||Be.focus(),document.activeElement!==Fe))return},[we,F]),Z=P.useCallback(()=>K([V,M]),[K,V,M]);P.useEffect(()=>{he&&Z()},[he,Z]);const{onOpenChange:X,triggerPointerDownPosRef:re}=k;P.useEffect(()=>{if(M){let ae={x:0,y:0};const me=Ee=>{var Fe,Be;ae={x:Math.abs(Math.round(Ee.pageX)-(((Fe=re.current)==null?void 0:Fe.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((Be=re.current)==null?void 0:Be.y)??0))}},Ae=Ee=>{ae.x<=10&&ae.y<=10?Ee.preventDefault():M.contains(Ee.target)||X(!1),document.removeEventListener("pointermove",me),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[M,X,re]),P.useEffect(()=>{const ae=()=>X(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[X]);const[se,H]=Y2(ae=>{const me=we().filter(Fe=>!Fe.disabled),Ae=me.find(Fe=>Fe.ref.current===document.activeElement),Ee=X2(me,ae,Ae);Ee&&setTimeout(()=>Ee.ref.current.focus())}),ee=P.useCallback((ae,me,Ae)=>{const Ee=!Se.current&&!Ae;(k.value!==void 0&&k.value===me||Ee)&&(q(ae),Ee&&(Se.current=!0))},[k.value]),ue=P.useCallback(()=>M==null?void 0:M.focus(),[M]),de=P.useCallback((ae,me,Ae)=>{const Ee=!Se.current&&!Ae;(k.value!==void 0&&k.value===me||Ee)&&ie(ae)},[k.value]),ve=n==="popper"?s1:N2,_e=ve===s1?{side:c,sideOffset:d,align:p,alignOffset:f,arrowPadding:m,collisionBoundary:y,collisionPadding:w,sticky:x,hideWhenDetached:b,avoidCollisions:A}:{};return _.jsx(I2,{scope:t,content:M,viewport:F,onViewportChange:$,itemRefCallback:ee,selectedItem:V,onItemLeave:ue,itemTextRefCallback:de,focusSelectedItem:Z,selectedItemText:J,position:n,isPositioned:he,searchRef:se,children:_.jsx(O1,{as:zV,allowPinchZoom:!0,children:_.jsx(D1,{asChild:!0,trapped:k.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ne(r,ae=>{var me;(me=k.trigger)==null||me.focus({preventScroll:!0}),ae.preventDefault()}),children:_.jsx(S0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:_.jsx(ve,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:ae=>ae.preventDefault(),...R,..._e,onPlaced:()=>ce(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:Ne(R.onKeyDown,ae=>{const me=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!me&&ae.key.length===1&&H(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Ee=we().filter(Fe=>!Fe.disabled).map(Fe=>Fe.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Fe=ae.target,Be=Ee.indexOf(Fe);Ee=Ee.slice(Be+1)}setTimeout(()=>K(Ee)),ae.preventDefault()}})})})})})})});M2.displayName=$V;var HV="SelectItemAlignedPosition",N2=P.forwardRef((i,e)=>{const{__scopeSelect:t,onPlaced:n,...r}=i,o=jl(Au,t),l=Bl(Au,t),[c,d]=P.useState(null),[p,f]=P.useState(null),m=Et(e,B=>f(B)),y=ew(t),w=P.useRef(!1),x=P.useRef(!0),{viewport:b,selectedItem:A,selectedItemText:R,focusSelectedItem:k}=l,M=P.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&p&&b&&A&&R){const B=o.trigger.getBoundingClientRect(),V=p.getBoundingClientRect(),q=o.valueNode.getBoundingClientRect(),J=R.getBoundingClientRect();if(o.dir!=="rtl"){const Fe=J.left-V.left,Be=q.left-Fe,je=B.left-Be,Ve=B.width+je,lt=Math.max(Ve,V.width),rt=window.innerWidth-Ki,vt=BT(Be,[Ki,Math.max(Ki,rt-lt)]);c.style.minWidth=Ve+"px",c.style.left=vt+"px"}else{const Fe=V.right-J.right,Be=window.innerWidth-q.right-Fe,je=window.innerWidth-B.right-Be,Ve=B.width+je,lt=Math.max(Ve,V.width),rt=window.innerWidth-Ki,vt=BT(Be,[Ki,Math.max(Ki,rt-lt)]);c.style.minWidth=Ve+"px",c.style.right=vt+"px"}const ie=y(),we=window.innerHeight-Ki*2,he=b.scrollHeight,ce=window.getComputedStyle(p),Se=parseInt(ce.borderTopWidth,10),K=parseInt(ce.paddingTop,10),Z=parseInt(ce.borderBottomWidth,10),X=parseInt(ce.paddingBottom,10),re=Se+K+he+X+Z,se=Math.min(A.offsetHeight*5,re),H=window.getComputedStyle(b),ee=parseInt(H.paddingTop,10),ue=parseInt(H.paddingBottom,10),de=B.top+B.height/2-Ki,ve=we-de,_e=A.offsetHeight/2,ae=A.offsetTop+_e,me=Se+K+ae,Ae=re-me;if(me<=de){const Fe=ie.length>0&&A===ie[ie.length-1].ref.current;c.style.bottom="0px";const Be=p.clientHeight-b.offsetTop-b.offsetHeight,je=Math.max(ve,_e+(Fe?ue:0)+Be+Z),Ve=me+je;c.style.height=Ve+"px"}else{const Fe=ie.length>0&&A===ie[0].ref.current;c.style.top="0px";const je=Math.max(de,Se+b.offsetTop+(Fe?ee:0)+_e)+Ae;c.style.height=je+"px",b.scrollTop=me-de+b.offsetTop}c.style.margin=`${Ki}px 0`,c.style.minHeight=se+"px",c.style.maxHeight=we+"px",n==null||n(),requestAnimationFrame(()=>w.current=!0)}},[y,o.trigger,o.valueNode,c,p,b,A,R,o.dir,n]);qn(()=>M(),[M]);const[L,F]=P.useState();qn(()=>{p&&F(window.getComputedStyle(p).zIndex)},[p]);const $=P.useCallback(B=>{B&&x.current===!0&&(M(),k==null||k(),x.current=!1)},[M,k]);return _.jsx(VV,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:w,onScrollButtonChange:$,children:_.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:L},children:_.jsx(et.div,{...r,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});N2.displayName=HV;var UV="SelectPopperPosition",s1=P.forwardRef((i,e)=>{const{__scopeSelect:t,align:n="start",collisionPadding:r=Ki,...o}=i,l=tw(t);return _.jsx(T1,{...l,...o,ref:e,align:n,collisionPadding:r,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});s1.displayName=UV;var[VV,hS]=ef(Au,{}),o1="SelectViewport",L2=P.forwardRef((i,e)=>{const{__scopeSelect:t,nonce:n,...r}=i,o=Bl(o1,t),l=hS(o1,t),c=Et(e,o.onViewportChange),d=P.useRef(0);return _.jsxs(_.Fragment,{children:[_.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),_.jsx(J0.Slot,{scope:t,children:_.jsx(et.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:Ne(r.onScroll,p=>{const f=p.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:y}=l;if(y!=null&&y.current&&m){const w=Math.abs(d.current-f.scrollTop);if(w>0){const x=window.innerHeight-Ki*2,b=parseFloat(m.style.minHeight),A=parseFloat(m.style.height),R=Math.max(b,A);if(R<x){const k=R+w,M=Math.min(x,k),L=k-M;m.style.height=M+"px",m.style.bottom==="0px"&&(f.scrollTop=L>0?L:0,m.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});L2.displayName=o1;var D2="SelectGroup",[GV,WV]=ef(D2),qV=P.forwardRef((i,e)=>{const{__scopeSelect:t,...n}=i,r=io();return _.jsx(GV,{scope:t,id:r,children:_.jsx(et.div,{role:"group","aria-labelledby":r,...n,ref:e})})});qV.displayName=D2;var O2="SelectLabel",F2=P.forwardRef((i,e)=>{const{__scopeSelect:t,...n}=i,r=WV(O2,t);return _.jsx(et.div,{id:r.id,...n,ref:e})});F2.displayName=O2;var Zv="SelectItem",[KV,j2]=ef(Zv),B2=P.forwardRef((i,e)=>{const{__scopeSelect:t,value:n,disabled:r=!1,textValue:o,...l}=i,c=jl(Zv,t),d=Bl(Zv,t),p=c.value===n,[f,m]=P.useState(o??""),[y,w]=P.useState(!1),x=Et(e,k=>{var M;return(M=d.itemRefCallback)==null?void 0:M.call(d,k,n,r)}),b=io(),A=P.useRef("touch"),R=()=>{r||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return _.jsx(KV,{scope:t,value:n,disabled:r,textId:b,isSelected:p,onItemTextChange:P.useCallback(k=>{m(M=>M||((k==null?void 0:k.textContent)??"").trim())},[]),children:_.jsx(J0.ItemSlot,{scope:t,value:n,disabled:r,textValue:f,children:_.jsx(et.div,{role:"option","aria-labelledby":b,"data-highlighted":y?"":void 0,"aria-selected":p&&y,"data-state":p?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...l,ref:x,onFocus:Ne(l.onFocus,()=>w(!0)),onBlur:Ne(l.onBlur,()=>w(!1)),onClick:Ne(l.onClick,()=>{A.current!=="mouse"&&R()}),onPointerUp:Ne(l.onPointerUp,()=>{A.current==="mouse"&&R()}),onPointerDown:Ne(l.onPointerDown,k=>{A.current=k.pointerType}),onPointerMove:Ne(l.onPointerMove,k=>{var M;A.current=k.pointerType,r?(M=d.onItemLeave)==null||M.call(d):A.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(l.onPointerLeave,k=>{var M;k.currentTarget===document.activeElement&&((M=d.onItemLeave)==null||M.call(d))}),onKeyDown:Ne(l.onKeyDown,k=>{var L;((L=d.searchRef)==null?void 0:L.current)!==""&&k.key===" "||(NV.includes(k.key)&&R(),k.key===" "&&k.preventDefault())})})})})});B2.displayName=Zv;var up="SelectItemText",$2=P.forwardRef((i,e)=>{const{__scopeSelect:t,className:n,style:r,...o}=i,l=jl(up,t),c=Bl(up,t),d=j2(up,t),p=FV(up,t),[f,m]=P.useState(null),y=Et(e,R=>m(R),d.onItemTextChange,R=>{var k;return(k=c.itemTextRefCallback)==null?void 0:k.call(c,R,d.value,d.disabled)}),w=f==null?void 0:f.textContent,x=P.useMemo(()=>_.jsx("option",{value:d.value,disabled:d.disabled,children:w},d.value),[d.disabled,d.value,w]),{onNativeOptionAdd:b,onNativeOptionRemove:A}=p;return qn(()=>(b(x),()=>A(x)),[b,A,x]),_.jsxs(_.Fragment,{children:[_.jsx(et.span,{id:d.textId,...o,ref:y}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?og.createPortal(o.children,l.valueNode):null]})});$2.displayName=up;var z2="SelectItemIndicator",H2=P.forwardRef((i,e)=>{const{__scopeSelect:t,...n}=i;return j2(z2,t).isSelected?_.jsx(et.span,{"aria-hidden":!0,...n,ref:e}):null});H2.displayName=z2;var a1="SelectScrollUpButton",U2=P.forwardRef((i,e)=>{const t=Bl(a1,i.__scopeSelect),n=hS(a1,i.__scopeSelect),[r,o]=P.useState(!1),l=Et(e,n.onScrollButtonChange);return qn(()=>{if(t.viewport&&t.isPositioned){let c=function(){const p=d.scrollTop>0;o(p)};const d=t.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),r?_.jsx(G2,{...i,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=t;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});U2.displayName=a1;var l1="SelectScrollDownButton",V2=P.forwardRef((i,e)=>{const t=Bl(l1,i.__scopeSelect),n=hS(l1,i.__scopeSelect),[r,o]=P.useState(!1),l=Et(e,n.onScrollButtonChange);return qn(()=>{if(t.viewport&&t.isPositioned){let c=function(){const p=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<p;o(f)};const d=t.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),r?_.jsx(G2,{...i,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=t;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});V2.displayName=l1;var G2=P.forwardRef((i,e)=>{const{__scopeSelect:t,onAutoScroll:n,...r}=i,o=Bl("SelectScrollButton",t),l=P.useRef(null),c=ew(t),d=P.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return P.useEffect(()=>()=>d(),[d]),qn(()=>{var f;const p=c().find(m=>m.ref.current===document.activeElement);(f=p==null?void 0:p.ref.current)==null||f.scrollIntoView({block:"nearest"})},[c]),_.jsx(et.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:Ne(r.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:Ne(r.onPointerMove,()=>{var p;(p=o.onItemLeave)==null||p.call(o),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:Ne(r.onPointerLeave,()=>{d()})})}),YV="SelectSeparator",W2=P.forwardRef((i,e)=>{const{__scopeSelect:t,...n}=i;return _.jsx(et.div,{"aria-hidden":!0,...n,ref:e})});W2.displayName=YV;var c1="SelectArrow",XV=P.forwardRef((i,e)=>{const{__scopeSelect:t,...n}=i,r=tw(t),o=jl(c1,t),l=Bl(c1,t);return o.open&&l.position==="popper"?_.jsx(R1,{...r,...n,ref:e}):null});XV.displayName=c1;var QV="SelectBubbleInput",q2=P.forwardRef(({__scopeSelect:i,value:e,...t},n)=>{const r=P.useRef(null),o=Et(n,r),l=IV(e);return P.useEffect(()=>{const c=r.current;if(!c)return;const d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&f){const m=new Event("change",{bubbles:!0});f.call(c,e),c.dispatchEvent(m)}},[l,e]),_.jsx(et.select,{...t,style:{...UR,...t.style},ref:o,defaultValue:e})});q2.displayName=QV;function K2(i){return i===""||i===void 0}function Y2(i){const e=ro(i),t=P.useRef(""),n=P.useRef(0),r=P.useCallback(l=>{const c=t.current+l;e(c),(function d(p){t.current=p,window.clearTimeout(n.current),p!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(c)},[e]),o=P.useCallback(()=>{t.current="",window.clearTimeout(n.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(n.current),[]),[t,r,o]}function X2(i,e,t){const r=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,o=t?i.indexOf(t):-1;let l=ZV(i,Math.max(o,0));r.length===1&&(l=l.filter(p=>p!==t));const d=l.find(p=>p.textValue.toLowerCase().startsWith(r.toLowerCase()));return d!==t?d:void 0}function ZV(i,e){return i.map((t,n)=>i[(e+n)%i.length])}var JV=S2,Q2=A2,eG=T2,tG=R2,nG=P2,Z2=k2,rG=L2,J2=F2,eN=B2,iG=$2,sG=H2,tN=U2,nN=V2,rN=W2;const oG="_selectTrigger_1icm8_2",aG="_selectIcon_1icm8_52",lG="_selectContent_1icm8_64",cG="_selectViewport_1icm8_88",uG="_scrollButton_1icm8_92",dG="_scrollIcon_1icm8_104",hG="_selectLabel_1icm8_115",fG="_selectItem_1icm8_122",pG="_selectItemIndicator_1icm8_157",mG="_checkIcon_1icm8_165",gG="_selectSeparator_1icm8_171",mi={selectTrigger:oG,selectIcon:aG,selectContent:lG,selectViewport:cG,scrollButton:uG,scrollIcon:dG,selectLabel:hG,selectItem:fG,selectItemIndicator:pG,checkIcon:mG,selectSeparator:gG},yG=JV,vG=eG,iN=P.forwardRef(({children:i,className:e,...t},n)=>_.jsxs(Q2,{ref:n,className:`${mi.selectTrigger} ${e||""}`,...t,children:[i,_.jsx(tG,{asChild:!0,children:_.jsx(M1,{className:mi.selectIcon})})]}));iN.displayName=Q2.displayName;const sN=P.forwardRef(({className:i,...e},t)=>_.jsx(tN,{ref:t,className:`${mi.scrollButton} ${i||""}`,...e,children:_.jsx(V3,{className:mi.scrollIcon})}));sN.displayName=tN.displayName;const oN=P.forwardRef(({className:i,...e},t)=>_.jsx(nN,{ref:t,className:`${mi.scrollButton} ${i||""}`,...e,children:_.jsx(M1,{className:mi.scrollIcon})}));oN.displayName=nN.displayName;const aN=P.forwardRef(({children:i,position:e="popper",className:t,...n},r)=>_.jsx(nG,{children:_.jsxs(Z2,{ref:r,position:e,className:`${mi.selectContent} ${t||""}`,...n,children:[_.jsx(sN,{}),_.jsx(rG,{className:mi.selectViewport,children:i}),_.jsx(oN,{})]})}));aN.displayName=Z2.displayName;const wG=P.forwardRef(({className:i,...e},t)=>_.jsx(J2,{ref:t,className:`${mi.selectLabel} ${i||""}`,...e}));wG.displayName=J2.displayName;const lN=P.forwardRef(({children:i,className:e,...t},n)=>_.jsxs(eN,{ref:n,className:`${mi.selectItem} ${e||""}`,...t,children:[_.jsx(iG,{children:i}),_.jsx(sG,{className:mi.selectItemIndicator,children:_.jsx(I1,{className:mi.checkIcon})})]}));lN.displayName=eN.displayName;const bG=P.forwardRef(({className:i,...e},t)=>_.jsx(rN,{ref:t,className:`${mi.selectSeparator} ${i||""}`,...e}));bG.displayName=rN.displayName;const _G="_badge_1m09g_2",xG="_destructive_1m09g_27",SG="_secondary_1m09g_37",EG="_outline_1m09g_47",AG="_success_1m09g_57",CG="_warning_1m09g_67",$T={badge:_G,default:"_default_1m09g_17",destructive:xG,secondary:SG,outline:EG,success:AG,warning:CG},zT=({variant:i="default",className:e,children:t,...n})=>_.jsx("div",{className:`${$T.badge} ${$T[i]} ${e||""}`,...n,children:t}),TG="_multiPdfViewer_19i7y_1",RG="_controlsContainer_19i7y_8",PG="_documentSelector_19i7y_19",kG="_selectorLabel_19i7y_27",IG="_documentTrigger_19i7y_38",MG="_downloadButton_19i7y_43",NG="_documentOption_19i7y_49",LG="_documentHeader_19i7y_57",DG="_documentTitle_19i7y_65",OG="_statusBadge_19i7y_76",FG="_documentDescription_19i7y_82",jG="_documentInfo_19i7y_92",BG="_documentMeta_19i7y_99",$G="_currentDocTitle_19i7y_106",zG="_metaRow_19i7y_114",HG="_currentDocDescription_19i7y_121",UG="_pdfViewer_19i7y_128",VG="_errorState_19i7y_136",An={multiPdfViewer:TG,controlsContainer:RG,documentSelector:PG,selectorLabel:kG,documentTrigger:IG,downloadButton:MG,documentOption:NG,documentHeader:LG,documentTitle:DG,statusBadge:OG,documentDescription:FG,documentInfo:jG,documentMeta:BG,currentDocTitle:$G,metaRow:zG,currentDocDescription:HG,pdfViewer:UG,errorState:VG};fi.workerSrc=new URL("/GSOC-2025-Report/_assets/pdf.worker.min--PgD6g2g.mjs",import.meta.url).toString();const GG=[{id:"gsoc-2025-final-report",title:"A_Guide_to_Spatializer_and_Reverb_Settings",viewerUrl:"/GSOC-2025-Report/pdfs/A_Guide_to_Spatializer_and_Reverb_Settings.pdf",downloadUrl:"https://code.videolan.org/-/project/4839/uploads/d6a6450ccbfa96e843c1e40482c738a0/A_Guide_to_Spatializer_and_Reverb_Settings.pdf",description:" a user-friendly preset system to the Audio Spatializer filter",status:"completed"},{id:"drc-module-doc",title:"Dynamic_Range_Compressor_Module_Documentation",viewerUrl:"/GSOC-2025-Report/pdfs/Dynamic_Range_Compressor_Module_Documentation.pdf",downloadUrl:"https://code.videolan.org/-/project/4839/uploads/e8d456187ea2162a5a20c7d9038b45b2/Dynamic_Range_Compressor_Module_Documentation.pdf",description:"Dynamic Range Compressor module documentation",status:"current"},{id:"gsoc-2025-weekly-reports",title:"GSoC_Dynaudnorm_Audio_Filter_Report",viewerUrl:"/GSOC-2025-Report/pdfs/GSoC_Dynaudnorm_Audio_Filter_Report.pdf",downloadUrl:"https://code.videolan.org/-/project/4839/uploads/8a6c5566163c6a1a1da5f083e067c1cd/GSoC_Dynaudnorm_Audio_Filter_Report.pdf",description:"A new audio filter plugin that integrates FFmpeg's dynaudnorm",status:"current"},{id:"vlc-architecture-analysis",title:"Documentation_for_Creating_and_Using_Audio_Filters_in_VLC",viewerUrl:"/GSOC-2025-Report/pdfs/Documentation_for_Creating_and_Using_Audio_Filters_in_VLC.pdf",downloadUrl:"https://code.videolan.org/-/project/4839/uploads/4c8a1bed9519814d214b8c721638b481/Documentation_for_Creating_and_Using_Audio_Filters_in_VLC.pdf",description:"Technical deep-dive into VLC's modular architecture and audio pipeline",status:"current"}],HT={current:"default",future:"secondary",completed:"outline"},WG=({documents:i=GG,defaultDocument:e,className:t})=>{var l;const[n,r]=P.useState(e||((l=i[0])==null?void 0:l.id)||""),o=i.find(c=>c.id===n);return o?_.jsxs("div",{className:`${An.multiPdfViewer} ${t||""}`,children:[_.jsxs("div",{className:An.controlsContainer,children:[_.jsxs("div",{className:An.documentSelector,children:[_.jsxs("label",{className:An.selectorLabel,children:[_.jsx(VC,{size:16}),"Select Document:"]}),_.jsxs(yG,{value:n,onValueChange:r,children:[_.jsx(iN,{className:An.documentTrigger,children:_.jsx(vG,{placeholder:"Choose a document..."})}),_.jsx(aN,{children:i.map(c=>_.jsx(lN,{value:c.id,children:_.jsxs("div",{className:An.documentOption,children:[_.jsxs("div",{className:An.documentHeader,children:[_.jsx("div",{className:An.documentTitle,children:c.title}),c.status&&_.jsx(zT,{variant:HT[c.status],className:An.statusBadge,children:c.status})]}),c.description&&_.jsx("div",{className:An.documentDescription,children:c.description})]})},c.id))})]})]}),_.jsx(Di,{variant:"outline",size:"md",asChild:!0,className:An.downloadButton,children:_.jsxs("a",{href:o.downloadUrl||o.viewerUrl,target:"_blank",rel:"noopener noreferrer",children:[_.jsx(lP,{size:16}),"Download PDF"]})})]}),_.jsxs("div",{className:An.documentInfo,children:[_.jsxs("div",{className:An.documentMeta,children:[_.jsx("h3",{className:An.currentDocTitle,children:o.title}),_.jsx("div",{className:An.metaRow,children:_.jsx(zT,{variant:HT[o.status||"current"],children:o.status||"current"})})]}),o.description&&_.jsx("p",{className:An.currentDocDescription,children:o.description})]}),_.jsx(kV,{file:o.viewerUrl,title:o.title,showDownload:!1,className:An.pdfViewer})]}):_.jsxs("div",{className:An.errorState,children:[_.jsx(VC,{size:48}),_.jsx("p",{children:"No documents available"})]})},qG="_pageContainer_2irhi_1",KG="_header_2irhi_8",YG="_headerContent_2irhi_14",XG="_vlcLogo_2irhi_21",QG="_headerText_2irhi_25",ZG="_title_2irhi_30",JG="_subtitle_2irhi_39",eW="_attribution_2irhi_47",tW="_mainContent_2irhi_67",nW="_documentationSection_2irhi_73",rW="_technicalSection_2irhi_77",iW="_sectionTitle_2irhi_81",sW="_multiPdfViewerContainer_2irhi_92",oW="_contributionsList_2irhi_97",aW="_contributionItem_2irhi_116",lW="_footer_2irhi_150",cW="_footerContent_2irhi_157",uW="_footerBranding_2irhi_168",dW="_footerAttribution_2irhi_176",hW="_mentorThanks_2irhi_193",fW="_mentorHeading_2irhi_202",pW="_mentorList_2irhi_209",mW="_mentorLink_2irhi_217",At={pageContainer:qG,header:KG,headerContent:YG,vlcLogo:XG,headerText:QG,title:ZG,subtitle:JG,attribution:eW,mainContent:tW,documentationSection:nW,technicalSection:rW,sectionTitle:iW,multiPdfViewerContainer:sW,contributionsList:oW,contributionItem:aW,footer:lW,footerContent:cW,footerBranding:uW,footerAttribution:dW,mentorThanks:hW,mentorHeading:fW,mentorList:pW,mentorLink:mW},gW=`
# Clone the VLC repository
git clone https://code.videolan.org/videolan/vlc.git
cd vlc

# Follow the official build instructions for your OS
# On Debian/Ubuntu:
./bootstrap
./configure
make
sudo make install
`,yW=`
// Accessing the spatializer filter
vlc_object_t *p_filter = vlc_object_create(p_instance, sizeof(*p_filter), "spatializer");

// Set parameters
config_PutFloat(p_filter, "spatializer-width", 1.5f);

// ... add filter to chain
`,vW=()=>_.jsxs(_.Fragment,{children:[_.jsxs(jv,{children:[_.jsx("title",{children:"Documentation - Benny Perumalla"}),_.jsx("meta",{name:"description",content:"Technical documentation and reports by Benny Perumalla for the GSOC 2025 VLC audio processing project, including implementation details and contribution summaries."})]}),_.jsxs("div",{className:At.pageContainer,children:[_.jsx("header",{className:At.header,children:_.jsxs("div",{className:At.headerContent,children:[_.jsx($v,{size:"md",className:At.vlcLogo}),_.jsxs("div",{className:At.headerText,children:[_.jsx("h1",{className:At.title,children:"Project Documentation"}),_.jsx("p",{className:At.subtitle,children:"Comprehensive project reports, technical documentation, and contribution summaries for the VLC audio processing enhancement project by Benny Perumalla."}),_.jsx("div",{className:At.attribution,children:_.jsxs("p",{children:["By ",_.jsx("strong",{children:"Benny Perumalla"})]})})]})]})}),_.jsxs("main",{className:At.mainContent,children:[_.jsxs("section",{className:At.documentationSection,children:[_.jsx("h2",{className:At.sectionTitle,children:"Project Documentation"}),_.jsx(WG,{defaultDocument:"gsoc-2025-final-report",className:At.multiPdfViewerContainer})]}),_.jsxs("section",{className:At.technicalSection,children:[_.jsx("h2",{className:At.sectionTitle,children:"Technical Details"}),_.jsxs(T6,{type:"single",collapsible:!0,defaultValue:"item-1",children:[_.jsxs(ad,{value:"item-1",children:[_.jsx(ld,{children:"Installation & Build Process"}),_.jsxs(cd,{children:[_.jsx("p",{children:"The audio filters are part of the main VLC source tree. To use them, you need to compile VLC from source. Ensure you have the required build dependencies for your operating system."}),_.jsx(Bv,{code:gW,language:"bash"})]})]}),_.jsxs(ad,{value:"item-2",children:[_.jsx(ld,{children:"API Usage"}),_.jsxs(cd,{children:[_.jsx("p",{children:"Filters can be instantiated and configured programmatically using the VLC core API. This is useful for developers looking to integrate these filters into their own VLC-based applications."}),_.jsx(Bv,{code:yW,language:"c"})]})]}),_.jsxs(ad,{value:"item-3",children:[_.jsx(ld,{children:"Spatializer Algorithm"}),_.jsx(cd,{children:"The spatializer uses a combination of panning laws and phase shifting to create the perception of a wider stereo image. The core of the algorithm is a simplified matrix transformation applied to the stereo audio samples, which can be adjusted in real-time via the 'width' parameter."})]}),_.jsxs(ad,{value:"item-4",children:[_.jsx(ld,{children:"Dynaudnorm Algorithm"}),_.jsxs(cd,{children:[_.jsx("p",{children:'This filter applies a certain amount of gain to the input audio in order to bring its peak magnitude to a target level (e.g. 0 dBFS). However, in contrast to more "simple" normalization algorithms, the Dynamic Audio Normalizer dynamically re-adjusts the gain factor to the input audio.'}),_.jsx("p",{children:'This allows for applying extra gain to the "quiet" sections of the audio while avoiding distortions or clipping the "loud" sections. In other words: The Dynamic Audio Normalizer will "even out" the volume of quiet and loud sections, in the sense that the volume of each section is brought to the same target level.'}),_.jsx("p",{children:'Note, however, that the Dynamic Audio Normalizer achieves this goal without applying "dynamic range compressing". It will retain 100% of the dynamic range within each section of the audio file.'})]})]}),_.jsxs(ad,{value:"item-5",children:[_.jsx(ld,{children:"Reverb Implementation"}),_.jsx(cd,{children:"Our reverb engine is based on the Schroeder reverberator model, which combines multiple comb filters in parallel and all-pass filters in series. This provides a computationally efficient way to simulate the complex reflections of a room. Performance is further enhanced by using FFT-based convolution for longer reverb tails."})]})]}),_.jsxs("div",{className:At.contributionsList,children:[_.jsx("h3",{children:"Merge Requests & Code Contributions"}),_.jsx("p",{children:"Our work is contributed directly to the VLC project. Below is a summary of our key merge requests."}),_.jsxs("div",{className:At.contributionItem,children:[_.jsx("h4",{children:_.jsx("a",{href:"https://code.videolan.org/BY01R/vlc-gsoc-audio/-/merge_requests/6",target:"_blank",rel:"noopener noreferrer",children:"feat(audio): Add new spatiafeat(audio): Add FFmpeg Dynaudnorm Audio Filterlizer audio filter"})}),_.jsx("p",{children:"The dynaudnorm filter addresses this by dynamically compressing the audio's dynamic range to maintain a consistent volume level, enhancing the overall listening experience."})]}),_.jsxs("div",{className:At.contributionItem,children:[_.jsx("h4",{children:_.jsx("a",{href:"https://code.videolan.org/BY01R/vlc-gsoc-audio/-/merge_requests/5",target:"_blank",rel:"noopener noreferrer",children:"Spatializer: configurable presets for the reverb settings"})}),_.jsx("p",{children:"A user-friendly preset system to the Audio Spatializer filter, improving usability by allowing users to quickly select from a range of pre-configured reverb environments."})]}),_.jsxs("div",{className:At.contributionItem,children:[_.jsx("h4",{children:_.jsx("a",{href:"https://code.videolan.org/BY01R/vlc-gsoc-audio/-/merge_requests/1",target:"_blank",rel:"noopener noreferrer",children:"feat: Implement multiband compressor functionality"})}),_.jsx("p",{children:"The integration of a multiband compressor into the existing compressor functionality within VLC. This enhancement significantly improves audio processing capabilities by allowing independent compression across different frequency bands."})]})]})]})]}),_.jsx("footer",{className:At.footer,children:_.jsxs("div",{className:At.footerContent,children:[_.jsxs("div",{className:At.footerBranding,children:[_.jsx($v,{size:"sm"}),_.jsx("span",{children:"GSOC Report 2025 - VLC Audio Processing"})]}),_.jsxs("div",{className:At.footerAttribution,children:[_.jsxs("p",{children:["Created by ",_.jsx("strong",{children:"Benny Perumalla"})]}),_.jsx("p",{children:" 2025 - Contributing to VLC Media Player"})]}),_.jsxs("div",{className:At.mentorThanks,children:[_.jsx("p",{className:At.mentorHeading,children:"With gratitude to my mentors"}),_.jsxs("div",{className:At.mentorList,children:[_.jsxs("a",{className:At.mentorLink,href:"http://linkedin.com/in/thomasguillem/",target:"_blank",rel:"noopener noreferrer","aria-label":"Thomas Guillem on LinkedIn",children:[_.jsx(Wh,{size:16}),_.jsx("span",{children:"Thomas Guillem"})]}),_.jsxs("a",{className:At.mentorLink,href:"https://www.linkedin.com/in/fcartegnie/",target:"_blank",rel:"noopener noreferrer","aria-label":"Francois Cartegnie on LinkedIn",children:[_.jsx(Wh,{size:16}),_.jsx("span",{children:"Francois Cartegnie"})]})]})]})]})})]})]}),wW=[Tk];window.requestIdleCallback||(window.requestIdleCallback=(i,e)=>window.setTimeout(()=>{i({didTimeout:!1,timeRemaining:()=>Math.max(0,50-performance.now()%50)})},1));const bW=new Map([["./pages/_index.tsx","/"],["./pages/documentation.tsx","/documentation"]]),_W=new Map([["./pages/_index.tsx",$4],["./pages/documentation.tsx",vW]]);function xW(i){const e=_W.get(i);return e?le.createElement(e):null}function cN({trie:i,fileNameToRoute:e,makePageRoute:t}){return[...i.topLevel.map(n=>_.jsx(Iv,{path:e.get(n),element:t(n)})),...Array.from(i.trie.entries()).map(([n,r])=>_.jsx(Iv,{element:_.jsx(n,{children:_.jsx(cO,{})}),children:cN({trie:r,fileNameToRoute:e,makePageRoute:t})}))]}function SW(i){const e={topLevel:[],trie:new Map};return Object.entries(i).forEach(([t,n])=>{let r=e;for(const o of n)r.trie.has(o)||r.trie.set(o,{topLevel:[],trie:new Map}),r=r.trie.get(o);r.topLevel.push(t)}),e}function EW(){return _.jsxs("div",{children:[_.jsx("h1",{children:"Not Found"}),_.jsx("p",{children:"The page you are looking for does not exist."}),_.jsxs("p",{children:["Go back to the ",_.jsx("a",{href:"/",style:{color:"blue"},children:"home page"}),"."]})]})}function AW(){return _.jsx(vO,{children:_.jsx(YB,{children:_.jsxs(dO,{children:[cN({trie:SW({"./pages/_index.tsx":n6,"./pages/documentation.tsx":wW}),fileNameToRoute:bW,makePageRoute:xW}),_.jsx(Iv,{path:"*",element:_.jsx(EW,{})})]})})})}var uN=(i=>(i.BASE="base",i.BODY="body",i.HEAD="head",i.HTML="html",i.LINK="link",i.META="meta",i.NOSCRIPT="noscript",i.SCRIPT="script",i.STYLE="style",i.TITLE="title",i.FRAGMENT="Symbol(react.fragment)",i))(uN||{}),b_={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}};Object.values(uN);var fS={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"};Object.entries(fS).reduce((i,[e,t])=>(i[t]=e,i),{});var Pp="data-rh",CW=i=>Array.isArray(i)?i.join(""):i,TW=(i,e)=>{const t=Object.keys(i);for(let n=0;n<t.length;n+=1)if(e[t[n]]&&e[t[n]].includes(i[t[n]]))return!0;return!1},__=(i,e)=>Array.isArray(i)?i.reduce((t,n)=>(TW(n,e)?t.priority.push(n):t.default.push(n),t),{priority:[],default:[]}):{default:i,priority:[]},RW=["noscript","script","style"],u1=(i,e=!0)=>e===!1?String(i):String(i).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),dN=i=>Object.keys(i).reduce((e,t)=>{const n=typeof i[t]<"u"?`${t}="${i[t]}"`:`${t}`;return e?`${e} ${n}`:n},""),PW=(i,e,t,n)=>{const r=dN(t),o=CW(e);return r?`<${i} ${Pp}="true" ${r}>${u1(o,n)}</${i}>`:`<${i} ${Pp}="true">${u1(o,n)}</${i}>`},kW=(i,e,t=!0)=>e.reduce((n,r)=>{const o=r,l=Object.keys(o).filter(p=>!(p==="innerHTML"||p==="cssText")).reduce((p,f)=>{const m=typeof o[f]>"u"?f:`${f}="${u1(o[f],t)}"`;return p?`${p} ${m}`:m},""),c=o.innerHTML||o.cssText||"",d=RW.indexOf(i)===-1;return`${n}<${i} ${Pp}="true" ${l}${d?"/>":`>${c}</${i}>`}`},""),hN=(i,e={})=>Object.keys(i).reduce((t,n)=>{const r=fS[n];return t[r||n]=i[n],t},e),IW=(i,e,t)=>{const n={key:e,[Pp]:!0},r=hN(t,n);return[le.createElement("title",r,e)]},Pv=(i,e)=>e.map((t,n)=>{const r={key:n,[Pp]:!0};return Object.keys(t).forEach(o=>{const c=fS[o]||o;if(c==="innerHTML"||c==="cssText"){const d=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:d}}else r[c]=t[o]}),le.createElement(i,r)}),Ci=(i,e,t=!0)=>{switch(i){case"title":return{toComponent:()=>IW(i,e.title,e.titleAttributes),toString:()=>PW(i,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>hN(e),toString:()=>dN(e)};default:return{toComponent:()=>Pv(i,e),toString:()=>kW(i,e,t)}}},MW=({metaTags:i,linkTags:e,scriptTags:t,encode:n})=>{const r=__(i,b_.meta),o=__(e,b_.link),l=__(t,b_.script);return{priorityMethods:{toComponent:()=>[...Pv("meta",r.priority),...Pv("link",o.priority),...Pv("script",l.priority)],toString:()=>`${Ci("meta",r.priority,n)} ${Ci("link",o.priority,n)} ${Ci("script",l.priority,n)}`},metaTags:r.default,linkTags:o.default,scriptTags:l.default}},NW=i=>{const{baseTag:e,bodyAttributes:t,encode:n=!0,htmlAttributes:r,noscriptTags:o,styleTags:l,title:c="",titleAttributes:d,prioritizeSeoTags:p}=i;let{linkTags:f,metaTags:m,scriptTags:y}=i,w={toComponent:()=>{},toString:()=>""};return p&&({priorityMethods:w,linkTags:f,metaTags:m,scriptTags:y}=MW(i)),{priority:w,base:Ci("base",e,n),bodyAttributes:Ci("bodyAttributes",t,n),htmlAttributes:Ci("htmlAttributes",r,n),link:Ci("link",f,n),meta:Ci("meta",m,n),noscript:Ci("noscript",o,n),script:Ci("script",y,n),style:Ci("style",l,n),title:Ci("title",{title:c,titleAttributes:d},n)}},LW=NW,Vy=[],fN=!!(typeof window<"u"&&window.document&&window.document.createElement),DW=class{constructor(i,e){ye(this,"instances",[]);ye(this,"canUseDOM",fN);ye(this,"context");ye(this,"value",{setHelmet:i=>{this.context.helmet=i},helmetInstances:{get:()=>this.canUseDOM?Vy:this.instances,add:i=>{(this.canUseDOM?Vy:this.instances).push(i)},remove:i=>{const e=(this.canUseDOM?Vy:this.instances).indexOf(i);(this.canUseDOM?Vy:this.instances).splice(e,1)}}});this.context=i,this.canUseDOM=e||!1,e||(i.helmet=LW({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},OW={},FW=le.createContext(OW),wu,jW=(wu=class extends P.Component{constructor(t){super(t);ye(this,"helmetData");this.helmetData=new DW(this.props.context||{},wu.canUseDOM)}render(){return le.createElement(FW.Provider,{value:this.helmetData.value},this.props.children)}},ye(wu,"canUseDOM",fN),wu);const BW=document.getElementById("root");yD.createRoot(BW).render(_.jsx(jW,{children:_.jsx(AW,{})}));
